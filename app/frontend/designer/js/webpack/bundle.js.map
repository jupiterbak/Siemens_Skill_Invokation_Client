{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./app/frontend/designer/images/cursors/cursor_circle.png","webpack:///./app/frontend/designer/images/cursors/cursor_line.png","webpack:///./app/frontend/designer/images/cursors/cursor_port.png","webpack:///./app/frontend/designer/images/cursors/cursor_rectangle.png","webpack:///./app/frontend/designer/images/cursors/cursor_text.png","webpack:///./app/frontend/designer/images/layer_circle.svg","webpack:///./app/frontend/designer/images/layer_line.svg","webpack:///./app/frontend/designer/images/layer_port.svg","webpack:///./app/frontend/designer/images/layer_rect.svg","webpack:///./app/frontend/designer/images/layer_text.svg","webpack:///./app/frontend/designer/js/Application.js","webpack:///./app/frontend/designer/js/Configuration.js","webpack:///./app/frontend/designer/js/FilterPane.js","webpack:///./app/frontend/designer/js/Hardware.js","webpack:///./app/frontend/designer/js/LabelInplaceEditor.js","webpack:///./app/frontend/designer/js/Layer.js","webpack:///./app/frontend/designer/js/Toolbar.js","webpack:///./app/frontend/designer/js/View.js","webpack:///./app/frontend/designer/js/dialog/FigureCodeEdit.js","webpack:///./app/frontend/designer/js/dialog/FigureMarkdownEdit.js","webpack:///./app/frontend/designer/js/dialog/FigureTest.js","webpack:///./app/frontend/designer/js/dialog/FileOpen.js","webpack:///./app/frontend/designer/js/dialog/FileSave.js","webpack:///./app/frontend/designer/js/dialog/FileSaveAs.js","webpack:///./app/frontend/designer/js/figure/CircuitFigure.js","webpack:///./app/frontend/designer/js/figure/DecoratedInputPort.js","webpack:///./app/frontend/designer/js/figure/ExtLabel.js","webpack:///./app/frontend/designer/js/figure/ExtLine.js","webpack:///./app/frontend/designer/js/figure/ExtPolygon.js","webpack:///./app/frontend/designer/js/figure/ExtPort.js","webpack:///./app/frontend/designer/js/figure/MarkerFigure.js","webpack:///./app/frontend/designer/js/figure/MarkerStateAFigure.js","webpack:///./app/frontend/designer/js/figure/MarkerStateBFigure.js","webpack:///./app/frontend/designer/js/figure/PolyCircle.js","webpack:///./app/frontend/designer/js/figure/PolyRect.js","webpack:///./app/frontend/designer/js/figure/TestSwitch.js","webpack:///./app/frontend/designer/js/figure/index.js","webpack:///./app/frontend/designer/js/filter/BlurFilter.js","webpack:///./app/frontend/designer/js/filter/FanoutFilter.js","webpack:///./app/frontend/designer/js/filter/FillColorFilter.js","webpack:///./app/frontend/designer/js/filter/Filter.js","webpack:///./app/frontend/designer/js/filter/FontColorFilter.js","webpack:///./app/frontend/designer/js/filter/FontSizeFilter.js","webpack:///./app/frontend/designer/js/filter/LinearGradientFilter.js","webpack:///./app/frontend/designer/js/filter/OpacityFilter.js","webpack:///./app/frontend/designer/js/filter/OutlineStrokeFilter.js","webpack:///./app/frontend/designer/js/filter/PortDirectionFilter.js","webpack:///./app/frontend/designer/js/filter/PortTypeFilter.js","webpack:///./app/frontend/designer/js/filter/PositionFilter.js","webpack:///./app/frontend/designer/js/filter/RadiusFilter.js","webpack:///./app/frontend/designer/js/filter/SizeFilter.js","webpack:///./app/frontend/designer/js/filter/StrokeFilter.js","webpack:///./app/frontend/designer/js/filter/TextLinearGradientFilter.js","webpack:///./app/frontend/designer/js/filter/index.js","webpack:///./app/frontend/designer/js/global.js","webpack:///./app/frontend/designer/js/index.js","webpack:///./app/frontend/designer/js/io/BackendSkills.js","webpack:///./app/frontend/designer/js/io/BackendStorage.js","webpack:///./app/frontend/designer/js/io/FigureWriter.js","webpack:///./app/frontend/designer/js/policy/AbstractGeoToolPolicy.js","webpack:///./app/frontend/designer/js/policy/AbstractToolPolicy.js","webpack:///./app/frontend/designer/js/policy/CircleToolPolicy.js","webpack:///./app/frontend/designer/js/policy/GeoDifferenceToolPolicy.js","webpack:///./app/frontend/designer/js/policy/GeoIntersectionToolPolicy.js","webpack:///./app/frontend/designer/js/policy/GeoUnionToolPolicy.js","webpack:///./app/frontend/designer/js/policy/LineToolPolicy.js","webpack:///./app/frontend/designer/js/policy/PortToolPolicy.js","webpack:///./app/frontend/designer/js/policy/RectangleToolPolicy.js","webpack:///./app/frontend/designer/js/policy/SelectionToolPolicy.js","webpack:///./app/frontend/designer/js/policy/TextToolPolicy.js","webpack:///./app/frontend/designer/js/util/mousetrap-global.js","webpack:///./app/frontend/designer/js/util/mousetrap-pause.js","webpack:///./app/frontend/designer/js/widget/jscolor/arrow.gif","webpack:///./app/frontend/designer/js/widget/jscolor/cross.gif","webpack:///./app/frontend/designer/js/widget/jscolor/hs.png","webpack:///./app/frontend/designer/js/widget/jscolor/hv.png","webpack:///./app/frontend/designer/js/widget/jscolor/jscolor.js","webpack:///./app/frontend/designer/js/widget/ui.anglepicker.js","webpack:///./app/frontend/designer/less/index.less?994b","webpack:///./app/frontend/designer/lib/inlineSVG.js","webpack:///./node_modules/autolinker/dist/Autolinker.js","webpack:///./node_modules/font-awesome/css/font-awesome.css","webpack:///./app/frontend/designer/less/index.less","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/css-loader/dist/runtime/getUrl.js","webpack:///./node_modules/font-awesome/css/font-awesome.css?8f83","webpack:///./node_modules/font-awesome/fonts/fontawesome-webfont.eot","webpack:///./node_modules/font-awesome/fonts/fontawesome-webfont.eot?779f","webpack:///./node_modules/font-awesome/fonts/fontawesome-webfont.svg","webpack:///./node_modules/font-awesome/fonts/fontawesome-webfont.ttf","webpack:///./node_modules/font-awesome/fonts/fontawesome-webfont.woff2","webpack:///./node_modules/font-awesome/fonts/fontawesome-webfont.woff","webpack:///./node_modules/hogan.js/lib/compiler.js","webpack:///./node_modules/hogan.js/lib/hogan.js","webpack:///./node_modules/hogan.js/lib/template.js","webpack:///./node_modules/jsts/dist/jsts.js","webpack:///./node_modules/mousetrap/mousetrap.js","webpack:///./node_modules/remarkable/index.js","webpack:///./node_modules/remarkable/lib/common/entities.js","webpack:///./node_modules/remarkable/lib/common/html_blocks.js","webpack:///./node_modules/remarkable/lib/common/html_re.js","webpack:///./node_modules/remarkable/lib/common/url_schemas.js","webpack:///./node_modules/remarkable/lib/common/utils.js","webpack:///./node_modules/remarkable/lib/configs/commonmark.js","webpack:///./node_modules/remarkable/lib/configs/default.js","webpack:///./node_modules/remarkable/lib/configs/full.js","webpack:///./node_modules/remarkable/lib/helpers/normalize_link.js","webpack:///./node_modules/remarkable/lib/helpers/normalize_reference.js","webpack:///./node_modules/remarkable/lib/helpers/parse_link_destination.js","webpack:///./node_modules/remarkable/lib/helpers/parse_link_label.js","webpack:///./node_modules/remarkable/lib/helpers/parse_link_title.js","webpack:///./node_modules/remarkable/lib/index.js","webpack:///./node_modules/remarkable/lib/parser_block.js","webpack:///./node_modules/remarkable/lib/parser_core.js","webpack:///./node_modules/remarkable/lib/parser_inline.js","webpack:///./node_modules/remarkable/lib/renderer.js","webpack:///./node_modules/remarkable/lib/ruler.js","webpack:///./node_modules/remarkable/lib/rules.js","webpack:///./node_modules/remarkable/lib/rules_block/blockquote.js","webpack:///./node_modules/remarkable/lib/rules_block/code.js","webpack:///./node_modules/remarkable/lib/rules_block/deflist.js","webpack:///./node_modules/remarkable/lib/rules_block/fences.js","webpack:///./node_modules/remarkable/lib/rules_block/footnote.js","webpack:///./node_modules/remarkable/lib/rules_block/heading.js","webpack:///./node_modules/remarkable/lib/rules_block/hr.js","webpack:///./node_modules/remarkable/lib/rules_block/htmlblock.js","webpack:///./node_modules/remarkable/lib/rules_block/lheading.js","webpack:///./node_modules/remarkable/lib/rules_block/list.js","webpack:///./node_modules/remarkable/lib/rules_block/paragraph.js","webpack:///./node_modules/remarkable/lib/rules_block/state_block.js","webpack:///./node_modules/remarkable/lib/rules_block/table.js","webpack:///./node_modules/remarkable/lib/rules_core/abbr.js","webpack:///./node_modules/remarkable/lib/rules_core/abbr2.js","webpack:///./node_modules/remarkable/lib/rules_core/block.js","webpack:///./node_modules/remarkable/lib/rules_core/footnote_tail.js","webpack:///./node_modules/remarkable/lib/rules_core/inline.js","webpack:///./node_modules/remarkable/lib/rules_core/linkify.js","webpack:///./node_modules/remarkable/lib/rules_core/references.js","webpack:///./node_modules/remarkable/lib/rules_core/replacements.js","webpack:///./node_modules/remarkable/lib/rules_core/smartquotes.js","webpack:///./node_modules/remarkable/lib/rules_inline/autolink.js","webpack:///./node_modules/remarkable/lib/rules_inline/backticks.js","webpack:///./node_modules/remarkable/lib/rules_inline/del.js","webpack:///./node_modules/remarkable/lib/rules_inline/emphasis.js","webpack:///./node_modules/remarkable/lib/rules_inline/entity.js","webpack:///./node_modules/remarkable/lib/rules_inline/escape.js","webpack:///./node_modules/remarkable/lib/rules_inline/footnote_inline.js","webpack:///./node_modules/remarkable/lib/rules_inline/footnote_ref.js","webpack:///./node_modules/remarkable/lib/rules_inline/htmltag.js","webpack:///./node_modules/remarkable/lib/rules_inline/ins.js","webpack:///./node_modules/remarkable/lib/rules_inline/links.js","webpack:///./node_modules/remarkable/lib/rules_inline/mark.js","webpack:///./node_modules/remarkable/lib/rules_inline/newline.js","webpack:///./node_modules/remarkable/lib/rules_inline/state_inline.js","webpack:///./node_modules/remarkable/lib/rules_inline/sub.js","webpack:///./node_modules/remarkable/lib/rules_inline/sup.js","webpack:///./node_modules/remarkable/lib/rules_inline/text.js","webpack:///./node_modules/sanitize-filename/index.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./node_modules/truncate-utf8-bytes/browser.js","webpack:///./node_modules/truncate-utf8-bytes/lib/truncate.js","webpack:///./node_modules/utf8-byte-length/browser.js","webpack:///(webpack)/buildin/global.js"],"names":["Application","documentConfigurationTempl","baseClass","code","$","text","trim","localStorage","window","e","delegate","Mousetrap","pause","unpause","documentConfiguration","extend","storage","Storage","view","View","toolbar","Toolbar","layer","Layer","filter","FilterPane","installEditPolicy","SelectionToolPolicy","file","getParam","_load","fileNew","addEventListener","event","state","id","loadFile","then","content","clear","centerDocument","reader","draw2d","io","json","Reader","unmarshal","getConfiguration","fileName","getCommandStack","markSaveLocation","name","replace","regexS","regex","RegExp","results","exec","location","href","hash","shapeTemplate","currentFile","FileOpen","show","setConfiguration","FileSaveAs","FileSave","key","figures","getExtFigures","getSize","first","getUserData","conf","setUserData","fileSuffix","serverless","backend","list","get","save","app","elementId","DEFAULT_LABEL","html","currentFigure","on","onSelectionChanged","bind","canvas","figure","addClass","isExtFigure","filters","each","i","removePane","insertPane","removeClass","getPotentialFilters","append","impl","label","_this","$this","filterName","data","eval","addFilter","raspi","set","pin","value","callback","connected","arduino","ui","LabelInplaceEditor","NAME","init","attr","setter","getter","_super","onStart","onCancel","onCommit","emitter","_updateSelection","figureToCSS","isVisible","inlineSVG","tooltip","placement","container","delay","hide","sortable","axis","update","toArray","reverse","forEach","getExtFigure","toFront","proxy","currentTarget","bootbox","prompt","title","className","result","stackChanged","setTimeout","focus","select","setVisible","setCurrentSelection","parent","ripple","selection","getSelection","rect","getBoundingBox","p","getCenter","circle","paper","x","y","Math","max","w","h","fill","stroke","anim","Raphael","animation","transform","opacity","remove","animate","split","slice","buttonGroup","openButton","fileOpen","bindGlobal","click","saveButton","fileSave","undoButton","undo","redoButton","redo","deleteButton","startTransaction","Configuration","i18n","command","deleteShape","index","cmd","createCommand","CommandType","DELETE","execute","commitTransaction","selectButton","shapeButton","RectangleToolPolicy","executed","CircleToolPolicy","LineToolPolicy","TextToolPolicy","PortToolPolicy","unionButton","getAll","GeoUnionToolPolicy","differenceButton","GeoDifferenceToolPolicy","intersectionButton","GeoIntersectionToolPolicy","testButton","FigureTest","exc","console","log","FigureCodeEdit","codeButton","markdownButton","FigureMarkdownEdit","getStack","canUndo","canRedo","Canvas","clippboardFigure","grid","policy","ShowGridEditPolicy","setScrollArea","FadeoutDecorationPolicy","SnapToGeometryEditPolicy","SnapToCenterEditPolicy","SnapToInBetweenEditPolicy","diff","getZoom","f","translate","primarySelection","getPrimary","clone","cloneToAdd","CommandAdd","getPosition","zoom","WheelZoomPolicy","setZoom","newZoom","bb","c","scrollTop","height","scrollLeft","width","prop","uninstallEditPolicy","stopPropagation","reset","setCursor","cursor","css","parseInt","getFigures","grep","lines","getLines","line","addAll","xCoords","yCoords","shape_designer","ExtPort","b","push","minX","min","minY","geo","Rectangle","hideDecoration","unselect","showDecoration","getWidth","find","getHeight","centerView","dx","dy","splash","fadeIn","before","obj","method","wrapper","orig","args","Array","prototype","call","arguments","apply","intersects","range","editor","getSelectionRange","preventReadonly","next","last","length","findIndex","element","array","startsWith","ace","edit","session","getSession","Range","require","range2","addMarker","setMode","setUseWrapMode","moveCursorTo","keyBinding","addKeyboardHandler","handleKeyboard","keyString","keyCode","passEvent","start","doc","createAnchor","end","$insertRight","getValue","fadeOut","mdHtml","scrollMap","lineHeight","defaults","xhtmlOut","breaks","langPrefix","linkify","linkTarget","typographer","Remarkable","markdown","removeDialog","renderer","rules","paragraph_open","tokens","idx","level","heading_open","hLevel","$preview","$source","_debounce","syncScroll","updateResult","source","render","offset","nonEmptyList","pos","a","lineHeightMap","linesCount","acc","sourceLikeDiv","_scrollMap","position","visibility","clientWidth","appendTo","top","str","lh","parseFloat","round","n","el","$el","t","scrollHeight","scroll","lineNo","posTo","floor","buildScrollMap","stop","func","wait","immediate","timeout","context","later","callNow","clearTimeout","simulationContext","animationFrameFunc","_calculate","writer","FigureWriter","testShape","marshal","js","alert","ShowDotEditPolicy","router","layout","connection","InteractiveManhattanConnectionRouter","ComposedConnectionCreatePolicy","DragConnectionCreatePolicy","createConnection","Connection","radius","color","outlineStroke","outlineColor","OrthogonalConnectionCreatePolicy","test","add","shape","node","Start","toggle1","TestSwitch","toggle2","End","simulate","onStop","requestAnimationFrame","calculate","outPort","getSource","inPort","getTarget","setValue","setColor","modal","fetchPathContent","currentDir","newPath","getFiles","files","endsWith","compiled","Hogan","compile","parentPath","dirname","output","rootDir","icon","type","path","preventDefault","png","Writer","imageDataUrl","val","off","newName","saveFile","scale","pop","SetFigure","tooltipTimer","bgColor","persistPorts","zoomCallback","positionTooltip","hideTooltip","showTooltip","setCanvas","fast","outerWidth","fromCanvasToDocumentCoordinate","getAbsoluteX","getAbsoluteY","applyAlpha","layerGet","attributes","svgNodes","found","layerAttr","layerShow","flag","duration","getParameterSettings","getRequiredHardware","onDrop","dropTarget","shiftKey","ctrlKey","getPersistentAttributes","memento","labels","children","labelJSON","locator","setPersistentAttributes","resetChildren","DecoratedInputPort","InputPort","hasChanged","decoration","MarkerFigure","LeftLocator","margin","useDefaultValue","setStick","hasChangedValue","hasRisingEdge","hasFallingEdge","ExtLabel","basic","Label","blur","util","ArrayList","PositionFilter","FontSizeFilter","FontColorFilter","installEditor","setBlur","repaint","getBlur","removeFilter","alreadyIn","onInstall","lattr","bold","fontSize","fontFamily","fontColor","padding","left","filterMemento","ExtLine","PolyLine","StrokeFilter","setRouter","VertexRouter","VertexSelectionFeedbackPolicy","ExtPolygon","Polygon","SizeFilter","FillColorFilter","RectangleSelectionFeedbackPolicy","onDoubleClick","svgPathString","calculatePath","sizeFilterAdded","insertElementAt","Circle","diameter","direction","fanout","FanoutFilter","PortDirectionFilter","PortTypeFilter","AntSelectionFeedbackPolicy","setInputType","getInputType","setMaxFanOut","count","getMaxFanOut","setConnectionDirection","updateDecoration","getConnectionDirection","ArrowUp","TopLocator","ArrowRight","RightLocator","ArrowDown","BottomLocator","ArrowLeft","fanoutFilterAdded","VerticalLayout","isMouseOver","stick","defaultValue","stateA","MarkerStateAFigure","stateB","MarkerStateBFigure","onMouseOver","getStickTickFigure","hitTest","getStick","getLabelFigure","contextMenu","selector","trigger","events","options","setDefaultValue","items","visible","setTick","setText","bottom","right","HorizontalLayout","gap","stickTick","resizeable","addCssClass","repaintBlocked","createShapeElement","arrowLength","vertices","getAbsolutePosition","Point","getRadius","equals","begin","Util","insetPoint","modStart","modEnd","join","PolyCircle","Oval","center","setCenter","getVertices","w2","h2","sides","radian","PI","cos","sin","PolyRect","topLeft","bottomRight","addVertex","createPort","toggleValue","getOutputPort","getConnections","BlurFilter","$parent","containerId","cssScope","svgSelector","TouchSpin","step","Filter","maxboostedstep","postfix","colorPicker","picker","jscolor","document","getElementById","fromString","getBackgroundColor","onImmediateChange","setBackgroundColor","toString","hidePicker","relatedFigure","getFontColor","setFontColor","getFontSize","boostat","setFontSize","LinearGradientFilter","colorPicker1","colorPicker2","startColor","endColor","angle","anglepicker","change","picker1","picker2","setStroke","OpacityFilter","getAlpha","setAlpha","OutlineStrokeFilter","getOutlineStroke","setOutlineStroke","getOutlineColor","setOutlineColor","dir","block","setPosition","RadiusFilter","setRadius","setWidth","setHeight","getStroke","getColor","TextLinearGradientFilter","hardware","CircuitFigure","skillproxy","widget","bridge","button","jQuery","uaMatch","ua","toLowerCase","match","indexOf","browser","version","matched","navigator","userAgent","chrome","webkit","safari","load","k","global","socket","sanitize","BackendSkills","skillList","Object","preventExtensions","ip","port","self","ajax","url","skill","connect","xhrFields","withCredentials","resp","err","skills","browse","skillObject","_machineName","async","filePath","skill_name","getDescription","skill_descp","JSON","parse","_ip","_port","_skill_name","_parameters","skillName","parameters","BackendStorage","response","sort","stringify","image","undefined","fail","error","segments","basename","history","pushState","resultCallback","customCode","ports","shapes","constructor","extra","getText","template","tags","Base64","encode","jsts","AbstractToolPolicy","firstFigure","operation","setToolHeader","setToolMessage","contains","setPrimary","fireEvent","executeGeometryOperation","figure1","figure2","operationFunc","p1","getGeometry","p2","union","GeoJSONWriter","write","CommandCollection","CommandDelete","coordinates","poly","vertex","getX","getY","WKTReader","v","asArray","read","map","SelectionPolicy","setToolText","message","TITLE","boundingBoxFigure1","boundingBoxFigure2","onUninstall","onMouseDown","onMouseDrag","dx2","dy2","r","sqrt","abs","Color","onMouseUp","AbstractGeoToolPolicy","getBestFigure","getParent","Port","isSelectable","MESSAGE_STEP1","MESSAGE_STEP2","lineFigure","onMouseMove","setEndPoint","onClick","beforeLast","removeVertexAt","setStartPoint","mouseDownElement","topLeftPoint","alpha","dash","setDimension","distance","BoundingboxSelectionPolicy","heading","cloneOnDrag","mouseDraggingElement","ResizeHandle","onDragEnd","onDragStart","newFigure","setPadding","_globalCallbacks","_originalStopCallback","stopCallback","combo","sequence","paused","keys","action","bindClass","binding","preloading","install","addEvent","preload","matchClass","getElementsByTagName","m","Function","eInvalidProp","fn","imgRequire","hasOwnProperty","loadImage","images","pad","sld","cross","arrow","imgLoaded","requireImage","filename","Image","src","fetchElement","mixed","evnt","attachEvent","createEvent","ev","initEvent","dispatchEvent","createEventObject","getElementPos","e1","e2","offsetParent","offsetLeft","offsetTop","parentNode","nodeName","toUpperCase","getElementSize","offsetWidth","offsetHeight","getRelMousePos","offsetX","offsetY","layerX","layerY","getViewPos","pageYOffset","pageXOffset","body","documentElement","getViewSize","innerWidth","innerHeight","clientHeight","URI","uri","scheme","authority","query","fragment","toAbsolute","base","removeDotSegments","substr","out","rm","target","required","adjust","caps","slider","valueElement","styleElement","hsv","rgb","minH","maxH","minS","maxS","minV","maxV","pickerOnfocus","pickerMode","pickerPosition","pickerSmartPosition","pickerButtonHeight","pickerClosable","pickerCloseText","pickerButtonColor","pickerFace","pickerFaceColor","pickerBorder","pickerBorderColor","pickerInset","pickerInsetColor","pickerZIndex","isPickerOwner","removePicker","showPicker","tp","ts","vp","vs","ps","getPickerDims","l","pp","drawPicker","importColor","exportColor","leaveValue","style","backgroundImage","jscStyle","backgroundColor","leaveStyle","flags","leavePad","redrawPad","leaveSld","redrawSld","fromHSV","s","HSV_RGB","fromRGB","g","RGB_HSV","hex","charAt","owner","removeChild","boxB","box","createElement","padB","padM","sldB","sldM","btn","btnS","btnT","createTextNode","THIS","segSize","seg","appendChild","onmouseup","onmouseout","onmousedown","abortBlur","onmousemove","holdPad","holdSld","setPad","setSld","empty","removeAllRanges","dispatchImmediateChange","handle_touchmove","touches","pageX","touchOffset","X","pageY","Y","removeEventListener","modeID","dims","zIndex","border","borderColor","background","overflow","display","eOldIE","setBtnBorder","insetColors","pickerOutsetColor","font","textAlign","padImg","hsImg","hvImg","crossImg","backgroundRepeat","arrowImg","backgroundPosition","o","yComponent","childNodes","blurTarget","blurValue","mpos","updateField","setAttribute","mouse","widgetEventPrefix","_init","_mouseInit","pointer","setDegrees","_propagate","_trigger","_create","destroy","_mouseDestroy","_mouseStart","myOffset","startOffset","setDegreesFromEvent","_mouseStop","_mouseDrag","_setOption","newValue","oldValue","drawRotation","clockwise","rotation","degrees","clamp","opposite","adjacent","radians","atan","roundToMultiple","shiftSnap","snap","number","multiple","integer","rest","root","factory","define","supports","querySelector","settings","initClass","after","times","extended","deep","merge","svgs","querySelectorAll","inliner","cb","svg","getAttribute","request","XMLHttpRequest","open","onload","status","parser","DOMParser","parseFromString","responseText","inlinedSVG","titles","descs","removeAttribute","attribute","classList","longdesc","description","createElementNS","descriptionText","insertBefore","firstChild","alt","titleText","replaceChild","onerror","send"],"mappings":"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GD;;AAyGA;;;;AAIArgC,cAAUZ,IAAV,GAAiB,UAAU8e,OAAV,EAAmBpf,QAAnB,EAA6B;;AAE1C;AACA,YAAI,CAAC++B,QAAL,EAAe;;AAEf;AACAE,mBAAWplC,OAAOkV,QAAP,EAAiBqQ,WAAW,EAA5B,CAAX;;AAEA;AACAsgB,gBAAQ1/B,YAAY,YAAU,CAAE,CAAhC;AACH,KAVD;;AAYA,WAAOkB,SAAP;AAEH,CA7ND,E;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,MAAM,IAA0C;AAChD,IAAI,iCAAO,EAAE,oCAAE,OAAO;AAAA;AAAA;AAAA,oGAAC;AACvB,GAAG,MAAM,EAIN;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,+BAA+B,KAAK;AACpC;AACA;AACA,gEAAgE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,QAAQ,iCAAiC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,sEAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E;AAC/E;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,mDAAmD;AAC3F,wBAAwB;AACxB,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,yBAAyB;AAClC;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,iCAAiC,wBAAwB,MAAM;AAChH;AACA;AACA;AACA,8DAA8D,mBAAmB;AACjF;AACA;AACA;AACA,WAAW,OAAO;AAClB,gBAAgB,YAAY,GAAG,aAAa,GAAG,aAAa,GAAG,eAAe;AAC9E,UAAU,eAAe;AACzB,WAAW,OAAO;AAClB;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA,UAAU,eAAe;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU,QAAQ;AAClB;AACA;AACA;AACA;;AAEA;AACA,UAAU,QAAQ;AAClB;AACA;AACA;AACA;;AAEA;AACA,UAAU,QAAQ;AAClB;AACA;AACA;AACA;;AAEA;AACA,UAAU,eAAe;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU,QAAQ;AAClB;AACA;AACA;;AAEA;AACA,UAAU,QAAQ;AAClB;AACA;AACA;AACA;;AAEA;AACA,UAAU,cAAc;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,UAAU,OAAO;AACjB;AACA,UAAU,uBAAuB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,wCAAwC;AAC/C;;AAEA;AACA,UAAU,OAAO;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU,SAAS;AACnB;AACA;AA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uB;AACnC;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D;AAC9D;;AAEA;AACA,0BAA0B;;AAE1B,GAAG;AACH,iCAAiC;;AAEjC,GAAG;AACH;;AAEA,GAAG,OAAO;AACV;AACA,oCAAoC;;AAEpC;AACA;AACA,EAAE;;;AAGF;AACA,yCAAyC,kBAAkB;AAC3D;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA,yCAAyC;AACzC;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,oDAAoD;AACjF,2BAA2B,yBAAyB;AACpD,2BAA2B,yBAAyB;AACpD,6BAA6B,yBAAyB;AACtD,yBAAyB,wDAAwD;AACjF;;AAEA;;AAEA,GAAG;AACH;AACA;AACA,EAAE;;;AAGF;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA,kCAAkC,iBAAiB,kBAAkB,iCAAiC;AACtG;AACA;AACA;AACA;AACA,oEAAoE,iBAAiB,yBAAyB;AAC9G;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA,8BAA8B,kBAAkB,EAAE;;;AAGlD;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB;AACA,aAAa,SAAS;AACtB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH,0BAA0B,sDAAsD;AAChF;;AAEA,mDAAmD;AACnD,uCAAuC;AACvC;;AAEA,gCAAgC;AAChC;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,EAAE;AACd,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA,GAAG;AACH,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB;AACA,YAAY,SAAS;AACrB;AACA,aAAa,MAAM;AACnB;AACA;AACA,8BAA8B,QAAQ;AACtC;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,6BAA6B;;AAE7B;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,qCAAqC;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,wDAAwD;AAC9E;AACA,QAAQ;AACR;AACA,4BAA4B;AAC5B;AACA;AACA,wBAAwB;AACxB,6BAA6B;AAC7B,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,6BAA6B;AAC7B,uCAAuC;AACvC;AACA,4BAA4B;AAC5B;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA,0CAA0C,iBAAiB,yBAAyB;AACpF;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,gDAAgD;AAC9E;AACA,gBAAgB;AAChB;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU,OAAO;AACjB;AACA;AACA;AACA,iEAAiE,kBAAkB,SAAS;AAC5F;AACA;;AAEA;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;;AAEA;AACA,UAAU,OAAO;AACjB;AACA;AACA;AACA;AACA,4GAA4G;AAC5G;AACA;;AAEA;AACA,UAAU,OAAO;AACjB;AACA,cAAc,iBAAiB;AAC/B;AACA;;;AAGA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;;AAGA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;;AAEA,oDAAoD;AACpD,EAAE;;;AAGF;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,YAAY,wBAAwB;AACpC,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa,wBAAwB;AACrC;AACA;AACA,wCAAwC;AACxC,EAAE;;;AAGF;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,mBAAmB;AAChC;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA,gDAAgD;;AAEhD;AACA,EAAE;;;AAGF;AACA,wBAAwB,sBAAsB;AAC9C;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA,8BAA8B;;AAE9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uEAAuE,GAAG;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;;AAGA;AACA;;;AAGA;AACA;;;AAGA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA,yEAAyE,EAAE,GAAG,GAAG;AACjF;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;;AAEA;;;AAGA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,KAAK;AAC3B;AACA;AACA;AACA,IAAI,iBAAiB,+CAA+C;AACpE,cAAc,iCAAiC;AAC/C,8BAA8B,qCAAqC;AACnE;AACA;AACA;AACA;AACA,mEAAmE,iBAAiB,yBAAyB;AAC7G;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU,QAAQ;AAClB;AACA;;AAEA;AACA,UAAU,OAAO;AACjB;AACA;;AAEA;AACA,UAAU,OAAO;AACjB;AACA;;;AAGA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA,EAAE;;;AAGF;AACA,qCAAqC,KAAK;AAC1C;AACA;AACA,YAAY,uBAAuB;AACnC;AACA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;;AAGF;AACA,wEAAwE,KAAK;AAC7E;AACA;AACA;AACA,YAAY,0CAA0C;AACtD;AACA,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA,6BAA6B,iBAAiB;AAC9C;AACA;AACA,YAAY,0CAA0C;AACtD;AACA,aAAa,OAAO;AACpB,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wDAAwD;AACxD,EAAE;;;AAGF;AACA;AACA,KAAK,gBAAgB;AACrB;AACA;AACA,YAAY,OAAO;AACnB;AACA,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA,8DAA8D;AAC9D;AACA,KAAK,gBAAgB;AACrB,8BAA8B,gBAAgB;AAC9C;AACA;AACA,YAAY,OAAO;AACnB;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,GAAG;AACH;;AAEA,GAAG;AACH;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,+CAA+C;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,YAAY;AAC9D;AACA;AACA,gCAAgC,gBAAgB;AAChD,qDAAqD,YAAY;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,kGAAkG;;AAElG;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA,kBAAkB;AAClB;AACA,qCAAqC,OAAO,KAAK,MAAM,KAAK,MAAM,OAAO,MAAM,MAAM;;;AAGrF;AACA,yDAAyD;AACzD;AACA;AACA,YAAY,OAAO;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,YAAY,OAAO;AACnB;AACA,aAAa,iCAAiC;AAC9C,qBAAqB,+CAA+C;AACpE,OAAO,mDAAmD;AAC1D;AACA;AACA;AACA,qGAAqG;;AAErG;AACA,iDAAiD,UAAU;AAC3D,gDAAgD,kBAAkB;AAClE,mDAAmD,SAAS;AAC5D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA,iCAAiC,oDAAoD;AACrF;AACA;AACA,YAAY,OAAO;AACnB;AACA,YAAY,OAAO;AACnB,iCAAiC,cAAc;AAC/C,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;;AAGF;AACA,iCAAiC,oDAAoD;AACrF;AACA;AACA,YAAY,OAAO;AACnB;AACA,YAAY,OAAO;AACnB;AACA,YAAY,OAAO,yCAAyC,OAAO;AACnE;AACA,YAAY,QAAQ;AACpB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;;AAGF;AACA,gCAAgC,kDAAkD;AAClF;AACA;AACA,YAAY,OAAO;AACnB;AACA,YAAY,OAAO;AACnB,eAAe,KAAK;AACpB,aAAa;AACb;AACA;AACA,gDAAgD,6BAA6B;AAC7E,EAAE;;;AAGF;AACA,gCAAgC,8CAA8C;AAC9E;AACA;AACA,YAAY,OAAO;AACnB;AACA,YAAY,OAAO;AACnB,aAAa;AACb;AACA;AACA,8CAA8C,6BAA6B;AAC3E;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,oDAAoD;AAC9D;AACA,SAAS,oDAAoD;AAC7D;AACA,SAAS,8CAA8C;AACvD;AACA,SAAS,kDAAkD;AAC3D;AACA,+BAA+B,KAAK,UAAU;AAC9C;AACA;;AAEA;AACA,UAAU,OAAO;AACjB;AACA;AACA;AACA;;AAEA;AACA,UAAU,OAAO;AACjB;AACA;AACA;AACA,yBAAyB,oDAAoD;AAC7E;AACA,yBAAyB,oDAAoD;AAC7E;AACA,wBAAwB,8CAA8C;AACtE;AACA,wBAAwB,kDAAkD;AAC1E;AACA;AACA;;;AAGA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;;AAGA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA,mBAAmB,YAAY;AAC/B;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uCAAuC;AAC3C;AACA,iCAAiC,qCAAqC;AACtE;AACA;AACA;;AAEA;AACA,UAAU,OAAO;AACjB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,gEAAgE,uCAAuC;AACvG;AACA,iCAAiC,qCAAqC;AACtE;AACA;AACA;;AAEA;AACA,UAAU,OAAO;AACjB;AACA;AACA;AACA;;AAEA;AACA,UAAU,QAAQ;AAClB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA,4DAA4D,OAAO;AACnE;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA,mEAAmE;AACnE,+BAA+B,QAAQ;AACvC;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,oEAAoE,uCAAuC;AAC3G,aAAa,KAAK,gBAAgB,uCAAuC;AACzE;AACA;AACA;AACA,8CAA8C,kEAAkE;AAChH;AACA,iCAAiC,qCAAqC;AACtE;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,uDAAuD,uCAAuC;AAC9F;AACA,iCAAiC,qCAAqC;AACtE;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,qCAAqC;AACzC;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,YAAY,iBAAiB,sCAAsC,qCAAqC;AACxG;AACA;;AAEA;AACA,UAAU,4BAA4B;AACtC;AACA;AACA;AACA;;AAEA;AACA,UAAU,OAAO;AACjB;AACA,+CAA+C,iCAAiC;AAChF;;AAEA;AACA,UAAU,OAAO;AACjB;AACA;AACA;;;AAGA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;;AAGA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA,cAAc,cAAc;AAC5B;AACA,OAAO,iCAAiC;AACxC;AACA;AACA,0CAA0C,uBAAuB;AACjE,oBAAoB,iCAAiC;AACrD;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;;AAGA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;;AAGA;AACA,2BAA2B,yBAAyB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,6BAA6B;AAC9D;AACA;;AAEA;AACA,UAAU,OAAO;AACjB;AACA;AACA;;;AAGA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,6BAA6B;AAC9D;AACA;AACA;;AAEA;AACA,UAAU,OAAO;AACjB;AACA,kDAAkD;AAClD;AACA;;AAEA;AACA,UAAU,OAAO;AACjB;AACA;AACA;;;AAGA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA,4BAA4B,mBAAmB;AAC/C;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,6BAA6B;AAC9D;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,6BAA6B;AAC9D;AACA;;AAEA;AACA,UAAU,OAAO;AACjB;AACA;AACA;;;AAGA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,6BAA6B;AAC9D;AACA;;AAEA;AACA,UAAU,OAAO;AACjB;AACA;AACA;;AAEA;AACA,UAAU,qBAAqB;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU,QAAQ;AAClB;AACA;AACA;AACA;;AAEA;AACA,UAAU,QAAQ;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU,QAAQ;AAClB;AACA;;;AAGA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA,+EAA+E,WAAW;AAC1F,QAAQ,qBAAqB;AAC7B;AACA;;AAEA;AACA;AACA,eAAe,QAAQ;AACvB;AACA,+EAA+E,WAAW;AAC1F,KAAK,WAAW;AAChB;AACA;;;AAGA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA,4BAA4B,UAAU,cAAc,6EAA6E;AACjI,EAAE;;;AAGF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;;AAEtD;AACA,EAAE;;;AAGF;;AAEA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,uBAAuB;AACzE;AACA;;AAEA;AACA,UAAU,4BAA4B;AACtC;AACA;AACA,SAAS,qCAAqC;AAC9C;;;AAGA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA,sDAAsD;AACtD;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa;AACb;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,iCAAiC;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA,iEAAiE;AACjE;AACA,2CAA2C;;AAE3C;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU,OAAO;AACjB;AACA,kDAAkD;AAClD;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,kFAAkF,MAAM;;AAExF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;;;AAGA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wCAAwC;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,iCAAiC;AAClE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,4BAA4B,IAAI,gBAAgB,EAAE,eAAe,EAAE,WAAW,EAAE;;AAEhF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+BAA+B;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,kFAAkF,KAAK;;AAEvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8CAA8C;;AAE9C;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,iCAAiC;AAClE;AACA;;AAEA;AACA,UAAU,QAAQ;AAClB;AACA;;;AAGA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4GAA4G;AAC5G;AACA,gGAAgG;;AAEhG;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;;AAEA;AACA;AACA,KAAK,oBAAoB;AACzB;AACA;AACA,eAAe;AACf;AACA;;;AAGA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yDAAyD;AACzD,IAAI;AACJ;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO,0CAA0C,oBAAoB;AACjF,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,wCAAwC;AAC5C;AACA;AACA;AACA;AACA;AACA,IAAI,wCAAwC;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;;AAEA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;;ACzrHD;AACA,kCAAkC,mBAAO,CAAC,2FAAsC;AAChF,sCAAsC,mBAAO,CAAC,iGAAyC;AACvF,oCAAoC,mBAAO,CAAC,mHAA0C;AACtF,oCAAoC,mBAAO,CAAC,mGAAkC;AAC9E,oCAAoC,mBAAO,CAAC,uHAA4C;AACxF,oCAAoC,mBAAO,CAAC,qHAA2C;AACvF,oCAAoC,mBAAO,CAAC,mHAA0C;AACtF,oCAAoC,mBAAO,CAAC,mHAA0C;AACtF;AACA;AACA,yGAAyG,0BAA0B;AACnI;AACA;AACA;AACA,yGAAyG,8BAA8B;AACvI;AACA,cAAc,QAAS,yOAAyO,+BAA+B,yDAAyD,yVAAyV,wBAAwB,uBAAuB,GAA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CA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B;;AAE9B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,CAAC;;;AAGD;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA,C;;;;;;;;;;;;AC7Fa;;AAEb;AACA;AACA;AACA;AACA,GAAG;;;AAGH;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;;AAEA;AACA,E;;;;;;;;;;;;AChCA,cAAc,mBAAO,CAAC,gJAAmD;;AAEzE,4CAA4C,QAAS;;AAErD;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA,aAAa,mBAAO,CAAC,yFAAsC;;AAE3D;;AAEA,GAAG,KAAU,EAAE,E;;;;;;;;;;;ACnBf,mE;;;;;;;;;;;ACAA,mE;;;;;;;;;;;ACAA,mE;;;;;;;;;;;ACAA,mE;;;;;;;;;;;ACAA,qE;;;;;;;;;;;ACAA,oE;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,kBAAkB;;AAElB;AACA;AACA,qBAAqB,iCAAiC;AACtD;AACA;AACA;;AAEA;AACA;AACA,6BAA6B,mBAAmB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,qCAAqC,mBAAmB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,qBAAqB,SAAS;AAC9B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,uBAAuB;AACvB,qFAAqF;AACrF;AACA;AACA;AACA,2BAA2B;AAC3B,2BAA2B;AAC3B;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,iDAAiD;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mCAAmC,OAAO;AAC1C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,wBAAwB;;AAExB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oCAAoC,OAAO;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,OAAO;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yDAAyD,iBAAiB;AAC1E;AACA,aAAa,0BAA0B;AACvC;;AAEA;AACA;AACA;AACA,yCAAyC,iGAAiG;AAC1I;AACA,uBAAuB,2BAA2B;AAClD;;AAEA;AACA,aAAa,wBAAwB,uCAAuC,qCAAqC;AACjH;;AAEA;AACA;AACA;AACA,mBAAmB,mBAAmB,cAAc;AACpD;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,uBAAuB,aAAa,0BAA0B;AAC9D;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,QAAQ;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B;AAC7B,sFAAsF;AACtF;AACA;;AAEA;AACA;AACA;AACA,qGAAqG;AACrG,qDAAqD;AACrD;AACA,wBAAwB,EAAE,SAAS;AACnC,KAAK;;AAEL;AACA,0GAA0G;AAC1G;AACA,yBAAyB;AACzB,KAAK;;AAEL;AACA;AACA,iBAAiB,YAAY,oBAAoB;AACjD;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA,4DAA4D;AAC5D;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA,6FAA6F;AAC7F,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL,MAAM;;AAEN;AACA;;AAEA;AACA,2FAA2F;AAC3F;;AAEA;AACA,2BAA2B;AAC3B;;AAEA;AACA;AACA,wCAAwC,OAAO;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC,EAAE,KAA8B,aAAa,SAAK;;;;;;;;;;;;ACtanD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,YAAY,mBAAO,CAAC,2DAAY;AAChC,iBAAiB,mBAAO,CAAC,2DAAY;AACrC;AACA;;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6CAA6C,WAAW,EAAE;;AAE1D;AACA;;AAEA;AACA;;AAEA;AACA,8CAA8C;AAC9C,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA,kCAAkC,QAAQ;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,oBAAoB,eAAe,EAAE;;AAErC,oBAAoB,kBAAkB,eAAe,UAAU,EAAE;;AAEjE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,2BAA2B;AAC3B,2BAA2B;AAC3B,8BAA8B;AAC9B,+BAA+B;AAC/B;AACA;;AAEA;AACA;AACA;;AAEA,CAAC,EAAE,KAA8B,aAAa,SAAK;;;;;;;;;;;;ACpVnD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE,KAA4D;AAC9D,EAAE,SAC6B;AAC/B,CAAC,4BAA4B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,2BAA2B;AAC3B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,+BAA+B,UAAU;AACzC;AACA;;AAEA,+BAA+B,UAAU;AACzC;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iCAAiC;AACjC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,OAAO;AAC/B;;AAEA;AACA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;;;AAGT;AACA;AACA;AACA,sBAAsB;;AAEtB;AACA;;AAEA;AACA;AACA;AACA,mCAAmC;;AAEnC;AACA;;AAEA;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA,SAAS;AACT;;;AAGA;AACA,oBAAoB;;AAEpB,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe;;;AAGf;AACA;AACA,wCAAwC;;AAExC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;;AAGT,0BAA0B;AAC1B;AACA;;AAEA,uBAAuB;;AAEvB,sBAAsB;AACtB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;;AAEA;AACA;AACA;AACA,SAAS;;;AAGT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2BAA2B;;AAE3B,uCAAuC;;AAEvC,iDAAiD;AACjD;;AAEA;AACA;;AAEA,uBAAuB,SAAS;AAChC;AACA;AACA;;AAEA;AACA,SAAS;;;AAGT;;AAEA,wBAAwB,SAAS;AACjC;AACA;AACA;;AAEA;AACA,SAAS;AACT;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;;AAEA;AACA;AACA;AACA,cAAc;AACd;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,2BAA2B;AACxC,cAAc;AACd;;;AAGA;AACA;AACA;AACA,cAAc;AACd;;;AAGA;AACA;AACA;AACA,cAAc;AACd;;;AAGA;AACA;AACA;AACA,cAAc;AACd;;;AAGA;AACA;AACA;AACA,cAAc;AACd;;;AAGA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;;;AAGA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,cAAc;AACd;;;AAGA;AACA;AACA;AACA,cAAc;AACd;;;AAGA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,8BAA8B,aAAa;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA,6CAA6C,SAAS;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA,6CAA6C,SAAS;AACtD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B,aAAa;AAC3C;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf,aAAa,UAAU;AACvB;AACA;AACA;;;AAGA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA,iCAAiC;AACjC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,qCAAqC,aAAa;AAClD;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA,qBAAqB,iBAAiB;AACtC;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,oBAAoB;AAC/C;AACA;AACA,WAAW;AACX,4CAA4C,QAAQ;AACpD;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA2B,WAAW;AACtC;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,8DAA8D;AAC9D;AACA,8DAA8D;AAC9D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,gBAAgB;AACrC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,iDAAiD;AACjD,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX,SAAS;;AAET;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,SAAS;AAC5B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,WAAW;AAC9B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,qBAAqB;AACxC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qEAAqE;AACrE,4BAA4B;AAC5B,8DAA8D;AAC9D;AACA,KAAK;AACL,uDAAuD;AACvD,4CAA4C;AAC5C,iCAAiC;AACjC,mDAAmD;AACnD,4BAA4B;AAC5B,iCAAiC;AACjC,sDAAsD;AACtD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,oCAAoC;AACpC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,yDAAyD;AACzD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,mBAAmB;AACxC;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,mBAAmB;AACxC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,wBAAwB;AAC3C;AACA;;AAEA;AACA;;AAEA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,kBAAkB;AACrC;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,kBAAkB;AACrC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,mBAAmB,wBAAwB;AAC3C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,UAAU;AACjC;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,cAAc;AACd;;;AAGA;AACA;AACA;AACA,cAAc;AACd;;;AAGA;AACA;AACA;AACA,cAAc;AACd;;;AAGA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,IAAI;AAClB;;;AAGA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;;AAEA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,SAAS;AACtD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,8BAA8B,aAAa;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA,6CAA6C,SAAS;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,eAAe;AACf,aAAa,QAAQ;AACrB;AACA;AACA;;;AAGA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;;AAGA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,+CAA+C;AAC1F;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,iDAAiD;AAC5F;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;AACA;;;AAGA;AACA,gCAAgC;AAChC;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,SAAS;AACtD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,6CAA6C,SAAS;AACtD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,8BAA8B,aAAa;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA,6CAA6C,SAAS;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,eAAe;AACf,aAAa,wBAAwB;AACrC;AACA;AACA;;;AAGA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,iBAAiB,cAAc;AAC/B;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,cAAc;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,cAAc;AACd;;;AAGA;AACA;;AAEA,uCAAuC,SAAS;AAChD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC;AACpC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,sCAAsC;AACtC,gCAAgC;AAChC,sDAAsD;AACtD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;;AAEA,uBAAuB,6BAA6B;AACpD;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,uBAAuB,6BAA6B;AACpD;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA,qBAAqB,6BAA6B;AAClD;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,uBAAuB,6BAA6B;AACpD;AACA;AACA,OAAO;AACP;AACA;;AAEA,uBAAuB,6BAA6B;AACpD;;AAEA;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;;AAEA;;AAEA,uBAAuB,6BAA6B;AACpD;AACA;AACA,OAAO;AACP;;AAEA;;AAEA,uBAAuB,6BAA6B;AACpD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,uBAAuB;AAC5C;AACA;;AAEA;AACA,KAAK;AACL;AACA,qBAAqB,6BAA6B;AAClD;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,8BAA8B;AACnD;AACA;AACA;AACA;AACA;;AAEA,4DAA4D,cAAc;AAC1E;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA,mBAAmB,OAAO;AAC1B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,WAAW;AAChC;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,gBAAgB;AACnC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA,qBAAqB,cAAc;AACnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,aAAa;AAChC,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,UAAU;AAC/B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,UAAU;AAC7B;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,UAAU;AAC/B;;AAEA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,UAAU;AAC7B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,uBAAuB,yBAAyB;AAChD;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA,qBAAqB,yCAAyC;AAC9D;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,uBAAuB,yBAAyB;AAChD;AACA;AACA,OAAO;AACP;AACA;;AAEA,uBAAuB,yBAAyB;AAChD;;AAEA;AACA;;AAEA;AACA,OAAO;AACP;;AAEA;AACA,OAAO;AACP;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,qBAAqB,yBAAyB;AAC9C;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL,sCAAsC;AACtC;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,OAAO;AACP;;AAEA;AACA,OAAO;AACP;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,qBAAqB,WAAW;AAChC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C;;AAEA,uBAAuB,6BAA6B;AACpD;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;;AAEA,uBAAuB,wBAAwB;AAC/C;AACA;;AAEA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA,uBAAuB,wBAAwB;AAC/C;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA,yBAAyB,wBAAwB;AACjD;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP;;AAEA;AACA,OAAO;AACP;;AAEA;;AAEA;;AAEA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA,qBAAqB,wBAAwB;AAC7C;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,mBAAmB;AACxC;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;;AAEA,uBAAuB,8BAA8B;AACrD;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,qBAAqB;AAC1C;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,0CAA0C;AAC/D;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,qBAAqB,qCAAqC;AAC1D;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;;AAEA;AACA,oEAAoE;AACpE;;AAEA;AACA,oEAAoE;AACpE;;AAEA;AACA,2FAA2F;AAC3F;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA,uBAAuB,UAAU;AACjC;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uBAAuB,8BAA8B;AACrD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA,uBAAuB,WAAW;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,qBAAqB,8BAA8B;AACnD;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,8BAA8B;AACnD;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,8BAA8B;AACrD;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA,QAAQ;;AAER;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,qBAAqB;;AAErB,mCAAmC;;AAEnC;AACA,KAAK;;;AAGL;AACA;AACA;AACA,OAAO;AACP,KAAK;;;AAGL;AACA;AACA;AACA;;AAEA;AACA,yCAAyC;AACzC,4CAA4C,uCAAuC;AACnF;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA,gCAAgC;;;AAGhC;AACA;AACA,OAAO;AACP,KAAK;;;AAGL;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iHAAiH;;AAEjH,uDAAuD,0BAA0B,IAAI;AACrF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,uCAAuC,aAAa;AACpD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;;AAEA,yBAAyB,wBAAwB;AACjD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,EAAE;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA,2DAA2D,SAAS;AACpE;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,WAAW;AAC1B,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA,oEAAoE,SAAS;AAC7E;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,oEAAoE,SAAS;AAC7E;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA,gEAAgE,SAAS;AACzE;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA,mDAAmD,SAAS;AAC5D;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA,6DAA6D,SAAS;AACtE;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA,0DAA0D,SAAS;AACnE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0CAA0C,SAAS;AACnD;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,0CAA0C,SAAS;AACnD;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,0CAA0C,SAAS;AACnD;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4CAA4C,SAAS;AACrD;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,OAAO;;;AAGP;AACA;AACA;;AAEA,4CAA4C,SAAS;AACrD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qDAAqD,eAAe;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,iBAAiB;AAC1E;AACA;;AAEA;AACA,aAAa,gBAAgB;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,QAAQ,iBAAiB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,qBAAqB,kBAAkB;AACvC;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL,6BAA6B;AAC7B,KAAK;AACL;AACA;AACA,8BAA8B;;AAE9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP,sDAAsD;AACtD,OAAO;;AAEP;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,uCAAuC;AACvC;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,uBAAuB,6BAA6B;AACpD;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,uBAAuB,oCAAoC;AAC3D;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,sBAAsB,QAAQ;AAC9B,wBAAwB,QAAQ;AAChC;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,sBAAsB,QAAQ;AAC9B,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,sBAAsB,QAAQ;AAC9B,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,qBAAqB,OAAO;AAC5B,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,qBAAqB,+BAA+B;AACpD;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;;AAEA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;;;;AAIA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,0CAA0C;AAC1C;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,iCAAiC;AACjC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA,wCAAwC,YAAY;AACpD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,gBAAgB;AACrC;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,sCAAsC,aAAa;AACnD;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,uCAAuC,aAAa;AACpD;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,kBAAkB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oCAAoC,aAAa;AACjD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,qBAAqB,gBAAgB;AACrC;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,kBAAkB;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,+BAA+B;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,wCAAwC;AACxC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,oBAAoB;AACzC;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,oBAAoB;AACzC;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,uBAAuB,gCAAgC;AACvD;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;;AAEA,yBAAyB,2BAA2B;AACpD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,qBAAqB,WAAW;AAChC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,WAAW;AAC9B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,qBAAqB;AAC1C;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,eAAe;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,QAAQ,kDAAkD;AACxE;AACA;;;AAGA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,cAAc;AACd;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,OAAO;AACrB,+BAA+B;AAC/B;AACA;;;AAGA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;;AAGA;AACA;AACA;AACA;AACA,cAAc;AACd;;;AAGA;AACA;;AAEA,6CAA6C,SAAS;AACtD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA,mBAAmB,mBAAmB;AACtC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,gBAAgB;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,qBAAqB,0BAA0B;AAC/C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,qBAAqB,oBAAoB;AACzC;AACA;;AAEA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,gBAAgB;AACrC;AACA;AACA,SAAS;AACT;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,gBAAgB;AACrC;AACA;;AAEA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,kBAAkB;AACvC;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,cAAc;AACnC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;;AAEA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,qCAAqC;AAC1D;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,gBAAgB;AACrC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;;AAEA,yBAAyB,2BAA2B;AACpD;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;;AAEA,yBAAyB,2BAA2B;AACpD;AACA;AACA;AACA,OAAO;AACP;;AAEA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;;AAEA,yBAAyB,2BAA2B;AACpD;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,cAAc,OAAO;AACrB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,oCAAoC;;AAEpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,+BAA+B,gBAAgB;AAC/C;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,0CAA0C;AAC1C,OAAO;AACP,0CAA0C;AAC1C;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,6CAA6C;AAC7C,OAAO;AACP,6CAA6C;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,qBAAqB,2BAA2B;AAChD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,kBAAkB;AACrC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC;AACtC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,qBAAqB,mBAAmB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,mCAAmC,aAAa;AAChD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,gBAAgB;AACrC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,mBAAmB,gBAAgB;AACnC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA,6GAA6G;;AAE7G;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;;AAEA,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,mEAAmE;AACnE;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,gCAAgC;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,+BAA+B;AACpD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,8FAA8F;AAC9F;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;;;AAIA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA,oCAAoC,aAAa;AACjD;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;;AAEA,2CAA2C,aAAa;AACxD;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,uBAAuB,gBAAgB;AACvC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;;AAEA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA,OAAO;AACP;;AAEA,uBAAuB,8BAA8B;AACrD;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,+BAA+B;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,uCAAuC,aAAa;AACpD;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,wBAAwB;AAC/C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,yBAAyB,SAAS;AAClC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,sCAAsC,aAAa;AACnD;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA,uCAAuC,aAAa;AACpD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA,KAAK;AACL;AACA,qBAAqB,0BAA0B;AAC/C;AACA;;AAEA;AACA,KAAK;AACL;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,0BAA0B;AAC/C;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,qBAAqB,0BAA0B;AAC/C;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,qBAAqB,0BAA0B;AAC/C;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA,mBAAmB,OAAO;AAC1B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wCAAwC,uBAAuB;AAC/D;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA,mBAAmB,kBAAkB;AACrC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,qBAAqB,gCAAgC;AACrD,uBAAuB,+BAA+B;AACtD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;;AAEL,mBAAmB,OAAO;AAC1B,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,uBAAuB,OAAO;AAC9B,yBAAyB,OAAO;AAChC;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;;AAEA,yBAAyB,OAAO;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,uBAAuB,OAAO;AAC9B,yBAAyB,OAAO;AAChC;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,uCAAuC,QAAQ;AAC/C;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,qBAAqB,6BAA6B;AAClD;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,cAAc;AACxE;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,wCAAwC;AACxC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA,uBAAuB,OAAO;AAC9B;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,mCAAmC,aAAa;AAChD;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,iDAAiD;AACjD,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA,2FAA2F;AAC3F;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,+CAA+C,kBAAkB;AACjE;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,+CAA+C,kBAAkB;AACjE;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,qBAAqB,wBAAwB;AAC7C;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,iDAAiD,aAAa;AAC9D;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,0CAA0C,cAAc;AACxD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,qBAAqB,wBAAwB;AAC7C;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA,uCAAuC,kBAAkB;AACzD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,0CAA0C,aAAa;AACvD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,4BAA4B;AACjD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,oCAAoC,cAAc;AAClD;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,qHAAqH;AACrH,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,0CAA0C,aAAa;AACvD;AACA;;AAEA,4CAA4C,gBAAgB;AAC5D;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,qDAAqD,wDAAwD,8CAA8C,wDAAwD,6DAA6D,0DAA0D,gEAAgE;AAC1Y,OAAO;AACP,KAAK;AACL;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;;;AAIA;AACA;AACA,GAAG;;AAEH;AACA;AACA,kCAAkC;AAClC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,wCAAwC,cAAc;AACtD;AACA;;AAEA,uBAAuB,WAAW;AAClC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;;;AAIA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,0CAA0C,aAAa;AACvD;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,kDAAkD;AAClD,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,6CAA6C;AAC7C,6CAA6C;AAC7C;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;AAIA;AACA;AACA,GAAG;;AAEH;AACA;AACA,sCAAsC;AACtC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA,YAAY,wBAAwB;AACpC;AACA;AACA,qGAAqG;AACrG;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;;AAEA,YAAY,wDAAwD;AACpE;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,uCAAuC,aAAa;AACpD;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,4BAA4B;AACnD;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;;AAEA,uBAAuB,4BAA4B;AACnD;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA,0DAA0D,aAAa;AACvE;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA,wDAAwD,aAAa;AACrE;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA,0DAA0D,aAAa;AACvE;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,yDAAyD,aAAa;AACtE;;AAEA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAA0D,aAAa;AACvE;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA,0DAA0D,aAAa;AACvE;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA,oDAAoD,aAAa;AACjE;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gDAAgD;AAChD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,2BAA2B;AAChD;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,qBAAqB,gBAAgB;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,wDAAwD,aAAa;AACrE;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,GAAG;;;;AAIH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA,+FAA+F,wFAAwF;;AAEvL;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;;AAEA,uBAAuB,yBAAyB;AAChD;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf,kCAAkC,OAAO;AACzC;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;;AAEA,qBAAqB,kBAAkB;AACvC;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;;AAEA,qBAAqB,kBAAkB;AACvC;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;;AAEA,qBAAqB,kBAAkB;AACvC;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,kBAAkB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;;AAEA,qBAAqB,kBAAkB;AACvC;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA;;AAEA,qBAAqB,kBAAkB;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;;AAEA,qBAAqB,mCAAmC;AACxD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;;AAEA,qBAAqB,wCAAwC;AAC7D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;;AAEA,qBAAqB,qCAAqC;AAC1D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;;AAEA,qBAAqB,mCAAmC;AACxD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0CAA0C,eAAe;AACzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,6CAA6C,eAAe;AAC5D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,yDAAyD,eAAe;AACxE;AACA;AACA,kBAAkB,aAAa,MAAM,aAAa;AAClD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA,eAAe;AACf;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,GAAG;AAChB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,wBAAwB;AACxB,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,2BAA2B;AAChD;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,wCAAwC;AAC7D;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,qCAAqC;AAC1D;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,2CAA2C;AAChE;AACA;AACA;;AAEA;AACA;AACA,GAAG;;;;AAIH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,sDAAsD,cAAc;AACpE;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA,KAAK;AACL;AACA,qBAAqB,2BAA2B;AAChD;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,wCAAwC,uBAAuB;AAC/D;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wCAAwC,uBAAuB;AAC/D;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,uEAAuE;AACvE,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC;AACnC,SAAS;AACT,mCAAmC;AACnC;AACA,OAAO;AACP;AACA,mCAAmC;AACnC,SAAS;AACT,mCAAmC;AACnC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gDAAgD;AAChD,4BAA4B;AAC5B,+CAA+C;AAC/C,oCAAoC;AACpC,sCAAsC;AACtC,kCAAkC;AAClC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,qEAAqE;AACrE;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA,qBAAqB,6BAA6B;AAClD;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,0CAA0C,aAAa;AACvD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,sDAAsD;AACtD,wDAAwD;AACxD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,wCAAwC,aAAa;AACrD;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA,8CAA8C,aAAa;AAC3D;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,+CAA+C,aAAa;AAC5D;;AAEA;;AAEA,8CAA8C,aAAa;AAC3D;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2CAA2C,aAAa;AACxD;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,uBAAuB,gBAAgB;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,2CAA2C,aAAa;AACxD;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;;AAEA,uBAAuB,gBAAgB;AACvC;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;;;AAIH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,2BAA2B;AAChD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,oCAAoC,aAAa;AACjD;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,2CAA2C,aAAa;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iDAAiD,aAAa;AAC9D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,2CAA2C,aAAa;AACxD;AACA;;AAEA,+DAA+D,gBAAgB;AAC/E;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,qBAAqB,6BAA6B;AAClD;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC;AACjC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,0CAA0C,aAAa;AACvD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,cAAc;AAC/D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,2CAA2C,aAAa;AACxD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,2CAA2C,aAAa;AACxD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA,iDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6CAA6C,aAAa;AAC1D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA,mDAAmD,cAAc;AACjE;AACA;;AAEA,yBAAyB,oBAAoB;AAC7C;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA,8CAA8C,aAAa;AAC3D;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,sBAAsB;AAC3C;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA,gCAAgC,oBAAoB;AACpD;AACA;AACA,OAAO;AACP;AACA;;AAEA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,0CAA0C,aAAa;AACvD;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,cAAc;AACvD;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,yCAAyC,cAAc;AACvD;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,4CAA4C,cAAc;AAC1D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,4CAA4C,cAAc;AAC1D;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,+CAA+C,cAAc;AAC7D;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,wCAAwC,cAAc;AACtD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,4CAA4C,cAAc;AAC1D;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,cAAc;AACvD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA,4CAA4C,cAAc;AAC1D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qDAAqD;AACrD;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,sBAAsB,QAAQ;AAC9B;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,4BAA4B;AACjD;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;;AAEA;AACA,KAAK;AACL,kCAAkC;AAClC;AACA;AACA,uBAAuB,eAAe;AACtC;AACA;AACA,OAAO;AACP,mCAAmC,QAAQ;AAC3C;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,OAAO;AACP;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,4BAA4B,QAAQ;AACpC;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,SAAS;AAChC;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,QAAQ;AAC7B;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B,QAAQ;AAClC;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,4BAA4B,QAAQ;AACpC;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA,uBAAuB,SAAS;AAChC;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA,mBAAmB,iBAAiB;AACpC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gDAAgD,aAAa;AAC7D;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,yBAAyB,oBAAoB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA,2CAA2C,aAAa;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,4BAA4B;AACjD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA,mDAAmD,wDAAwD,8CAA8C,wDAAwD,6DAA6D,0DAA0D,gEAAgE;AACxY,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oCAAoC,cAAc;AAClD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,2BAA2B;AAChD;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,oCAAoC,cAAc;AAClD;AACA;;AAEA,2BAA2B,WAAW;AACtC;AACA;AACA;;AAEA,oCAAoC,cAAc;AAClD;AACA;;AAEA,2BAA2B,WAAW;AACtC;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,qCAAqC;AAC1D;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,mFAAmF;AAClK,0CAA0C;AAC1C;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,oCAAoC,cAAc;AAClD;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,6CAA6C,QAAQ;AACrD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA,gCAAgC,cAAc;AAC9C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,uDAAuD,QAAQ;AAC/D;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,sCAAsC,cAAc;AACpD;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;;AAEA,sCAAsC,cAAc;AACpD;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,oCAAoC,cAAc;AAClD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oCAAoC,cAAc;AAClD;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,oCAAoC,cAAc;AAClD;AACA;AACA;;AAEA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C;;AAEA;AACA;AACA;;AAEA,uBAAuB,gBAAgB;AACvC;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA,uCAAuC,aAAa;AACpD;AACA;AACA,KAAK;AACL;AACA,qBAAqB,wBAAwB;AAC7C;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,wFAAwF;AACxF,gCAAgC;AAChC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA,2CAA2C,aAAa;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,+CAA+C,aAAa;AAC5D;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,8CAA8C,aAAa;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,2EAA2E;AAC3E;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,aAAa;AAC9D;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA,2CAA2C,aAAa;AACxD;AACA;;AAEA,yBAAyB,oBAAoB;AAC7C;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,iDAAiD,aAAa;AAC9D;;AAEA,mDAAmD,aAAa;AAChE;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA,wBAAwB,sBAAsB;AAC9C,0BAA0B,sBAAsB;AAChD;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,iDAAiD,aAAa;AAC9D;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA,KAAK;AACL;AACA,qBAAqB,6BAA6B;AAClD;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,gCAAgC,0CAA0C;AAC1E;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA,uCAAuC,cAAc;AACrD;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA,uBAAuB,iBAAiB;AACxC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,uCAAuC,cAAc;AACrD;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,4DAA4D,iBAAiB;AAC7E;AACA;AACA,WAAW;AACX;AACA;AACA,aAAa;AACb,WAAW;;AAEX;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA,qFAAqF;AACrF,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA,yBAAyB,iBAAiB;AAC1C;;AAEA,2BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,qBAAqB,kBAAkB;AACvC;;AAEA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yBAAyB,uBAAuB;AAChD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA,yBAAyB,uBAAuB;AAChD,2BAA2B,uBAAuB;AAClD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,qBAAqB,oBAAoB;AACzC;;AAEA,uBAAuB,oBAAoB;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,qBAAqB,mBAAmB;AACxC;;AAEA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oDAAoD,aAAa;AACjE;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA,qCAAqC,aAAa;AAClD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,uBAAuB,2BAA2B;AAClD;;AAEA;AACA;;AAEA;AACA,OAAO;AACP;AACA;;AAEA,uBAAuB,2BAA2B;AAClD;;AAEA;AACA;;AAEA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uCAAuC,aAAa;AACpD;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,OAAO;AACP;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,OAAO;AACP;AACA;;AAEA,yCAAyC,aAAa;AACtD;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,aAAa;AAClE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,qDAAqD,aAAa;AAClE;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,iDAAiD,aAAa;AAC9D;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,gDAAgD,aAAa;AAC7D;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA,2CAA2C,aAAa;AACxD;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;;;AAIH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA,kCAAkC,aAAa;AAC/C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,2BAA2B;AAChD;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,cAAc;AAC/E;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,kEAAkE,kBAAkB;AACpF;AACA;AACA;;AAEA,iEAAiE,cAAc;AAC/E;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,yCAAyC,cAAc;AACvD;AACA;;AAEA;AACA,4DAA4D;AAC5D;AACA;AACA,KAAK;AACL;AACA,mDAAmD,cAAc;AACjE;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,kEAAkE,kBAAkB;AACpF;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,qBAAqB,qBAAqB;AAC1C;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,0BAA0B;AAC/C;AACA;;AAEA;AACA,4DAA4D;AAC5D;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,gBAAgB;AACrC;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,oBAAoB;AACzC;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,oBAAoB,QAAQ;AAC5B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX,SAAS;AACT;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,iIAAiI;AACjI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,yDAAyD,cAAc;AACvE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,0DAA0D,kBAAkB;AAC5E;AACA;AACA;AACA,KAAK;AACL;AACA,wCAAwC,cAAc;AACtD;;AAEA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,8CAA8C,cAAc;AAC5D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,0DAA0D,kBAAkB;AAC5E;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,oCAAoC,aAAa;AACjD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA,yDAAyD,aAAa;AACtE;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA,yDAAyD,cAAc;AACvE;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;;AAEA;AACA;;AAEA,yBAAyB,OAAO;AAChC;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,0DAA0D,kBAAkB;AAC5E;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA,sDAAsD,cAAc;AACpE;AACA;;AAEA;AACA,8DAA8D;AAC9D;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,6CAA6C,aAAa;AAC1D;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,yBAAyB;AAC9C;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,yBAAyB;AAC9C;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA,qBAAqB,mBAAmB;AACxC;AACA;AACA,KAAK;AACL,qCAAqC,QAAQ;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,uCAAuC,cAAc;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,2CAA2C,iBAAiB;AAC5D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,6CAA6C,aAAa;AAC1D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA,6CAA6C,aAAa;AAC1D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,wCAAwC,aAAa;AACrD;AACA;AACA;AACA;;AAEA,6CAA6C,iBAAiB;AAC9D;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,4CAA4C,aAAa;AACzD;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6CAA6C,aAAa;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA,qCAAqC,aAAa;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,kCAAkC,aAAa;AAC/C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,kCAAkC,aAAa;AAC/C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC,aAAa;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,8CAA8C,aAAa;AAC3D;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,kCAAkC,QAAQ;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kCAAkC,aAAa;AAC/C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,2CAA2C,aAAa;AACxD;AACA,oDAAoD;AACpD;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,yCAAyC,aAAa;AACtD;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,2CAA2C,aAAa;AACxD;AACA;AACA,gDAAgD;AAChD;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA,sCAAsC,aAAa;AACnD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,sCAAsC,aAAa;AACnD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qCAAqC,aAAa;AAClD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,wCAAwC,aAAa;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;;;AAIA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,2BAA2B,aAAa;AACxC;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,oCAAoC,cAAc;AAClD;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,WAAW;AACX;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,oCAAoC,cAAc;AAClD;AACA;AACA;;AAEA,uFAAuF;;AAEvF,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,aAAa;AAC9C;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,2DAA2D,cAAc;AACzE;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,2CAA2C,cAAc;AACzD;AACA;AACA;AACA,KAAK;AACL;AACA,yDAAyD,aAAa;AACtE;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA,yDAAyD,aAAa;AACtE;AACA;;AAEA,+DAA+D,gBAAgB;AAC/E;;AAEA;;AAEA;AACA,yEAAyE;AACzE;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA,yDAAyD,aAAa;AACtE;AACA;;AAEA,+DAA+D,gBAAgB;AAC/E;;AAEA;;AAEA,uEAAuE;AACvE;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,2CAA2C,cAAc;AACzD;AACA;AACA;;AAEA;AACA,4DAA4D;AAC5D;AACA;AACA,KAAK;AACL;AACA,mDAAmD,cAAc;AACjE;AACA;AACA;;AAEA,2CAA2C,cAAc;AACzD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,qBAAqB,8CAA8C;AACnE;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,OAAO;AAC5B;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,oCAAoC,aAAa;AACjD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,iBAAiB;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,qBAAqB,2BAA2B;AAChD,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,+CAA+C,aAAa;AAC5D;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,wCAAwC;AAC7D;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uCAAuC,aAAa;AACpD;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA,oFAAoF;AACpF;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,+CAA+C,aAAa;AAC5D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,oCAAoC,aAAa;AACjD;AACA,6CAA6C;AAC7C;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,sCAAsC,aAAa;AACnD;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gDAAgD,+CAA+C;AAC/F;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,mDAAmD,cAAc;AACjE;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA,wCAAwC,cAAc;AACtD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,kBAAkB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA,mBAAmB,kBAAkB;AACrC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAiC,aAAa;AAC9C;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,oDAAoD,kBAAkB;AACtE;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,oDAAoD,kBAAkB;AACtE;AACA;;AAEA,+DAA+D,gBAAgB;AAC/E;;AAEA;;AAEA,uEAAuE;AACvE;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,kBAAkB;AAC5E;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,0DAA0D,kBAAkB;AAC5E;;AAEA,gDAAgD,aAAa;AAC7D;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C;;AAEA;;AAEA;;AAEA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,uBAAuB,+BAA+B;AACtD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,4BAA4B;AACjD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,2CAA2C,aAAa;AACxD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qCAAqC,aAAa;AAClD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,4BAA4B;AACjD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA,uBAAuB,4BAA4B;AACnD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,uBAAuB,4BAA4B;AACnD;;AAEA;AACA;AACA;;AAEA,uBAAuB,4BAA4B;AACnD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,uDAAuD,yDAAyD,yDAAyD,yDAAyD,sDAAsD,2DAA2D,iEAAiE;AACpZ;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,qBAAqB,4BAA4B;AACjD;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA,qBAAqB,+BAA+B;AACpD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,qBAAqB,2BAA2B;AAChD;AACA;;AAEA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA,GAAG;;;;AAIH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,wBAAwB;AAC/C;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB,OAAO;AAChC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,OAAO;AAClC;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,sBAAsB;AAC3C;AACA;;AAEA;AACA;;AAEA,qBAAqB,sBAAsB;AAC3C;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA,mBAAmB,iBAAiB;AACpC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA,wCAAwC,aAAa;AACrD;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA,yBAAyB,OAAO;AAChC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,yBAAyB,SAAS;AAClC;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,wCAAwC,aAAa;AACrD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,0CAA0C,aAAa;AACvD;AACA;;AAEA,0CAA0C,aAAa;AACvD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;;;;AAIA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,qFAAqF;AACrF;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,+FAA+F;AAC/F,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,uCAAuC,aAAa;AACpD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,iCAAiC;AACjC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC;AACtC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,8CAA8C,aAAa;AAC3D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA,2CAA2C,cAAc;AACzD;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,8CAA8C,aAAa;AAC3D;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,oCAAoC,aAAa;AACjD;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,0CAA0C,cAAc;AACxD;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,OAAO;AAC5B;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,uCAAuC,aAAa;AACpD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,oDAAoD,aAAa;AACjE;AACA;AACA;;AAEA,iDAAiD,cAAc;AAC/D;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,qCAAqC,aAAa;AAClD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,2CAA2C,aAAa;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,wFAAwF;AACxF;AACA,OAAO;AACP;AACA;AACA;AACA,wFAAwF;AACxF;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA,qCAAqC,aAAa;AAClD;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mCAAmC,aAAa;AAChD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mCAAmC,aAAa;AAChD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC,aAAa;AAClD;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,qBAAqB,mBAAmB;AACxC;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA,oCAAoC,aAAa;AACjD;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA,qBAAqB,mBAAmB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA,mBAAmB,6BAA6B;AAChD;AACA;AACA,gEAAgE;AAChE;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA,GAAG;;;;AAIH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA,iCAAiC;AACjC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA,yDAAyD,cAAc;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAA0D,cAAc;AACxE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC,uBAAuB;AAC5D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;;;AAIH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,yEAAyE,aAAa;AACtF;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gDAAgD,cAAc;;AAE9D,CAAC;AACD;;;;;;;;;;;;AClr9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,eAAe,QAAQ;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA,8CAA8C,EAAE;AAChD;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB,QAAQ;AACxB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,iBAAiB;AACpC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,MAAM;AACzB,mBAAmB,aAAa;AAChC,mBAAmB,QAAQ;AAC3B,mBAAmB,QAAQ;AAC3B,mBAAmB,QAAQ;AAC3B,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,uCAAuC;AAC9D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B,mBAAmB,MAAM;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,MAAM;AACzB,mBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,sBAAsB;;AAE7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,MAAM;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,MAAM;AACzB,mBAAmB,SAAS;AAC5B,mBAAmB,QAAQ;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,MAAM;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,SAAS;AAC5B,mBAAmB,QAAQ;AAC3B,mBAAmB,QAAQ;AAC3B,mBAAmB,QAAQ;AAC3B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,mDAAmD,kBAAkB;;AAErE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA,mBAAmB,MAAM;AACzB,mBAAmB,SAAS;AAC5B,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA,2BAA2B,yBAAyB;AACpD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,uDAAuD;AACvD;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,QAAQ;AACvB,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,QAAQ,KAA6B;AACrC;AACA;;AAEA;AACA,QAAQ,IAA0C;AAClD,QAAQ,mCAAO;AACf;AACA,SAAS;AAAA,oGAAC;AACV;AACA,CAAC;;;;;;;;;;;;;ACjiCY;;AAEb,iBAAiB,mBAAO,CAAC,sDAAQ;;;;;;;;;;;;;ACFjC;AACA;AACA;AACA;AACa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrlEA;AACA;;AAEa;;AAEb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,0BAA0B,EAAE;;;AAGvD;;;;;;;;;;;;;AC7DA;;AAEa;;;AAGb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;;;;;;;AC1DA;AACA;;AAEa;;;AAGb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3Ka;;AAEb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,QAAQ;;AAE1B;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;;AAEA;;AAEA,6CAA6C,YAAY,EAAE;;AAE3D;AACA,8BAA8B,YAAY;AAC1C;AACA;;AAEA;;AAEA;AACA;AACA;AACA,mCAAmC,cAAc;AACjD;AACA,mCAAmC,cAAc;AACjD,2DAA2D,cAAc;AACzE;AACA,+BAA+B,cAAc;AAC7C,mBAAmB,cAAc;AACjC,+BAA+B,cAAc;AAC7C,+BAA+B,cAAc;AAC7C;AACA,qBAAqB,cAAc;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0CAA0C,KAAK,EAAE;AACjD,8CAA8C,IAAI,OAAO,IAAI;AAC7D,eAAe,mBAAO,CAAC,oEAAY;;AAEnC;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,YAAY;;AAEzC;AACA;;AAEA;;AAEA;AACA;AACA;AACA,aAAa;AACb,YAAY;AACZ,YAAY;AACZ,cAAc;AACd;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC5IA;;AAEa;;;AAGb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iCAAiC,WAAW;AAC5C;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtEA;;AAEa;;;AAGb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iCAAiC,WAAW;AAC5C;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC/EA;;AAEa;;;AAGb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iCAAiC,WAAW;AAC5C;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA,YAAY;AACZ,aAAa;AACb;AACA;AACA;;;;;;;;;;;;;ACrCa;;AAEb,sBAAsB,mBAAO,CAAC,sEAAiB;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;;;;;;;ACZa;;AAEb;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACPa;;;AAGb,oBAAoB,mBAAO,CAAC,iFAAkB;AAC9C,oBAAoB,mBAAO,CAAC,sEAAiB;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAmC,cAAc;AACjD;AACA;AACA,+CAA+C,cAAc;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,yBAAyB,OAAO;;AAEhC;AACA;AACA;;AAEA,wBAAwB,OAAO;;AAE/B;AACA,uCAAuC,OAAO;;AAE9C;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,OAAO;AAC7B;;AAEA;AACA;AACA,sBAAsB,OAAO;AAC7B;;AAEA;AACA;;AAEA,sBAAsB,cAAc;;AAE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AS;AACxB;;AAEA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,OAAO;AACpC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,MAAM;AAClB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ;;AAEA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;;AChKa;;AAEb;AACA;AACA;;AAEA,YAAY,mBAAO,CAAC,qEAAgB;AACpC,YAAY,mBAAO,CAAC,uDAAS;;AAE7B;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B;;AAE9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC1Ea;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,SAAS;AACrB,YAAY,OAAO;AACnB,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,YAAY,aAAa;AACzB,YAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;AAGA;AACA;AACA;AACA,YAAY,aAAa;AACzB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;;AChRa;;AAEb;AACA;AACA;;AAEA,sBAAsB,mBAAO,CAAC,qEAAgB;AAC9C,sBAAsB,mBAAO,CAAC,qEAAgB;AAC9C,sBAAsB,mBAAO,CAAC,qEAAgB;AAC9C,sBAAsB,mBAAO,CAAC,qEAAgB;;AAE9C;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;;AC5aA;;AAEa;;;AAGb;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,cAAc;;AAEhC;AACA,oDAAoD,cAAc;;AAElE,gDAAgD,cAAc;;AAE9D;AACA;AACA,eAAe,aAAa;;AAE5B;AACA,2CAA2C,OAAO;;AAElD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,oBAAoB;AACpD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,+CAA+C,OAAO;;AAEtD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,OAAO;;AAE/B;AACA;AACA,2CAA2C,OAAO;AAClD;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;;AAE3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,6BAA6B;AAC7B;AACA,aAAa,sBAAsB;AACnC;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACpIA;;AAEa;;;AAGb;AACA;;AAEA,sDAAsD,cAAc;;AAEpE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;;;;;;;ACnCA;;AAEa;;;AAGb;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,WAAW;;AAEhC;AACA;AACA,yDAAyD,WAAW;;AAEpE;;AAEA;AACA,sBAAsB,WAAW;;AAEjC;AACA,mBAAmB,WAAW;;AAE9B;AACA;;AAEA;AACA;AACA;;AAEA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;;AAEA;AACA;AACA,+BAA+B,cAAc;AAC7C;;AAEA,iDAAiD,cAAc;AAC/D;AACA,yBAAyB,cAAc;;AAEvC,gDAAgD,cAAc;;AAE9D;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;;AAEL,WAAW;AACX;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AAC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AG;;AAEH;AACA;;;;;;;;;;;;;ACzEA;;AAEa;;;AAGb;AACA;AACA;;AAEA,wBAAwB,cAAc;AACtC,6CAA6C,cAAc;;AAE3D;;AAEA,iDAAiD,cAAc;;AAE/D;AACA;;AAEA,mBAAmB,cAAc;;AAEjC;;AAEA,yDAAyD,cAAc;;AAEvE;;AAEA;;AAEA,kBAAkB,cAAc;;AAEhC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;;;;;;;ACtDA;;AAEa;;;AAGb;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,WAAW;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,WAAW;;AAElC;;AAEA,6CAA6C,WAAW;;AAExD,SAAS;AACT;AACA,qBAAqB,WAAW;;AAEhC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA,gDAAgD,cAAc;;AAE9D;AACA;;AAEA;AACA,eAAe,aAAa;;AAE5B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,gCAAgC,uBAAuB;;AAEvD;AACA;AACA,gCAAgC,uBAAuB;;AAEvD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA,8BAA8B,OAAO;;AAErC;AACA;AACA;;AAEA;AACA;AACA;AACA,mDAAmD,OAAO;;AAE1D;AACA;AACA,2CAA2C,OAAO;AAClD;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;;AAE3B;AACA;AACA;AACA,+BAA+B,OAAO;AACtC,KAAK;AACL;AACA,+BAA+B,OAAO;AACtC;;AAEA,sEAAsE,OAAO;AAC7E;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACzQA;;AAEa;;;AAGb;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,UAAU,gDAAgD;AAC1D;AACA;AACA,yDAAyD,UAAU;;AAEnE;AACA;AACA,6CAA6C,OAAO;AACpD;AACA;AACA;AACA;AACA;AACA,sBAAsB,OAAO;AAC7B;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;;;;;;;;;;;;AC1DA;;AAEa;;;AAGb;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,mBAAmB;AACnB,mBAAmB;AACnB,mBAAmB;;AAEnB;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB,sBAAsB;AACtB,0BAA0B;AAC1B,2BAA2B;AAC3B,uBAAuB;;AAEvB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,gDAAgD,WAAW;AAC3D;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,wBAAwB,OAAO;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,wCAAwC;AACxC;;AAEA;AACA;AACA;;AAEA;AACA,8BAA8B,YAAY;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,WAAW;AAC5C,uDAAuD,OAAO;AAC9D;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,WAAW;AAC5C,4CAA4C,OAAO;AACnD;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,YAAY;;AAE/B;AACA,8CAA8C,gBAAgB;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,aAAa,YAAY;AACzB;AACA,yBAAyB,gBAAgB;AACzC,oBAAoB,WAAW;;AAE/B;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;;;;;;;;;;;;;AC7JA;;AAEa;;;AAGb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gCAAgC,cAAc;;AAE9C;;AAEA,iDAAiD,cAAc;;AAE/D;;AAEA;AACA,sCAAsC,cAAc;;AAEpD;AACA,uEAAuE,cAAc;;AAErF;AACA,oCAAoC,cAAc;;AAElD;AACA,kBAAkB,cAAc;AAChC;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,8BAA8B,cAAc;AAC5C;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,qCAAqC,cAAc;AACnD;AACA,sCAAsC,cAAc;AACpD,eAAe,aAAa;;AAE5B;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;AACH,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,uBAAuB,yCAAyC;AAChE;AACA,qBAAqB,yCAAyC;AAC9D,qBAAqB,4CAA4C;;AAEjE;AACA;AACA;AACA;AACA,GAAG;;AAEH,gCAAgC,oBAAoB;AACpD,mDAAmD,OAAO;;AAE1D;AACA,uCAAuC,OAAO;AAC9C;;AAEA,uBAAuB,wCAAwC;AAC/D,eAAe,iBAAiB;AAChC,yBAAyB,0DAA0D;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,yBAAyB,yCAAyC;AAClE;AACA,uBAAuB,yCAAyC;AAChE;AACA,qBAAqB,4CAA4C;AACjE,qBAAqB,4CAA4C;;AAEjE;AACA;AACA;AACA;;;;;;;;;;;;;ACzIA;AACA;;AAEa;;;AAGb,qBAAqB,mBAAO,CAAC,gGAA8B;AAC3D,qBAAqB,mBAAO,CAAC,8FAA6B;;;AAG1D;AACA;;AAEA,0CAA0C,WAAW;AACrD,0CAA0C,WAAW;;AAErD,iCAAiC,WAAW;;AAE5C;AACA;;AAEA,qEAAqE,WAAW;;AAEhF;;AAEA;AACA,0BAA0B,WAAW;AACrC,6CAA6C,OAAO;AACpD;;AAEA;AACA;AACA,2BAA2B,WAAW;AACtC,2BAA2B,wBAAwB;AACnD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oCAAoC,OAAO;AAC3C;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB,OAAO;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrEA;AACA;AACa;;;AAGb;;;AAGA;AACA;AACA;AACA,+BAA+B;AAC/B;;;AAGA;AACA;AACA;;AAEA,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB;AACA;AACA;AACA;;AAEA,qCAAqC,OAAO;AAC5C,2CAA2C,UAAU;AACrD;;AAEA;AACA,+BAA+B,QAAQ;AACvC;AACA,kCAAkC,UAAU;;AAE5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA,0BAA0B,UAAU;;AAEpC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACvFa;;AAEb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,GAAG;AACH;AACA;AACA;;;;;;;;;;;;;AChBa;;;AAGb;AACA;AACA;AACA;AACA;;AAEA,6BAA6B,QAAQ;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,mBAAmB;AACvC;AACA,GAAG;;AAEH,kCAAkC,QAAQ;AAC1C;;AAEA;AACA;AACA;AACA,GAAG;AACH,8BAA8B,OAAO;AACrC;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;AC9Fa;;AAEb;AACA;;AAEA;AACA,gCAAgC,OAAO;AACvC;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACa;;;AAGb,iBAAiB,mBAAO,CAAC,gEAAY;;;AAGrC;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,+BAA+B,QAAQ;;AAEvC,qCAAqC,OAAO;AAC5C,2CAA2C,UAAU;AACrD;;AAEA;;AAEA;AACA;AACA,+BAA+B,QAAQ;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,UAAU;;AAExC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA4B,UAAU;;AAEtC;AACA;AACA;;AAEA,oBAAoB,mBAAmB;;AAEvC,0DAA0D,UAAU;;AAEpE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChKa;;;AAGb,2BAA2B,mBAAO,CAAC,gGAA8B;AACjE,2BAA2B,mBAAO,CAAC,8FAA6B;AAChE,2BAA2B,mBAAO,CAAC,0GAAmC;AACtE,2BAA2B,mBAAO,CAAC,8FAA6B;AAChE,2BAA2B,mBAAO,CAAC,oGAAgC;;;AAGnE;AACA;;AAEA,0CAA0C,WAAW;;AAErD,iCAAiC,WAAW;;AAE5C;AACA;;AAEA,qEAAqE,WAAW;;AAEhF;;AAEA;AACA;AACA,0BAA0B,WAAW;AACrC;AACA,yCAAyC,OAAO;AAChD;;AAEA;AACA;AACA,0CAA0C,WAAW;AACrD;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,WAAW;AAChC;AACA,yCAAyC,OAAO;AAChD;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,sEAAsE,OAAO;AAC7E,wDAAwD,WAAW;;AAEnE;AACA;AACA,6BAA6B;AAC7B;;AAEA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,oCAAoC,OAAO;AAC3C;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB,OAAO;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjGA;AACA;AACa;;AAEb;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,YAAY;;AAEzC;AACA;AACA,GAAG;AACH;;;AAGA;AACA;;AAEA,mCAAmC,QAAQ;;AAE3C,wCAAwC,aAAa;;AAErD,iDAAiD,UAAU;;AAE3D;;AAEA,qCAAqC,QAAQ;AAC7C;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB,GAAG;AAC5B,6BAA6B,GAAG,yBAAyB,GAAG;AAC5D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC/DA;AACA;AACa;;;AAGb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qCAAqC,cAAc;AACnD;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA,mCAAmC,QAAQ;;AAE3C;;AAEA,wCAAwC,aAAa;;AAErD,iDAAiD,UAAU;;AAE3D;AACA;;AAEA,eAAe,mBAAmB;AAClC;;AAEA,oEAAoE,UAAU;;AAE9E;;AAEA,gCAAgC,QAAQ;AACxC,0CAA0C,OAAO;AACjD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;;AAExB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oCAAoC,QAAQ;AAC5C;AACA,6CAA6C,OAAO;AACpD;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChHA;;AAEa;;AAEb,oBAAoB,mBAAO,CAAC,kFAAuB;AACnD,oBAAoB,mBAAO,CAAC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BAA+B;;AAEnE;AACA;AACA,8CAA8C;AAC9C;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;AC7DA;;AAEa;;;AAGb,kBAAkB,mBAAO,CAAC,0EAAmB;;;AAG7C;AACA;AACA,qBAAqB;AACrB;AACA;;;AAGA;AACA;;AAEA,4BAA4B,cAAc;;AAE1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,cAAc;;AAE7B;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;;;;;;;;;;;AChDA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oDAAoD,cAAc;AAClE,eAAe,cAAc,EAAE;AAC/B,yBAAyB,cAAc;AACvC,wDAAwD,cAAc;AACtE,gDAAgD,cAAc;;AAE9D;AACA;;AAEA,iCAAiC,cAAc;AAC/C,iCAAiC,cAAc;AAC/C,+CAA+C,cAAc;;AAE7D;AACA,kEAAkE,OAAO;AACzE;AACA;AACA;AACA,kBAAkB,8CAA8C;AAChE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,yCAAyC;AACzD;AACA,gBAAgB,0CAA0C;AAC1D;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACnFA;;AAEa;;AAEb,2BAA2B,mBAAO,CAAC,8FAA6B;AAChE,2BAA2B,mBAAO,CAAC,0GAAmC;AACtE,2BAA2B,mBAAO,CAAC,8FAA6B;AAChE,2BAA2B,mBAAO,CAAC,oGAAgC;;;AAGnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,+BAA+B,cAAc;AAC7C,gDAAgD,cAAc;;AAE9D;AACA;;AAEA;AACA,qBAAqB,cAAc;;AAEnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU,WAAW;AACrB;AACA,2CAA2C,OAAO;AAClD;AACA,qBAAqB,cAAc;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,UAAU,WAAW;AACrB;AACA,2CAA2C,OAAO;AAClD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,WAAW;AACvB;AACA,6CAA6C,OAAO;AACpD;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,8BAA8B,cAAc;;AAE5C;AACA;AACA,UAAU,WAAW;AACrB;AACA,2CAA2C,OAAO;AAClD;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,kBAAkB,2CAA2C;AAC7D;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACzKA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oDAAoD,cAAc;AAClE,eAAe,cAAc,EAAE;AAC/B,yBAAyB,cAAc;AACvC,wDAAwD,cAAc;AACtE,gDAAgD,cAAc;;AAE9D;AACA;;AAEA,iCAAiC,cAAc;AAC/C,iCAAiC,cAAc;AAC/C,+CAA+C,cAAc;;AAE7D;AACA,kEAAkE,OAAO;AACzE;AACA;AACA;AACA,kBAAkB,8CAA8C;AAChE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,0CAA0C;AAC1D;AACA,gBAAgB,2CAA2C;AAC3D;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACnFA;;AAEa;;AAEb;AACA;;AAEA,mDAAmD,cAAc;;AAEjE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,QAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,2DAA2D,OAAO;;AAElE;AACA;AACA;;;;;;;;;;;;;ACrDA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,mBAAmB,aAAa;AAClD;;AAEA;;AAEA,yBAAyB;AACzB;AACA;;AAEA,qBAAqB;AACrB;;AAEA,wBAAwB;;AAExB,gCAAgC;AAChC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,iCAAiC,UAAU;AAC3C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;AC3EA;;AAEa;;AAEb;AACA,2CAA2C,YAAY,EAAE;;AAEzD;AACA;AACA;AACA;AACA;;AAEA,oDAAoD,cAAc;AAClE,eAAe,cAAc,EAAE;AAC/B,yBAAyB,cAAc;AACvC,gDAAgD,cAAc;;AAE9D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACzDA;;AAEa;;AAEb;AACA,2CAA2C,YAAY,EAAE;;AAEzD;AACA;AACA;AACA;AACA;;AAEA,oDAAoD,cAAc;AAClE,eAAe,cAAc,EAAE;AAC/B,yBAAyB,cAAc;AACvC,gDAAgD,cAAc;;AAE9D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACzDA;AACA;;AAEa;;AAEb;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,0BAA0B,cAAc;;AAExC,gBAAgB,kDAAkD;;AAElE;;AAEA;AACA;;;;;;;;;;;;;ACnDA;AACa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO,UAAU;AAC7B,YAAY,OAAO;AACnB;;AAEA,eAAe,mBAAO,CAAC,0EAAqB;;AAE5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC1DA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,uDAAQ;;AAE9B;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,mBAAmB;AACpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA,mBAAmB,2BAA2B;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,mBAAmB;AACnC;AACA;;AAEA;AACA;;AAEA,iBAAiB,2BAA2B;AAC5C;AACA;;AAEA,QAAQ,uBAAuB;AAC/B;AACA;AACA,GAAG;AACH;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd,kDAAkD,sBAAsB;AACxE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD;;AAEA,6BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;;;;;;;;;;;;;AC1XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,WAAW,EAAE;AACrD,wCAAwC,WAAW,EAAE;;AAErD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,sCAAsC;AACtC,GAAG;AACH;AACA,8DAA8D;AAC9D;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;;;;;;;;;;;;ACxFa;;AAEb,eAAe,mBAAO,CAAC,0EAAgB;AACvC,gBAAgB,mBAAO,CAAC,4EAA0B;AAClD;;;;;;;;;;;;;ACJa;;AAEb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,gBAAgB;AACjC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;ACzCa;;AAEb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;AC9CA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./app/frontend/designer/js/index.js\");\n","module.exports = \"js/webpack/492f40d01cb4aa7e66fbae9f01abda49.png\";","module.exports = \"js/webpack/2545e9daa1296aeaf03c8ea0aaab4afe.png\";","module.exports = \"js/webpack/657c4c890bc69affe796a29f4d9d0dcf.png\";","module.exports = \"js/webpack/485860c000764fd82149fc94aa6673cd.png\";","module.exports = \"js/webpack/2e59ba615169ea5c7506a8094f9e1301.png\";","module.exports = \"js/webpack/03dd73054fb8e850a1d7b3cf989d110e.svg\";","module.exports = \"js/webpack/548ef4f9e994071644291e2fe872748c.svg\";","module.exports = \"js/webpack/d8793b0b2697aeab906405c2133b2077.svg\";","module.exports = \"js/webpack/255ca93908929c739da78f8d94add6bb.svg\";","module.exports = \"js/webpack/ccdfb2c619d129bdfadb0fb4439a9aab.svg\";","\r\nimport View from \"./View\"\r\nimport Toolbar from \"./Toolbar\"\r\nimport Layer from \"./Layer\"\r\nimport FilterPane from \"./FilterPane\"\r\nimport Storage from \"./io/BackendStorage\"\r\nimport SelectionToolPolicy from './policy/SelectionToolPolicy'\r\nimport FileOpen from \"./dialog/FileOpen\"\r\nimport FileSave from \"./dialog/FileSave\"\r\nimport FileSaveAs from \"./dialog/FileSaveAs\"\r\n\r\n/**\r\n *\r\n * The **GraphicalEditor** is responsible for layout and dialog handling.\r\n *\r\n * @author Jupiter Bakakeu\r\n */\r\n\r\nexport default class Application {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {String} canvasId the id of the DOM element to use as paint container\r\n   */\r\n  constructor() {\r\n\r\n    this.documentConfigurationTempl = {\r\n      baseClass: \"draw2d.SetFigure\",\r\n      code: $(\"#shape-edit-template\").text().trim()\r\n    }\r\n\r\n    this.localStorage = []\r\n    try {\r\n      if ('localStorage' in window && window.localStorage !== null) {\r\n        this.localStorage = localStorage\r\n      }\r\n    } catch (e) {\r\n\r\n    }\r\n\r\n    $( \"body\" )\r\n      .delegate( \".mousetrap-pause\", \"focus\", function() {\r\n        Mousetrap.pause();\r\n      })\r\n      .delegate(\".mousetrap-pause\", \"blur\", function (){\r\n        Mousetrap.unpause();\r\n      });\r\n\r\n    // automatic add the configuration to the very first shape\r\n    // in the document as userData\r\n    //\r\n    this.documentConfiguration = $.extend({}, this.documentConfigurationTempl)\r\n\r\n    this.storage = new Storage()\r\n    this.view = new View(this, \"canvas\")\r\n    this.toolbar = new Toolbar(this, \".toolbar\", this.view)\r\n    this.layer = new Layer(this, \"layer_elements\", this.view)\r\n    this.filter = new FilterPane(this, \"#filter .filter_actions\", this.view)\r\n\r\n    this.view.installEditPolicy(new SelectionToolPolicy())\r\n\r\n    // check if the user has added a \"file\" parameter. In this case we load the shape from\r\n    // the draw2d.shape github repository\r\n    //\r\n    let file = this.getParam(\"file\")\r\n    if (file) {\r\n      this._load(file);\r\n    }\r\n    else {\r\n      this.fileNew();\r\n    }\r\n\r\n    // listen on the history object to load files\r\n    //\r\n    window.addEventListener('popstate', (event) => {\r\n      if (event.state && event.state.id === 'editor') {\r\n        // Render new content for the hompage\r\n        this._load(event.state.file);\r\n      }\r\n    });\r\n  }\r\n\r\n  _load(file){\r\n     this.storage.loadFile(file)\r\n      .then((content) => {\r\n        this.view.clear()\r\n        this.view.centerDocument()\r\n        let reader = new draw2d.io.json.Reader()\r\n        reader.unmarshal(this.view, content)\r\n        this.getConfiguration()\r\n        this.storage.fileName = file\r\n        this.view.getCommandStack().markSaveLocation()\r\n        this.view.centerDocument()\r\n        return content\r\n      })\r\n  }\r\n\r\n  getParam(name) {\r\n    name = name.replace(/[\\[]/, \"\\\\\\[\").replace(/[\\]]/, \"\\\\\\]\")\r\n    let regexS = \"[\\\\?&]\" + name + \"=([^&#]*)\"\r\n    let regex = new RegExp(regexS)\r\n    let results = regex.exec(window.location.href)\r\n    // the param isn't part of the normal URL pattern...\r\n    //\r\n    if (results === null) {\r\n      // maybe it is part in the hash.\r\n      //\r\n      regexS = \"[\\\\#]\" + name + \"=([^&#]*)\"\r\n      regex = new RegExp(regexS)\r\n      results = regex.exec(window.location.hash)\r\n      if (results === null) {\r\n        return null\r\n      }\r\n    }\r\n    return results[1]\r\n  }\r\n\r\n  fileNew(shapeTemplate) {\r\n    this.view.clear()\r\n    this.storage.currentFile = null\r\n    this.documentConfiguration = $.extend({}, this.documentConfigurationTempl)\r\n\r\n    if (shapeTemplate) {\r\n      new draw2d.io.json.Reader().unmarshal(this.view, shapeTemplate)\r\n      this.view.getCommandStack().markSaveLocation()\r\n      this.view.centerDocument()\r\n    }\r\n  }\r\n\r\n  fileOpen() {\r\n    new FileOpen().show(this.storage, this.view)\r\n  }\r\n\r\n  fileSave() {\r\n    this.setConfiguration()\r\n    if (this.storage.currentFile === null) {\r\n      new FileSaveAs().show(this.storage,this.view)\r\n    }\r\n    else {\r\n      new FileSave().show(this.storage,this.view)\r\n    }\r\n  }\r\n\r\n\r\n  getConfiguration(key) {\r\n    let figures = this.view.getExtFigures()\r\n    if (figures.getSize() > 0) {\r\n      this.documentConfiguration = $.extend({}, this.documentConfiguration, figures.first().getUserData())\r\n    }\r\n\r\n    if (key) {\r\n      return this.documentConfiguration[key]\r\n    }\r\n    return this.documentConfiguration\r\n  }\r\n\r\n  setConfiguration(conf) {\r\n    this.documentConfiguration = $.extend({}, this.documentConfiguration, conf)\r\n    let figures = this.view.getExtFigures()\r\n    if (figures.getSize() > 0) {\r\n      figures.first().setUserData(this.documentConfiguration)\r\n    }\r\n  }\r\n}\r\n","export default {\r\n  fileSuffix: \".shape\",\r\n  serverless: false,\r\n  backend: {\r\n    file: {\r\n      list: \"/backend/shape/list\",\r\n      get:  file=>`../backend/shape/get?filePath=${file}`,\r\n      save:\"/backend/shape/save\"\r\n    }\r\n  }\r\n}\r\n","export default class FilterPane {\r\n\r\n\r\n  constructor(app, elementId, view) {\r\n    this.DEFAULT_LABEL = \"Properties\"\r\n    this.html = $(elementId)\r\n    this.view = view\r\n    this.currentFigure = null\r\n\r\n    // Register a Selection listener for the state handling\r\n    // of the Delete Button\r\n    //\r\n    view.on(\"select\", this.onSelectionChanged.bind(this))\r\n  }\r\n\r\n  /**\r\n   * @method\r\n   * Called if the selection in the canvas has been changed. You must register this\r\n   * class on the canvas to receive this event.\r\n   *\r\n   * @param {draw2d.Canvas} canvas the emitter of the event. In this case it is the canvas.\r\n   * @param {draw2d.Figure} figure\r\n   */\r\n  onSelectionChanged(canvas, event = {figure: null}) {\r\n    var figure = event.figure\r\n\r\n    this.html.html('')\r\n    $('#add_filter_button').addClass('disabled')\r\n\r\n    if (this.currentFigure !== null && typeof this.currentFigure.isExtFigure !== \"undefined\") {\r\n      this.currentFigure.filters.each((i, filter) => {\r\n        filter.removePane()\r\n      })\r\n    }\r\n    $(\"#add_filter_action_menu\").html(\"\")\r\n\r\n    if (figure !== null && typeof figure.isExtFigure !== \"undefined\") {\r\n      figure.filters.each((i, filter) => {\r\n        filter.insertPane(figure, this.html)\r\n      })\r\n      $('#add_filter_button').removeClass('disabled')\r\n\r\n      $.each(figure.getPotentialFilters(), function (i, e) {\r\n        $(\"#add_filter_action_menu\").append(\"<li><a href='#' data-filter='\" + e.impl + \"' >\" + e.label + \"</a></li>\")\r\n      })\r\n\r\n      var _this = this\r\n      $(\"#add_filter_action_menu a\").on(\"click\", function () {\r\n        var $this = $(this)\r\n        var filterName = $this.data(\"filter\")\r\n        var filter = eval(\"new \" + filterName + \"()\")\r\n        _this.currentFigure.addFilter(filter)\r\n        _this.onSelectionChanged(_this.view, {figure: _this.currentFigure})\r\n      })\r\n    }\r\n\r\n    this.currentFigure = figure\r\n  }\r\n}\r\n","// just a simple mock object for the brainbox\r\n// Hardware binding\r\n//\r\nexport default {\r\n\r\n  raspi: {\r\n    set: function (pin, value) {\r\n    },\r\n    get: function (pin) {\r\n      return false\r\n    },\r\n    on: function(event, callback){\r\n    },\r\n    connected: false\r\n  },\r\n\r\n  arduino: {\r\n    set: function (pin, value) {\r\n    },\r\n    get: function (pin) {\r\n      return false\r\n    },\r\n    on: function(event, callback){\r\n    },\r\n    connected: false\r\n  }\r\n}\r\n","export default draw2d.ui.LabelInplaceEditor.extend({\r\n\r\n    NAME : \"LabelInplaceEditor\",\r\n\r\n    /**\r\n     * @constructor\r\n     *\r\n     */\r\n    init: function(attr, setter, getter)\r\n    {\r\n        this._super({\r\n          onStart: function(){\r\n            Mousetrap.pause()\r\n          },\r\n          onCancel: function(){\r\n            Mousetrap.unpause()\r\n          },\r\n          onCommit: function(){\r\n            Mousetrap.unpause()\r\n          }\r\n        }, setter, getter);\r\n    }\r\n});\r\n","export default class Layer {\r\n\r\n\r\n  constructor(app, elementId, view) {\r\n    this.html = $(\"#\" + elementId)\r\n    this.view = view\r\n\r\n    // register this class as event listener for the canvas\r\n    // CommandStack. This is required to update the state of\r\n    // the Undo/Redo Buttons.\r\n    //\r\n    view.getCommandStack().addEventListener(this)\r\n\r\n    // Register a Selection listener for the state hnadling\r\n    // of the Delete Button\r\n    //\r\n    view.on(\"select\", this.onSelectionChanged.bind(this))\r\n  }\r\n\r\n  /**\r\n   * @method\r\n   * Called if the selection in the cnavas has been changed. You must register this\r\n   * class on the canvas to receive this event.\r\n   *\r\n   * @param {draw2d.Figure} emitter\r\n   */\r\n  onSelectionChanged(emitter, event) {\r\n    this._updateSelection()\r\n  }\r\n\r\n  /**\r\n   * @method\r\n   * Sent when an event occurs on the command stack. draw2d.command.CommandStackEvent.getDetail()\r\n   * can be used to identify the type of event which has occurred.\r\n   *\r\n   * @template\r\n   *\r\n   * @param {draw2d.command.CommandStackEvent} event\r\n   **/\r\n  stackChanged(event) {\r\n    this.html.html('')\r\n    let figures = this.view.getExtFigures()\r\n    figures.each((i, figure) => {\r\n      this.html.append(\r\n        '<div class=\"layerElement '+this.figureToCSS(figure)+'\" data-figure=\"' + figure.id + '\"  data-visibility=\"' + figure.isVisible() + '\" id=\"layerElement_' + figure.id + '\" >' +\r\n        figure.getUserData().name +\r\n        '<span data-figure=\"' + figure.id + '\"  data-toggle=\"tooltip\" title=\"Toggle Visibility of the Layer\"  class=\"layer_visibility pull-right\"><img class=\"icon svg\" src=\"' + (figure.isVisible() ? './images/layer_visible.svg' : './images/layer_hidden.svg') + '\"/></span>' +\r\n        '<span data-figure=\"' + figure.id + '\"  data-toggle=\"tooltip\" title=\"Edit Name of Layer\" class=\"layer_edit pull-right\" ><img class=\"icon svg\" src=\"./images/layer_edit.svg\"/></span>' +\r\n        '</div>')\r\n    }, true)\r\n\r\n    inlineSVG.init()\r\n\r\n    $('*[data-toggle=\"tooltip\"]').tooltip({\r\n      placement: \"bottom\",\r\n      container: \"body\",\r\n      delay: {show: 1000, hide: 100},\r\n      html: true\r\n    })\r\n\r\n    this.html.sortable({\r\n      axis: \"y\",\r\n      update: () => {\r\n        $(\".layerElement\").toArray().reverse().forEach((e) => {\r\n          this.view.getExtFigure($(e).data(\"figure\")).toFront()\r\n        })\r\n      }\r\n    })\r\n\r\n    $(\".layerElement .layer_edit\").on(\"click\", $.proxy(function (event) {\r\n      let figure = this.view.getExtFigure($(event.currentTarget).data(\"figure\"))\r\n      Mousetrap.pause()\r\n      bootbox.prompt({\r\n        title: \"Layer Name\",\r\n        className: \"layer-name-prompt\",\r\n        value: figure.getUserData().name,\r\n        callback: $.proxy(function (result) {\r\n          Mousetrap.unpause()\r\n          if (result !== null) {\r\n            figure.getUserData().name = result\r\n            this.stackChanged(null)\r\n          }\r\n        }, this)\r\n      })\r\n\r\n      // autoselect text for fast edit\r\n      setTimeout(function () {\r\n        $(\".bootbox-input\").focus().select()\r\n      }, 200)\r\n    }, this))\r\n\r\n\r\n    $(\".layerElement .layer_visibility\").on(\"click\", $.proxy(function (event) {\r\n      let figure = this.view.getExtFigure($(event.currentTarget).data(\"figure\"))\r\n      figure.setVisible(!figure.isVisible())\r\n      this.view.setCurrentSelection(null)\r\n      $(event.currentTarget).html('<img class=\"icon svg\" src=\"' + (figure.isVisible() ? './images/layer_visible.svg' : './images/layer_hidden.svg') + '\"/>')\r\n      inlineSVG.init()\r\n\r\n      // set the \"data\" with attr and not with \"data()\". Otherwise the css selector won't work\r\n      //\r\n      $(event.currentTarget).parent().attr({\"data-visibility\": figure.isVisible()})\r\n\r\n      this.ripple(figure)\r\n      return false\r\n    }, this))\r\n\r\n    $(\".layerElement\").on(\"click\", $.proxy(function (event) {\r\n      let figure = this.view.getExtFigure($(event.currentTarget).data(\"figure\"))\r\n      if (figure.isVisible()) {\r\n        this.view.setCurrentSelection(figure)\r\n        this.ripple(figure)\r\n      }\r\n    }, this))\r\n\r\n    this._updateSelection()\r\n  }\r\n\r\n  _updateSelection() {\r\n    $(\".layerElement\").removeClass(\"layerSelectedElement\")\r\n    let selection = this.view.getSelection()\r\n    selection.each(function (i, e) {\r\n      $(\"#layerElement_\" + e.id).addClass(\"layerSelectedElement\")\r\n    })\r\n  }\r\n\r\n  ripple(figure) {\r\n    let rect = figure.getBoundingBox()\r\n    let p = rect.getCenter()\r\n    let circle = this.view.paper.circle(p.x, p.y, Math.max(3, rect.w / 4), Math.max(3, rect.h / 4)).attr({\r\n      fill: null,\r\n      stroke: \"#d0d0ff\"\r\n    })\r\n    let anim = Raphael.animation(\r\n      {\r\n        transform: \"s6\",\r\n        opacity: 0.0,\r\n        \"stroke-width\": 5\r\n      },\r\n      500,\r\n      \"linear\",\r\n      function () {\r\n        circle.remove()\r\n      }\r\n    )\r\n    circle.animate(anim)\r\n  }\r\n\r\n  figureToCSS(figure){\r\n    return figure.NAME.split(\".\").slice(-1)[0]\r\n  }\r\n}\r\n","import RectangleToolPolicy from \"./policy/RectangleToolPolicy\"\r\nimport CircleToolPolicy from \"./policy/CircleToolPolicy\"\r\nimport LineToolPolicy from \"./policy/LineToolPolicy\"\r\nimport TextToolPolicy from \"./policy/TextToolPolicy\"\r\nimport PortToolPolicy from \"./policy/PortToolPolicy\"\r\nimport SelectionToolPolicy from \"./policy/SelectionToolPolicy\"\r\nimport GeoUnionToolPolicy from \"./policy/GeoUnionToolPolicy\"\r\nimport GeoIntersectionToolPolicy from \"./policy/GeoIntersectionToolPolicy\"\r\nimport GeoDifferenceToolPolicy from \"./policy/GeoDifferenceToolPolicy\"\r\n\r\nimport FigureCodeEdit from \"./dialog/FigureCodeEdit\"\r\nimport FigureMarkdownEdit from \"./dialog/FigureMarkdownEdit\"\r\nimport FigureTest from \"./dialog/FigureTest\"\r\nimport conf from \"./Configuration\"\r\n\r\n\r\nexport default class Toolbar {\r\n\r\n  constructor(app, elementId, view) {\r\n    this.html = $(elementId)\r\n    this.view = view\r\n    this.app = app\r\n\r\n    // register this class as event listener for the canvas\r\n    // CommandStack. This is required to update the state of\r\n    // the Undo/Redo Buttons.\r\n    //\r\n    view.getCommandStack().addEventListener(this)\r\n\r\n    // Register a Selection listener for the state handling\r\n    // of the Delete Button\r\n    //\r\n    view.on(\"select\", this.onSelectionChanged.bind(this))\r\n    view.on(\"unselect\", this.onSelectionChanged.bind(this))\r\n\r\n    this.fileName = null\r\n    let buttonGroup = null\r\n\r\n    if (conf.serverless === false) {\r\n      buttonGroup = $(\"<div id='fileOperationGroup' class='group'></div>\")\r\n      this.html.append(buttonGroup)\r\n\r\n      this.openButton = $('<div class=\"image-button\" id=\"fileOpen\" data-toggle=\"tooltip\" title=\"Load File <span class=\\'highlight\\'> [ Ctrl+O ]</span>\" ><img src=\"./images/toolbar_download.svg\"/><div>Open</div></div>')\r\n      buttonGroup.append(this.openButton)\r\n      this.openButton.on(\"click\", () => {\r\n        this.openButton.tooltip(\"hide\")\r\n        app.fileOpen()\r\n      })\r\n      Mousetrap.bindGlobal(\"ctrl+o\", () => {\r\n        this.openButton.click()\r\n        return false\r\n      })\r\n\r\n      this.saveButton = $('<div class=\"image-button\"  id=\"fileSave\" data-toggle=\"tooltip\" title=\"Save File <span class=\\'highlight\\'> [ Ctrl+S ]</span>\"  ><img src=\"./images/toolbar_upload.svg\"/><div>Save</div></div>')\r\n      buttonGroup.append(this.saveButton)\r\n      this.saveButton.on(\"click\", () => {\r\n        this.saveButton.tooltip(\"hide\")\r\n        app.fileSave()\r\n      })\r\n      Mousetrap.bindGlobal(\"ctrl+s\", (event) => {\r\n        this.saveButton.click()\r\n        return false\r\n      })\r\n    }\r\n\r\n\r\n    // Inject the UNDO Button and the callbacks\r\n    //\r\n    buttonGroup = $('<div class=\"group\"></div>')\r\n    this.html.append(buttonGroup)\r\n    this.undoButton = $('<div class=\"image-button\" id=\"editUndo\" data-toggle=\"tooltip\" title=\"Undo <span class=\\'highlight\\'> [ Ctrl+Z ]</span>\"  ><img class=\"icon disabled\"  src=\"./images/toolbar_undo.svg\"/><div>Undo</div></div>')\r\n    buttonGroup.append(this.undoButton)\r\n    this.html .delegate(\"#editUndo:not(.disabled)\", \"click\", () => {\r\n      this.view.getCommandStack().undo()\r\n    })\r\n    Mousetrap.bindGlobal(\"ctrl+z\", () => {\r\n      this.undoButton.click()\r\n      return false\r\n    })\r\n\r\n\r\n    // Inject the REDO Button and the callback\r\n    //\r\n    this.redoButton = $('<div class=\"image-button\" id=\"editRedo\" data-toggle=\"tooltip\" title=\"Redo <span class=\\'highlight\\'> [ Ctrl+Y ]</span>\"  ><img  class=\"icon disabled\" src=\"./images/toolbar_redo.svg\"/><div>Redo</div></div>')\r\n    buttonGroup.append(this.redoButton)\r\n    this.html .delegate(\"#editRedo:not(.disabled)\", \"click\", () => {\r\n      this.view.getCommandStack().redo()\r\n    })\r\n    Mousetrap.bindGlobal(\"ctrl+y\", () => {\r\n      this.redoButton.click()\r\n      return false\r\n    })\r\n\r\n    // Inject the DELETE Button\r\n    //\r\n    this.deleteButton = $('<div class=\"image-button\" id=\"editDelete\" data-toggle=\"tooltip\" title=\"Delete <span class=\\'highlight\\'> [ Del ]</span>\"  ><img class=\"icon disabled\" src=\"./images/toolbar_delete.svg\"/><div>Delete</div></div>')\r\n    buttonGroup.append(this.deleteButton)\r\n    this.html .delegate(\"#editDelete:not(.disabled)\", \"click\", function () {\r\n      view.getCommandStack().startTransaction(draw2d.Configuration.i18n.command.deleteShape)\r\n      view.getSelection().each(function (index, figure) {\r\n        let cmd = figure.createCommand(new draw2d.command.CommandType(draw2d.command.CommandType.DELETE))\r\n        if (cmd !== null) {\r\n          view.getCommandStack().execute(cmd)\r\n        }\r\n      })\r\n      // execute all single commands at once.\r\n      view.getCommandStack().commitTransaction()\r\n    })\r\n    Mousetrap.bindGlobal([\"del\", \"backspace\"], () => {\r\n      this.deleteButton.click()\r\n      return false\r\n    })\r\n\r\n\r\n    buttonGroup = $('<div class=\"group\"></div>')\r\n    this.html.append(buttonGroup)\r\n\r\n    this.selectButton = $('<div class=\"image-button\" id=\"editSelect\" data-toggle=\"tooltip\" title=\"Select mode <span class=\\'highlight\\'> [ spacebar ]</span>\" ><img src=\"./images/toolbar_select.svg\"/><div>Select</div></div>')\r\n    buttonGroup.append(this.selectButton)\r\n    this.selectButton.on(\"click\", () => {\r\n      this.view.installEditPolicy(new SelectionToolPolicy())\r\n    })\r\n    Mousetrap.bindGlobal(\"space\", () => {\r\n      this.selectButton.click()\r\n      return false\r\n    })\r\n\r\n    this.shapeButton = $(\r\n      '<label id=\"tool_shape\" class=\"dropdown\" >' +\r\n      '    <div class=\"image-button\" data-toggle=\"dropdown\"  id=\"tool_shape_image\" ><img  src=\"./images/toolbar_insert.svg\"><div>Add</div></div>' +\r\n      '    <ul class=\"dropdown-menu\" role=\"menu\" >' +\r\n      '       <li class=\"tool_shape_entry policyRectangleToolPolicy\" ><a href=\"#\"><img  src=\"./images/toolbar_rectangle.svg\"><span class=\"tool_label\">Rectangle</span><span class=\"tool_shortcut\">R</span></a></li>' +\r\n      '       <li class=\"tool_shape_entry policyCircleToolPolicy\"    ><a href=\"#\"><img  src=\"./images/toolbar_circle.svg\"><span class=\"tool_label\">Circle</span><span class=\"tool_shortcut\">C</span></a></li>' +\r\n      '       <li class=\"tool_shape_entry policyLineToolPolicy\"      ><a href=\"#\"><img  src=\"./images/toolbar_line.svg\"><span class=\"tool_label\">Line</span><span class=\"tool_shortcut\">L</span></a></li>' +\r\n      '       <li class=\"tool_shape_entry policyTextToolPolicy\"      ><a href=\"#\"><img  src=\"./images/toolbar_text.svg\"><span class=\"tool_label\">Text</span><span class=\"tool_shortcut\">T</span></a></li>' +\r\n      '       <li class=\"tool_shape_entry policyPortToolPolicy\"      ><a href=\"#\"><img  src=\"./images/toolbar_rectangle.svg\"><span class=\"tool_label\">Port</span><span class=\"tool_shortcut\">P</span></a></li>' +\r\n      '    </ul>' +\r\n      '</label>'\r\n    )\r\n    buttonGroup.append(this.shapeButton)\r\n\r\n    $(\".policyRectangleToolPolicy\").on(\"click\", () => {\r\n      let p = new RectangleToolPolicy()\r\n      p.executed = () => {\r\n        this.selectButton.click()\r\n      }\r\n      this.view.installEditPolicy(p)\r\n    })\r\n    $(\".policyCircleToolPolicy\").on(\"click\", () => {\r\n      let p = new CircleToolPolicy()\r\n      p.executed = () => {\r\n        this.selectButton.click()\r\n      }\r\n      this.view.installEditPolicy(p)\r\n    })\r\n    $(\".policyLineToolPolicy\").on(\"click\", () => {\r\n      let p = new LineToolPolicy()\r\n      p.executed = () => {\r\n        this.selectButton.click()\r\n      }\r\n      this.view.installEditPolicy(p)\r\n    })\r\n    $(\".policyTextToolPolicy\").on(\"click\", () => {\r\n      let p = new TextToolPolicy()\r\n      p.executed = () => {\r\n        this.selectButton.click()\r\n      }\r\n      this.view.installEditPolicy(p)\r\n    })\r\n    $(\".policyPortToolPolicy\").on(\"click\", () => {\r\n      let p = new PortToolPolicy()\r\n      p.executed = () => {\r\n        this.selectButton.click()\r\n      }\r\n      this.view.installEditPolicy(p)\r\n    })\r\n\r\n    Mousetrap.bindGlobal([\"R\", \"r\"], () => {\r\n      $('.policyRectangleToolPolicy').click()\r\n      return false\r\n    })\r\n    Mousetrap.bindGlobal([\"C\", \"c\"], () => {\r\n      $('.policyCircleToolPolicy').click()\r\n      return false\r\n    })\r\n    Mousetrap.bindGlobal([\"T\", \"t\"], () => {\r\n      $('.policyTextToolPolicy').click()\r\n      return false\r\n    })\r\n    Mousetrap.bindGlobal([\"P\", \"p\"], () => {\r\n      $('.policyPortToolPolicy').click()\r\n      return false\r\n    })\r\n    Mousetrap.bindGlobal([\"L\", \"l\"], () => {\r\n      $('.policyLineToolPolicy').click()\r\n      return false\r\n    })\r\n\r\n    this.unionButton = $('<div class=\"image-button disabled\" id=\"toolUnion\" data-toggle=\"tooltip\" title=\"Polygon Union <span class=\\'highlight\\'> [ U ]</span>\" ><img src=\"./images/toolbar_geo_union.svg\"/><div>Union</div></div>')\r\n    buttonGroup.append(this.unionButton)\r\n    this.html.delegate(\"#toolUnion:not(.disabled)\", \"click\", () => {\r\n      let selection = this.view.getSelection().getAll()\r\n      let p = new GeoUnionToolPolicy()\r\n      p.executed = () => {\r\n        this.selectButton.click()\r\n      }\r\n      this.view.installEditPolicy(p)\r\n      p.execute(this.view, selection)\r\n    })\r\n    Mousetrap.bindGlobal([\"U\", \"u\"], () => {\r\n      this.unionButton.click()\r\n      return false\r\n    })\r\n\r\n    this.differenceButton = $('<div class=\"image-button disabled\" id=\"toolDifference\" data-toggle=\"tooltip\"  title=\"Polygon Difference <span class=\\'highlight\\'> [ D ]</span>\" ><img src=\"./images/toolbar_geo_subtract.svg\"/><div>Subtract</div></div>')\r\n    buttonGroup.append(this.differenceButton)\r\n    this.html.delegate(\"#toolDifference:not(.disabled)\", \"click\", () => {\r\n      this.view.installEditPolicy(new GeoDifferenceToolPolicy())\r\n    })\r\n    Mousetrap.bindGlobal([\"D\", \"d\"], () => {\r\n      this.differenceButton.click()\r\n      return false\r\n    })\r\n\r\n    this.intersectionButton = $('<div class=\"image-button disabled\" id=\"toolIntersection\" data-toggle=\"tooltip\" title=\"Polygon Intersection <span class=\\'highlight\\'> [ I ]</span>\" ><img src=\"./images/toolbar_geo_intersect.svg\"/><div>Intersect</div></div>')\r\n    buttonGroup.append(this.intersectionButton)\r\n    this.html.delegate(\"#toolIntersection:not(.disabled)\", \"click\", () => {\r\n      this.view.installEditPolicy(new GeoIntersectionToolPolicy())\r\n    })\r\n    Mousetrap.bindGlobal([\"I\", \"i\"], () => {\r\n      this.intersectionButton.click()\r\n      return false\r\n    })\r\n\r\n\r\n    buttonGroup = $('<div class=\"group\" style=\"float:right\"></div>')\r\n    this.html.append(buttonGroup)\r\n    this.testButton = $('<div class=\"image-button\" data-toggle=\"tooltip\" title=\"Test your shape\"><img src=\"./images/toolbar_element_test.svg\"/><div>Test</div></div>')\r\n    buttonGroup.append(this.testButton)\r\n    this.testButton.on(\"click\", () => {\r\n      // if any error happens during the shape code create/execute -> goto the the JS editor\r\n      try {\r\n        new FigureTest().show()\r\n      }\r\n      catch (exc) {\r\n        console.log(exc)\r\n        new FigureCodeEdit().show()\r\n      }\r\n    })\r\n\r\n    this.codeButton = $('<div class=\"image-button\" data-toggle=\"tooltip\" title=\"Edit JavaScript code</span>\"><img src=\"./images/toolbar_element_js.svg\"/><div>Code</div></div>')\r\n    buttonGroup.append(this.codeButton)\r\n    this.codeButton.on(\"click\", () => {\r\n      new FigureCodeEdit().show()\r\n    })\r\n\r\n    this.markdownButton = $('<div class=\"image-button\" data-toggle=\"tooltip\" title=\"Write documentation for your shape</span>\"><img src=\"./images/toolbar_element_doc.svg\"/><div>Doku</div></div>')\r\n    buttonGroup.append(this.markdownButton)\r\n    this.markdownButton.on(\"click\", () => {\r\n      new FigureMarkdownEdit().show()\r\n    })\r\n\r\n    // enable the tooltip for all buttons\r\n    //\r\n    $('*[data-toggle=\"tooltip\"]').tooltip({\r\n      placement: \"bottom\",\r\n      container: \"body\",\r\n      delay: {show: 1000, hide: 10},\r\n      html: true\r\n    })\r\n  }\r\n\r\n\r\n  /**\r\n   * @method\r\n   * Called if the selection in the cnavas has been changed. You must register this\r\n   * class on the canvas to receive this event.\r\n   *\r\n   * @param {draw2d.Figure} figure\r\n   */\r\n  onSelectionChanged(emitter, event) {\r\n    if (event.figure === null) {\r\n      $(\"#editDelete\").addClass(\"disabled\")\r\n    }\r\n    else {\r\n      $(\"#editDelete\").removeClass(\"disabled\")\r\n    }\r\n\r\n    // available in BoundBox selection event\r\n    if (event.selection) {\r\n      if (event.selection.getSize() >= 2) {\r\n        $(\"#toolUnion\").removeClass(\"disabled\")\r\n        $(\"#toolDifference\").removeClass(\"disabled\")\r\n        $(\"#toolIntersection\").removeClass(\"disabled\")\r\n      }\r\n      else {\r\n        $(\"#toolUnion\").addClass(\"disabled\")\r\n        $(\"#toolDifference\").addClass(\"disabled\")\r\n        $(\"#toolIntersection\").addClass(\"disabled\")\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @method\r\n   * Sent when an event occurs on the command stack. draw2d.command.CommandStackEvent.getDetail()\r\n   * can be used to identify the type of event which has occurred.\r\n   *\r\n   * @template\r\n   *\r\n   * @param {draw2d.command.CommandStackEvent} event\r\n   **/\r\n  stackChanged(event) {\r\n    $(\"#editUndo\").addClass(\"disabled\")\r\n    $(\"#editRedo\").addClass(\"disabled\")\r\n\r\n    if (event.getStack().canUndo()) {\r\n      $(\"#editUndo\").removeClass(\"disabled\")\r\n    }\r\n\r\n    if (event.getStack().canRedo()) {\r\n      $(\"#editRedo\").removeClass(\"disabled\")\r\n    }\r\n  }\r\n}\r\n","\r\nexport default draw2d.Canvas.extend({\r\n\r\n  init: function (app, id) {\r\n    this._super(id, 16000, 16000)\r\n    this.clippboardFigure = null\r\n    this.app = app\r\n    this.grid = new draw2d.policy.canvas.ShowGridEditPolicy(20)\r\n\r\n    this.setScrollArea(\"#\" + id)\r\n\r\n    this.installEditPolicy(this.grid)\r\n    this.installEditPolicy(new draw2d.policy.canvas.FadeoutDecorationPolicy())\r\n    this.installEditPolicy(new draw2d.policy.canvas.SnapToGeometryEditPolicy())\r\n    this.installEditPolicy(new draw2d.policy.canvas.SnapToCenterEditPolicy())\r\n    this.installEditPolicy(new draw2d.policy.canvas.SnapToInBetweenEditPolicy())\r\n\r\n    Mousetrap.bindGlobal(['left'], () => {\r\n      let diff = this.getZoom() < 0.5 ? 0.5 : 1\r\n      this.getSelection().each((i, f) => {\r\n        f.translate(-diff, 0)\r\n      })\r\n      return false\r\n    })\r\n    Mousetrap.bindGlobal(['up'], () => {\r\n      let diff = this.getZoom() < 0.5 ? 0.5 : 1\r\n      this.getSelection().each((i, f) => {\r\n        f.translate(0, -diff)\r\n      })\r\n      return false\r\n    })\r\n    Mousetrap.bindGlobal(['right'], () => {\r\n      let diff = this.getZoom() < 0.5 ? 0.5 : 1\r\n      this.getSelection().each((i, f) => {\r\n        f.translate(diff, 0)\r\n      })\r\n      return false\r\n    })\r\n    Mousetrap.bindGlobal(['down'], () => {\r\n      let diff = this.getZoom() < 0.5 ? 0.5 : 1\r\n      this.getSelection().each((i, f) => {\r\n        f.translate(0, diff)\r\n      })\r\n      return false\r\n    })\r\n\r\n    Mousetrap.bindGlobal(['ctrl+c', 'command+c'], () => {\r\n      let primarySelection = this.getSelection().getPrimary()\r\n      if (primarySelection !== null) {\r\n        this.clippboardFigure = primarySelection.clone()\r\n        this.clippboardFigure.translate(5, 5)\r\n      }\r\n      return false\r\n    })\r\n\r\n    Mousetrap.bindGlobal(['ctrl+v', 'command+v'], () => {\r\n      if (this.clippboardFigure !== null) {\r\n        let cloneToAdd = this.clippboardFigure.clone()\r\n        let command = new draw2d.command.CommandAdd(this, cloneToAdd, cloneToAdd.getPosition())\r\n        this.getCommandStack().execute(command)\r\n        this.setCurrentSelection(cloneToAdd)\r\n      }\r\n      return false\r\n    })\r\n\r\n    let zoom = new draw2d.policy.canvas.WheelZoomPolicy()\r\n    this.installEditPolicy(zoom)\r\n\r\n    let setZoom = (newZoom) => {\r\n      let bb = this.getBoundingBox().getCenter()\r\n      let c = $(\"#canvas\")\r\n      this.setZoom(newZoom)\r\n      c.scrollTop((bb.y / newZoom - c.height() / 2))\r\n      c.scrollLeft((bb.x / newZoom - c.width() / 2))\r\n    }\r\n\r\n    // Inject the ZoomIn Button and the callbacks\r\n    //\r\n    $(\"#canvas_zoom_in\").on(\"click\", () => {\r\n      setZoom(this.getZoom() * 1.2)\r\n    })\r\n\r\n    // Inject the OneToOne Button\r\n    //\r\n    $(\"#canvas_zoom_normal\").on(\"click\", () => {\r\n      setZoom(1.0)\r\n    })\r\n\r\n    // Inject the ZoomOut Button and the callback\r\n    //\r\n    $(\"#canvas_zoom_out\").on(\"click\", () => {\r\n      setZoom(this.getZoom() * 0.8)\r\n    })\r\n\r\n    $('#canvas_config_grid').on('change', () => {\r\n      if ($('#canvas_config_grid').prop('checked')) {\r\n        this.installEditPolicy(this.grid)\r\n      }\r\n      else {\r\n        this.uninstallEditPolicy(this.grid)\r\n      }\r\n    })\r\n\r\n    $(\"#canvas_config_items\").on(\"click\", (e) => {\r\n      e.stopPropagation()\r\n    })\r\n\r\n    this.reset()\r\n  },\r\n\r\n  setCursor: function (cursor) {\r\n    if (cursor !== null) {\r\n      this.html.css(\"cursor\", \"url(\" + cursor + \") 0 0, default\")\r\n    }\r\n    else {\r\n      this.html.css(\"cursor\", \"default\")\r\n    }\r\n  },\r\n\r\n\r\n  /**\r\n   * @method\r\n   * Reset the view/canvas and starts with a clean and new document with default decorations\r\n   *\r\n   *\r\n   */\r\n  reset: function () {\r\n    this.clear()\r\n  },\r\n\r\n  setZoom: function (newZoom) {\r\n    $(\"#canvas_zoom_normal\").text((parseInt((1.0 / newZoom) * 100)) + \"%\")\r\n    this._super(newZoom)\r\n  },\r\n\r\n\r\n  getExtFigure: function (id) {\r\n    let figure = null\r\n    this.getExtFigures().each((i, e) => {\r\n      if (e.id === id) {\r\n        figure = e\r\n        return false\r\n      }\r\n    })\r\n    return figure\r\n  },\r\n\r\n  getExtFigures: function () {\r\n    let figures = this.getFigures().clone()\r\n\r\n    // the export rectangles are not part of the document itself. In this case we\r\n    // filter them out\r\n    //\r\n    figures.grep((figure) => {\r\n      return (typeof figure.isExtFigure !== \"undefined\")\r\n    })\r\n\r\n    let lines = this.getLines().clone()\r\n    lines.grep((line) => {\r\n      return (typeof line.isExtFigure !== \"undefined\")\r\n    })\r\n\r\n    figures.addAll(lines)\r\n\r\n    return figures\r\n  },\r\n\r\n\r\n  getBoundingBox: function () {\r\n    let xCoords = []\r\n    let yCoords = []\r\n    this.getExtFigures().each((i, f) => {\r\n      if (f instanceof shape_designer.figure.ExtPort) {\r\n        return\r\n      }\r\n      let b = f.getBoundingBox()\r\n      xCoords.push(b.x, b.x + b.w)\r\n      yCoords.push(b.y, b.y + b.h)\r\n    })\r\n    let minX = Math.min(...xCoords)\r\n    let minY = Math.min(...yCoords)\r\n    let width = Math.max(10, Math.max(...xCoords) - minX)\r\n    let height = Math.max(10, Math.max(...yCoords) - minY)\r\n\r\n    return new draw2d.geo.Rectangle(minX, minY, width, height)\r\n  },\r\n\r\n  hideDecoration: function () {\r\n    this.uninstallEditPolicy(this.grid)\r\n    this.getFigures().each((index, figure) => {\r\n      figure.unselect()\r\n    })\r\n  },\r\n\r\n  showDecoration: function () {\r\n    this.installEditPolicy(this.grid)\r\n  },\r\n\r\n  /**\r\n   * @method\r\n   * Return the width of the canvas\r\n   *\r\n   * @return {Number}\r\n   **/\r\n  getWidth: function () {\r\n    return this.html.find(\"svg\").width()\r\n  },\r\n\r\n\r\n  /**\r\n   * @method\r\n   * Return the height of the canvas.\r\n   *\r\n   * @return {Number}\r\n   **/\r\n  getHeight: function () {\r\n    return this.html.find(\"svg\").height()\r\n  },\r\n\r\n  centerView: function(){\r\n    let bb = this.getBoundingBox().getCenter()\r\n    let c = $(\"#canvas\")\r\n    c.scrollTop((bb.y / this.getZoom() - c.height() / 2))\r\n    c.scrollLeft((bb.x /this.getZoom() - c.width() / 2))\r\n  },\r\n\r\n  centerDocument: function () {\r\n    this.setZoom(1.0)\r\n    // get the bounding box of the document and translate the complete document\r\n    // into the center of the canvas. Scroll to the top left corner after them\r\n    //\r\n    let bb = this.getBoundingBox()\r\n\r\n    let dx = (this.getWidth() / 2) - (bb.x + bb.w / 2)\r\n    let dy = (this.getHeight() / 2) - (bb.y + bb.h / 2)\r\n\r\n    this.getFigures().each((i, f) => {\r\n      f.translate(dx, dy)\r\n    })\r\n    this.getLines().each((i, f) => {\r\n      f.translate(dx, dy)\r\n    })\r\n    this.centerView()\r\n  }\r\n\r\n})\r\n\r\n","import FigureTest from \"./FigureTest\"\r\n\r\nexport default class FigureCodeEdit {\r\n  constructor() {\r\n  }\r\n\r\n  show() {\r\n    Mousetrap.pause()\r\n    let code = shape_designer.app.getConfiguration(\"code\")\r\n    let splash = $(\r\n      '<pre id=\"code_overlay\">' +\r\n      code +\r\n      '</pre>' +\r\n      '<img title=\"Run\"   id=\"test_run\"   class=\"icon\" src=\"./images/dialog_run.svg\"/>' +\r\n      '<img title=\"Close\" id=\"code_close\" class=\"icon\" src=\"./images/dialog_close.svg\"/>'\r\n    )\r\n    splash.hide()\r\n    $(\"body\").append(splash)\r\n    splash.fadeIn()\r\n\r\n    let before = function (obj, method, wrapper) {\r\n      let orig = obj[method]\r\n      obj[method] = function () {\r\n        let args = Array.prototype.slice.call(arguments)\r\n        return wrapper.call(this, function () {\r\n          return orig.apply(obj, args)\r\n        }, args)\r\n      }\r\n\r\n      return obj[method]\r\n    }\r\n\r\n    let intersects = function (range) {\r\n      return editor.getSelectionRange().intersects(range)\r\n    }\r\n\r\n    let preventReadonly = function (next, args) {\r\n      if (intersects(range)) return\r\n      next()\r\n    }\r\n\r\n    let lines = code.split(\"\\n\")\r\n    let last = lines.length - 1\r\n    let first = lines.findIndex(function (element, index, array) {\r\n      return element.startsWith(\"testShape\")\r\n    })\r\n\r\n    let editor = ace.edit(\"code_overlay\"),\r\n      session = editor.getSession(),\r\n      Range = ace.require(\"ace/range\").Range,\r\n      range = new Range(0, 0, first, lines[first].length),\r\n      range2 = new Range(last, 0, last, lines[last].length)\r\n\r\n    session.addMarker(range, \"readonly-highlight\")\r\n    session.addMarker(range2, \"readonly-highlight\")\r\n    session.setMode(\"ace/mode/javascript\")\r\n    session.setUseWrapMode(true)\r\n    editor.moveCursorTo(first + 1, 0)\r\n    editor.focus()\r\n\r\n    editor.keyBinding.addKeyboardHandler({\r\n      handleKeyboard: function (data, hash, keyString, keyCode, event) {\r\n        if (hash === -1 || (keyCode <= 40 && keyCode >= 37)) return false\r\n\r\n        if (intersects(range) || intersects(range2)) {\r\n          return {command: \"null\", passEvent: false}\r\n        }\r\n      }\r\n    })\r\n\r\n    before(editor, 'onPaste', preventReadonly)\r\n    before(editor, 'onCut', preventReadonly)\r\n\r\n    range.start = session.doc.createAnchor(range.start)\r\n    range.end = session.doc.createAnchor(range.end)\r\n    range.end.$insertRight = true\r\n\r\n    range2.start = session.doc.createAnchor(range2.start)\r\n    range2.end = session.doc.createAnchor(range2.end)\r\n    range2.end.$insertRight = true\r\n\r\n    $(\"#code_close\").on(\"click\", function () {\r\n      let code = editor.getValue()\r\n      shape_designer.app.setConfiguration({code: code})\r\n      Mousetrap.unpause()\r\n      splash.fadeOut(function () {\r\n        splash.remove()\r\n      })\r\n    })\r\n\r\n    $(\"#test_run\").on(\"click\", function () {\r\n      let code = editor.getValue()\r\n      shape_designer.app.setConfiguration({code: code})\r\n      new FigureTest().show()\r\n    })\r\n  }\r\n}\r\n","import Remarkable from \"remarkable\"\r\n\r\nexport default class FigureMarkdownEdit {\r\n\r\n  constructor() {\r\n    this.mdHtml = null\r\n    this.scrollMap = null\r\n\r\n    this.lineHeight = 1.45\r\n    this.defaults = {\r\n      html: true,               // Enable HTML tags in source\r\n      xhtmlOut: false,          // Use '/' to close single tags (<br />)\r\n      breaks: false,            // Convert '\\n' in paragraphs into <br>\r\n      langPrefix: 'language-',  // CSS language prefix for fenced blocks\r\n      linkify: true,            // autoconvert URL-like texts to links\r\n      linkTarget: '_blank',     // set target to open link in\r\n      typographer: true         // Enable smartypants and other sweet transforms\r\n    }\r\n  }\r\n\r\n  /**\r\n   */\r\n  show() {\r\n    Mousetrap.pause()\r\n    var _this = this\r\n    this.mdHtml = new Remarkable('full', this.defaults)\r\n\r\n    var markdown = shape_designer.app.getConfiguration(\"markdown\")\r\n    markdown = markdown ? markdown : \"# Header \\n## Subheader \\nbe nice and write a help file for your new \\ncreated ***DigitalTrainingStudion*** shape. \\n\\n  - point 1\\n  - point 2\\n  - point 3\"\r\n    var splash = $(\r\n      '<div id=\"FigureMarkdownEdit\" class=\"overlay-scale\">' +\r\n      '<pre class=\"source full-height\">' +\r\n      markdown +\r\n      '</pre>' +\r\n      '<div class=\"preview full-height\" >' +\r\n      '' +\r\n      '</div>' +\r\n      ' <div class=\"header\">' +\r\n      '<span class=\"left\">Documentation Editor (<a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/Markdown\">markdown syntax </a>)</span>' +\r\n      '<span class=\"right\">HTML Preview</span></div>' +\r\n      ' <img title=\"Close\" id=\"test_close\" class=\"icon\" src=\"./images/dialog_close.svg\"/>' +\r\n      '<div>')\r\n\r\n    // fadeTo MUSS leider sein. Man kann mit raphael keine paper.text elemente einfgen\r\n    // wenn das canvas nicht sichtbar ist. In diesen Fall mach ich das Canvas \"leicht\" sichtbar und raphael ist\r\n    // zufrieden.\r\n    $(\"body\").append(splash)\r\n\r\n    var removeDialog = function () {\r\n      Mousetrap.unpause()\r\n      shape_designer.app.setConfiguration({markdown: _this.editor.getValue()})\r\n      splash.removeClass(\"open\")\r\n      setTimeout(function () {\r\n        splash.remove()\r\n      }, 400)\r\n    }\r\n\r\n    $(\"#test_close\").on(\"click\", removeDialog)\r\n    setTimeout(function () {\r\n      splash.addClass(\"open\")\r\n    }, 100)\r\n\r\n\r\n    // Inject line numbers for sync scroll.\r\n    //\r\n    this.mdHtml.renderer.rules.paragraph_open = function (tokens, idx) {\r\n      var line\r\n      if (tokens[idx].lines && tokens[idx].level === 0) {\r\n        line = tokens[idx].lines[0]\r\n        return '<p class=\"line\" data-line=\"' + line + '\">'\r\n      }\r\n      return '<p>'\r\n    }\r\n\r\n    this.mdHtml.renderer.rules.heading_open = function (tokens, idx) {\r\n      var line\r\n      if (tokens[idx].lines && tokens[idx].level === 0) {\r\n        line = tokens[idx].lines[0]\r\n        return '<h' + tokens[idx].hLevel + ' class=\"line\" data-line=\"' + line + '\">'\r\n      }\r\n      return '<h' + tokens[idx].hLevel + '>'\r\n    }\r\n\r\n    this.$preview = $(\"#FigureMarkdownEdit .preview\")\r\n    this.$source = $('#FigureMarkdownEdit .source')\r\n\r\n    var editor = ace.edit(this.$source[0]),\r\n      session = editor.getSession()\r\n    this.editor = editor\r\n    editor.moveCursorTo(5, 0)\r\n    editor.focus()\r\n\r\n    session.setMode(\"ace/mode/markdown\")\r\n\r\n    session.on('changeScrollTop', _this._debounce($.proxy(_this.syncScroll, _this), 50, false))\r\n\r\n    editor.keyBinding.addKeyboardHandler({handleKeyboard: _this._debounce($.proxy(_this.updateResult, _this), 300, false)})\r\n\r\n    this.updateResult()\r\n  }\r\n\r\n  updateResult() {\r\n    var source = this.editor.getValue()\r\n    this.$preview.html(this.mdHtml.render(source))\r\n    // reset lines mapping cache on content update\r\n    this.scrollMap = null\r\n  }\r\n\r\n\r\n  // Build offsets for each line (lines can be wrapped)\r\n  // That's a bit dirty to process each line everytime, but ok for demo.\r\n  // Optimizations are required only for big texts.\r\n  buildScrollMap() {\r\n    var _this = this\r\n\r\n    var i, offset, nonEmptyList, pos, a, b, lineHeightMap, linesCount,\r\n      acc, sourceLikeDiv,\r\n      _scrollMap\r\n\r\n    sourceLikeDiv = $('<div />').css({\r\n      position: 'absolute',\r\n      visibility: 'hidden',\r\n      height: 'auto',\r\n      width: $(\"#FigureMarkdownEdit .left\")[0].clientWidth,\r\n      'font-size': '10pt',\r\n      'font-family': 'tahoma',\r\n      'line-height': this.lineHeight,\r\n      'white-space': 'nowrap'\r\n    }).appendTo('body')\r\n\r\n    offset = this.$preview.scrollTop() - this.$preview.offset().top - 40\r\n    _scrollMap = []\r\n    nonEmptyList = []\r\n    lineHeightMap = []\r\n\r\n    acc = 0\r\n    this.editor.getValue().split('\\n').forEach(function (str) {\r\n      var h, lh\r\n\r\n      lineHeightMap.push(acc)\r\n\r\n      if (str.length === 0) {\r\n        acc++\r\n        return\r\n      }\r\n\r\n      sourceLikeDiv.text(str)\r\n      h = parseFloat(sourceLikeDiv.css('height'))\r\n      lh = parseFloat(_this.lineHeight)\r\n      acc += Math.round(h / lh)\r\n    })\r\n    sourceLikeDiv.remove()\r\n    lineHeightMap.push(acc)\r\n    linesCount = acc\r\n\r\n    for (i = 0; i < linesCount; i++) {\r\n      _scrollMap.push(-1)\r\n    }\r\n\r\n    nonEmptyList.push(0)\r\n    _scrollMap[0] = 0\r\n\r\n    $('.line').each(function (n, el) {\r\n      var $el = $(el), t = $el.data('line')\r\n      if (t === '') {\r\n        return\r\n      }\r\n      t = lineHeightMap[t]\r\n      if (t !== 0) {\r\n        nonEmptyList.push(t)\r\n      }\r\n      _scrollMap[t] = Math.round($el.offset().top + offset)\r\n    })\r\n\r\n    nonEmptyList.push(linesCount)\r\n    _scrollMap[linesCount] = this.$preview[0].scrollHeight\r\n\r\n    pos = 0\r\n    for (i = 1; i < linesCount; i++) {\r\n      if (_scrollMap[i] !== -1) {\r\n        pos++\r\n        continue\r\n      }\r\n\r\n      a = nonEmptyList[pos]\r\n      b = nonEmptyList[pos + 1]\r\n      _scrollMap[i] = Math.round((_scrollMap[b] * (i - a) + _scrollMap[a] * (b - i)) / (b - a))\r\n    }\r\n\r\n    return _scrollMap\r\n  }\r\n\r\n\r\n  syncScroll(scroll) {\r\n    var lineNo, posTo\r\n    lineNo = Math.floor(scroll / this.lineHeight)\r\n    if (!this.scrollMap) {\r\n      this.scrollMap = this.buildScrollMap()\r\n    }\r\n    posTo = this.scrollMap[lineNo]\r\n    this.$preview.stop(true).animate({\r\n      scrollTop: posTo\r\n    }, 400, 'linear')\r\n  }\r\n\r\n  // Returns a function, that, as long as it continues to be invoked, will not\r\n  // be triggered. The function will be called after it stops being called for\r\n  // N milliseconds. If `immediate` is passed, trigger the function on the\r\n  // leading edge, instead of the trailing.\r\n  _debounce(func, wait, immediate) {\r\n    var timeout\r\n    return function () {\r\n      var context = this, args = arguments\r\n      var later = function () {\r\n        timeout = null\r\n        if (!immediate) func.apply(context, args)\r\n      }\r\n      var callNow = immediate && !timeout\r\n      clearTimeout(timeout)\r\n      timeout = setTimeout(later, wait)\r\n      if (callNow) func.apply(context, args)\r\n    }\r\n  }\r\n}\r\n","import FigureWriter from \"./../io/FigureWriter\"\r\n\r\nexport default class FigureTest {\r\n\r\n  constructor() {\r\n    this.simulationContext = {}\r\n  }\r\n\r\n  show() {\r\n    var _this = this\r\n    this.animationFrameFunc = this._calculate.bind(this)\r\n\r\n    this.simulationContext = {}\r\n\r\n    var writer = new FigureWriter()\r\n    var testShape = null\r\n    writer.marshal(shape_designer.app.view, \"testShape\", function (js) {\r\n      try {\r\n        js = $(\"#decoratedport-template\").text().trim() + js\r\n        testShape = eval(js)\r\n      }\r\n      catch (exc) {\r\n        alert(\"Error in shape code. \\nRemove error and try it again:\\n\\n>>    \" + exc)\r\n        throw exc\r\n      }\r\n      var splash = $(\r\n        '<div class=\"overlay-scale\">' +\r\n        '<div id=\"test_canvas\">' +\r\n        '</div>' +\r\n        ' <div               id=\"test_info\" >Test page for your designed and coded draw2d shape.</div>' +\r\n        ' <img title=\"Close\" id=\"test_close\" class=\"icon\" src=\"./images/dialog_close.svg\"/>' +\r\n        '<div>')\r\n\r\n      // fadeTo MUSS leider sein. Man kann mit raphael keine paper.text elemente einfgen\r\n      // wenn das canvas nicht sichtbar ist. In diesen Fall mach ich das Canvas \"leicht\" sichtbar und raphael ist\r\n      // zufrieden.\r\n      $(\"body\").append(splash)\r\n\r\n      var canvas = new draw2d.Canvas(\"test_canvas\")\r\n      _this.canvas = canvas\r\n      canvas.installEditPolicy(new draw2d.policy.canvas.ShowDotEditPolicy(20, 1, \"#FF4981\"))\r\n      var router = new draw2d.layout.connection.InteractiveManhattanConnectionRouter()\r\n      canvas.installEditPolicy(new draw2d.policy.connection.ComposedConnectionCreatePolicy(\r\n        [\r\n          // create a connection via Drag&Drop of ports\r\n          //\r\n          new draw2d.policy.connection.DragConnectionCreatePolicy({\r\n            createConnection: function () {\r\n              return new draw2d.Connection({\r\n                radius: 3,\r\n                stroke: 2,\r\n                color: \"#129CE4\",\r\n                outlineStroke: 1,\r\n                outlineColor: \"#ffffff\",\r\n                router: router\r\n              })\r\n            }\r\n          }),\r\n          // or via click and point\r\n          //\r\n          new draw2d.policy.connection.OrthogonalConnectionCreatePolicy({\r\n            createConnection: function () {\r\n              return new draw2d.Connection({\r\n                radius: 3,\r\n                stroke: 2,\r\n                color: \"#129CE4\",\r\n                outlineStroke: 1,\r\n                outlineColor: \"#ffffff\",\r\n                router: router\r\n              })\r\n            }\r\n          })\r\n        ])\r\n      )\r\n      var test = new testShape()\r\n      canvas.add(test, 400, 160)\r\n\r\n      // create and add two nodes which contains Ports (In and OUT)\r\n      //\r\n      var start = new draw2d.shape.node.Start()\r\n      var toggle1 = new shape_designer.figure.TestSwitch()\r\n      var toggle2 = new shape_designer.figure.TestSwitch()\r\n      var end = new draw2d.shape.node.End()\r\n\r\n      // ...add it to the canvas\r\n      canvas.add(toggle1, 50, 150)\r\n      canvas.add(toggle2, 50, 200)\r\n      canvas.add(start, 50, 250)\r\n      canvas.add(end, 630, 250)\r\n\r\n      canvas.setCurrentSelection(test)\r\n      var removeDialog = function () {\r\n        _this.simulate = false\r\n        splash.removeClass(\"open\")\r\n        setTimeout(function () {\r\n          splash.remove()\r\n          test.onStop(_this.simulationContext)\r\n        }, 400)\r\n      }\r\n\r\n      $(\"#test_close\").on(\"click\", removeDialog)\r\n      splash.addClass(\"open\")\r\n\r\n      test.onStart(_this.simulationContext)\r\n\r\n      _this.simulate = true\r\n      requestAnimationFrame(_this.animationFrameFunc)\r\n    })\r\n\r\n  }\r\n\r\n  _calculate() {\r\n    // call the \"calculate\" method if given to calculate the output-port values\r\n    //\r\n    var _this = this\r\n    var figures = this.canvas.getFigures().clone().grep(function (f) {\r\n      return f.calculate\r\n    })\r\n    figures.each(function (i, figure) {\r\n      figure.calculate(_this.simulationContext)\r\n    })\r\n\r\n    // transport the value from oututPort to inputPort\r\n    //\r\n    this.canvas.getLines().each(function (i, line) {\r\n      var outPort = line.getSource()\r\n      var inPort = line.getTarget()\r\n      inPort.setValue(outPort.getValue())\r\n      line.setColor(outPort.getValue() ? \"#ff5252\" : \"#0000ff\")\r\n    })\r\n\r\n    if (this.simulate === true) {\r\n      requestAnimationFrame(this.animationFrameFunc)\r\n    }\r\n  }\r\n}\r\n","import conf from \"../Configuration\"\r\nimport Hogan from \"hogan.js\"\r\n\r\nexport default class FileOpen {\r\n\r\n  /**\r\n   * @constructor\r\n   *\r\n   */\r\n  constructor() {\r\n  }\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * Open the file picker and load the selected file.<br>\r\n   *\r\n   * @param {Function} successCallback callback method if the user select a file and the content is loaded\r\n   * @param {Function} errorCallback method to call if any error happens\r\n   *\r\n   * @since 4.0.0\r\n   */\r\n  show(storage, view) {\r\n    $('#fileOpenDialog').modal('show')\r\n    this.fetchPathContent(storage, storage.currentDir, view)\r\n  }\r\n\r\n  fetchPathContent(storage, newPath, view) {\r\n    storage.getFiles(newPath).then((files) => {\r\n      files = files.filter( file => file.name.endsWith(conf.fileSuffix))\r\n      let compiled = Hogan.compile(\r\n        `\r\n               {{^rootDir}}     \r\n               <a href=\"#\" class=\"list-group-item githubPath\" data-type=\"dir\" data-path=\"{{parentPath}}\" >\r\n                   <span class=\"glyphicon glyphicon-menu-left\"></span>\r\n                   ..\r\n               </a>\r\n               {{/rootDir}}\r\n               {{#files}}\r\n                 <a href=\"#\" data-draw2d=\"{{draw2d}}\" class=\"list-group-item githubPath text-nowrap\" data-type=\"{{type}}\" data-path=\"{{currentDir}}{{name}}\" data-id=\"{{id}}\">\r\n                    <span class=\"glyphicon {{icon}}\"></span>\r\n                    {{{name}}}\r\n                 </a>\r\n               {{/files}}\r\n          `\r\n      )\r\n\r\n      let parentPath = storage.dirname(newPath)\r\n      let output = compiled.render({\r\n        parentPath: parentPath,\r\n        currentDir: storage.currentDir,\r\n        files: files,\r\n        rootDir: newPath === null,\r\n        draw2d: function () {\r\n          return this.name.endsWith(conf.fileSuffix)\r\n        },\r\n        icon: function () {\r\n          if (this.name.endsWith(conf.fileSuffix)) {\r\n            return \"fa fa-object-group\"\r\n          }\r\n          return this.type === \"dir\" ? \"fa fa-folder-o\" : \"fa fa-file-o\"\r\n        }\r\n      })\r\n\r\n      $(\"#fileOpenDialog .list-group\").html($(output))\r\n      $(\"#fileOpenDialog .list-group\").scrollTop(0)\r\n\r\n\r\n      $(\".githubPath[data-type='dir']\").on(\"click\", (event) => {\r\n        this.fetchPathContent(storage, $(event.currentTarget).data(\"path\"), view)\r\n      })\r\n\r\n      $('.githubPath*[data-draw2d=\"true\"][data-type=\"file\"]').on(\"click\", (event) => {\r\n        let path = $(event.currentTarget).data(\"path\")\r\n        storage.loadFile(path)\r\n          .then((content) => {\r\n            $('#fileOpenDialog').modal('hide')\r\n            storage.currentFile = path\r\n            view.clear()\r\n            new draw2d.io.json.Reader().unmarshal(view, content)\r\n            view.app.getConfiguration()\r\n            view.getCommandStack().markSaveLocation()\r\n            view.centerDocument()\r\n            return content\r\n          })\r\n        event.preventDefault()\r\n      })\r\n    })\r\n  }\r\n}\r\n","import conf from \"./../Configuration\"\r\n\r\nexport default class FileSave {\r\n\r\n  /**\r\n   * @constructor\r\n   *\r\n   */\r\n  constructor() {\r\n  }\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * Open the file picker and load the selected file.<br>\r\n   *\r\n   * @param {Function} successCallback callback method if the user select a file and the content is loaded\r\n   * @param {Function} errorCallback method to call if any error happens\r\n   *\r\n   * @since 4.0.0\r\n   */\r\n  show(storage, canvas) {\r\n\r\n    new draw2d.io.png.Writer().marshal(canvas, imageDataUrl => {\r\n      $(\"#fileSaveDialog .filePreview\").attr(\"src\", imageDataUrl)\r\n      $(\"#fileSaveDialog .githubFileName\").val(storage.currentFile?storage.currentFile:\"NewDocument\"+conf.fileSuffix)\r\n\r\n      $('#fileSaveDialog').on('shown.bs.modal', (event) => {\r\n        $(event.currentTarget).find('input:first').focus()\r\n      })\r\n      $(\"#fileSaveDialog\").modal(\"show\")\r\n      Mousetrap.pause()\r\n\r\n      // Button: Commit to GitHub\r\n      //\r\n      $(\"#fileSaveDialog .okButton\").off('click').on(\"click\", () => {\r\n        Mousetrap.unpause()\r\n        let writer = new draw2d.io.json.Writer()\r\n        writer.marshal(canvas, json => {\r\n          let newName = $(\"#fileSaveDialog .githubFileName\").val()\r\n          storage.saveFile(json, imageDataUrl, newName)\r\n            .then(() => {\r\n              storage.currentFile = newName\r\n              $('#fileSaveDialog').modal('hide')\r\n            });\r\n        })\r\n      })\r\n    }, canvas.getBoundingBox().scale(20, 20))\r\n  }\r\n}\r\n","import conf from \"./../Configuration\"\r\nimport Hogan from \"hogan.js\"\r\n\r\nexport default class FileSaveAs {\r\n\r\n  /**\r\n   * @constructor\r\n   *\r\n   */\r\n  constructor() {\r\n  }\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * Open the file picker and load the selected file.\r\n   *\r\n   * @since 4.0.0\r\n   */\r\n  show(storage, canvas) {\r\n    if (storage.currentFile === null) {\r\n      storage.currentFile = \"DocumentName\" + conf.fileSuffix\r\n    }\r\n\r\n    new draw2d.io.png.Writer().marshal(canvas, (imageDataUrl) => {\r\n      // else reopen the already selected directory\r\n      $(\"#githubFileSaveAsDialog .okButton\").prop(\"disabled\", false)\r\n      this.fetchPathContent(storage, storage.currentDir)\r\n\r\n      $(\"#githubFileSaveAsDialog .filePreview\").attr(\"src\", imageDataUrl)\r\n      $(\"#githubFileSaveAsDialog .githubFileName\").val(storage.currentFile)\r\n\r\n      $('#githubFileSaveAsDialog').off('shown.bs.modal').on('shown.bs.modal', (event) =>{\r\n        $(event.currentTarget).find('input:first').focus()\r\n      })\r\n      $(\"#githubFileSaveAsDialog\").modal(\"show\")\r\n      Mousetrap.pause()\r\n\r\n      // Button: Commit to GitHub\r\n      //\r\n      $(\"#githubFileSaveAsDialog .okButton\").off('click').on(\"click\",  () => {\r\n        Mousetrap.unpause()\r\n        let writer = new draw2d.io.json.Writer()\r\n        writer.marshal(canvas, (json) => {\r\n          var title = $(\"#githubFileSaveAsDialog .githubFileName\").val()\r\n          storage.saveFile(json, imageDataUrl, title)\r\n          .then( () => {\r\n            storage.currentFile = name\r\n            $('#githubFileSaveAsDialog').modal('hide')\r\n          })\r\n        })\r\n      })\r\n    }, canvas.getBoundingBox().scale(20, 20))\r\n  }\r\n\r\n  fetchPathContent(storage, newPath) {\r\n    storage.getFiles(newPath).then( (files) => {\r\n        storage.currentFile = newPath\r\n        let compiled = Hogan.compile(\r\n          '         <a href=\"#\" class=\"list-group-item githubPath\" data-type=\"{{parentType}}\" data-path=\"{{parentPath}}\" >' +\r\n          '             <span class=\"glyphicon glyphicon-menu-left\"></span>' +\r\n          '             ..' +\r\n          '         </a>' +\r\n          '         {{#files}}' +\r\n          '           <a href=\"#\" data-draw2d=\"{{draw2d}}\" class=\"list-group-item githubPath text-nowrap\" data-type=\"{{type}}\" data-path=\"{{currentDir}}{{name}}\" data-title=\"{{name}}\" data-id=\"{{id}}\" data-sha=\"{{sha}}\">' +\r\n          '              <span class=\"glyphicon {{icon}}\"></span>' +\r\n          '              {{{name}}}' +\r\n          '           </a>' +\r\n          '         {{/files}}'\r\n        )\r\n\r\n\r\n        let parentPath = storage.dirname(newPath)\r\n        let output = compiled.render({\r\n          parentPath: parentPath,\r\n          currentDir: storage.currentDir,\r\n          files: files,\r\n          draw2d: function () {\r\n            return this.name.endsWith(conf.fileSuffix)\r\n          },\r\n          icon: function () {\r\n            if (this.name.endsWith(conf.fileSuffix)) {\r\n              return \"fa fa-object-group\"\r\n            }\r\n            return this.type === \"dir\" ? \"fa fa-folder-o\" : \"fa fa-file-o\"\r\n          }\r\n        })\r\n        $(\"#githubFileSaveAsDialog .list-group\").html($(output))\r\n        $(\"#githubFileSaveAsDialog .list-group\").scrollTop(0)\r\n\r\n        //we are in a folder. Create of a file is possible now\r\n        //\r\n        $(\"#githubFileSaveAsDialog .okButton\").prop(\"disabled\", false)\r\n\r\n\r\n        $(\".githubPath[data-type='dir']\").on(\"click\",  (event) =>{\r\n          this.fetchPathContent(storage, $(event.currentTarget).data(\"path\"))\r\n        })\r\n\r\n        $('.githubPath*[data-draw2d=\"true\"][data-type=\"file\"]').on(\"click\",  (event) => {\r\n          let path = $(event.currentTarget).data(\"path\")\r\n          let title = path.split(/[\\\\/]/).pop() // basename\r\n          $(\"#githubFileSaveAsDialog .githubFileName\").val(title)\r\n        })\r\n      })\r\n  }\r\n}\r\n","export default draw2d.SetFigure.extend({\r\n\r\n  NAME: \"CircuitFigure\",\r\n\r\n  init: function (attr, setter, getter) {\r\n    this.tooltip = null\r\n    this.tooltipTimer = -1\r\n\r\n    this._super($.extend({stroke: 0, bgColor: null, width: 30, height: 32}, attr), setter, getter)\r\n\r\n    this.persistPorts = false\r\n    this.zoomCallback = $.proxy(this.positionTooltip, this)\r\n\r\n    this.on(\"dragstart\", () => {\r\n      this.hideTooltip(true)\r\n    })\r\n\r\n    this.on(\"mouseenter\", () => {\r\n      this.tooltipTimer = window.setTimeout( () =>{\r\n        this.tooltipTimer = -1\r\n        this.showTooltip()\r\n      }, 500)\r\n    })\r\n\r\n    this.on(\"mouseleave\", () => {\r\n      this.hideTooltip()\r\n    })\r\n\r\n    this.on(\"move\", () => {\r\n      this.positionTooltip()\r\n    })\r\n  },\r\n\r\n  setCanvas: function (canvas) {\r\n    if (this.canvas !== null) this.canvas.off(this.zoomCallback)\r\n    this._super(canvas)\r\n    if (this.canvas !== null) this.canvas.on(\"zoom\", this.zoomCallback)\r\n  },\r\n\r\n  hideTooltip: function (fast) {\r\n    if (this.tooltipTimer !== -1) {\r\n      window.clearTimeout(this.tooltipTimer)\r\n      this.tooltipTimer = -1\r\n    }\r\n    else if (this.tooltip !== null) {\r\n      if (fast) {\r\n        this.tooltip.remove()\r\n      }\r\n      else {\r\n        this.tooltip.fadeOut(500, function () {\r\n          $(this).remove()\r\n        })\r\n      }\r\n      this.tooltip = null\r\n    }\r\n  },\r\n\r\n  showTooltip: function () {\r\n    this.tooltip = $('<div class=\"draw2d_tooltip\">'+this.NAME+'</div>')\r\n      .appendTo('body')\r\n      .hide()\r\n      .fadeIn(1000)\r\n    this.positionTooltip()\r\n  },\r\n\r\n\r\n  positionTooltip: function () {\r\n    if (this.tooltip === null) {\r\n      return\r\n    }\r\n\r\n    let width = this.tooltip.outerWidth(true)\r\n    let pos = this.canvas.fromCanvasToDocumentCoordinate(\r\n      this.getAbsoluteX() + this.getWidth() / 2 - width / 2 + 8,\r\n      this.getAbsoluteY() + this.getHeight() + 10)\r\n\r\n    this.tooltip.css({'top': pos.y, 'left': pos.x})\r\n  },\r\n\r\n  applyAlpha: function () {\r\n  },\r\n\r\n  layerGet: function (name, attributes) {\r\n      if (this.svgNodes === null) return null\r\n      let found = null\r\n      this.svgNodes.forEach(function (shape) {\r\n        if (found ===null && shape.data(\"name\") === name) {\r\n          found = shape\r\n        }\r\n      })\r\n      return found\r\n  },\r\n\r\n  layerAttr: function (name, attributes) {\r\n    if (this.svgNodes === null) return\r\n\r\n    this.svgNodes.forEach(function (shape) {\r\n      if (shape.data(\"name\") === name) {\r\n        shape.attr(attributes)\r\n      }\r\n    })\r\n  },\r\n\r\n  layerShow: function (name, flag, duration) {\r\n    if (this.svgNodes === null) return\r\n\r\n    if (duration) {\r\n      this.svgNodes.forEach(function (node) {\r\n        if (node.data(\"name\") === name) {\r\n          if (flag) {\r\n            node.attr({opacity: 0}).show().animate({opacity: 1}, duration)\r\n          }\r\n          else {\r\n            node.animate({opacity: 0}, duration, function () {\r\n              this.hide()\r\n            })\r\n          }\r\n        }\r\n      })\r\n    }\r\n    else {\r\n      this.svgNodes.forEach(function (node) {\r\n        if (node.data(\"name\") === name) {\r\n          if (flag) {\r\n            node.show()\r\n          }\r\n          else {\r\n            node.hide()\r\n          }\r\n        }\r\n      })\r\n    }\r\n  },\r\n\r\n  calculate: function (context) {\r\n  },\r\n\r\n  onStart: function (context) {\r\n  },\r\n\r\n  onStop: function (context) {\r\n  },\r\n\r\n  getParameterSettings: function () {\r\n    return []\r\n  },\r\n\r\n\r\n  getRequiredHardware: function(){\r\n    return {\r\n      raspi: false,\r\n      arduino: false\r\n    }\r\n  },\r\n  \r\n  onDrop: function (dropTarget, x, y, shiftKey, ctrlKey) {\r\n    // Activate a \"smart insert\" If the user drop this figure on connection\r\n    //\r\n    /*\r\n    if (dropTarget instanceof draw2d.Connection) {\r\n      let additionalConnection = dropTarget.getCanvas().createConnection()\r\n      let oldSource = dropTarget.getSource()\r\n      let oldTarget = dropTarget.getTarget()\r\n      if (oldSource instanceof draw2d.InputPort) {\r\n        oldSource = dropTarget.getTarget()\r\n        oldTarget = dropTarget.getSource()\r\n      }\r\n\r\n      let stack = this.getCanvas().getCommandStack()\r\n      let cmd = new draw2d.command.CommandReconnect(dropTarget)\r\n      cmd.setNewPorts(oldSource, this.getInputPort(0))\r\n      stack.execute(cmd)\r\n\r\n      cmd = new draw2d.command.CommandConnect(oldTarget, this.getOutputPort(0))\r\n      cmd.setConnection(additionalConnection)\r\n      stack.execute(cmd)\r\n    }\r\n    */\r\n  },\r\n\r\n\r\n  /**\r\n   * @method\r\n   * Return an objects with all important attributes for XML or JSON serialization\r\n   *\r\n   * @returns {Object}\r\n   */\r\n  getPersistentAttributes: function () {\r\n    let memento = this._super()\r\n\r\n    // add all decorations to the memento\r\n    //\r\n    memento.labels = []\r\n    this.children.each(function (i, e) {\r\n      let labelJSON = e.figure.getPersistentAttributes()\r\n      labelJSON.locator = e.locator.NAME\r\n      memento.labels.push(labelJSON)\r\n    })\r\n\r\n    return memento\r\n  },\r\n\r\n  /**\r\n   * @method\r\n   * Read all attributes from the serialized properties and transfer them into the shape.\r\n   *\r\n   * @param {Object} memento\r\n   * @returns\r\n   */\r\n  setPersistentAttributes: function (memento) {\r\n    this._super(memento)\r\n\r\n    // remove all decorations created in the constructor of this element\r\n    //\r\n    this.resetChildren()\r\n\r\n    // and add all children of the JSON document.\r\n    //\r\n    $.each(memento.labels, $.proxy(function (i, json) {\r\n      // create the figure stored in the JSON\r\n      let figure = eval(\"new \" + json.type + \"()\")\r\n\r\n      // apply all attributes\r\n      figure.attr(json)\r\n\r\n      // instantiate the locator\r\n      let locator = eval(\"new \" + json.locator + \"()\")\r\n\r\n      // add the new figure as child to this figure\r\n      this.add(figure, locator)\r\n    }, this))\r\n  }\r\n})\r\n\r\n","export default shape_designer.figure.DecoratedInputPort = draw2d.InputPort.extend({\r\n\r\n  init: function (attr, setter, getter) {\r\n    this.hasChanged = true\r\n\r\n    this._super(attr, setter, getter)\r\n\r\n    this.decoration = new shape_designer.figure.MarkerFigure()\r\n\r\n    this.add(this.decoration, new draw2d.layout.locator.LeftLocator({margin: 8}))\r\n\r\n\r\n    // a port can have a value. Useful for workflow engines or circuit diagrams\r\n    this.setValue(true)\r\n  },\r\n\r\n  useDefaultValue: function () {\r\n    this.decoration.setStick(true)\r\n  },\r\n\r\n  setValue: function (value) {\r\n    this.hasChanged = this.value !== value\r\n    this._super(value)\r\n  },\r\n\r\n  hasChangedValue: function () {\r\n    return this.hasChanged\r\n  },\r\n\r\n  hasRisingEdge: function () {\r\n    return this.hasChangedValue() && this.getValue()\r\n  },\r\n\r\n  hasFallingEdge: function () {\r\n    return this.hasChangedValue() && !this.getValue()\r\n  }\r\n})\r\n","\r\nexport default shape_designer.figure.ExtLabel = draw2d.shape.basic.Label.extend({\r\n\r\n  NAME: \"shape_designer.figure.ExtLabel\",\r\n\r\n\r\n  init: function () {\r\n    this.blur = 0\r\n    this.isExtFigure = true\r\n\r\n    this._super()\r\n\r\n\r\n    this.setUserData({name: \"Label\"})\r\n\r\n    this.filters = new draw2d.util.ArrayList()\r\n    this.filters.add(new shape_designer.filter.PositionFilter())\r\n    this.filters.add(new shape_designer.filter.FontSizeFilter())\r\n    this.filters.add(new shape_designer.filter.FontColorFilter())\r\n\r\n    this.installEditor(new LabelInplaceEditor())\r\n  },\r\n\r\n  getPotentialFilters: function () {\r\n    return [\r\n      {label: \"Opacity\", impl: \"shape_designer.filter.OpacityFilter\"},\r\n      {label: \"Blur\", impl: \"shape_designer.filter.BlurFilter\"},\r\n      {label: \"Outline\", impl: \"shape_designer.filter.OutlineStrokeFilter\"},\r\n      {label: \"Gradient\", impl: \"shape_designer.filter.TextLinearGradientFilter\"},\r\n      {label: \"Font Size\", impl: \"shape_designer.filter.FontSizeFilter\"},\r\n      {label: \"Font Color\", impl: \"shape_designer.filter.FontColorFilter\"}\r\n    ]\r\n  },\r\n\r\n  setBlur: function (value) {\r\n    this.blur = value\r\n    this.repaint()\r\n  },\r\n\r\n  getBlur: function () {\r\n    return this.blur\r\n  },\r\n\r\n  removeFilter: function (filter) {\r\n    this.filters.remove(filter)\r\n\r\n    return this\r\n  },\r\n\r\n  addFilter: function (filter) {\r\n    var alreadyIn = false\r\n\r\n    this.filters.each($.proxy(function (i, e) {\r\n      alreadyIn = alreadyIn || (e.NAME === filter.NAME)\r\n    }, this))\r\n    if (alreadyIn === true) {\r\n      return // silently\r\n    }\r\n\r\n    this.filters.add(filter)\r\n    filter.onInstall(this)\r\n    this.repaint()\r\n\r\n    return this\r\n  },\r\n\r\n/*\r\n  setPosition: function(x, y) {\r\n    if (x instanceof draw2d.geo.Point) {\r\n      return this._super(\r\n        parseFloat(x.x.toFixed(1)),\r\n        parseFloat(x.y.toFixed(1)))\r\n    }\r\n\r\n    return this._super(\r\n      parseFloat(x.toFixed(1)),\r\n      parseFloat(y.toFixed(1)))\r\n  },\r\n*/\r\n\r\n    /**\r\n   * @method\r\n   * Trigger the repaint of the element.\r\n   *\r\n   */\r\n  repaint: function (attributes) {\r\n    if (this.shape === null) {\r\n      return\r\n    }\r\n\r\n    if (typeof attributes === \"undefined\") {\r\n      attributes = {}\r\n    }\r\n\r\n    // style the label\r\n    var lattr = {}\r\n    lattr.text = this.text\r\n    lattr[\"font-weight\"] = (this.bold === true) ? \"bold\" : \"normal\"\r\n    lattr[\"text-anchor\"] = \"start\"\r\n    lattr[\"font-size\"] = this.fontSize\r\n    if (this.fontFamily !== null) {\r\n      lattr[\"font-family\"] = this.fontFamily\r\n    }\r\n    lattr.fill = this.fontColor.hash()\r\n    // since 4.2.1\r\n    lattr.stroke = this.outlineColor.hash()\r\n    lattr[\"stroke-width\"] = this.outlineStroke\r\n\r\n    this.filters.each($.proxy(function (i, filter) {\r\n      filter.apply(this, attributes, lattr)\r\n    }, this))\r\n\r\n    this.svgNodes.attr(lattr)\r\n    // set of the x/y must be done AFTER the font-size and bold has been set.\r\n    // Reason: the getHeight method needs the font-size for calculation because\r\n    //         it redirects the calculation to the SVG element.\r\n    this.svgNodes.attr({x: this.padding.left, y: this.getHeight() / 2})\r\n\r\n    // jump over the normal Label implementation\r\n    draw2d.SetFigure.prototype.repaint.call(this, attributes)\r\n  },\r\n\r\n  getPersistentAttributes: function () {\r\n    var memento = this._super()\r\n\r\n    memento.filters = []\r\n    this.filters.each($.proxy(function (i, e) {\r\n      var filterMemento = e.getPersistentAttributes(this)\r\n      memento.filters.push(filterMemento)\r\n    }, this))\r\n\r\n    return memento\r\n  },\r\n\r\n  setPersistentAttributes: function (memento) {\r\n    this._super(memento)\r\n\r\n\r\n    if (typeof memento.filters !== \"undefined\") {\r\n      this.filters = new draw2d.util.ArrayList()\r\n      $.each(memento.filters, $.proxy(function (i, e) {\r\n        var filter = eval(\"new \" + e.name + \"()\")\r\n        filter.setPersistentAttributes(this, e)\r\n        this.filters.add(filter)\r\n      }, this))\r\n    }\r\n  }\r\n})\r\n","export default shape_designer.figure.ExtLine = draw2d.shape.basic.PolyLine.extend({\r\n\r\n  NAME: \"shape_designer.figure.ExtLine\",\r\n\r\n\r\n  init: function () {\r\n    this._super()\r\n\r\n    this.blur = 0\r\n    this.isExtFigure = true\r\n\r\n    this.setUserData({name: \"Line\"})\r\n\r\n    this.filters = new draw2d.util.ArrayList()\r\n    this.filters.add(new shape_designer.filter.StrokeFilter())\r\n\r\n    this.setRouter(new draw2d.layout.connection.VertexRouter())\r\n    this.installEditPolicy(new draw2d.policy.line.VertexSelectionFeedbackPolicy())\r\n  },\r\n\r\n  setBlur: function (value) {\r\n    this.blur = parseInt(value)\r\n    this.repaint()\r\n  },\r\n\r\n  getBlur: function () {\r\n    return this.blur\r\n  },\r\n\r\n  getPotentialFilters: function () {\r\n    return [\r\n      {label: \"Opacity\", impl: \"shape_designer.filter.OpacityFilter\"},\r\n      {label: \"Blur\", impl: \"shape_designer.filter.BlurFilter\"},\r\n      {label: \"Outline\", impl: \"shape_designer.filter.OutlineStrokeFilter\"},\r\n      {label: \"Corner Radius\", impl: \"shape_designer.filter.RadiusFilter\"},\r\n      {label: \"Stroke\", impl: \"shape_designer.filter.StrokeFilter\"}\r\n    ]\r\n  },\r\n\r\n  removeFilter: function (filter) {\r\n    this.filters.remove(filter)\r\n\r\n    return this\r\n  },\r\n\r\n  addFilter: function (filter) {\r\n    var alreadyIn = false\r\n\r\n    this.filters.each($.proxy(function (i, e) {\r\n      alreadyIn = alreadyIn || (e.NAME === filter.NAME)\r\n    }, this))\r\n    if (alreadyIn === true) {\r\n      return // silently\r\n    }\r\n\r\n    this.filters.add(filter)\r\n    filter.onInstall(this)\r\n    this.repaint()\r\n\r\n    return this\r\n  },\r\n\r\n\r\n  /**\r\n   * @method\r\n   * Trigger the repaint of the element.\r\n   *\r\n   */\r\n  repaint: function (attributes) {\r\n    if (this.shape === null) {\r\n      return\r\n    }\r\n\r\n    if (typeof attributes === \"undefined\") {\r\n      attributes = {}\r\n    }\r\n\r\n    this.filters.each($.proxy(function (i, filter) {\r\n      filter.apply(this, attributes)\r\n    }, this))\r\n\r\n//        this.shape.blur(this.blur);\r\n    this._super(attributes)\r\n  },\r\n\r\n  getPersistentAttributes: function () {\r\n    var memento = this._super()\r\n\r\n    memento.filters = []\r\n    this.filters.each($.proxy(function (i, e) {\r\n      var filterMemento = e.getPersistentAttributes(this)\r\n      memento.filters.push(filterMemento)\r\n    }, this))\r\n\r\n    return memento\r\n  },\r\n\r\n  setPersistentAttributes: function (memento) {\r\n    this._super(memento)\r\n\r\n\r\n    if (typeof memento.filters !== \"undefined\") {\r\n      this.filters = new draw2d.util.ArrayList()\r\n      $.each(memento.filters, $.proxy(function (i, e) {\r\n        var filter = eval(\"new \" + e.name + \"()\")\r\n        filter.setPersistentAttributes(this, e)\r\n        this.filters.add(filter)\r\n      }, this))\r\n    }\r\n  }\r\n})\r\n","import PositionFilter from \"../filter/PositionFilter\"\r\nimport SizeFilter from \"../filter/SizeFilter\"\r\nimport StrokeFilter from \"../filter/StrokeFilter\"\r\nimport FillColorFilter from \"../filter/FillColorFilter\"\r\n\r\n/* jshint evil:true */\r\n// required for serialie/deserialize of JSON\r\nexport default shape_designer.figure.ExtPolygon = draw2d.shape.basic.Polygon.extend({\r\n\r\n  NAME: \"shape_designer.figure.ExtPolygon\",\r\n\r\n\r\n  init: function (attr, setter, getter) {\r\n    this.blur = 0\r\n\r\n    this.isExtFigure = true\r\n\r\n    this._super(attr, setter, getter)\r\n\r\n    this.setUserData({name: \"Polygon\"})\r\n\r\n    this.filters = new draw2d.util.ArrayList()\r\n    this.filters.add(new PositionFilter())\r\n    this.filters.add(new SizeFilter())\r\n    this.filters.add(new StrokeFilter())\r\n    this.filters.add(new FillColorFilter())\r\n\r\n    this.installEditPolicy(new draw2d.policy.figure.RectangleSelectionFeedbackPolicy())\r\n  },\r\n\r\n  setBlur: function (value) {\r\n    this.blur = parseInt(value)\r\n    this.repaint()\r\n  },\r\n\r\n  getBlur: function () {\r\n    return this.blur\r\n  },\r\n\r\n  getPotentialFilters: function () {\r\n    return [\r\n      {label: \"Stroke\", impl: \"shape_designer.filter.StrokeFilter\"},\r\n      {label: \"Opacity\", impl: \"shape_designer.filter.OpacityFilter\"},\r\n      {label: \"Blur\", impl: \"shape_designer.filter.BlurFilter\"},\r\n      {label: \"Corner Radius\", impl: \"shape_designer.filter.RadiusFilter\"},\r\n      {label: \"Linear Gradient\", impl: \"shape_designer.filter.LinearGradientFilter\"},\r\n      {label: \"Fill Color\", impl: \"shape_designer.filter.FillColorFilter\"}\r\n    ]\r\n  },\r\n\r\n  removeFilter: function (filter) {\r\n    this.filters.remove(filter)\r\n  },\r\n\r\n  addFilter: function (filter) {\r\n    var alreadyIn = false\r\n\r\n    this.filters.each($.proxy(function (i, e) {\r\n      alreadyIn = alreadyIn || (e.NAME === filter.NAME)\r\n    }, this))\r\n\r\n    if (alreadyIn === true) {\r\n      return // silently\r\n    }\r\n\r\n    this.filters.add(filter)\r\n    filter.onInstall(this)\r\n    this.repaint()\r\n  },\r\n\r\n  onDoubleClick: function () {\r\n    this.installEditPolicy(new draw2d.policy.figure.VertexSelectionFeedbackPolicy())\r\n  },\r\n\r\n  /**\r\n   * @method\r\n   * Unselect the figure and propagete this event to all edit policies.\r\n   *\r\n   * @final\r\n   * @private\r\n   **/\r\n  unselect: function () {\r\n    this._super()\r\n\r\n    this.installEditPolicy(new draw2d.policy.figure.RectangleSelectionFeedbackPolicy())\r\n    return this\r\n  },\r\n\r\n\r\n  /**\r\n   * @method\r\n   * Trigger the repaint of the element.\r\n   *\r\n   */\r\n  repaint: function (attributes) {\r\n    if (this.shape === null) {\r\n      return\r\n    }\r\n\r\n    if (this.svgPathString === null) {\r\n      this.calculatePath()\r\n    }\r\n\r\n    if (typeof attributes === \"undefined\") {\r\n      attributes = {}\r\n    }\r\n\r\n\r\n    attributes.path = this.svgPathString\r\n\r\n    this.filters.each($.proxy(function (i, filter) {\r\n      filter.apply(this, attributes)\r\n    }, this))\r\n\r\n    //this.shape.blur(this.blur===0?-1:this.blur);\r\n    /*\r\n            if(this.filter)\r\n            this.filter = this.canvas.paper.createFilter();\r\n            filter.addShiftToColor(\"red\");\r\n            filter.addBlur(7);\r\n            this.shape.filter(filter);\r\n    */\r\n    this._super(attributes)\r\n  },\r\n\r\n  getPersistentAttributes: function () {\r\n    var memento = this._super()\r\n\r\n    memento.blur = this.blur\r\n    memento.filters = []\r\n    this.filters.each($.proxy(function (i, e) {\r\n      var filterMemento = e.getPersistentAttributes(this)\r\n      memento.filters.push(filterMemento)\r\n    }, this))\r\n\r\n    return memento\r\n  },\r\n\r\n  setPersistentAttributes: function (memento) {\r\n    this._super(memento)\r\n\r\n    if (typeof memento.blur !== \"undefined\")\r\n      this.setBlur(memento.blur)\r\n\r\n    if (typeof memento.filters !== \"undefined\") {\r\n      this.filters = new draw2d.util.ArrayList()\r\n      var sizeFilterAdded = false\r\n      $.each(memento.filters, $.proxy(function (i, e) {\r\n\r\n        var filter = eval(\"new \" + e.name + \"()\")\r\n        if (filter instanceof shape_designer.filter.SizeFilter) {\r\n          sizeFilterAdded = true\r\n        }\r\n        filter.setPersistentAttributes(this, e)\r\n        this.filters.add(filter)\r\n      }, this))\r\n      if (!sizeFilterAdded) {\r\n        this.filters.insertElementAt(new shape_designer.filter.SizeFilter(), 1)\r\n      }\r\n    }\r\n  }\r\n})\r\n","export default shape_designer.figure.ExtPort = draw2d.shape.basic.Circle.extend({\r\n\r\n  NAME: \"shape_designer.figure.ExtPort\",\r\n\r\n\r\n  init: function () {\r\n    this.isExtFigure = true\r\n    this.decoration = null\r\n    this._super({\r\n      bgColor: \"#37B1DE\",\r\n      diameter: 10\r\n    })\r\n\r\n\r\n    this.setUserData({\r\n      name: \"Port\",\r\n      type: \"Hybrid\",\r\n      direction: null,\r\n      fanout: 20\r\n    })\r\n\r\n    this.filters = new draw2d.util.ArrayList()\r\n    this.filters.add(new shape_designer.filter.PositionFilter())\r\n    this.filters.add(new shape_designer.filter.FanoutFilter())\r\n    this.filters.add(new shape_designer.filter.PortDirectionFilter())\r\n    this.filters.add(new shape_designer.filter.PortTypeFilter())\r\n\r\n    this.installEditPolicy(new draw2d.policy.figure.AntSelectionFeedbackPolicy())\r\n  },\r\n\r\n\r\n  setInputType: function (type) {\r\n    this.getUserData().type = type\r\n  },\r\n\r\n  getInputType: function () {\r\n    return this.getUserData().type\r\n  },\r\n\r\n  setMaxFanOut: function (count) {\r\n    this.getUserData().fanout = parseInt(count)\r\n  },\r\n\r\n  getMaxFanOut: function () {\r\n    return this.getUserData().fanout ? this.getUserData().fanout : 20\r\n  },\r\n\r\n\r\n  setConnectionDirection: function (direction) {\r\n    this.getUserData().direction = direction\r\n    this.updateDecoration()\r\n  },\r\n\r\n  getConnectionDirection: function () {\r\n    return this.getUserData().direction\r\n  },\r\n\r\n\r\n  updateDecoration: function () {\r\n    if (this.decoration !== null) {\r\n      this.remove(this.decoration)\r\n      this.decoration = null\r\n    }\r\n    var figure = null\r\n    var locator = null\r\n    switch (this.getConnectionDirection()) {\r\n      case 0:\r\n        figure = new draw2d.shape.icon.ArrowUp({width: 8, height: 8, opacity: 0.5})\r\n        locator = new draw2d.layout.locator.TopLocator()\r\n        break\r\n      case 1:\r\n        figure = new draw2d.shape.icon.ArrowRight({width: 8, height: 8, opacity: 0.5})\r\n        locator = new draw2d.layout.locator.RightLocator()\r\n        break\r\n      case 2:\r\n        figure = new draw2d.shape.icon.ArrowDown({width: 8, height: 8, opacity: 0.5})\r\n        locator = new draw2d.layout.locator.BottomLocator()\r\n        break\r\n      case 3:\r\n        figure = new draw2d.shape.icon.ArrowLeft({width: 8, height: 8, opacity: 0.5})\r\n        locator = new draw2d.layout.locator.LeftLocator()\r\n        break\r\n    }\r\n    if (figure !== null) {\r\n      this.add(figure, locator)\r\n      this.decoration = figure\r\n    }\r\n  },\r\n\r\n  getPotentialFilters: function () {\r\n    return [\r\n      {label: \"Port Type\", impl: \"shape_designer.filter.PortTypeFilter\"},\r\n      {label: \"Port Direction\", impl: \"shape_designer.filter.PortDirectionFilter\"},\r\n      {label: \"Color\", impl: \"shape_designer.filter.FillColorFilter\"}\r\n\r\n    ]\r\n  },\r\n\r\n  removeFilter: function (filter) {\r\n    this.filters.remove(filter)\r\n  },\r\n\r\n  addFilter: function (filter) {\r\n    var alreadyIn = false\r\n\r\n    this.filters.each($.proxy(function (i, e) {\r\n      alreadyIn = alreadyIn || (e.NAME === filter.NAME)\r\n    }, this))\r\n    if (alreadyIn === true) {\r\n      return // silently\r\n    }\r\n\r\n    this.filters.add(filter)\r\n    filter.onInstall(this)\r\n    this.repaint()\r\n  },\r\n\r\n\r\n  /**\r\n   * @method\r\n   * Trigger the repaint of the element.\r\n   *\r\n   */\r\n  repaint: function (attributes) {\r\n    if (this.shape === null) {\r\n      return\r\n    }\r\n\r\n    if (typeof attributes === \"undefined\") {\r\n      attributes = {}\r\n    }\r\n\r\n    this.filters.each($.proxy(function (i, filter) {\r\n      filter.apply(this, attributes)\r\n    }, this))\r\n\r\n    this._super(attributes)\r\n  },\r\n\r\n  getPersistentAttributes: function () {\r\n    var memento = this._super()\r\n\r\n    memento.filters = []\r\n    this.filters.each($.proxy(function (i, e) {\r\n      var filterMemento = e.getPersistentAttributes(this)\r\n      memento.filters.push(filterMemento)\r\n    }, this))\r\n\r\n    return memento\r\n  },\r\n\r\n  setPersistentAttributes: function (memento) {\r\n    this._super(memento)\r\n\r\n\r\n    if (typeof memento.filters !== \"undefined\") {\r\n      this.filters = new draw2d.util.ArrayList()\r\n      var fanoutFilterAdded = false\r\n      $.each(memento.filters, $.proxy(function (i, e) {\r\n        var filter = eval(\"new \" + e.name + \"()\")\r\n        if (filter instanceof shape_designer.filter.FanoutFilter) {\r\n          fanoutFilterAdded = true\r\n        }\r\n        filter.setPersistentAttributes(this, e)\r\n        this.filters.add(filter)\r\n      }, this))\r\n      if (!fanoutFilterAdded) {\r\n        this.filters.insertElementAt(new shape_designer.filter.FanoutFilter(), 1)\r\n      }\r\n\r\n    }\r\n    this.updateDecoration()\r\n  }\r\n})\r\n","/**\r\n * The markerFigure is the left hand side annotation for a DecoratedPort.\r\n *\r\n * It contains two children\r\n *\r\n * StateAFigure: if the mouse hover and the figure isn't permanent visible\r\n * StateBFigure: either the mouse is over or the user pressed the checkbox to stick the figure on the port\r\n *\r\n * This kind of decoration is usefull for defualt values on workflwos enginges or circuit diagrams\r\n *\r\n */\r\n\r\n\r\n\r\nexport default shape_designer.figure.MarkerFigure = draw2d.shape.layout.VerticalLayout.extend({\r\n\r\n  NAME: \"MarkerFigure\",\r\n\r\n  init: function (attr, setter, getter) {\r\n    var _this = this\r\n\r\n    this.isMouseOver = false        // indicator if the mouse is over the element\r\n    this.stick = false        // indicator if the stateBFigure should always be visible\r\n    this.defaultValue = true         // current selected default value for the decoration\r\n\r\n    this._super($.extend({\r\n        stroke: 0\r\n      }, attr),\r\n      setter,\r\n      getter)\r\n\r\n\r\n    // figure if the decoration is not permanent visible (sticky note)\r\n    this.add(this.stateA = new shape_designer.figure.MarkerStateAFigure({text: \"X\"}))\r\n    // figure if the decoration permanent visible\r\n    this.add(this.stateB = new shape_designer.figure.MarkerStateBFigure({text: \"X\"}))\r\n\r\n\r\n    this.on(\"mouseenter\", function (emitter, event) {\r\n      _this.onMouseOver(true)\r\n    })\r\n\r\n    this.on(\"mouseleave\", function (emitter, event) {\r\n      _this.onMouseOver(false)\r\n    })\r\n\r\n    this.on(\"click\", function (emitter, event) {\r\n      if (_this.isVisible() === false) {\r\n        return//silently\r\n      }\r\n\r\n      if (_this.stateB.getStickTickFigure().getBoundingBox().hitTest(event.x, event.y) === true) {\r\n        _this.setStick(!_this.getStick())\r\n      }\r\n      else if (_this.stateB.getLabelFigure().getBoundingBox().hitTest(event.x, event.y) === true) {\r\n        $.contextMenu({\r\n          selector: 'body',\r\n          trigger: \"left\",\r\n          events:\r\n            {\r\n              hide: function () {\r\n                $.contextMenu('destroy')\r\n              }\r\n            },\r\n          callback: $.proxy(function (key, options) {\r\n            // propagate the default value to the port\r\n            //\r\n            switch (key) {\r\n              case \"high\":\r\n                _this.setDefaultValue(true)\r\n                break\r\n              case \"low\":\r\n                _this.setDefaultValue(false)\r\n                break\r\n              default:\r\n                break\r\n            }\r\n\r\n          }, this),\r\n          x: event.x,\r\n          y: event.y,\r\n          items: {\r\n            \"high\": {name: \"High\"},\r\n            \"low\": {name: \"Low\"}\r\n          }\r\n        })\r\n\r\n      }\r\n    })\r\n\r\n    this.setDefaultValue(true)\r\n    this.onMouseOver(false)\r\n  },\r\n\r\n\r\n  onMouseOver: function (flag) {\r\n    this.isMouseOver = flag\r\n\r\n    if (this.visible === false) {\r\n      return // silently\r\n    }\r\n\r\n    if (this.stick === true) {\r\n      this.stateA.setVisible(false)\r\n      this.stateB.setVisible(true)\r\n    }\r\n    else {\r\n      this.stateA.setVisible(!this.isMouseOver)\r\n      this.stateB.setVisible(this.isMouseOver)\r\n    }\r\n\r\n    return this\r\n  },\r\n\r\n\r\n  setVisible: function (flag) {\r\n    this._super(flag)\r\n\r\n    // update the hover/stick state of the figure\r\n    this.onMouseOver(this.isMouseOver)\r\n\r\n    return this\r\n  },\r\n\r\n\r\n  setStick: function (flag) {\r\n    this.stick = flag\r\n    this.onMouseOver(this.isMouseOver)\r\n\r\n\r\n    // the port has only a default value if the decoration is visible\r\n    this.parent.setValue(flag ? this.defaultValue : null)\r\n\r\n    this.stateB.setTick(this.getStick())\r\n\r\n    return this\r\n  },\r\n\r\n\r\n  getStick: function () {\r\n    return this.stick\r\n  },\r\n\r\n\r\n  setText: function (text) {\r\n    this.stateB.setText(text)\r\n\r\n    return this\r\n  },\r\n\r\n  setDefaultValue: function (value) {\r\n    this.defaultValue = value\r\n    this.setText((this.defaultValue === true) ? \"High\" : \"Low\")\r\n\r\n    // only propagate the value to the parent if the decoration permanent visible\r\n    //\r\n    if (this.stick === true) {\r\n      this.parent.setValue(this.defaultValue)\r\n    }\r\n  }\r\n})\r\n","/**\r\n * This is only the mouseover reactive shape. A little bit smaller than the visible shape\r\n *\r\n * Or you can display this shape with opacity of 0.2 to indicate that this is a reactive area.\r\n */\r\n\r\n\r\n\r\n\r\nexport default shape_designer.figure.MarkerStateAFigure = draw2d.shape.basic.Label.extend({\r\n\r\n  NAME: \"MarkerStateAFigure\",\r\n\r\n  /**\r\n   * @param attr\r\n   */\r\n  init: function (attr, setter, getter) {\r\n    this._super($.extend({\r\n        padding: {left: 5, top: 2, bottom: 2, right: 10},\r\n        bgColor: null,\r\n        stroke: 1,\r\n        color: null,\r\n        fontColor: null,\r\n        fontSize: 10\r\n      }, attr),\r\n      setter,\r\n      getter)\r\n\r\n    // we must override the hitTest method to ensure that the parent can receive the mouseenter/mouseleave events.\r\n    // Unfortunately draw2D didn't provide event bubbling like HTML. The first shape in queue consumes the event.\r\n    //\r\n    // now this shape is \"dead\" for any mouse events and the parent must/can handle this.\r\n    this.hitTest = function () {\r\n      return false\r\n    }\r\n  }\r\n})\r\n","export default shape_designer.figure.MarkerStateBFigure = draw2d.shape.layout.HorizontalLayout.extend({\r\n\r\n  NAME: \"MarkerStateBFigure\",\r\n\r\n  /**\r\n   * @param attr\r\n   */\r\n  init: function (attr, setter, getter) {\r\n    this._super($.extend({\r\n        bgColor: \"#FFFFFF\",\r\n        stroke: 1,\r\n        color: \"#00bcd4\",\r\n        radius: 2,\r\n        padding: {left: 3, top: 3, bottom: 3, right: 8},\r\n        gap: 5\r\n      }, attr),\r\n      setter,\r\n      getter)\r\n\r\n    this.stickTick = new draw2d.shape.basic.Circle({\r\n      diameter: 10,\r\n      bgColor: \"#f0f0f0\",\r\n      stroke: 1,\r\n      resizeable: false\r\n    })\r\n    this.add(this.stickTick)\r\n    this.stickTick.hitTest = function () {\r\n      return false\r\n    }\r\n    this.stickTick.addCssClass(\"cursorPointer\")\r\n\r\n    this.label = new draw2d.shape.basic.Label({\r\n      text: attr.text,\r\n      resizeable: false,\r\n      stroke: 0,\r\n      padding: 0,\r\n      fontSize: 10,\r\n      fontColor: \"#303030\"\r\n    })\r\n    this.add(this.label)\r\n    // don't catch the mouse events. This is done by the parent container\r\n    this.label.hitTest = function () {\r\n      return false\r\n    }\r\n    this.label.addCssClass(\"cursorPointer\")\r\n\r\n    // we must override the hitTest method to ensure that the parent can receive the mouseenter/mouseleave events.\r\n    // Unfortunately draw2D didn't provide event bubbling like HTML. The first shape in queue consumes the event.\r\n    //\r\n    // now this shape is \"dead\" for any mouse events and the parent must/can handle this.\r\n    this.hitTest = function () {\r\n      return false\r\n    }\r\n  },\r\n\r\n  setText: function (text) {\r\n    this.label.setText(text)\r\n  },\r\n\r\n  setTick: function (flag) {\r\n    this.stickTick.attr({bgColor: flag ? \"#00bcd4\" : \"#f0f0f0\"})\r\n  },\r\n\r\n  getStickTickFigure: function () {\r\n    return this.stickTick\r\n  },\r\n\r\n  getLabelFigure: function () {\r\n    return this.label\r\n  },\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   *\r\n   * @template\r\n   **/\r\n  repaint: function (attributes) {\r\n    if (this.repaintBlocked === true || this.shape === null) {\r\n      return\r\n    }\r\n\r\n    attributes = attributes || {}\r\n\r\n    attributes.path = this.calculatePath()\r\n\r\n    this._super(attributes)\r\n  },\r\n\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * Override the default rendering of the HorizontalLayout, which is a simple\r\n   * rectangle. We want an arrow.\r\n   */\r\n  createShapeElement: function () {\r\n    return this.canvas.paper.path(this.calculatePath())\r\n  },\r\n\r\n  /**\r\n   * stupid copy&paste the code from the Polygon shape...unfortunately the LayoutFigure isn't a polygon.\r\n   *\r\n   * @returns {string}\r\n   */\r\n  calculatePath: function () {\r\n    var arrowLength = 8\r\n\r\n    this.vertices = new draw2d.util.ArrayList()\r\n\r\n    var w = this.width\r\n    var h = this.height\r\n    var pos = this.getAbsolutePosition()\r\n    var i = 0\r\n    var length = 0\r\n    this.vertices.add(new draw2d.geo.Point(pos.x, pos.y))\r\n    this.vertices.add(new draw2d.geo.Point(pos.x + w - arrowLength, pos.y))\r\n\r\n    this.vertices.add(new draw2d.geo.Point(pos.x + w, pos.y + h / 2))\r\n\r\n    this.vertices.add(new draw2d.geo.Point(pos.x + w - arrowLength, pos.y + h))\r\n    this.vertices.add(new draw2d.geo.Point(pos.x, pos.y + h))\r\n\r\n    var radius = this.getRadius()\r\n    var path = []\r\n    // hard corners\r\n    //\r\n    if (radius === 0) {\r\n      length = this.vertices.getSize()\r\n      var p = this.vertices.get(0)\r\n      path.push(\"M\", (p.x | 0) + 0.5, \" \", (p.y | 0) + 0.5)\r\n      for (i = 1; i < length; i++) {\r\n        p = this.vertices.get(i)\r\n        path.push(\"L\", (p.x | 0) + 0.5, \" \", (p.y | 0) + 0.5)\r\n      }\r\n      path.push(\"Z\")\r\n    }\r\n    // soften/round corners\r\n    //\r\n    else {\r\n      length = this.vertices.getSize()\r\n      var start = this.vertices.first()\r\n      var end = this.vertices.last()\r\n      if (start.equals(end)) {\r\n        length = length - 1\r\n        end = this.vertices.get(length - 1)\r\n      }\r\n      var begin = draw2d.geo.Util.insetPoint(start, end, radius)\r\n      path.push(\"M\", (begin.x | 0) + 0.5, \",\", (begin.y | 0) + 0.5)\r\n      for (i = 0; i < length; i++) {\r\n        start = this.vertices.get(i)\r\n        end = this.vertices.get((i + 1) % length)\r\n        let modStart = draw2d.geo.Util.insetPoint(start, end, radius)\r\n        let modEnd = draw2d.geo.Util.insetPoint(end, start, radius)\r\n        path.push(\"Q\", start.x, \",\", start.y, \" \", (modStart.x | 0) + 0.5, \", \", (modStart.y | 0) + 0.5)\r\n        path.push(\"L\", (modEnd.x | 0) + 0.5, \",\", (modEnd.y | 0) + 0.5)\r\n      }\r\n    }\r\n    return path.join(\"\")\r\n  }\r\n\r\n\r\n})\r\n","export default shape_designer.figure.PolyCircle = draw2d.shape.basic.Oval.extend({\r\n\r\n  NAME: \"shape_designer.figure.PolyCircle\",\r\n\r\n\r\n  init: function (center, radius) {\r\n    this.blur = 0\r\n    this.isExtFigure = true\r\n\r\n    // set some good defaults\r\n    if (typeof radius === \"undefined\") {\r\n      radius = 10\r\n    }\r\n\r\n    this._super({stroke: 0, bgColor: \"95C06A\", width: radius * 2, height: radius * 2})\r\n\r\n    // center must be set after the width/height...bug\r\n    if (typeof center !== \"undefined\") {\r\n      this.setCenter(center)\r\n    }\r\n\r\n    this.setUserData({name: \"Circle\"})\r\n\r\n    this.filters = new draw2d.util.ArrayList()\r\n    this.filters.add(new shape_designer.filter.PositionFilter())\r\n    this.filters.add(new shape_designer.filter.SizeFilter())\r\n    this.filters.add(new shape_designer.filter.FillColorFilter())\r\n  },\r\n\r\n  getPotentialFilters: function () {\r\n    return [\r\n      {label: \"Stroke\", impl: \"shape_designer.filter.StrokeFilter\"},\r\n      {label: \"Opacity\", impl: \"shape_designer.filter.OpacityFilter\"},\r\n      {label: \"Blur\", impl: \"shape_designer.filter.BlurFilter\"},\r\n      {label: \"Linear Gradient\", impl: \"shape_designer.filter.LinearGradientFilter\"},\r\n      {label: \"Fill Color\", impl: \"shape_designer.filter.FillColorFilter\"}\r\n    ]\r\n  },\r\n\r\n  removeFilter: function (filter) {\r\n    this.filters.remove(filter)\r\n  },\r\n\r\n  addFilter: function (filter) {\r\n    var alreadyIn = false\r\n\r\n    this.filters.each($.proxy(function (i, e) {\r\n      alreadyIn = alreadyIn || (e.NAME === filter.NAME)\r\n    }, this))\r\n\r\n    if (alreadyIn === true) {\r\n      return // silently\r\n    }\r\n\r\n    this.filters.add(filter)\r\n    filter.onInstall(this)\r\n    this.repaint()\r\n  },\r\n\r\n\r\n  setBlur: function (value) {\r\n    this.blur = parseInt(value)\r\n    this.repaint()\r\n  },\r\n\r\n  getBlur: function () {\r\n    return this.blur\r\n  },\r\n\r\n  /**\r\n   * @method\r\n   * Trigger the repaint of the element.\r\n   *\r\n   */\r\n  repaint: function (attributes) {\r\n    if (this.shape === null) {\r\n      return\r\n    }\r\n\r\n    this.filters.each($.proxy(function (i, filter) {\r\n      filter.apply(this, attributes)\r\n    }, this))\r\n\r\n//        this.shape.blur(this.blur);\r\n    this._super(attributes)\r\n  },\r\n\r\n  getVertices: function () {\r\n\r\n    var w2 = this.getWidth() / 2\r\n    var h2 = this.getHeight() / 2\r\n    var center = this.getCenter()\r\n    var sides = 36\r\n\r\n    var vertices = new draw2d.util.ArrayList()\r\n    for (var i = 0; i < sides; i++) {\r\n      var radian = 2 * Math.PI * i / sides\r\n      var x = Math.cos(radian) * w2 + center.x\r\n      var y = Math.sin(radian) * h2 + center.y\r\n      vertices.add(new draw2d.geo.Point(x, y))\r\n    }\r\n    return vertices\r\n  },\r\n\r\n  getPersistentAttributes: function () {\r\n    var memento = this._super()\r\n\r\n    memento.blur = this.blur\r\n    memento.filters = []\r\n    this.filters.each($.proxy(function (i, e) {\r\n      var filterMemento = e.getPersistentAttributes(this)\r\n      memento.filters.push(filterMemento)\r\n    }, this))\r\n\r\n    return memento\r\n  },\r\n\r\n  setPersistentAttributes: function (memento) {\r\n    this._super(memento)\r\n\r\n    if (typeof memento.blur !== \"undefined\")\r\n      this.setBlur(memento.blur)\r\n\r\n    if (typeof memento.filters !== \"undefined\") {\r\n      this.filters = new draw2d.util.ArrayList()\r\n      $.each(memento.filters, $.proxy(function (i, e) {\r\n        var filter = eval(\"new \" + e.name + \"()\")\r\n        filter.setPersistentAttributes(this, e)\r\n        this.filters.add(filter)\r\n      }, this))\r\n    }\r\n  }\r\n})\r\n","import ExtPolygon from \"./ExtPolygon\"\r\n\r\nexport default shape_designer.figure.PolyRect = ExtPolygon.extend({\r\n\r\n  NAME: \"shape_designer.figure.PolyRect\",\r\n\r\n  init: function (topLeft, bottomRight) {\r\n    this._super()\r\n    if (typeof topLeft === \"undefined\") {\r\n      this.vertices = new draw2d.util.ArrayList()\r\n      this.addVertex(new draw2d.geo.Point(100, 100))\r\n      this.addVertex(new draw2d.geo.Point(140, 100))\r\n      this.addVertex(new draw2d.geo.Point(140, 140))\r\n      this.addVertex(new draw2d.geo.Point(100, 140))\r\n    }\r\n    else {\r\n      this.vertices = new draw2d.util.ArrayList()\r\n      this.addVertex(new draw2d.geo.Point(topLeft.x, topLeft.y))\r\n      this.addVertex(new draw2d.geo.Point(bottomRight.x, topLeft.y))\r\n      this.addVertex(new draw2d.geo.Point(bottomRight.x, bottomRight.y))\r\n      this.addVertex(new draw2d.geo.Point(topLeft.x, bottomRight.y))\r\n    }\r\n\r\n    this.setUserData({name: \"Rectangle\"})\r\n  }\r\n})\r\n","export default shape_designer.figure.TestSwitch = draw2d.shape.basic.Label.extend({\r\n\r\n  NAME: \"shape_designer.figure.TestSwitch\",\r\n\r\n  init: function (attr, setter, getter) {\r\n    this._super({text: \"Low\"}, setter, getter)\r\n\r\n    this.createPort(\"output\")\r\n\r\n    var _this = this\r\n\r\n    this.value = false\r\n    this.on(\"click\", function () {\r\n      _this.toggleValue()\r\n      _this.getOutputPort(0).setValue(_this.value)\r\n      _this.getOutputPort(0).getConnections().each(function (i, c) {\r\n        c.getTarget().setValue(_this.value)\r\n      })\r\n    })\r\n  },\r\n\r\n  toggleValue: function () {\r\n    this.value = !this.value\r\n    this.attr({text: this.value ? \"High\" : \"Low\"})\r\n  }\r\n})\r\n\r\n","// required to register them for JSON serialize/deserialize\r\n//\r\nexport default [\r\n  require(\"./ExtLabel\"),\r\n  require(\"./DecoratedInputPort\"),\r\n  require(\"./ExtLine\"),\r\n  require(\"./ExtPolygon\"),\r\n  require(\"./ExtPort\"),\r\n  require(\"./MarkerFigure\"),\r\n  require(\"./MarkerStateAFigure\"),\r\n  require(\"./MarkerStateBFigure\"),\r\n  require(\"./PolyCircle\"),\r\n  require(\"./PolyRect\"),\r\n  require(\"./TestSwitch\")\r\n]\r\n\r\n","import Filter from \"./Filter\"\r\n\r\n\r\nexport default shape_designer.filter.BlurFilter = class BlurFilter extends Filter {\r\n\r\n  constructor() {\r\n    super(\"shape_designer.filter.BlurFilter\")\r\n  }\r\n\r\n  insertPane(figure, $parent) {\r\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\r\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#' + this.cssScope + '_width_panel\">' +\r\n      '     Blur' +\r\n      '    <span id=\"button_remove_' + this.cssScope + '\"><img class=\"svg icon pull-right\" src=\"./images/dialog_close.svg\"/></span></span>' +\r\n      '</div>' +\r\n\r\n      ' <div class=\"panel-body collapse in\" id=\"' + this.cssScope + '_blur_panel\">' +\r\n      '   <div class=\"form-group\">' +\r\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\r\n      '       <input id=\"filter_blur\" type=\"text\" value=\"' + figure.getBlur() + '\"  name=\"filter_blur\" class=\"mousetrap-pause form-control\" />' +\r\n      '   </div>' +\r\n      ' </div>' +\r\n      '</div>')\r\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\r\n\r\n    $(\"#filter_blur\").TouchSpin({\r\n      min: 0,\r\n      max: 5,\r\n      step: 1\r\n    })\r\n\r\n    $(\"#filter_blur\").on(\"change\", $.proxy(function () {\r\n      this.setBlur(parseInt($(\"#filter_blur\").val()))\r\n    }, figure))\r\n\r\n\r\n    $(\"#button_remove_\" + this.cssScope).on(\"click\", $.proxy(function () {\r\n      figure.removeFilter(this)\r\n      figure.setBlur(0)\r\n      $('#' + this.containerId).animate({\r\n        \"height\": \"0\",\r\n        \"opacity\": 0,\r\n        \"margin-bottom\": 0\r\n      }, 500, function () {\r\n        $('#' + this.containerId).remove()\r\n      })\r\n    }, this))\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import Filter from \"./Filter\"\r\n\r\nexport default shape_designer.filter.FanoutFilter = class FanoutFilter extends Filter {\r\n\r\n  constructor() {\r\n    super(\"shape_designer.filter.FanoutFilter\")\r\n  }\r\n\r\n  insertPane(figure, $parent) {\r\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\r\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#' + this.cssScope + '_width_panel\">' +\r\n      '     Maximal fan out' +\r\n      '</div>' +\r\n\r\n      ' <div class=\"panel-body collapse in\" id=\"' + this.cssScope + '_width_panel\">' +\r\n      '   <div class=\"form-group\">' +\r\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\r\n      '       <input id=\"filter_' + this.cssScope + '_fanout\" type=\"text\" value=\"' + figure.getMaxFanOut() + '\" name=\"filter_' + this.cssScope + '_fanout\" class=\"mousetrap-pause form-control\" />' +\r\n      '   </div>' +\r\n      ' </div>' +\r\n      '</div>')\r\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\r\n\r\n    $(\"input[name='filter_\" + this.cssScope + \"_fanout']\").TouchSpin({\r\n      min: 0,\r\n      max: 50,\r\n      step: 1,\r\n      maxboostedstep: 1,\r\n      postfix: 'px'\r\n    })\r\n    $(\"input[name='filter_\" + this.cssScope + \"_fanout']\").on(\"change\", $.proxy(function () {\r\n      this.setMaxFanOut(parseInt($(\"input[name='filter_\" + this.cssScope + \"_fanout']\").val()))\r\n    }, figure))\r\n\r\n\r\n  }\r\n\r\n  removePane() {\r\n  }\r\n\r\n  onInstall(figure) {\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import Filter from \"./Filter\"\r\nimport jscolor from \"../widget/jscolor/jscolor\"\r\n\r\nexport default shape_designer.filter.FillColorFilter = class FillColorFilter extends Filter {\r\n\r\n  constructor() {\r\n    super(\"shape_designer.filter.FillColorFilter\")\r\n    this.colorPicker = null\r\n  }\r\n\r\n  insertPane(figure, $parent) {\r\n\r\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\r\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#color_fill_panel\">' +\r\n      '    Color Fill' +\r\n      '    <span id=\"button_remove_FillColorFilter\"><img class=\"svg icon pull-right\" src=\"./images/dialog_close.svg\"/><span>' +\r\n      ' </div>' +\r\n\r\n      ' <div class=\"panel-body collapse in\" id=\"color_fill_panel\">' +\r\n      '   <div class=\"form-group\">' +\r\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\r\n      '      <div class=\"input-group\">' +\r\n      '          <span class=\"input-group-addon\">#</span>' +\r\n      '          <input id=\"filter_color_fill\" type=\"text\" value=\"\" name=\"filter_color_fill\" class=\"mousetrap-pause form-control color\"/>' +\r\n      '       </div>' +\r\n      '    </div>' +\r\n      ' </div>' +\r\n      '</div>')\r\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\r\n\r\n    var picker = this.colorPicker = new jscolor.color(document.getElementById('filter_color_fill'), {})\r\n    this.colorPicker.fromString(figure.getBackgroundColor().hash())\r\n    this.colorPicker.onImmediateChange = $.proxy(function () {\r\n      this.setBackgroundColor(\"#\" + picker.toString())\r\n    }, figure)\r\n\r\n    $(\"#button_remove_FillColorFilter\").on(\"click\", $.proxy(function () {\r\n      figure.removeFilter(this)\r\n      figure.setBackgroundColor(null)\r\n      $(\"#\"+this.containerId).animate({\"height\": \"0\", \"opacity\": 0, \"margin-bottom\": 0}, 500, function () {\r\n        $('#'+this.containerId).remove()\r\n      })\r\n    }, this))\r\n  }\r\n\r\n  onInstall(figure) {\r\n    figure.setBackgroundColor(\"#f0f3f3\")\r\n  }\r\n\r\n  removePane() {\r\n    if (this.colorPicker !== null) {\r\n      this.colorPicker.hidePicker()\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","export default class Filter {\r\n\r\n  constructor(name) {\r\n    this.NAME = name\r\n    this.colorPicker = null\r\n    this.cssScope = this.NAME.replace(/[.]/g, \"_\")\r\n    this.containerId= this.cssScope+\"_container\"\r\n  }\r\n\r\n  /**\r\n   * @method\r\n   * Sent when an event occurs on the command stack. draw2d.command.CommandStackEvent.getDetail()\r\n   * can be used to identify the type of event which has occurred.\r\n   *\r\n   * @template\r\n   *\r\n   **/\r\n  apply(figure, attributes) {\r\n  }\r\n\r\n  onInstall(figure) {\r\n  }\r\n\r\n  insertPane(figure, $parent) {\r\n\r\n  }\r\n\r\n  removePane() {\r\n  }\r\n\r\n  getPersistentAttributes(relatedFigure) {\r\n    var memento = {}\r\n    memento.name = this.NAME\r\n\r\n    return memento\r\n  }\r\n\r\n  setPersistentAttributes(relatedFigure, memento) {\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import jscolor from \"../widget/jscolor/jscolor\"\r\n\r\nimport Filter from \"./Filter\"\r\n\r\nexport default shape_designer.filter.FontColorFilter = class FontColorFilter extends Filter {\r\n\r\n  constructor() {\r\n    super(\"shape_designer.filter.FontColorFilter\")\r\n    this.colorPicker = null\r\n  }\r\n\r\n  insertPane(figure, $parent) {\r\n\r\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\r\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#color_fill_panel\">' +\r\n      '    Font Color' +\r\n      '    <span id=\"button_remove_FillColorFilter\"><img class=\"svg icon pull-right\" src=\"./images/dialog_close.svg\"/></span>' +\r\n      ' </div>' +\r\n\r\n      ' <div class=\"panel-body collapse in\" id=\"color_fill_panel\">' +\r\n      '   <div class=\"form-group\">' +\r\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\r\n      '      <div class=\"input-group\">' +\r\n      '          <span class=\"input-group-addon\">#</span>' +\r\n      '          <input id=\"filter_color_fill\" type=\"text\" value=\"\" name=\"filter_color_fill\" class=\"mousetrap-pause form-control color\"/>' +\r\n      '       </div>' +\r\n      '    </div>' +\r\n      ' </div>' +\r\n      '</div>')\r\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\r\n\r\n    var picker = this.colorPicker = new jscolor.color(document.getElementById('filter_color_fill'), {})\r\n    this.colorPicker.fromString(figure.getFontColor().hash())\r\n    this.colorPicker.onImmediateChange = $.proxy(function () {\r\n      this.setFontColor(\"#\" + picker.toString())\r\n    }, figure)\r\n\r\n    $(\"#button_remove_FillColorFilter\").on(\"click\", () => {\r\n      figure.removeFilter(this)\r\n      figure.setFontColor(null)\r\n      $(\"#\"+this.containerId).animate({\"height\": \"0\", \"opacity\": 0, \"margin-bottom\": 0}, 500, () => {\r\n        $('#'+this.containerId).remove()\r\n      })\r\n    })\r\n  }\r\n\r\n  onInstall(figure) {\r\n    figure.setFontColor(\"#000000\")\r\n  }\r\n\r\n  removePane() {\r\n    if (this.colorPicker !== null) {\r\n      this.colorPicker.hidePicker()\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import Filter from \"./Filter\"\r\n\r\nexport default shape_designer.filter.FontSizeFilter = class FontSizeFilter extends Filter {\r\n\r\n  constructor() {\r\n    super(\"shape_designer.filter.FontSizeFilter\")\r\n  }\r\n\r\n  insertPane(figure, $parent) {\r\n\r\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\r\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#fontsize_width_panel\">' +\r\n      '     Font Size' +\r\n      '    <span id=\"button_remove_FontSizeFilter\"><img  class=\"svg icon pull-right\" src=\"./images/dialog_close.svg\"/></span>' +\r\n      '</div>' +\r\n\r\n      ' <div class=\"panel-body collapse in\" id=\"fontsize_width_panel\">' +\r\n      '   <div class=\"form-group\">' +\r\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\r\n      '       <input id=\"filter_fontsize\" type=\"text\" value=\"' + figure.getFontSize() + '\" name=\"filter_fontsize\" class=\"mousetrap-pause form-control\" />' +\r\n      '   </div>' +\r\n      ' </div>' +\r\n      '</div>')\r\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\r\n\r\n    $(\"#filter_fontsize\").TouchSpin({\r\n      min: 4,\r\n      max: 300,\r\n      step: 1,\r\n      boostat: figure.getFontSize(),\r\n      maxboostedstep: 10,\r\n      postfix: 'px'\r\n    })\r\n\r\n    $(\"input[name='filter_fontsize']\").on(\"change\", $.proxy(function () {\r\n      this.setFontSize(parseInt($(\"input[name='filter_fontsize']\").val()))\r\n    }, figure))\r\n\r\n\r\n    $(\"#button_remove_FontSizeFilter\").on(\"click\", () => {\r\n      figure.removeFilter(this)\r\n      figure.setFontSize(12)\r\n      $(\"#\"+this.containerId).animate({\"height\": \"0\", \"opacity\": 0, \"margin-bottom\": 0}, 500, () => {\r\n        $('#'+this.containerId).remove()\r\n      })\r\n    })\r\n  }\r\n\r\n  removePane() {\r\n  }\r\n\r\n  onInstall(figure) {\r\n    //   figure.setFontSize(1);\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import jscolor from \"../widget/jscolor/jscolor\"\r\n\r\nimport Filter from \"./Filter\"\r\nimport \"../widget/ui.anglepicker\"\r\n\r\nexport default shape_designer.filter.LinearGradientFilter = class LinearGradientFilter extends Filter {\r\n\r\n  constructor() {\r\n    super(\"shape_designer.filter.LinearGradientFilter\")\r\n    this.colorPicker1 = null\r\n    this.colorPicker2 = null\r\n\r\n    this.startColor = \"#f0f0f0\"\r\n    this.endColor = \"#3f3f3f\"\r\n    this.angle = 0\r\n  }\r\n\r\n  insertPane(figure, $parent) {\r\n\r\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\r\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#' + this.cssScope + '_panel\">' +\r\n      '     Linear Gradient' +\r\n      '    <span id=\"button_remove_' + this.cssScope + '\"><img  class=\"svg icon pull-right\" src=\"./images/dialog_close.svg\"/></span>' +\r\n      '</div>' +\r\n\r\n      ' <div class=\"panel-body collapse in\" id=\"' + this.cssScope + '_panel\">' +\r\n      '   <div class=\"form-group\">' +\r\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\r\n      '      <div class=\"input-group text-center\" style=\"width:100%\" >' +\r\n      '           <div id=\"' + this.cssScope + '_angle\" />' +\r\n      '      </div> ' +\r\n      '       <div class=\"input-group\">' +\r\n      '          <span class=\"input-group-addon\">#</span>' +\r\n      '          <input id=\"' + this.cssScope + '_color1\" type=\"text\" value=\"' + this.startColor + '\" class=\"mousetrap-pause form-control color\"/>' +\r\n      '       </div>' +\r\n      '       <div class=\"input-group\">' +\r\n      '          <span class=\"input-group-addon\">#</span>' +\r\n      '          <input id=\"' + this.cssScope + '_color2\" type=\"text\" value=\"' + this.endColor + '\" class=\"mousetrap-pause form-control color\"/>' +\r\n      '       </div>' +\r\n      '   </div>' +\r\n      ' </div>' +\r\n      '</div>')\r\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\r\n\r\n    $('#' + this.cssScope + '_angle').anglepicker({\r\n      start: function (e, ui) {\r\n\r\n      },\r\n      change: (e, ui) => {\r\n        this.angle = ui.value\r\n        figure.repaint()\r\n      },\r\n      stop: (e, ui) => {\r\n      },\r\n      value: this.angle\r\n    })\r\n\r\n    let picker1 = this.colorPicker1 = new jscolor.color($(\"#\" + this.cssScope + '_color1')[0], {})\r\n    this.colorPicker1.fromString(this.startColor)\r\n    this.colorPicker1.onImmediateChange = () => {\r\n      this.startColor = \"#\" + picker1.toString()\r\n      figure.repaint()\r\n    }\r\n\r\n    let picker2 = this.colorPicker2 = new jscolor.color($(\"#\" + this.cssScope + '_color2')[0], {})\r\n    this.colorPicker2.fromString(this.endColor)\r\n    this.colorPicker2.onImmediateChange = () => {\r\n      this.endColor = \"#\" + picker2.toString()\r\n      figure.repaint()\r\n    }\r\n\r\n\r\n    $(\"#button_remove_\" + this.cssScope).on(\"click\", () => {\r\n      figure.removeFilter(this)\r\n      $('#' + this.containerId ).animate({\r\n        \"height\": \"0\",\r\n        \"opacity\": 0,\r\n        \"margin-bottom\": 0\r\n      }, 500, () => {\r\n        $('#' + this.containerId ).remove()\r\n      })\r\n    })\r\n  }\r\n\r\n  apply(figure, attributes) {\r\n    attributes.fill = this.angle + \"-\" + this.endColor + \"-\" + this.startColor\r\n  }\r\n\r\n  removePane() {\r\n    if (this.colorPicker1 !== null) {\r\n      this.colorPicker1.hidePicker()\r\n    }\r\n    if (this.colorPicker2 !== null) {\r\n      this.colorPicker2.hidePicker()\r\n    }\r\n  }\r\n\r\n  onInstall(figure) {\r\n    figure.setStroke(1)\r\n  }\r\n\r\n  getPersistentAttributes(relatedFigure) {\r\n    let memento = super.getPersistentAttributes(relatedFigure)\r\n\r\n    memento.startColor = this.startColor\r\n    memento.endColor = this.endColor\r\n    memento.angle = this.angle\r\n\r\n    return memento\r\n  }\r\n\r\n  setPersistentAttributes(relatedFigure, memento) {\r\n    super.setPersistentAttributes(relatedFigure, memento)\r\n\r\n    this.startColor = memento.startColor\r\n    this.endColor = memento.endColor\r\n    this.angle = memento.angle\r\n\r\n    return memento\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import Filter from \"./Filter\"\r\n\r\nexport default shape_designer.filter.OpacityFilter = class OpacityFilter extends Filter {\r\n\r\n  constructor() {\r\n    super(\"shape_designer.filter.OpacityFilter\")\r\n  }\r\n\r\n  insertPane(figure, $parent) {\r\n\r\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\r\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#opacity_panel\">' +\r\n      '    Opacity' +\r\n      '    <span id=\"button_remove_OpacityFilter\"><img  class=\"svg icon pull-right\" src=\"./images/dialog_close.svg\"/></span>' +\r\n      '</div>' +\r\n      ' <div class=\"panel-body collapse in\" id=\"opacity_panel\">' +\r\n      '   <div class=\"form-group\">' +\r\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\r\n      '      <div class=\"input-group\">' +\r\n      '         <input class=\"mousetrap-pause form-control\" id=\"filter_opacity\" type=\"text\" value=\"' + parseInt(figure.getAlpha() * 100) + '\" />' +\r\n      '      </div>' +\r\n      '   </div>' +\r\n      ' </div>' +\r\n      '</div>')\r\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\r\n\r\n    $(\"#filter_opacity\").TouchSpin({\r\n      min: 0,\r\n      max: 100,\r\n      step: 5,\r\n      boostat: parseInt(figure.getAlpha() * 100),\r\n      maxboostedstep: 10,\r\n      postfix: '%'\r\n    })\r\n    $(\"#filter_opacity\").on(\"change\", $.proxy(function () {\r\n      this.setAlpha(parseInt($(\"#filter_opacity\").val()) / 100.0)\r\n    }, figure))\r\n\r\n    $(\"#button_remove_OpacityFilter\").on(\"click\", () => {\r\n      figure.removeFilter(this)\r\n      figure.setAlpha(1)\r\n      $(\"#\"+this.containerId).animate({\"height\": \"0\", \"opacity\": 0, \"margin-bottom\": 0}, 500, () => {\r\n        $('#'+this.containerId).remove()\r\n      })\r\n    })\r\n  }\r\n\r\n  removePane() {\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import jscolor from \"../widget/jscolor/jscolor\"\r\n\r\nimport Filter from \"./Filter\"\r\n\r\nexport default shape_designer.filter.OutlineStrokeFilter = class OutlineStrokeFilter extends Filter {\r\n\r\n  constructor() {\r\n    super(\"shape_designer.filter.OutlineStrokeFilter\")\r\n    this.colorPicker = null\r\n  }\r\n\r\n  insertPane(figure, $parent) {\r\n\r\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\r\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#outlinestroke_width_panel\">' +\r\n      '     Outline Stroke' +\r\n      '    <img id=\"button_remove_OutlineStrokeFilter\" class=\"icon pull-right\" src=\"./images/dialog_close.svg\"/>' +\r\n      '</div>' +\r\n\r\n      ' <div class=\"panel-body collapse in\" id=\"outlinestroke_width_panel\">' +\r\n      '   <div class=\"form-group\">' +\r\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\r\n      '       <input id=\"filter_outlinestroke\" type=\"text\" value=\"' + figure.getOutlineStroke() + '\" name=\"filter_outlinestroke\" class=\"mousetrap-pause form-control\" />' +\r\n      '       <div class=\"input-group\">' +\r\n      '          <span class=\"input-group-addon\">#</span>' +\r\n      '          <input id=\"filter_outlinestroke_color\" type=\"text\" value=\"\" name=\"outlinestroke-color\" class=\"mousetrap-pause form-control color\"/>' +\r\n      '       </div>' +\r\n      '   </div>' +\r\n      ' </div>' +\r\n      '</div>')\r\n\r\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\r\n\r\n    $(\"input[name='filter_outlinestroke']\")\r\n      .TouchSpin({\r\n        min: 0,\r\n        max: 50,\r\n        step: 1,\r\n        boostat: figure.getOutlineStroke(),\r\n        maxboostedstep: 10,\r\n        postfix: 'px'\r\n      })\r\n      .on(\"change\", $.proxy(function () {\r\n        this.setOutlineStroke(parseFloat($(\"input[name='filter_outlinestroke']\").val()))\r\n      }, figure))\r\n\r\n\r\n    let picker = this.colorPicker = new jscolor.color(document.getElementById('filter_outlinestroke_color'), {})\r\n    this.colorPicker.fromString(figure.getOutlineColor().hash())\r\n    this.colorPicker.onImmediateChange = $.proxy(function () {\r\n      this.setOutlineColor(\"#\" + picker.toString())\r\n    }, figure)\r\n\r\n    $(\"#button_remove_OutlineStrokeFilter\").on(\"click\", () => {\r\n      figure.removeFilter(this)\r\n      figure.setOutlineStroke(0)\r\n      $(\"#\"+this.containerId).animate({\"height\": \"0\", \"opacity\": 0, \"margin-bottom\": 0}, 500, () => {\r\n        $('#'+this.containerId).remove()\r\n      })\r\n    })\r\n  }\r\n\r\n  removePane() {\r\n    if (this.colorPicker !== null) {\r\n      this.colorPicker.hidePicker()\r\n    }\r\n  }\r\n\r\n  onInstall(figure) {\r\n    figure.setOutlineStroke(1)\r\n    figure.setOutlineColor(\"#ff0000\")\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import Filter from \"./Filter\"\r\n\r\nexport default shape_designer.filter.PortDirectionFilter = class PortDirectionFilter extends Filter {\r\n\r\n  constructor() {\r\n    super(\"shape_designer.filter.PortDirectionFilter\")\r\n  }\r\n\r\n  insertPane(figure, $parent) {\r\n    var _this = this\r\n    var dir = figure.getConnectionDirection()\r\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\r\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#' + this.cssScope + '_panel\">' +\r\n      '     Connection Direction' +\r\n      '</div>' +\r\n\r\n      ' <div class=\"panel-body collapse in\" id=\"' + this.cssScope + '_panel\">' +\r\n      '   <div class=\"form-group portDirectionOption\">' +\r\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\r\n\r\n      '<label>' +\r\n      '  <input ' + (dir === 0 ? ' checked=\"checked\"' : '') + ' type=\"radio\" value=\"\" name=\"' + this.cssScope + '_label\" name=\"' + this.cssScope + '_label\" data-dir=\"0\" />' +\r\n      '  <span  title=\"up\" class=\"glyphicon glyphicon-arrow-up\"></span>' +\r\n      '</label>' +\r\n\r\n      '<br>' +\r\n\r\n      '<label>' +\r\n      '  <input ' + (dir === 3 ? ' checked=\"checked\"' : '') + 'type=\"radio\" value=\"\" name=\"' + this.cssScope + '_label\" name=\"' + this.cssScope + '_label\" data-dir=\"3\" />' +\r\n      '  <span  title=\"left\" class=\"glyphicon glyphicon-arrow-left\"></span>' +\r\n      '</label>' +\r\n\r\n      '<label>' +\r\n      '  <input ' + (dir === null ? ' checked=\"checked\"' : '') + 'type=\"radio\" value=\"\" name=\"' + this.cssScope + '_label\" name=\"' + this.cssScope + '_label\" data-dir=\"null\" />' +\r\n      '  <span title=\"automatic\" class=\"glyphicon glyphicon-screenshot\"></span>' +\r\n      '</label>' +\r\n\r\n      '<label>' +\r\n      '  <input ' + (dir === 1 ? ' checked=\"checked\"' : '') + 'type=\"radio\" value=\"\" name=\"' + this.cssScope + '_label\" name=\"' + this.cssScope + '_label\" data-dir=\"1\" />' +\r\n      '  <span title=\"right\"  class=\"glyphicon glyphicon-arrow-right\"></span>' +\r\n      '</label>' +\r\n\r\n      '<br>' +\r\n\r\n      '<label>' +\r\n      '  <input ' + (dir === 2 ? ' checked=\"checked\"' : '') + 'type=\"radio\" value=\"\" name=\"' + this.cssScope + '_label\" name=\"' + this.cssScope + '_label\" data-dir=\"2\" />' +\r\n      '  <span  title=\"down\" class=\"glyphicon glyphicon-arrow-down\"></span>' +\r\n      '</label>' +\r\n\r\n\r\n      '       </div>' +\r\n      '   </div>' +\r\n      ' </div>' +\r\n      '</div>')\r\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\r\n\r\n    $(\"#\" + _this.cssScope + \"_panel .portDirectionOption input\").on(\"change\", (event) => {\r\n      figure.setConnectionDirection($(event.currentTarget).data(\"dir\"))\r\n    })\r\n  }\r\n\r\n  removePane() {\r\n  }\r\n\r\n  onInstall(figure) {\r\n  }\r\n\r\n  getPersistentAttributes(relatedFigure) {\r\n    var memento = super.getPersistentAttributes(relatedFigure)\r\n\r\n    return memento\r\n  }\r\n\r\n  setPersistentAttributes(relatedFigure, memento) {\r\n    super.setPersistentAttributes(relatedFigure, memento)\r\n\r\n    return memento\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import Filter from \"./Filter\"\r\n\r\nexport default shape_designer.filter.PortTypeFilter = class PortTypeFilter extends Filter {\r\n\r\n  constructor() {\r\n    super(\"shape_designer.filter.PortTypeFilter\")\r\n  }\r\n\r\n  insertPane(figure, $parent) {\r\n    var _this = this\r\n    var type = figure.getInputType()\r\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\r\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#' + this.cssScope + '_panel\">' +\r\n      '     Port Type' +\r\n      '</div>' +\r\n\r\n      ' <div class=\"panel-body collapse in\" id=\"' + this.cssScope + '_panel\">' +\r\n      '   <div class=\"form-group portTypeOption\">' +\r\n\r\n      '<label>' +\r\n      '  <input ' + (type == 'Input' ? ' checked=\"checked\"' : '') + 'type=\"radio\" value=\"\" name=\"' + this.cssScope + '_label\" name=\"' + this.cssScope + '_label\" data-type=\"Input\" />' +\r\n      '  <span  title=\"down\" class=\"icon ion-log-in\">input</span>' +\r\n      '</label>' +\r\n      '<br>' +\r\n      '<label>' +\r\n      '  <input ' + (type == 'Output' ? ' checked=\"checked\"' : '') + 'type=\"radio\" value=\"\" name=\"' + this.cssScope + '_label\" name=\"' + this.cssScope + '_label\" data-type=\"Output\" />' +\r\n      '  <span  title=\"down\" class=\"icon ion-log-out\">output</span>' +\r\n      '</label>' +\r\n      '<br>' +\r\n      '<label>' +\r\n      '  <input ' + (type == 'Hybrid' ? ' checked=\"checked\"' : '') + 'type=\"radio\" value=\"\" name=\"' + this.cssScope + '_label\" name=\"' + this.cssScope + '_label\" data-type=\"Hybrid\" />' +\r\n      '  <span  title=\"down\" class=\"icon ion-ios-circle-outline\">unspecified</span>' +\r\n      '</label>' +\r\n\r\n      '       </div>' +\r\n      '   </div>' +\r\n      ' </div>' +\r\n      '</div>')\r\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\r\n\r\n    $(\"#\" + _this.cssScope + \"_panel .portTypeOption input\").on(\"change\", (event) => {\r\n      figure.setInputType($(event.currentTarget).data(\"type\"))\r\n    })\r\n  }\r\n\r\n  removePane() {\r\n  }\r\n\r\n  onInstall(figure) {\r\n  }\r\n\r\n  getPersistentAttributes(relatedFigure) {\r\n    var memento = super.getPersistentAttributes(relatedFigure)\r\n\r\n    return memento\r\n  }\r\n\r\n  setPersistentAttributes(relatedFigure, memento) {\r\n    super.setPersistentAttributes(relatedFigure, memento)\r\n\r\n    return memento\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import Filter from \"./Filter\"\r\n\r\nexport default shape_designer.filter.PositionFilter = class PositionFilter extends Filter {\r\n\r\n  constructor() {\r\n    super(\"shape_designer.filter.PositionFilter\")\r\n  }\r\n\r\n  insertPane(figure, $parent) {\r\n\r\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\r\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#position_width_panel\">' +\r\n      '     Position' +\r\n      '</div>' +\r\n      ' <div class=\"panel-body  collapse in\" id=\"position_width_panel\">' +\r\n      '   <div class=\"form-group\">' +\r\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\r\n      '       <input id=\"filter_position_x\" type=\"text\" value=\"' + parseFloat(figure.getPosition().x) + '\" name=\"filter_position_x\" class=\"mousetrap-pause form-control\" />' +\r\n      '       <input id=\"filter_position_y\" type=\"text\" value=\"' + parseFloat(figure.getPosition().y) + '\" name=\"filter_position_y\" class=\"mousetrap-pause form-control\" />' +\r\n      '   </div>' +\r\n      ' </div>' +\r\n      '</div>')\r\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\r\n\r\n    $(\"#filter_position_x\").TouchSpin({\r\n      min: 0,\r\n      max: 10000,\r\n      step: 1,\r\n      maxboostedstep: 10,\r\n      postfix: 'X'\r\n    })\r\n\r\n    $(\"#filter_position_y\").TouchSpin({\r\n      min: 0,\r\n      max: 10000,\r\n      step: 1,\r\n      maxboostedstep: 10,\r\n      postfix: 'Y'\r\n    })\r\n\r\n    $(\"input[name='filter_position_x']\").on(\"change\", () => {\r\n      try {\r\n        this.block = true\r\n        let pos = figure.getPosition()\r\n        figure.setPosition(parseFloat($(\"input[name='filter_position_x']\").val()), pos.y)\r\n      }\r\n      finally {\r\n        this.block = false\r\n      }\r\n    })\r\n\r\n    $(\"input[name='filter_position_y']\").on(\"change\", () => {\r\n      try {\r\n        this.block = true\r\n        let pos = figure.getPosition()\r\n        figure.setPosition(pos.x, parseFloat($(\"input[name='filter_position_y']\").val()))\r\n      }\r\n      finally {\r\n        this.block = false\r\n      }\r\n    })\r\n  }\r\n\r\n  apply(figure, attributes) {\r\n    if (this.block === true) {\r\n      return\r\n    }\r\n    let pos = figure.getPosition()\r\n    $(\"input[name='filter_position_y']\").val(pos.y)\r\n    $(\"input[name='filter_position_x']\").val(pos.x)\r\n  }\r\n\r\n  removePane() {\r\n  }\r\n\r\n  onInstall(figure) {\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import Filter from \"./Filter\"\r\n\r\nexport default shape_designer.filter.RadiusFilter = class RadiusFilter extends Filter {\r\n\r\n  constructor() {\r\n    super(\"shape_designer.filter.RadiusFilter\")\r\n  }\r\n\r\n  insertPane(figure, $parent) {\r\n\r\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\r\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#radius_panel\">' +\r\n      '    Corner Radius' +\r\n      '    <span id=\"button_remove_RadiusFilter\"><img class=\"svg icon pull-right\" src=\"./images/dialog_close.svg\"/></span>' +\r\n      '</div>' +\r\n      ' <div class=\"panel-body collapse in\" id=\"radius_panel\">' +\r\n      '   <div class=\"form-group\">' +\r\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\r\n      '      <div class=\"input-group\">' +\r\n      '         <input class=\"mousetrap-pause form-control\" id=\"filter_radius\" type=\"text\" value=\"' + figure.getRadius() + '\" />' +\r\n      '      </div>' +\r\n      '   </div>' +\r\n      ' </div>' +\r\n      '</div>')\r\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\r\n\r\n    $(\"#filter_radius\").TouchSpin({\r\n      min: 0,\r\n      max: 200,\r\n      step: 1,\r\n      maxboostedstep: 10,\r\n      postfix: 'px'\r\n    })\r\n    $(\"#filter_radius\").on(\"change\", $.proxy(function () {\r\n      this.setRadius(parseInt($(\"#filter_radius\").val()))\r\n    }, figure))\r\n\r\n    $(\"#button_remove_RadiusFilter\").on(\"click\", () => {\r\n      figure.removeFilter(this)\r\n      figure.setRadius(0)\r\n      $(\"#\"+this.containerId).animate({\"height\": \"0\", \"opacity\": 0, \"margin-bottom\": 0}, 500, () => {\r\n        $('#'+this.containerId).remove()\r\n      })\r\n    })\r\n  }\r\n\r\n  removePane() {\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import Filter from \"./Filter\"\r\n\r\nexport default shape_designer.filter.SizeFilter = class SizeFilter extends Filter {\r\n\r\n  constructor() {\r\n    super(\"shape_designer.filter.SizeFilter\")\r\n  }\r\n\r\n  insertPane(figure, $parent) {\r\n\r\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\r\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#size_width_panel\">' +\r\n      '     Size' +\r\n      ' </div>' +\r\n      ' <div class=\"panel-body  collapse in\" id=\"size_width_panel\">' +\r\n      '   <div class=\"form-group\">' +\r\n      '       <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\r\n      '       <input id=\"filter_width\"  type=\"text\" value=\"' + figure.getWidth() + '\"  name=\"filter_width\"  class=\"mousetrap-pause form-control\" />' +\r\n      '       <input id=\"filter_height\" type=\"text\" value=\"' + figure.getHeight() + '\" name=\"filter_height\" class=\"mousetrap-pause form-control\" />' +\r\n      '   </div>' +\r\n      ' </div>' +\r\n      '</div>')\r\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\r\n\r\n    $(\"#filter_width\").TouchSpin({\r\n      min: 0,\r\n      max: 600,\r\n      step: 1,\r\n      maxboostedstep: 10,\r\n      postfix: 'width'\r\n    })\r\n\r\n    $(\"#filter_height\").TouchSpin({\r\n      min: 0,\r\n      max: 600,\r\n      step: 1,\r\n      maxboostedstep: 10,\r\n      postfix: 'height'\r\n    })\r\n\r\n    $(\"input[name='filter_width']\").on(\"change\", () => {\r\n      try {\r\n        this.block = true\r\n        figure.setWidth(parseInt($(\"input[name='filter_width']\").val()))\r\n      }\r\n      finally {\r\n        this.block = false\r\n      }\r\n    })\r\n\r\n    $(\"input[name='filter_height']\").on(\"change\", () => {\r\n      try {\r\n        this.block = true\r\n        figure.setHeight(parseInt($(\"input[name='filter_height']\").val()))\r\n      }\r\n      finally {\r\n        this.block = false\r\n      }\r\n    })\r\n  }\r\n\r\n  apply(figure, attributes) {\r\n    if (this.block === true) {\r\n      return\r\n    }\r\n\r\n    $(\"input[name='filter_width']\").val(figure.getWidth())\r\n    $(\"input[name='filter_height']\").val(figure.getHeight())\r\n  }\r\n\r\n  removePane() {\r\n  }\r\n\r\n  onInstall(figure) {\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import jscolor from \"../widget/jscolor/jscolor\"\r\n\r\nimport Filter from \"./Filter\"\r\n\r\nexport default shape_designer.filter.StrokeFilter = class StrokeFilter extends Filter {\r\n\r\n  constructor() {\r\n    super(\"shape_designer.filter.StrokeFilter\")\r\n  }\r\n\r\n  insertPane(figure, $parent) {\r\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\r\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#' + this.cssScope + '_width_panel\">' +\r\n      '     Stroke' +\r\n      '    <span id=\"button_remove_' + this.cssScope + '\"><img  class=\"svg icon pull-right\" src=\"./images/dialog_close.svg\"/></span>' +\r\n      '</div>' +\r\n\r\n      ' <div class=\"panel-body collapse in\" id=\"' + this.cssScope + '_width_panel\">' +\r\n      '   <div class=\"form-group\">' +\r\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\r\n      '       <input id=\"filter_' + this.cssScope + '_width\" type=\"text\" value=\"' + figure.getStroke() + '\" name=\"filter_' + this.cssScope + '_width\" class=\"mousetrap-pause form-control\" />' +\r\n      '       <div class=\"input-group\">' +\r\n      '          <span class=\"input-group-addon\">#</span>' +\r\n      '          <input id=\"filter_' + this.cssScope + '_color\" type=\"text\" value=\"\" name=\"stroke_' + this.cssScope + '_color\" class=\"mousetrap-pause form-control color\"/>' +\r\n      '       </div>' +\r\n      '   </div>' +\r\n      ' </div>' +\r\n      '</div>')\r\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\r\n\r\n    $(\"input[name='filter_\" + this.cssScope + \"_width']\").TouchSpin({\r\n      min: 0,\r\n      max: 50,\r\n      step: 1,\r\n      maxboostedstep: 1,\r\n      postfix: 'px'\r\n    })\r\n    $(\"input[name='filter_\" + this.cssScope + \"_width']\").on(\"change\", $.proxy(function () {\r\n      this.setStroke(parseInt($(\"input[name='filter_\" + this.cssScope + \"_width']\").val()))\r\n    }, figure))\r\n\r\n    var picker = this.colorPicker = new jscolor.color(document.getElementById('filter_' + this.cssScope + '_color'), {})\r\n    this.colorPicker.fromString(figure.getColor().hash())\r\n    this.colorPicker.onImmediateChange = $.proxy(function () {\r\n      this.setColor(\"#\" + picker.toString())\r\n    }, figure)\r\n\r\n    $(\"#button_remove_\" + this.cssScope).on(\"click\", () => {\r\n      figure.removeFilter(this)\r\n      figure.setStroke(0)\r\n      $(\"#\" + this.containerId ).animate({\"height\": \"0\", \"opacity\": 0, \"margin-bottom\": 0}, 500, () => {\r\n        $('#' + this.containerId).remove()\r\n      })\r\n    })\r\n  }\r\n\r\n  removePane() {\r\n    if (this.colorPicker !== null) {\r\n      this.colorPicker.hidePicker()\r\n    }\r\n  }\r\n\r\n  onInstall(figure) {\r\n    figure.setStroke(1)\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import jscolor from \"../widget/jscolor/jscolor\"\r\n\r\nimport Filter from \"./Filter\"\r\nimport \"../widget/ui.anglepicker\"\r\n\r\nexport default shape_designer.filter.TextLinearGradientFilter = class TextLinearGradientFilter extends Filter {\r\n\r\n  constructor() {\r\n    super(\"shape_designer.filter.TextLinearGradientFilter\")\r\n    this.colorPicker1 = null\r\n    this.colorPicker2 = null\r\n    this.startColor = \"#f0f0f0\"\r\n    this.endColor = \"#3f3f3f\"\r\n    this.angle = 0\r\n  }\r\n\r\n  insertPane(figure, $parent) {\r\n\r\n    $parent.append('<div id=\"' + this.containerId + '\" class=\"panel panel-default\">' +\r\n      ' <div class=\"panel-heading filter-heading\" data-toggle=\"collapse\" data-target=\"#' + this.cssScope + '_panel\">' +\r\n      '     Linear Gradient' +\r\n      '    <span id=\"button_remove_' + this.cssScope + '\"><img  class=\"svg icon pull-right\" src=\"./images/dialog_close.svg\"/></span>' +\r\n      '</div>' +\r\n\r\n      ' <div class=\"panel-body collapse in\" id=\"' + this.cssScope + '_panel\">' +\r\n      '   <div class=\"form-group\">' +\r\n      '      <div class=\"input-group\" ></div> ' + // required to ensure the correct width of the siblings\r\n      '      <div class=\"input-group text-center\" style=\"width:100%\" >' +\r\n      '           <div id=\"' + this.cssScope + '_angle\" />' +\r\n      '      </div> ' +\r\n      '       <div class=\"input-group\">' +\r\n      '          <span class=\"input-group-addon\">#</span>' +\r\n      '          <input id=\"' + this.cssScope + '_color1\" type=\"text\" value=\"' + this.startColor + '\" class=\"mousetrap-pause form-control color\"/>' +\r\n      '       </div>' +\r\n      '       <div class=\"input-group\">' +\r\n      '          <span class=\"input-group-addon\">#</span>' +\r\n      '          <input id=\"' + this.cssScope + '_color2\" type=\"text\" value=\"' + this.endColor + '\" class=\"mousetrap-pause form-control color\"/>' +\r\n      '       </div>' +\r\n      '   </div>' +\r\n      ' </div>' +\r\n      '</div>')\r\n    inlineSVG.init({svgSelector:\"#\"+this.containerId + \" img.svg\"})\r\n\r\n    $('#' + this.cssScope + '_angle').anglepicker({\r\n      start: (e, ui) => {\r\n      },\r\n      change: (e, ui) => {\r\n        this.angle = ui.value\r\n        figure.repaint()\r\n      },\r\n      stop: (e, ui) => {\r\n      },\r\n      value: this.angle\r\n    })\r\n\r\n    var picker1 = this.colorPicker1 = new jscolor.color($(\"#\" + this.cssScope + '_color1')[0], {})\r\n    this.colorPicker1.fromString(this.startColor)\r\n    this.colorPicker1.onImmediateChange = () => {\r\n      this.startColor = \"#\" + picker1.toString()\r\n      figure.repaint()\r\n    }\r\n\r\n    var picker2 = this.colorPicker2 = new jscolor.color($(\"#\" + this.cssScope + '_color2')[0], {})\r\n    this.colorPicker2.fromString(this.endColor)\r\n    this.colorPicker2.onImmediateChange = () => {\r\n      this.endColor = \"#\" + picker2.toString()\r\n      figure.repaint()\r\n    }\r\n\r\n\r\n    $(\"#button_remove_\" + this.cssScope).on(\"click\", () => {\r\n      figure.removeFilter(this)\r\n      $('#' + this.containerId).animate({\r\n        \"height\": \"0\",\r\n        \"opacity\": 0,\r\n        \"margin-bottom\": 0\r\n      }, 500, () => {\r\n        $('#' + this.containerId ).remove()\r\n      })\r\n    })\r\n  }\r\n\r\n  apply(figure, attributes, lattr) {\r\n    lattr.fill = this.angle + \"-\" + this.endColor + \"-\" + this.startColor\r\n  }\r\n\r\n  removePane() {\r\n    if (this.colorPicker1 !== null) {\r\n      this.colorPicker1.hidePicker()\r\n    }\r\n    if (this.colorPicker2 !== null) {\r\n      this.colorPicker2.hidePicker()\r\n    }\r\n  }\r\n\r\n  onInstall(figure) {\r\n  }\r\n\r\n  getPersistentAttributes(relatedFigure) {\r\n    let memento = super.getPersistentAttributes(relatedFigure)\r\n\r\n    memento.startColor = this.startColor\r\n    memento.endColor = this.endColor\r\n    memento.angle = this.angle\r\n\r\n    return memento\r\n  }\r\n\r\n  setPersistentAttributes(relatedFigure, memento) {\r\n    super.setPersistentAttributes(relatedFigure, memento)\r\n\r\n    this.startColor = memento.startColor\r\n    this.endColor = memento.endColor\r\n    this.angle = memento.angle\r\n\r\n    return memento\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","// required to register them for JSON serialize/deserialize\r\n//\r\nexport default [\r\n  require(\"./BlurFilter\"),\r\n  require(\"./FanoutFilter\"),\r\n  require(\"./FillColorFilter\"),\r\n  require(\"./Filter\"),\r\n  require(\"./FontColorFilter\"),\r\n  require(\"./FontSizeFilter\"),\r\n  require(\"./LinearGradientFilter\"),\r\n  require(\"./OpacityFilter\"),\r\n  require(\"./OutlineStrokeFilter\"),\r\n  require(\"./PortDirectionFilter\"),\r\n  require(\"./PortTypeFilter\"),\r\n  require(\"./PositionFilter\"),\r\n  require(\"./RadiusFilter\"),\r\n  require(\"./SizeFilter\"),\r\n  require(\"./StrokeFilter\"),\r\n  require(\"./TextLinearGradientFilter\")\r\n]\r\n","\r\nimport DecoratedInputPort from \"./figure/DecoratedInputPort\"\r\nimport CircuitFigure from \"./figure/CircuitFigure\"\r\nimport Mousetrap from \"mousetrap\"\r\nimport \"./util/mousetrap-global\"\r\nimport \"./util/mousetrap-pause\"\r\nimport hardware from \"./Hardware\"\r\nimport inlineSVG from \"../lib/inlineSVG\"\r\nimport LabelInplaceEditor from './LabelInplaceEditor'\r\nimport skillproxy from \"./io/BackendSkills\"\r\n\r\nexport default {\r\n  hardware,\r\n  DecoratedInputPort,\r\n  LabelInplaceEditor,\r\n  Mousetrap,\r\n  CircuitFigure,\r\n  inlineSVG,\r\n  skillproxy\r\n}\r\n","\r\nimport \"../less/index.less\"\r\nimport \"font-awesome/css/font-awesome.css\"\r\nimport global from \"./global\"\r\nimport conf from \"./Configuration\"\r\n\r\n//require('webpack-jquery-ui/css');  //ommit, if you don't want to load basic css theme\r\n\r\n// Resolve name collision between jQuery UI and Twitter Bootstrap\r\n/*** Handle jQuery plugin naming conflict between jQuery UI and Bootstrap ***/\r\n$.widget.bridge('uibutton', $.ui.button)\r\n$.widget.bridge('uitooltip', $.ui.tooltip)\r\n\r\n\r\n\r\n\r\nimport \"./figure/index\"\r\nimport \"./filter/index\"\r\n\r\n// required to be compatible with jquery.layout and jquery.handsontable\r\n//\r\njQuery.uaMatch = function (ua) {\r\n  ua = ua.toLowerCase()\r\n  var match = /(chrome)[ \\/]([\\w.]+)/.exec(ua) ||\r\n    /(webkit)[ \\/]([\\w.]+)/.exec(ua) ||\r\n    /(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(ua) ||\r\n    /(msie) ([\\w.]+)/.exec(ua) ||\r\n    ua.indexOf(\"compatible\") < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(ua) ||\r\n    []\r\n  return {\r\n    browser: match[1] || \"\",\r\n    version: match[2] || \"0\"\r\n  }\r\n}\r\nif (!jQuery.browser) {\r\n  let matched = jQuery.uaMatch(navigator.userAgent)\r\n  let browser = {}\r\n  if (matched.browser) {\r\n    browser[matched.browser] = true\r\n    browser.version = matched.version\r\n  }\r\n// Chrome is Webkit, but Webkit is also Safari.\r\n  if (browser.chrome) {\r\n    browser.webkit = true\r\n  } else if (browser.webkit) {\r\n    browser.safari = true\r\n  }\r\n  jQuery.browser = browser\r\n}\r\n\r\n\r\nimport Application from \"./Application\"\r\n\r\n$(window).load(function () {\r\n\r\n  // export all required classes for deserialize JSON with \"eval\"\r\n  // \"eval\" code didn't sees imported class or code\r\n  //\r\n  for(var k in global) window[k]=global[k];\r\n\r\n  socket = io(\r\n    {\r\n      path: '/socket.io'\r\n    })\r\n\r\n  // Hack: add socket to the global context\r\n  window['socket']=socket;\r\n\r\n  // remove the fileOpen/Save stuff if we run in a \"serverless\" mode. e.g. on gh-pages\r\n  // (fake event from the socket.io mock )\r\n  //\r\n  socket.on(\"serverless\", () => {\r\n    conf.serverless =true\r\n    conf.backend.file.get = file => `./shapes/${file}`\r\n  });\r\n\r\n  socket.on(\"connect\", () => {\r\n    app = shape_designer.app = new Application();\r\n  });\r\n\r\n\r\n});\r\n","import conf from './../Configuration'\r\n\r\nlet sanitize = require(\"sanitize-filename\")\r\n\r\n\r\nclass BackendSkills {\r\n\r\n  /**\r\n   * @constructor\r\n   *\r\n   */\r\n  constructor() {\r\n    this.skillList = [];\r\n    Object.preventExtensions(this);\r\n  }\r\n\r\n  get allSkills() {\r\n    return this.skillList;\r\n  }\r\n\r\n  getSkillStateConfig() {\r\n    return {\r\n        \"nodeKeyProperty\": \"id\",\r\n        \"nodeDataArray\": [\r\n            { \"id\": \"running\", \"text\": \"Running\", \"isGroup\": true, \"group\": \"cleared\", \"isHighlighted\": true, \"nid\": 75 },\r\n            { \"id\": \"stopped\", \"text\": \"Stopped\", \"trans\": 0, \"group\": \"cleared\", \"isHighlighted\": true, \"loc\": \"150 650\", \"nid\": 53 },\r\n            { \"id\": \"cleared\", \"text\": \"cleared\", \"isGroup\": true, \"isHighlighted\": true, \"nid\": 71 },\r\n            { \"id\": \"aborted\", \"text\": \"aborted\", \"trans\": 0, \"loc\": \"600 850\", \"nid\": 62 },\r\n            { \"id\": \"aborting\", \"text\": \"aborting\", \"trans\": 1, \"loc\": \" 370 850\", \"nid\": 61 },\r\n            { \"id\": \"clearing\", \"text\": \"clearing\", \"trans\": 1, \"group\": \"cleared\", \"loc\": \"600 700\", \"nid\": 55 },\r\n            { \"id\": \"stopping\", \"text\": \"stopping\", \"trans\": 1, \"group\": \"cleared\", \"loc\": \"370 650\", \"nid\": 54 },\r\n    \r\n            { \"id\": \"resetting\", \"text\": \"resetting\", \"trans\": 1, \"group\": \"running\", \"isGroup\": true, \"loc\": \"150 500\", \"nid\": 27 },\r\n            { \"id\": \"check_resource\", \"text\": \"Check Res.\", \"trans\": 1, \"group\": \"resetting\", \"isHighlighted\": true, \"loc\": \"0 450\", \"nid\": 1026 },\r\n            { \"id\": \"initialize_resource\", \"text\": \"Init. Res.\", \"trans\": 1, \"group\": \"resetting\", \"loc\": \"300 450\", \"nid\": 1025 },\r\n            { \"id\": \"skill_initialized\", \"text\": \"Skill Res. Init.\", \"trans\": 1, \"group\": \"resetting\", \"loc\": \"150 400\", \"nid\": 1027 },\r\n    \r\n            { \"id\": \"idle\", \"text\": \"idle\", \"trans\": 0, \"group\": \"running\", \"isGroup\": true, \"loc\": \"150 250\", \"nid\": 28 },\r\n            { \"id\": \"init_skill\", \"text\": \"Init. Skill\", \"trans\": 0, \"group\": \"idle\", \"isHighlighted\": true, \"loc\": \"150 270\", \"nid\": 1018 },\r\n            { \"id\": \"skill_ready\", \"text\": \"Skill Ready\", \"trans\": 0, \"group\": \"idle\", \"loc\": \"150 200\", \"nid\": 1017 },\r\n    \r\n    \r\n            { \"id\": \"execute\", \"text\": \"execute\", \"trans\": 0, \"group\": \"running\", \"isGroup\": true, \"loc\": \"400 200\", \"nid\": 36 },\r\n            { \"id\": \"execute_skill\", \"text\": \"Execute Skill\", \"trans\": 0, \"group\": \"execute\", \"loc\": \"400 170\", \"nid\": 1013 },\r\n            { \"id\": \"wait_next_step\", \"text\": \"Wait next Step\", \"trans\": 0, \"group\": \"execute\", \"loc\": \"400 270\", \"nid\": 1014 },\r\n    \r\n    \r\n            { \"id\": \"completing\", \"text\": \"completing\", \"trans\": 1, \"group\": \"running\", \"loc\": \"600 200\", \"nid\": 37 },\r\n            { \"id\": \"completed\", \"text\": \"completed\", \"trans\": 0, \"group\": \"running\", \"loc\": \"800 200\", \"nid\": 38 },\r\n    \r\n            { \"id\": \"hold\", \"text\": \"hold\", \"trans\": 0, \"group\": \"running\", \"isGroup\": true, \"isHighlighted\": true, \"loc\": \"350 0\", \"nid\": 136 },\r\n            { \"id\": \"holding\", \"text\": \"holding\", \"trans\": 1, \"group\": \"hold\", \"loc\": \"200 0\", \"nid\": 1020 },\r\n            { \"id\": \"held\", \"text\": \"held\", \"trans\": 0, \"group\": \"hold\", \"loc\": \"400 0\", \"nid\": 1021 },\r\n            { \"id\": \"unholding\", \"text\": \"unholding\", \"trans\": 1, \"group\": \"hold\", \"loc\": \"600 0\", \"nid\": 1022 }\r\n        ],\r\n        \"linkDataArray\": [\r\n    \r\n            { \"from\": \"cleared\", \"to\": \"aborting\", \"curviness\": 0, \"text\": \"Abort\" },\r\n            { \"from\": \"aborting\", \"to\": \"aborted\", \"curviness\": 0, \"text\": \"SC\" },\r\n            { \"from\": \"aborted\", \"to\": \"clearing\", \"curviness\": 0, \"text\": \"Clear\" },\r\n            { \"from\": \"clearing\", \"to\": \"stopped\", \"curviness\": 50, \"text\": \"SC\" },\r\n            { \"from\": \"stopped\", \"to\": \"resetting\", \"curviness\": 0, \"text\": \"Reset\" },\r\n    \r\n            { \"from\": \"skill_initialized\", \"to\": \"idle\", \"curviness\": 0, \"text\": \"SC\" },\r\n            { \"from\": \"check_resource\", \"to\": \"skill_initialized\", \"curviness\": 20, \"text\": \"OK\" },\r\n            { \"from\": \"check_resource\", \"to\": \"initialize_resource\", \"curviness\": 0, \"text\": \"n.OK\" },\r\n            { \"from\": \"initialize_resource\", \"to\": \"check_resource\", \"curviness\": 50, \"text\": \"SC\" },\r\n    \r\n    \r\n            { \"from\": \"skill_ready\", \"to\": \"execute_skill\", \"curviness\": 0, \"text\": \"StartSkill\" },\r\n            { \"from\": \"init_skill\", \"to\": \"skill_ready\", \"curviness\": 0, \"text\": \"SC\" },\r\n    \r\n            { \"from\": \"execute_skill\", \"to\": \"completing\", \"curviness\": 0, \"text\": \"SC\" },\r\n            { \"from\": \"completing\", \"to\": \"completed\", \"curviness\": 0, \"text\": \"SC\" },\r\n            { \"from\": \"completed\", \"to\": \"init_skill\", \"curviness\": 180, \"text\": \"Reset\" },\r\n            { \"from\": \"execute\", \"to\": \"hold\", \"curviness\": 0, \"text\": \"hold\" },\r\n            { \"from\": \"holding\", \"to\": \"held\", \"curviness\": 0, \"text\": \"SC\" },\r\n            { \"from\": \"held\", \"to\": \"unholding\", \"curviness\": 0, \"text\": \"UnHold\" },\r\n            { \"from\": \"unholding\", \"to\": \"execute_skill\", \"curviness\": 0, \"text\": \"SC\" },\r\n            { \"from\": \"running\", \"to\": \"stopping\", \"curviness\": 0, \"text\": \"Stop\" },\r\n            { \"from\": \"stopping\", \"to\": \"stopped\", \"curviness\": 0, \"text\": \"SC\" },\r\n    \r\n            { \"from\": \"execute_skill\", \"to\": \"wait_next_step\", \"curviness\": 0, \"text\": \"SC\" },\r\n            { \"from\": \"wait_next_step\", \"to\": \"execute_skill\", \"curviness\": 50, \"text\": \"NEXT\" }\r\n        ]\r\n    }\r\n  }\r\n\r\n\r\n  connectSkill(ip, port) {\r\n    const self = this;\r\n    self.skillList = [];\r\n    return $.ajax({\r\n      url: conf.backend.skill.connect,\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      data: {\r\n        ip: ip,\r\n        port:port\r\n      }\r\n    }).then((resp) => {\r\n      if (resp.err){\r\n        return {err: resp.err};\r\n      }else{\r\n        self.skillList = resp.results;\r\n        return {err: resp.err, skills:self.skillList};\r\n      }        \r\n      return {err: \"Unknown response.\"};\r\n    });\r\n  }\r\n\r\n  browseSkills(ip, port) {\r\n    const self = this;\r\n    self.skillList = [];\r\n    return $.ajax({\r\n      url: conf.backend.skill.browse,\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      data: {\r\n        ip: ip,\r\n        port:port\r\n      }\r\n    }).then((resp) => {\r\n      if (resp.err){\r\n        return {err: resp.err};\r\n      }else{\r\n        self.skillList = resp.results;\r\n        return {err: resp.err, skills:self.skillList};\r\n      }        \r\n      return {err: \"Unknown response.\"};\r\n    });\r\n  }\r\n\r\n  saveSkill(skillObject, _machineName) {\r\n    return $.ajax({\r\n        url: conf.backend.skill.save,\r\n        method: \"POST\",\r\n        async: false,\r\n        xhrFields: {\r\n          withCredentials: true\r\n        },\r\n        data: {\r\n          filePath: \"\" + _machineName + \"_\" + skillObject.ip + \"_\" + skillObject.port + \"_\"+ skillObject.skill.name + \".shape\",\r\n          skill: skillObject\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  deleteSkill(skill) {\r\n    // TODO: Jupiter Delete Skill remotely\r\n    // return $.ajax({\r\n    //     url: conf.backend.skill.del,\r\n    //     method: \"POST\",\r\n    //     xhrFields: {\r\n    //       withCredentials: true\r\n    //     },\r\n    //     data: {\r\n    //       filePath: fileName\r\n    //     }\r\n    //   }\r\n    // );\r\n  }\r\n\r\n  getSkillDescription(skill_name) {\r\n    const self = this;\r\n    return $.ajax({\r\n      url: conf.backend.skill.getDescription,\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      data: {\r\n        skill_name: skill_name,\r\n      }\r\n    }).then((resp) => {\r\n      if (resp.err){\r\n        return {err: resp.err};\r\n      }else{\r\n        return {err: resp.err, skill_descp: JSON.parse(resp.skill_descp)};\r\n      }        \r\n      return {err: \"Unknown response.\"};\r\n    });\r\n  }\r\n\r\n  startSkill(_ip, _port, _skill_name, _parameters) {\r\n    const self = this;\r\n    self.skillList = [];\r\n    return $.ajax({\r\n      url: conf.backend.skill.call,\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      data: {\r\n        ip: _ip,\r\n        port: _port,\r\n        skillName: _skill_name,\r\n        method: 'Start',\r\n        parameters: _parameters\r\n      }\r\n    }).then((resp) => {\r\n      if (resp.err){\r\n        return {err: resp.err};\r\n      }else{\r\n        return {err: resp.err, results: resp.results};\r\n      }        \r\n      return {err: \"Unknown response.\"};\r\n    });\r\n  }\r\n\r\n  getResultsOfSkillCall(_ip, _port, _skill_name, _parameters) {\r\n    const self = this;\r\n    self.skillList = [];\r\n    return $.ajax({\r\n      url: conf.backend.skill.call,\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      data: {\r\n        ip: _ip,\r\n        port: _port,\r\n        skillName: _skill_name,\r\n        method: 'GetResults',\r\n        parameters: _parameters\r\n      }\r\n    }).then((resp) => {\r\n      if (resp.err){\r\n        return {err: resp.err};\r\n      }else{\r\n        return {err: resp.err, results: resp.results};\r\n      }        \r\n      return {err: \"Unknown response.\"};\r\n    });\r\n  }\r\n}\r\n\r\nlet skillproxy = new BackendSkills();\r\nexport default skillproxy","import conf from '../Configuration'\r\n\r\nexport default class BackendStorage{\r\n\r\n  /**\r\n   * @constructor\r\n   *\r\n   */\r\n  constructor() {\r\n    this.fileName = \"\"\r\n    Object.preventExtensions(this);\r\n  }\r\n\r\n  get currentDir(){\r\n    return this.dirname(this.dirname())\r\n  }\r\n\r\n  get currentFile(){\r\n    return this.basename(this.fileName)\r\n  }\r\n\r\n  set currentFile(name){\r\n    this.fileName=name;\r\n\r\n    let url = window.location.href.split('?')[0] + '?file=' + name\r\n    history.pushState(\r\n      { id: 'editor', file: name },\r\n      'Brainbox Designer ' + name,\r\n      url)\r\n  }\r\n\r\n  getFiles(path){\r\n      return $.ajax({\r\n        url: conf.backend.file.list,\r\n        xhrFields: {\r\n          withCredentials: true\r\n        },\r\n        data: {\r\n          path\r\n        }\r\n      }).then( (response)=>{\r\n        // happens in \"serverless\" mode on the gh-pages/docs installation\r\n        //\r\n        if (typeof response === \"string\")\r\n          response = JSON.parse(response)\r\n\r\n        let files = response.files\r\n        // sort the result\r\n        // Directories are always on top\r\n        //\r\n        files.sort(function (a, b) {\r\n          if (a.type === b.type) {\r\n            if (a.name.toLowerCase() < b.name.toLowerCase())\r\n              return -1\r\n            if (a.name.toLowerCase() > b.name.toLowerCase())\r\n              return 1\r\n            return 0\r\n          }\r\n          if (a.type === \"dir\") {\r\n            return -1\r\n          }\r\n          return 1\r\n        })\r\n        return files;\r\n      })\r\n  }\r\n\r\n  saveFile(json, imageDataUrl, fileName){\r\n    return $.ajax({\r\n        url: conf.backend.file.save,\r\n        method: \"POST\",\r\n        xhrFields: {\r\n          withCredentials: true\r\n        },\r\n        data: {\r\n          filePath: fileName,\r\n          content: JSON.stringify({draw2d: json, image: imageDataUrl}, undefined, 2)\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Load the file content of the given path\r\n   *\r\n   * @param fileName\r\n   * @returns {*}\r\n   */\r\n  loadFile(fileName){\r\n    return $.ajax({\r\n      url: conf.backend.file.get(fileName),\r\n      xhrFields: {\r\n        withCredentials: true\r\n      }\r\n    })\r\n      .fail(function(error) {\r\n        console.log(arguments)\r\n      })\r\n      .then((response)=>{\r\n        // happens in \"serverless\" mode on the gh-pages/docs installation\r\n        //\r\n        if (typeof response === \"string\")\r\n          response = JSON.parse(response)\r\n\r\n        if(response.draw2d)\r\n        return response.draw2d\r\n      return response\r\n    })\r\n  }\r\n\r\n  dirname(path) {\r\n    if (path===undefined || path===null || path.length === 0)\r\n      return null\r\n\r\n    var segments = path.split(\"/\")\r\n    if (segments.length <= 1)\r\n      return null\r\n\r\n    segments = segments.filter(n => n != \"\")\r\n    path = segments.slice(0, -1).join(\"/\")\r\n    return (path === \"\") ? null : path + \"/\"\r\n\r\n  }\r\n\r\n  basename(path) {\r\n    if(path === null || path===\"\" || path === undefined){\r\n      return null;\r\n    }\r\n    return path.split(/[\\\\/]/).pop()\r\n  }\r\n\r\n}\r\n","import Hogan from \"hogan.js\"\r\n\r\nexport default shape_designer.FigureWriter = draw2d.io.Writer.extend({\r\n\r\n  init: function () {\r\n    this._super()\r\n  },\r\n\r\n  /**\r\n   * @method\r\n   * Export the content to the implemented data format. Inherit class implements\r\n   * content specific writer.\r\n   * <br>\r\n   * <br>\r\n   *\r\n   * Method signature has been changed from version 2.10.1 to version 3.0.0.<br>\r\n   * The parameter <b>resultCallback</b> is required and new. The method calls\r\n   * the callback instead of return the result.\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @parma {String} className\r\n   * @param {Function} resultCallback the method to call on success. The first argument is the result object, the second the base64 representation of the file content\r\n   */\r\n  marshal: function (canvas, className, resultCallback) {\r\n    var baseClass = shape_designer.app.getConfiguration(\"baseClass\")\r\n    var customCode =  shape_designer.app.getConfiguration(\"code\")\r\n    customCode = customCode.replace(/testShape/g, className);\r\n\r\n    var figures = canvas.getExtFigures()\r\n    var b = canvas.getBoundingBox()\r\n\r\n    var x = b.x\r\n    var y = b.y\r\n\r\n    var ports = []\r\n    var shapes = []\r\n\r\n    shapes.push({\r\n      constructor: 'this.canvas.paper.path(\"M0,0 L' + (b.w) + ',0 L' + (b.w) + ',' + (b.h) + ' L0,' + (b.h) + '\")',\r\n      attr: '{\"stroke\":\"none\",\"stroke-width\":0,\"fill\":\"none\"}',\r\n      name: \"BoundingBox\"\r\n    })\r\n\r\n    figures.each(function (i, figure) {\r\n      figure.uninstallEditPolicy(\"draw2d.policy.figure.RegionEditPolicy\")\r\n      var attr = {}\r\n      figure.svgPathString = null\r\n      figure.translate(-x, -y)\r\n      // paint the element and fill the \"attr\" object with the current\r\n      // settings\r\n      figure.repaint(attr)\r\n      delete attr.path\r\n      delete attr.x\r\n      delete attr.y\r\n      if ((figure instanceof shape_designer.figure.ExtPolygon)) {\r\n        shapes.push({\r\n          constructor: \"this.canvas.paper.path('\" + figure.svgPathString + \"')\",\r\n          attr: JSON.stringify(attr),\r\n          extra: figure.getBlur() === 0 ? \"\" : \"shape.blur(\" + figure.getBlur() + \");\\n\",\r\n          name: figure.getUserData().name\r\n        })\r\n      } else if ((figure instanceof shape_designer.figure.PolyCircle)) {\r\n        shapes.push({\r\n          constructor: \"this.canvas.paper.ellipse()\",\r\n          attr: JSON.stringify(attr),\r\n          extra: figure.getBlur() === 0 ? \"\" : \"shape.blur(\" + figure.getBlur() + \");\\n\",\r\n          name: figure.getUserData().name\r\n        })\r\n      } else if ((figure instanceof shape_designer.figure.ExtLine)) {\r\n        // drop shadow\r\n        shapes.push({\r\n          constructor: \"this.canvas.paper.path('\" + figure.svgPathString + \"')\",\r\n          attr: JSON.stringify($.extend({}, attr, {\r\n            \"stroke-width\": attr[\"stroke-width\"] + figure.getOutlineStroke(),\r\n            \"stroke\": figure.getOutlineColor().hash()\r\n          })),\r\n          extra: figure.getBlur() === 0 ? \"\" : \"shape.blur(\" + figure.getBlur() + \");\\n\",\r\n          name: figure.getUserData().name + \"_shadow\"\r\n        })\r\n\r\n        // the line itself\r\n        shapes.push({\r\n          constructor: \"this.canvas.paper.path('\" + figure.svgPathString + \"')\",\r\n          attr: JSON.stringify(attr),\r\n          extra: figure.getBlur() === 0 ? \"\" : \"shape.blur(\" + figure.getBlur() + \");\\n\",\r\n          name: figure.getUserData().name\r\n        })\r\n      } else if (figure instanceof shape_designer.figure.ExtLabel) {\r\n        attr = figure.svgNodes[0].attr()\r\n        attr.x = attr.x + figure.getAbsoluteX()\r\n        attr.y = attr.y + figure.getAbsoluteY()\r\n        delete attr.transform\r\n        shapes.push({\r\n          constructor: \"this.canvas.paper.text(0,0,'\" + figure.getText() + \"')\",\r\n          attr: JSON.stringify(attr),\r\n          extra: \"\",\r\n          name: figure.getUserData().name\r\n        })\r\n      } else if (figure instanceof shape_designer.figure.ExtPort) {\r\n        ports.push({\r\n          type: figure.getInputType() === \"Input\" ? \"new DecoratedInputPort()\" : '\"' + figure.getInputType().toLowerCase() + '\"',\r\n          method: figure.getInputType() === \"Input\" ? \"addPort\" : 'createPort',\r\n          direction: figure.getConnectionDirection(),\r\n          x: 100 / b.w * figure.getCenter().x,\r\n          y: 100 / b.h * figure.getCenter().y,\r\n          color: figure.getBackgroundColor().hash(),\r\n          name: figure.getUserData().name,\r\n          fanout: figure.getMaxFanOut()\r\n        })\r\n      }\r\n      figure.translate(x, y)\r\n    })\r\n\r\n    var template = $(\"#shape-base-template\").text().trim()\r\n\r\n    var tags = className.split(\"_\")\r\n    var compiled = Hogan.compile(template)\r\n    var tooltip= tags.length>0?tags.slice(-1)[0]:name;\r\n    tooltip = tooltip.split(/\\s*(?=[A-Z][a-z])/).join(\" \")\r\n    var output = compiled.render({\r\n      tooltip: tooltip,\r\n      className: className,\r\n      baseClass: baseClass,\r\n      figures: shapes,\r\n      ports: ports,\r\n      width: b.w,\r\n      height: b.h\r\n    })\r\n\r\n    output = output + \"\\n\\n\" + customCode\r\n    resultCallback(output, draw2d.util.Base64.encode(output))\r\n  }\r\n})\r\n","import AbstractToolPolicy from \"./AbstractToolPolicy\"\r\n\r\nconst jsts = require(\"jsts/dist/jsts\")\r\n\r\n/* jshint evil: true */\r\nexport default AbstractToolPolicy.extend({\r\n\r\n  init: function () {\r\n    this._super()\r\n    this.firstFigure = null\r\n    this.operation = null\r\n  },\r\n\r\n\r\n  onInstall: function (canvas) {\r\n    this.setToolHeader(\"\")\r\n    this.setToolMessage(\"Select first figure..\")\r\n  },\r\n\r\n  select: function (canvas, figure) {\r\n\r\n    if (canvas.getSelection().getAll().contains(figure)) {\r\n      return // nothing to to\r\n    }\r\n\r\n    // check if the element an valid polygon. otherwise an boolean operation\r\n    // isn't possible\r\n    if (!(figure instanceof shape_designer.figure.ExtPolygon)) {\r\n      return\r\n    }\r\n\r\n    if (canvas.getSelection().getPrimary() !== null) {\r\n      this.unselect(canvas, canvas.getSelection().getPrimary())\r\n    }\r\n\r\n    if (figure !== null) {\r\n      figure.select(true) // primary selection\r\n    }\r\n\r\n    canvas.getSelection().setPrimary(figure)\r\n\r\n    // inform all selection listeners about the new selection.\r\n    //\r\n    canvas.fireEvent(\"select\", {figure: figure})\r\n  },\r\n\r\n\r\n  execute: function (canvas, firstFigure, figure) {\r\n    if (firstFigure instanceof draw2d.util.ArrayList) {\r\n      if (firstFigure.getSize() < 2) {\r\n        return // silently\r\n      }\r\n      figure = firstFigure.get(1)\r\n      firstFigure = firstFigure.get(0)\r\n    }\r\n    this.executeGeometryOperation(canvas, firstFigure, figure, this.operation)\r\n  },\r\n\r\n  executeGeometryOperation: function (canvas, figure1, figure2, operationFunc) {\r\n    var p1 = this.getGeometry(figure1)\r\n    var p2 = this.getGeometry(figure2)\r\n    var union = eval(\"p1.\" + operationFunc + \"(p2)\")\r\n    var geo = new jsts.io.GeoJSONWriter().write(union)\r\n    var memento = figure1.getPersistentAttributes()\r\n    var cmd = new draw2d.command.CommandCollection()\r\n    cmd.add(new draw2d.command.CommandDelete(figure1))\r\n    cmd.add(new draw2d.command.CommandDelete(figure2))\r\n    $.each(geo.coordinates, $.proxy(function (i, poly) {\r\n      var figure = new shape_designer.figure.ExtPolygon()\r\n      figure.setPersistentAttributes(memento)\r\n      figure.vertices = new draw2d.util.ArrayList()\r\n      $.each(poly, function (i, vertex) {\r\n        figure.addVertex(vertex[0], vertex[1])\r\n      })\r\n      var command = new draw2d.command.CommandAdd(canvas, figure, figure.getX(), figure.getY())\r\n      cmd.add(command)\r\n    }, this))\r\n    canvas.getCommandStack().execute(cmd)\r\n    this.executed()\r\n  },\r\n\r\n  getGeometry: function (figure) {\r\n    var reader = new jsts.io.WKTReader()\r\n    var v = figure.getVertices().clone().asArray()\r\n    v.push(v[0])\r\n    return reader.read(\"POLYGON((\" + $.map(v, function (e) {\r\n      return e.x + \" \" + e.y\r\n    }).join(\", \") + \"))\")\r\n  }\r\n\r\n})\r\n\r\n\r\n\r\n\r\n","export default draw2d.policy.canvas.SelectionPolicy.extend({\r\n\r\n  init: function () {\r\n    this._super()\r\n  },\r\n\r\n  setToolText: function (message) {\r\n    $('#currentTool_message').fadeOut(200, function () {\r\n      $(\"#currentTool_message\").html(message)\r\n      $('#currentTool_message').fadeIn(200)\r\n    })\r\n  },\r\n\r\n  executed: function(){\r\n  }\r\n})\r\n\r\n\r\n\r\n\r\n","import AbstractToolPolicy from \"./AbstractToolPolicy\"\r\n\r\nimport cursor from \"../../images/cursors/cursor_circle.png\"\r\n\r\nexport default AbstractToolPolicy.extend({\r\n\r\n  TITLE: \"Circle\",\r\n\r\n  init: function () {\r\n    this._super()\r\n\r\n    this.center = null\r\n    this.boundingBoxFigure1 = null\r\n    this.boundingBoxFigure2 = null\r\n  },\r\n\r\n\r\n  onInstall: function (canvas) {\r\n    canvas.setCursor(cursor)\r\n  },\r\n\r\n  onUninstall: function (canvas) {\r\n    if (this.boundingBoxFigure1 !== null) {\r\n      this.boundingBoxFigure1.setCanvas(null)\r\n      this.boundingBoxFigure1 = null\r\n      this.boundingBoxFigure2.setCanvas(null)\r\n      this.boundingBoxFigure2 = null\r\n    }\r\n    canvas.setCursor(null)\r\n  },\r\n\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @param {Number} x the x-coordinate of the mouse down event\r\n   * @param {Number} y the y-coordinate of the mouse down event\r\n   * @param {Boolean} shiftKey true if the shift key has been pressed during this event\r\n   * @param {Boolean} ctrlKey true if the ctrl key has been pressed during the event\r\n   */\r\n  onMouseDown: function (canvas, x, y, shiftKey, ctrlKey) {\r\n    this.center = new draw2d.geo.Point(x, y)\r\n  },\r\n\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @param {Number} dx The x diff between start of dragging and this event\r\n   * @param {Number} dy The y diff between start of dragging and this event\r\n   * @param {Number} dx2 The x diff since the last call of this dragging operation\r\n   * @param {Number} dy2 The y diff since the last call of this dragging operation\r\n   * @template\r\n   */\r\n  onMouseDrag: function (canvas, dx, dy, dx2, dy2, shiftKey, ctrlKey) {\r\n    let r = Math.sqrt(dx * dx + dy * dy)\r\n    if (this.boundingBoxFigure1 !== null) {\r\n      this.boundingBoxFigure1.setRadius(Math.abs(r))\r\n      this.boundingBoxFigure2.setRadius(Math.abs(r))\r\n    }\r\n    else {\r\n      this.boundingBoxFigure1 = new draw2d.shape.basic.Circle({radius: 1})\r\n      this.boundingBoxFigure1.setCenter(this.center)\r\n      this.boundingBoxFigure1.setCanvas(canvas)\r\n      this.boundingBoxFigure1.setBackgroundColor(\"#333333\")\r\n      this.boundingBoxFigure1.setAlpha(0.1)\r\n\r\n      this.boundingBoxFigure2 = new draw2d.shape.basic.Circle({radius: 1})\r\n      this.boundingBoxFigure2.setCenter(this.center)\r\n      this.boundingBoxFigure2.setCanvas(canvas)\r\n      this.boundingBoxFigure2.setStroke(1)\r\n      this.boundingBoxFigure2.setColor(new draw2d.util.Color(\"#333333\"))\r\n      this.boundingBoxFigure2.setBackgroundColor(null)\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @param {Number} x the x-coordinate of the mouse down event\r\n   * @param {Number} y the y-coordinate of the mouse down event\r\n   * @template\r\n   */\r\n  onMouseUp: function (canvas, x, y) {\r\n    let dx = Math.abs(this.center.x - x)\r\n    let dy = Math.abs(this.center.y - y)\r\n    let r = Math.sqrt(dx * dx + dy * dy)\r\n    if (r > 3) {\r\n      let circle = new shape_designer.figure.PolyCircle(this.center, r)\r\n      let command = new draw2d.command.CommandAdd(canvas, circle, circle.getX(), circle.getY())\r\n      canvas.getCommandStack().execute(command)\r\n      canvas.setCurrentSelection(circle)\r\n    }\r\n\r\n    this.center = null\r\n    if (this.boundingBoxFigure1 !== null) {\r\n      this.boundingBoxFigure1.setCanvas(null)\r\n      this.boundingBoxFigure1 = null\r\n      this.boundingBoxFigure2.setCanvas(null)\r\n      this.boundingBoxFigure2 = null\r\n    }\r\n    this.executed()\r\n  }\r\n})\r\n\r\n\r\n\r\n\r\n","import AbstractGeoToolPolicy from \"./AbstractGeoToolPolicy\"\r\n\r\n\r\n\r\nexport default AbstractGeoToolPolicy.extend({\r\n\r\n  init: function () {\r\n    this._super()\r\n    this.operation = \"difference\"\r\n  },\r\n\r\n\r\n  onInstall: function (canvas) {\r\n    this.setToolText(\"Select polygon to subtract from\")\r\n  },\r\n\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @param {Number} x the x-coordinate of the mouse down event\r\n   * @param {Number} y the y-coordinate of the mouse down event\r\n   * @param {Boolean} shiftKey true if the shift key has been pressed during this event\r\n   * @param {Boolean} ctrlKey true if the ctrl key has been pressed during the event\r\n   */\r\n  onMouseDown: function (canvas, x, y, shiftKey, ctrlKey) {\r\n    let figure = canvas.getBestFigure(x, y)\r\n\r\n    // check if the user click on a child shape. DragDrop and movement must redirect\r\n    // to the parent\r\n    // Exception: Port's\r\n    while ((figure !== null && figure.getParent() !== null) && !(figure instanceof draw2d.Port)) {\r\n      figure = figure.getParent()\r\n    }\r\n\r\n    if (figure !== canvas.getSelection().getPrimary() && figure !== null && figure.isSelectable() === true) {\r\n      if (this.firstFigure === null) {\r\n        this.firstFigure = figure\r\n        this.select(canvas, figure)\r\n        this.setToolText(\"Select polygon to subtract\")\r\n      }\r\n      else {\r\n        this.execute(canvas, this.firstFigure, figure)\r\n        this.firstFigure = null\r\n        this.setToolText(\"Select polygon to subtract from\")\r\n      }\r\n    }\r\n  }\r\n})\r\n\r\n\r\n\r\n\r\n","import AbstractGeoToolPolicy from \"./AbstractGeoToolPolicy\"\r\n\r\n\r\nexport default AbstractGeoToolPolicy.extend({\r\n\r\n  init: function () {\r\n    this._super()\r\n    this.operation = \"intersection\"\r\n  },\r\n\r\n\r\n  onInstall: function (canvas) {\r\n    this.setToolText(\"Select polygon to intersect with\")\r\n  },\r\n\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @param {Number} x the x-coordinate of the mouse down event\r\n   * @param {Number} y the y-coordinate of the mouse down event\r\n   * @param {Boolean} shiftKey true if the shift key has been pressed during this event\r\n   * @param {Boolean} ctrlKey true if the ctrl key has been pressed during the event\r\n   */\r\n  onMouseDown: function (canvas, x, y, shiftKey, ctrlKey) {\r\n\r\n    var figure = canvas.getBestFigure(x, y)\r\n\r\n    // check if the user click on a child shape. DragDrop and movement must redirect\r\n    // to the parent\r\n    // Exception: Port's\r\n    while ((figure !== null && figure.getParent() !== null) && !(figure instanceof draw2d.Port)) {\r\n      figure = figure.getParent()\r\n    }\r\n\r\n    if (figure !== canvas.getSelection().getPrimary() && figure !== null && figure.isSelectable() === true) {\r\n      if (this.firstFigure === null) {\r\n        this.firstFigure = figure\r\n        this.select(canvas, figure)\r\n        this.setToolText(\"Select polygon to intersect\")\r\n      }\r\n      else {\r\n        this.execute(canvas, this.firstFigure, figure)\r\n        this.firstFigure = null\r\n        this.setToolText(\"Select polygon to intersect with\")\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n})\r\n\r\n\r\n\r\n\r\n","import AbstractGeoToolPolicy from \"./AbstractGeoToolPolicy\"\r\n\r\nexport default AbstractGeoToolPolicy.extend({\r\n\r\n  init: function () {\r\n    this._super()\r\n    this.operation = \"union\"\r\n  },\r\n\r\n\r\n  onInstall: function (canvas) {\r\n    this.setToolText(\"Select polygon to add to..\")\r\n  },\r\n\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @param {Number} x the x-coordinate of the mouse down event\r\n   * @param {Number} y the y-coordinate of the mouse down event\r\n   * @param {Boolean} shiftKey true if the shift key has been pressed during this event\r\n   * @param {Boolean} ctrlKey true if the ctrl key has been pressed during the event\r\n   */\r\n  onMouseDown: function (canvas, x, y, shiftKey, ctrlKey) {\r\n\r\n    var figure = canvas.getBestFigure(x, y)\r\n\r\n    // check if the user click on a child shape. DragDrop and movement must redirect\r\n    // to the parent\r\n    // Exception: Port's\r\n    while ((figure !== null && figure.getParent() !== null) && !(figure instanceof draw2d.Port)) {\r\n      figure = figure.getParent()\r\n    }\r\n\r\n    if (figure !== canvas.getSelection().getPrimary() && figure !== null && figure.isSelectable() === true) {\r\n      if (this.firstFigure === null) {\r\n        this.firstFigure = figure\r\n        this.select(canvas, figure)\r\n        this.setToolText(\"Select polygon to merge\")\r\n      }\r\n      else {\r\n        this.execute(canvas, this.firstFigure, figure)\r\n        this.firstFigure = null\r\n        this.setToolText(\"Select polygon to add to\")\r\n      }\r\n    }\r\n  }\r\n})\r\n\r\n\r\n\r\n\r\n","import AbstractToolPolicy from \"./AbstractToolPolicy\"\r\n\r\nimport cursor from \"../../images/cursors/cursor_line.png\"\r\n\r\nexport default AbstractToolPolicy.extend({\r\n\r\n  MESSAGE_STEP1: \"Select start point of the line.\",\r\n  MESSAGE_STEP2: \"Click to add additional vertex.<br>Double click to finish line.\",\r\n\r\n  init: function () {\r\n    this._super()\r\n\r\n    this.lineFigure = null\r\n    this.canvas = null\r\n  },\r\n\r\n\r\n  onInstall: function (canvas) {\r\n    this.setToolText(this.MESSAGE_STEP1)\r\n    this.canvas = canvas\r\n    canvas.setCursor(cursor)\r\n  },\r\n\r\n  onUninstall: function (canvas) {\r\n    if (this.lineFigure !== null) {\r\n      if (this.lineFigure.getVertices().getSize() < 2) {\r\n        canvas.remove(this.lineFigure)\r\n        this.lineFigure = null\r\n      }\r\n      else {\r\n        // stay in the canvas and finalize the stroke if a doubleClick\r\n        let last = this.lineFigure.vertices.last()\r\n        this.onDoubleClick(this.lineFigure, last.x, last.y, false, false)\r\n      }\r\n    }\r\n    this.canvas = null\r\n    canvas.setCursor(null)\r\n  },\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @param {Number} x the x-coordinate of the mouse down event\r\n   * @param {Number} y the y-coordinate of the mouse down event\r\n   * @param {Boolean} shiftKey true if the shift key has been pressed during this event\r\n   * @param {Boolean} ctrlKey true if the ctrl key has been pressed during the event\r\n   */\r\n  onMouseDown: function (canvas, x, y, shiftKey, ctrlKey) {\r\n\r\n  },\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @param {Number} x the x-coordinate of the mouse event\r\n   * @param {Number} y the y-coordinate of the mouse event\r\n   * @template\r\n   */\r\n  onMouseMove: function (canvas, x, y) {\r\n\r\n    if (this.lineFigure !== null) {\r\n      this.lineFigure.setEndPoint(x, y)\r\n    }\r\n  },\r\n\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @param {Number} dx The x diff between start of dragging and this event\r\n   * @param {Number} dy The y diff between start of dragging and this event\r\n   * @param {Number} dx2 The x diff since the last call of this dragging operation\r\n   * @param {Number} dy2 The y diff since the last call of this dragging operation\r\n   * @template\r\n   */\r\n  onMouseDrag: function (canvas, dx, dy, dx2, dy2) {\r\n  },\r\n\r\n\r\n  onDoubleClick: function (figure, x, y, shiftKey, ctrlKey) {\r\n    this.onClick(figure, x, y, shiftKey, ctrlKey)\r\n\r\n    // Remove duplicate points at the end of the polyLine. This happens during the DoubleClick.\r\n    // Reason: before the double click is fired the two \"single click\" comes before. In this case we\r\n    // added three vertex for a doubleClick event\r\n    //\r\n\r\n    // don't use the shortcut and assign the this.lineFigure.vertices to a local var.\r\n    // the vertices are recreated in the \"calculatePath\" mnethod of the polygon and\r\n    // the reference is in this case invalid...design flaw!\r\n    //\r\n    let last = this.lineFigure.vertices.last()\r\n    let beforeLast = this.lineFigure.vertices.get(this.lineFigure.vertices.getSize() - 2)\r\n    while (last.equals(beforeLast)) {\r\n      this.lineFigure.removeVertexAt(this.lineFigure.vertices.getSize() - 2)\r\n      beforeLast = this.lineFigure.vertices.get(this.lineFigure.vertices.getSize() - 2)\r\n    }\r\n\r\n    this.lineFigure = null\r\n    this.executed()\r\n  },\r\n\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @param {Number} x the x-coordinate of the mouse down event\r\n   * @param {Number} y the y-coordinate of the mouse down event\r\n   * @param {Boolean} shiftKey true if the shift key has been pressed during this event\r\n   * @param {Boolean} ctrlKey true if the ctrl key has been pressed during the event\r\n   * @template\r\n   */\r\n  onClick: function (figure, x, y, shiftKey, ctrlKey) {\r\n    if (this.lineFigure === null) {\r\n      this.setToolText(this.MESSAGE_STEP2)\r\n\r\n      this.lineFigure = new shape_designer.figure.ExtLine()\r\n      this.lineFigure.setStartPoint(x, y)\r\n      this.lineFigure.setEndPoint(x, y)\r\n      let command = new draw2d.command.CommandAdd(this.canvas, this.lineFigure, x, y)\r\n      this.canvas.getCommandStack().execute(command)\r\n      this.canvas.setCurrentSelection(this.lineFigure)\r\n    }\r\n    else {\r\n      this.lineFigure.addVertex(x, y)\r\n    }\r\n  }\r\n})\r\n\r\n\r\n\r\n\r\n","import SelectionToolPolicy from \"./SelectionToolPolicy\"\r\n\r\nimport cursor from \"../../images/cursors/cursor_port.png\"\r\n\r\nexport default SelectionToolPolicy.extend({\r\n\r\n  TITLE: \"Port\",\r\n  MESSAGE_STEP1: \"Select location to add port.<br>Click on port to move.\",\r\n\r\n  init: function () {\r\n    this._super()\r\n  },\r\n\r\n\r\n  onInstall: function (canvas) {\r\n    this.setToolText(this.MESSAGE_STEP1)\r\n    canvas.setCursor(cursor)\r\n  },\r\n\r\n  onUninstall: function (canvas) {\r\n    canvas.setCursor(null)\r\n  },\r\n\r\n\r\n  select: function (canvas, figure) {\r\n    // check if the element an valid polygon. otherwise an boolean operation\r\n    // isn't possible\r\n    if (!(figure instanceof shape_designer.figure.ExtPort)) {\r\n      return\r\n    }\r\n\r\n    this._super(canvas, figure)\r\n  },\r\n\r\n  onMouseDown: function (canvas, x, y, shiftKey, ctrlKey) {\r\n    let figure = canvas.getBestFigure(x, y)\r\n\r\n    if (figure === null || figure instanceof shape_designer.figure.ExtPort) {\r\n      this._super(canvas, x, y, shiftKey, ctrlKey)\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @param {Number} x the x-coordinate of the mouse down event\r\n   * @param {Number} y the y-coordinate of the mouse down event\r\n   * @template\r\n   */\r\n  onMouseUp: function (canvas, x, y) {\r\n\r\n    if (this.mouseDownElement === null || !(this.mouseDownElement instanceof shape_designer.figure.ExtPort)) {\r\n      let command = new draw2d.command.CommandAdd(canvas, new shape_designer.figure.ExtPort(), x, y)\r\n      canvas.getCommandStack().execute(command)\r\n      canvas.setCurrentSelection(command.figure)\r\n      this.executed()\r\n    }\r\n    else {\r\n      this._super(canvas, x, y)\r\n    }\r\n  }\r\n})\r\n\r\n\r\n\r\n\r\n","import PolyRect from \"../figure/PolyRect\"\r\nimport AbstractToolPolicy from \"./AbstractToolPolicy\"\r\nimport cursor from \"../../images/cursors/cursor_rectangle.png\"\r\n\r\nexport default AbstractToolPolicy.extend({\r\n\r\n  init: function () {\r\n    this._super()\r\n\r\n    this.topLeftPoint = null\r\n    this.boundingBoxFigure1 = null\r\n    this.boundingBoxFigure2 = null\r\n  },\r\n\r\n\r\n  onInstall: function (canvas) {\r\n    this.setToolText(\"Select first corner of rectangle\")\r\n    canvas.setCursor(cursor)\r\n  },\r\n\r\n  onUninstall: function (canvas) {\r\n    if (this.boundingBoxFigure1 !== null) {\r\n      this.boundingBoxFigure1.setCanvas(null)\r\n      this.boundingBoxFigure1 = null\r\n      this.boundingBoxFigure2.setCanvas(null)\r\n      this.boundingBoxFigure2 = null\r\n    }\r\n    canvas.setCursor(null)\r\n  },\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @param {Number} x the x-coordinate of the mouse down event\r\n   * @param {Number} y the y-coordinate of the mouse down event\r\n   * @param {Boolean} shiftKey true if the shift key has been pressed during this event\r\n   * @param {Boolean} ctrlKey true if the ctrl key has been pressed during the event\r\n   */\r\n  onMouseDown: function (canvas, x, y, shiftKey, ctrlKey) {\r\n    this.topLeftPoint = new draw2d.geo.Point(x, y)\r\n  },\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @param {Number} dx The x diff between start of dragging and this event\r\n   * @param {Number} dy The y diff between start of dragging and this event\r\n   * @param {Number} dx2 The x diff since the last call of this dragging operation\r\n   * @param {Number} dy2 The y diff since the last call of this dragging operation\r\n   * @template\r\n   */\r\n  onMouseDrag: function (canvas, dx, dy, dx2, dy2, shiftKey, ctrlKey) {\r\n\r\n    if (this.boundingBoxFigure1 === null) {\r\n      this.boundingBoxFigure1 = new draw2d.shape.basic.Rectangle({\r\n        width: 1,\r\n        height: 1,\r\n        x: this.topLeftPoint.x,\r\n        y: this.topLeftPoint.y,\r\n        bgColor: \"#d4d1d4\",\r\n        alpha: 0.1\r\n      });\r\n      this.boundingBoxFigure1.setCanvas(canvas);\r\n\r\n      this.boundingBoxFigure2 = new draw2d.shape.basic.Rectangle({\r\n        width: 1,\r\n        height: 1,\r\n        x: this.topLeftPoint.x,\r\n        y: this.topLeftPoint.y,\r\n        dash: \"--..\",\r\n        stroke: 0.5,\r\n        color: \"#37a8ff\",\r\n        bgColor: null\r\n      });\r\n      this.boundingBoxFigure2.setCanvas(canvas);\r\n    }\r\n\r\n    if (this.boundingBoxFigure1 !== null) {\r\n      this.boundingBoxFigure1.setDimension(Math.abs(dx), Math.abs(dy));\r\n      this.boundingBoxFigure1.setPosition(this.topLeftPoint.x + Math.min(0, dx), this.topLeftPoint.y + Math.min(0, dy));\r\n      this.boundingBoxFigure2.setDimension(Math.abs(dx), Math.abs(dy));\r\n      this.boundingBoxFigure2.setPosition(this.topLeftPoint.x + Math.min(0, dx), this.topLeftPoint.y + Math.min(0, dy));\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @param {Number} x the x-coordinate of the mouse down event\r\n   * @param {Number} y the y-coordinate of the mouse down event\r\n   * @template\r\n   */\r\n  onMouseUp: function (canvas, x, y) {\r\n    if (this.boundingBoxFigure1 !== null) {\r\n      this.boundingBoxFigure1.setCanvas(null);\r\n      this.boundingBoxFigure1 = null;\r\n      this.boundingBoxFigure2.setCanvas(null);\r\n      this.boundingBoxFigure2 = null;\r\n    }\r\n\r\n    let bottomRight = new draw2d.geo.Point(x, y)\r\n    if (this.topLeftPoint.distance(bottomRight) > 3) {\r\n      let rect = new PolyRect(this.topLeftPoint, bottomRight)\r\n      let command = new draw2d.command.CommandAdd(canvas, rect, rect.getX(), rect.getY())\r\n      canvas.getCommandStack().execute(command)\r\n      canvas.setCurrentSelection(rect)\r\n    }\r\n    this.executed()\r\n    this.topLeftPoint = null\r\n  }\r\n})\r\n\r\n\r\n\r\n\r\n","\r\nexport default draw2d.policy.canvas.BoundingboxSelectionPolicy.extend({\r\n\r\n  init: function () {\r\n    this._super()\r\n  },\r\n\r\n  onInstall: function (canvas) {\r\n    this.setToolText(\"Click on shape to select<br>Double click to edit\")\r\n  },\r\n\r\n\r\n  setToolHeader: function (heading, icon) {\r\n    $(\"#currentTool_image\").attr({\"src\": icon})\r\n    $(\"#currentTool_heading\").text(heading)\r\n  },\r\n\r\n  setToolText: function (message) {\r\n    $(\"#currentTool_message\").html(message)\r\n  },\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @param {Number} x the x-coordinate of the mouse down event\r\n   * @param {Number} y the y-coordinate of the mouse down event\r\n   * @param {Boolean} shiftKey true if the shift key has been pressed during this event\r\n   * @param {Boolean} ctrlKey true if the ctrl key has been pressed during the event\r\n   */\r\n  onMouseDown: function (canvas, x, y, shiftKey, ctrlKey) {\r\n    this.cloneOnDrag = shiftKey\r\n    this._super(canvas, x, y, shiftKey, ctrlKey)\r\n  },\r\n\r\n  /**\r\n   * Copy the selected figure if the user start dragging the selection.\r\n   *\r\n   */\r\n  onMouseDrag: function (canvas, dx, dy, dx2, dy2) {\r\n    if (!((this.mouseDraggingElement instanceof draw2d.ResizeHandle) || (this.mouseDraggingElement instanceof draw2d.Port))) {\r\n      if (this.cloneOnDrag === true && this.mouseDraggingElement !== null) {\r\n        // get the current position of the selected shape\r\n        var pos = this.mouseDraggingElement.getPosition()\r\n\r\n        // cancel the current drag&drop operation\r\n        this.mouseDraggingElement.onDragEnd(pos.x, pos.y, false, false)\r\n        this.mouseDraggingElement.unselect()\r\n\r\n        // clone the selection\r\n        this.mouseDraggingElement = this.mouseDraggingElement.clone()\r\n        // add the clone to the canvas and start dragging of the clone\r\n        canvas.add(this.mouseDraggingElement, pos)\r\n\r\n        // select the cloned shape\r\n        this.select(canvas, this.mouseDraggingElement)\r\n\r\n        // start dragging if the clone accept this operation\r\n        this.mouseDraggingElement.onDragStart(pos.x, pos.y, false, false)\r\n      }\r\n    }\r\n    this.cloneOnDrag = false\r\n    this._super(canvas, dx, dy, dx2, dy2)\r\n  }\r\n})\r\n","import AbstractToolPolicy from \"./AbstractToolPolicy\"\r\n\r\nimport cursor from \"../../images/cursors/cursor_text.png\"\r\n\r\nexport default AbstractToolPolicy.extend({\r\n\r\n  TITLE: \"Text\",\r\n  MESSAGE_STEP1: \"Select location for text\",\r\n  MESSAGE_STEP2: \"Enter Text\",\r\n\r\n  init: function () {\r\n    this._super()\r\n\r\n    this.topLeft = null\r\n    this.newFigure = null\r\n  },\r\n\r\n\r\n  onInstall: function (canvas) {\r\n    this.setToolText(this.MESSAGE_STEP1)\r\n    canvas.setCursor(cursor)\r\n  },\r\n\r\n  onUninstall: function (canvas) {\r\n    canvas.setCursor(null)\r\n  },\r\n\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @param {Number} x the x-coordinate of the mouse down event\r\n   * @param {Number} y the y-coordinate of the mouse down event\r\n   * @param {Boolean} shiftKey true if the shift key has been pressed during this event\r\n   * @param {Boolean} ctrlKey true if the ctrl key has been pressed during the event\r\n   */\r\n  onMouseDown: function (canvas, x, y, shiftKey, ctrlKey) {\r\n\r\n  },\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @param {Number} x the x-coordinate of the mouse event\r\n   * @param {Number} y the y-coordinate of the mouse event\r\n   * @template\r\n   */\r\n  onMouseMove: function (canvas, x, y) {\r\n  },\r\n\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @param {Number} dx The x diff between start of dragging and this event\r\n   * @param {Number} dy The y diff between start of dragging and this event\r\n   * @param {Number} dx2 The x diff since the last call of this dragging operation\r\n   * @param {Number} dy2 The y diff since the last call of this dragging operation\r\n   * @template\r\n   */\r\n  onMouseDrag: function (canvas, dx, dy, dx2, dy2) {\r\n  },\r\n\r\n  /**\r\n   * @method\r\n   *\r\n   * @param {draw2d.Canvas} canvas\r\n   * @param {Number} x the x-coordinate of the mouse down event\r\n   * @param {Number} y the y-coordinate of the mouse down event\r\n   * @template\r\n   */\r\n  onMouseUp: function (canvas, x, y) {\r\n    if (this.topLeft === null) {\r\n      this.topLeft = new draw2d.geo.Point(x, y)\r\n      this.setToolText(this.MESSAGE_STEP2)\r\n\r\n      this.newFigure = new shape_designer.figure.ExtLabel()\r\n      this.newFigure.setText(\"Text\")\r\n      this.newFigure.setStroke(0)\r\n      this.newFigure.setPadding(5)\r\n      this.newFigure.setFontSize(16)\r\n\r\n      var command = new draw2d.command.CommandAdd(canvas, this.newFigure, parseInt(x), parseInt(y))\r\n      canvas.getCommandStack().execute(command)\r\n      canvas.setCurrentSelection(this.newFigure)\r\n\r\n      // start inplace editing\r\n      //\r\n      setTimeout($.proxy(function () {\r\n        this.newFigure.onDoubleClick()\r\n      }, this), 100)\r\n\r\n      this.executed()\r\n    }\r\n    else {\r\n      this.topLeft = null\r\n    }\r\n  }\r\n})\r\n\r\n\r\n\r\n\r\n","/**\r\n * adds a bindGlobal method to Mousetrap that allows you to\r\n * bind specific keyboard shortcuts that will still work\r\n * inside a text input field\r\n *\r\n * usage:\r\n * Mousetrap.bindGlobal('ctrl+s', _saveChanges);\r\n */\r\n/* global Mousetrap:true */\r\n(function(Mousetrap) {\r\n  var _globalCallbacks = {};\r\n  var _originalStopCallback = Mousetrap.prototype.stopCallback;\r\n\r\n  Mousetrap.prototype.stopCallback = function(e, element, combo, sequence) {\r\n    var self = this;\r\n\r\n    if (self.paused) {\r\n      return true;\r\n    }\r\n\r\n    if (_globalCallbacks[combo] || _globalCallbacks[sequence]) {\r\n      return false;\r\n    }\r\n\r\n    return _originalStopCallback.call(self, e, element, combo);\r\n  };\r\n\r\n  Mousetrap.prototype.bindGlobal = function(keys, callback, action) {\r\n    var self = this;\r\n    self.bind(keys, callback, action);\r\n\r\n    if (keys instanceof Array) {\r\n      for (var i = 0; i < keys.length; i++) {\r\n        _globalCallbacks[keys[i]] = true;\r\n      }\r\n      return;\r\n    }\r\n\r\n    _globalCallbacks[keys] = true;\r\n  };\r\n\r\n  Mousetrap.init();\r\n}) (Mousetrap);\r\n","/**\r\n * adds a pause and unpause method to Mousetrap\r\n * this allows you to enable or disable keyboard shortcuts\r\n * without having to reset Mousetrap and rebind everything\r\n */\r\n/* global Mousetrap:true */\r\n(function(Mousetrap) {\r\n  let _originalStopCallback = Mousetrap.prototype.stopCallback;\r\n\r\n  Mousetrap.prototype.stopCallback = function(e, element, combo) {\r\n    let self = this;\r\n\r\n    if (self.paused) {\r\n      return true;\r\n    }\r\n\r\n    return _originalStopCallback.call(self, e, element, combo);\r\n  };\r\n\r\n  Mousetrap.prototype.pause = function() {\r\n    let self = this;\r\n    self.paused = true;\r\n  };\r\n\r\n  Mousetrap.prototype.unpause = function() {\r\n    let self = this;\r\n    self.paused = false;\r\n  };\r\n\r\n  Mousetrap.init();\r\n}) (Mousetrap);\r\n","module.exports = \"js/webpack/5034704a76cd55c1cbcbc58ea6bf523f.gif\";","module.exports = \"js/webpack/ba9a274b9323753cd95bc3b1eb2f4e5f.gif\";","module.exports = \"js/webpack/fefa1a03d92ebad25c88dca94a0b63db.png\";","module.exports = \"js/webpack/990d71cada17da100653636cf8490884.png\";","/**\r\n * jscolor, JavaScript Color Picker\r\n *\r\n * @version 1.4.2\r\n * @license GNU Lesser General Public License, http://www.gnu.org/copyleft/lesser.html\r\n * @author  Jan Odvarko, http://odvarko.cz\r\n * @created 2008-06-15\r\n * @updated 2013-11-25\r\n * @link    http://jscolor.com\r\n */\r\nimport arrowImg from \"./arrow.gif\"\r\nimport crossImg from \"./cross.gif\"\r\nimport hsImg from \"./hs.png\"\r\nimport hvImg from \"./hv.png\"\r\n\r\nlet jscolor = null\r\nexport default jscolor = {\r\n\r\n  dir: '', // location of jscolor directory (leave empty to autodetect)\r\n  bindClass: 'color', // class name\r\n  binding: true, // automatic binding via <input class=\"...\">\r\n  preloading: true, // use image preloading?\r\n\r\n\r\n  install: function () {\r\n    jscolor.addEvent(window, 'load', jscolor.init)\r\n  },\r\n\r\n\r\n  init: function () {\r\n    if (jscolor.binding) {\r\n      jscolor.bind()\r\n    }\r\n    if (jscolor.preloading) {\r\n      jscolor.preload()\r\n    }\r\n  },\r\n\r\n  bind: function () {\r\n    var matchClass = new RegExp('(^|\\\\s)(' + jscolor.bindClass + ')\\\\s*(\\\\{[^}]*\\\\})?', 'i')\r\n    var e = document.getElementsByTagName('input')\r\n    for (var i = 0; i < e.length; i += 1) {\r\n      var m\r\n      if (!e[i].color && e[i].className && (m = e[i].className.match(matchClass))) {\r\n        var prop = {}\r\n        if (m[3]) {\r\n          try {\r\n            prop = (new Function('return (' + m[3] + ')'))()\r\n          } catch (eInvalidProp) {\r\n          }\r\n        }\r\n        e[i].color = new jscolor.color(e[i], prop)\r\n      }\r\n    }\r\n  },\r\n\r\n\r\n  preload: function () {\r\n    for (var fn in jscolor.imgRequire) {\r\n      if (jscolor.imgRequire.hasOwnProperty(fn)) {\r\n        jscolor.loadImage(fn)\r\n      }\r\n    }\r\n  },\r\n\r\n\r\n  images: {\r\n    pad: [181, 101],\r\n    sld: [16, 101],\r\n    cross: [15, 15],\r\n    arrow: [7, 11]\r\n  },\r\n\r\n\r\n  imgRequire: {},\r\n  imgLoaded: {},\r\n\r\n\r\n  requireImage: function (filename) {\r\n    jscolor.imgRequire[filename] = true\r\n  },\r\n\r\n\r\n  loadImage: function (filename) {\r\n    if (!jscolor.imgLoaded[filename]) {\r\n      jscolor.imgLoaded[filename] = new Image()\r\n      jscolor.imgLoaded[filename].src = filename\r\n    }\r\n  },\r\n\r\n\r\n  fetchElement: function (mixed) {\r\n    return typeof mixed === 'string' ? document.getElementById(mixed) : mixed\r\n  },\r\n\r\n\r\n  addEvent: function (el, evnt, func) {\r\n    if (el.addEventListener) {\r\n      el.addEventListener(evnt, func, false)\r\n    } else if (el.attachEvent) {\r\n      el.attachEvent('on' + evnt, func)\r\n    }\r\n  },\r\n\r\n\r\n  fireEvent: function (el, evnt) {\r\n    if (!el) {\r\n      return\r\n    }\r\n    if (document.createEvent) {\r\n      var ev = document.createEvent('HTMLEvents')\r\n      ev.initEvent(evnt, true, true)\r\n      el.dispatchEvent(ev)\r\n    } else if (document.createEventObject) {\r\n      var ev = document.createEventObject()\r\n      el.fireEvent('on' + evnt, ev)\r\n    } else if (el['on' + evnt]) { // alternatively use the traditional event model (IE5)\r\n      el['on' + evnt]()\r\n    }\r\n  },\r\n\r\n\r\n  getElementPos: function (e) {\r\n    var e1 = e, e2 = e\r\n    var x = 0, y = 0\r\n    if (e1.offsetParent) {\r\n      do {\r\n        x += e1.offsetLeft\r\n        y += e1.offsetTop\r\n      } while (e1 = e1.offsetParent)\r\n    }\r\n    while ((e2 = e2.parentNode) && e2.nodeName.toUpperCase() !== 'BODY') {\r\n      x -= e2.scrollLeft\r\n      y -= e2.scrollTop\r\n    }\r\n    return [x, y]\r\n  },\r\n\r\n\r\n  getElementSize: function (e) {\r\n    return [e.offsetWidth, e.offsetHeight]\r\n  },\r\n\r\n\r\n  getRelMousePos: function (e) {\r\n    var x = 0, y = 0\r\n    if (!e) {\r\n      e = window.event\r\n    }\r\n    if (typeof e.offsetX === 'number') {\r\n      x = e.offsetX\r\n      y = e.offsetY\r\n    } else if (typeof e.layerX === 'number') {\r\n      x = e.layerX\r\n      y = e.layerY\r\n    }\r\n    return {x: x, y: y}\r\n  },\r\n\r\n\r\n  getViewPos: function () {\r\n    if (typeof window.pageYOffset === 'number') {\r\n      return [window.pageXOffset, window.pageYOffset]\r\n    } else if (document.body && (document.body.scrollLeft || document.body.scrollTop)) {\r\n      return [document.body.scrollLeft, document.body.scrollTop]\r\n    } else if (document.documentElement && (document.documentElement.scrollLeft || document.documentElement.scrollTop)) {\r\n      return [document.documentElement.scrollLeft, document.documentElement.scrollTop]\r\n    } else {\r\n      return [0, 0]\r\n    }\r\n  },\r\n\r\n\r\n  getViewSize: function () {\r\n    if (typeof window.innerWidth === 'number') {\r\n      return [window.innerWidth, window.innerHeight]\r\n    } else if (document.body && (document.body.clientWidth || document.body.clientHeight)) {\r\n      return [document.body.clientWidth, document.body.clientHeight]\r\n    } else if (document.documentElement && (document.documentElement.clientWidth || document.documentElement.clientHeight)) {\r\n      return [document.documentElement.clientWidth, document.documentElement.clientHeight]\r\n    } else {\r\n      return [0, 0]\r\n    }\r\n  },\r\n\r\n\r\n  URI: function (uri) { // See RFC3986\r\n\r\n    this.scheme = null\r\n    this.authority = null\r\n    this.path = ''\r\n    this.query = null\r\n    this.fragment = null\r\n\r\n    this.parse = function (uri) {\r\n      var m = uri.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\\/\\/)([^\\/?#]*))?([^?#]*)((\\?)([^#]*))?((#)(.*))?/)\r\n      this.scheme = m[3] ? m[2] : null\r\n      this.authority = m[5] ? m[6] : null\r\n      this.path = m[7]\r\n      this.query = m[9] ? m[10] : null\r\n      this.fragment = m[12] ? m[13] : null\r\n      return this\r\n    }\r\n\r\n    this.toString = function () {\r\n      var result = ''\r\n      if (this.scheme !== null) {\r\n        result = result + this.scheme + ':'\r\n      }\r\n      if (this.authority !== null) {\r\n        result = result + '//' + this.authority\r\n      }\r\n      if (this.path !== null) {\r\n        result = result + this.path\r\n      }\r\n      if (this.query !== null) {\r\n        result = result + '?' + this.query\r\n      }\r\n      if (this.fragment !== null) {\r\n        result = result + '#' + this.fragment\r\n      }\r\n      return result\r\n    }\r\n\r\n    this.toAbsolute = function (base) {\r\n      var base = new jscolor.URI(base)\r\n      var r = this\r\n      var t = new jscolor.URI\r\n\r\n      if (base.scheme === null) {\r\n        return false\r\n      }\r\n\r\n      if (r.scheme !== null && r.scheme.toLowerCase() === base.scheme.toLowerCase()) {\r\n        r.scheme = null\r\n      }\r\n\r\n      if (r.scheme !== null) {\r\n        t.scheme = r.scheme\r\n        t.authority = r.authority\r\n        t.path = removeDotSegments(r.path)\r\n        t.query = r.query\r\n      } else {\r\n        if (r.authority !== null) {\r\n          t.authority = r.authority\r\n          t.path = removeDotSegments(r.path)\r\n          t.query = r.query\r\n        } else {\r\n          if (r.path === '') {\r\n            t.path = base.path\r\n            if (r.query !== null) {\r\n              t.query = r.query\r\n            } else {\r\n              t.query = base.query\r\n            }\r\n          } else {\r\n            if (r.path.substr(0, 1) === '/') {\r\n              t.path = removeDotSegments(r.path)\r\n            } else {\r\n              if (base.authority !== null && base.path === '') {\r\n                t.path = '/' + r.path\r\n              } else {\r\n                t.path = base.path.replace(/[^\\/]+$/, '') + r.path\r\n              }\r\n              t.path = removeDotSegments(t.path)\r\n            }\r\n            t.query = r.query\r\n          }\r\n          t.authority = base.authority\r\n        }\r\n        t.scheme = base.scheme\r\n      }\r\n      t.fragment = r.fragment\r\n\r\n      return t\r\n    }\r\n\r\n    function removeDotSegments(path) {\r\n      var out = ''\r\n      while (path) {\r\n        if (path.substr(0, 3) === '../' || path.substr(0, 2) === './') {\r\n          path = path.replace(/^\\.+/, '').substr(1)\r\n        } else if (path.substr(0, 3) === '/./' || path === '/.') {\r\n          path = '/' + path.substr(3)\r\n        } else if (path.substr(0, 4) === '/../' || path === '/..') {\r\n          path = '/' + path.substr(4)\r\n          out = out.replace(/\\/?[^\\/]*$/, '')\r\n        } else if (path === '.' || path === '..') {\r\n          path = ''\r\n        } else {\r\n          var rm = path.match(/^\\/?[^\\/]*/)[0]\r\n          path = path.substr(rm.length)\r\n          out = out + rm\r\n        }\r\n      }\r\n      return out\r\n    }\r\n\r\n    if (uri) {\r\n      this.parse(uri)\r\n    }\r\n\r\n  },\r\n\r\n\r\n  //\r\n  // Usage example:\r\n  // var myColor = new jscolor.color(myInputElement)\r\n  //\r\n\r\n  color: function (target, prop) {\r\n\r\n\r\n    this.required = true // refuse empty values?\r\n    this.adjust = true // adjust value to uniform notation?\r\n    this.hash = false // prefix color with # symbol?\r\n    this.caps = true // uppercase?\r\n    this.slider = true // show the value/saturation slider?\r\n    this.valueElement = target // value holder\r\n    this.styleElement = target // where to reflect current color\r\n    this.onImmediateChange = null // onchange callback (can be either string or function)\r\n    this.hsv = [0, 0, 1] // read-only  0-6, 0-1, 0-1\r\n    this.rgb = [1, 1, 1] // read-only  0-1, 0-1, 0-1\r\n    this.minH = 0 // read-only  0-6\r\n    this.maxH = 6 // read-only  0-6\r\n    this.minS = 0 // read-only  0-1\r\n    this.maxS = 1 // read-only  0-1\r\n    this.minV = 0 // read-only  0-1\r\n    this.maxV = 1 // read-only  0-1\r\n\r\n    this.pickerOnfocus = true // display picker on focus?\r\n    this.pickerMode = 'HSV' // HSV | HVS\r\n    this.pickerPosition = 'bottom' // left | right | top | bottom\r\n    this.pickerSmartPosition = true // automatically adjust picker position when necessary\r\n    this.pickerButtonHeight = 20 // px\r\n    this.pickerClosable = false\r\n    this.pickerCloseText = 'Close'\r\n    this.pickerButtonColor = 'ButtonText' // px\r\n    this.pickerFace = 10 // px\r\n    this.pickerFaceColor = 'ThreeDFace' // CSS color\r\n    this.pickerBorder = 1 // px\r\n    this.pickerBorderColor = 'ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight' // CSS color\r\n    this.pickerInset = 1 // px\r\n    this.pickerInsetColor = 'ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow' // CSS color\r\n    this.pickerZIndex = 10000\r\n\r\n\r\n    for (var p in prop) {\r\n      if (prop.hasOwnProperty(p)) {\r\n        this[p] = prop[p]\r\n      }\r\n    }\r\n\r\n\r\n    this.hidePicker = function () {\r\n      if (isPickerOwner()) {\r\n        removePicker()\r\n      }\r\n    }\r\n\r\n\r\n    this.showPicker = function () {\r\n      if (!isPickerOwner()) {\r\n        var tp = jscolor.getElementPos(target) // target pos\r\n        var ts = jscolor.getElementSize(target) // target size\r\n        var vp = jscolor.getViewPos() // view pos\r\n        var vs = jscolor.getViewSize() // view size\r\n        var ps = getPickerDims(this) // picker size\r\n        var a, b, c\r\n        switch (this.pickerPosition.toLowerCase()) {\r\n          case 'left':\r\n            a = 1\r\n            b = 0\r\n            c = -1\r\n            break\r\n          case 'right':\r\n            a = 1\r\n            b = 0\r\n            c = 1\r\n            break\r\n          case 'top':\r\n            a = 0\r\n            b = 1\r\n            c = -1\r\n            break\r\n          default:\r\n            a = 0\r\n            b = 1\r\n            c = 1\r\n            break\r\n        }\r\n        var l = (ts[b] + ps[b]) / 2\r\n\r\n        // picker pos\r\n        if (!this.pickerSmartPosition) {\r\n          var pp = [\r\n            tp[a],\r\n            tp[b] + ts[b] - l + l * c\r\n          ]\r\n        } else {\r\n          var pp = [\r\n            -vp[a] + tp[a] + ps[a] > vs[a] ?\r\n              (-vp[a] + tp[a] + ts[a] / 2 > vs[a] / 2 && tp[a] + ts[a] - ps[a] >= 0 ? tp[a] + ts[a] - ps[a] : tp[a]) :\r\n              tp[a],\r\n            -vp[b] + tp[b] + ts[b] + ps[b] - l + l * c > vs[b] ?\r\n              (-vp[b] + tp[b] + ts[b] / 2 > vs[b] / 2 && tp[b] + ts[b] - l - l * c >= 0 ? tp[b] + ts[b] - l - l * c : tp[b] + ts[b] - l + l * c) :\r\n              (tp[b] + ts[b] - l + l * c >= 0 ? tp[b] + ts[b] - l + l * c : tp[b] + ts[b] - l - l * c)\r\n          ]\r\n        }\r\n        drawPicker(pp[a], pp[b])\r\n      }\r\n    }\r\n\r\n\r\n    this.importColor = function () {\r\n      if (!valueElement) {\r\n        this.exportColor()\r\n      } else {\r\n        if (!this.adjust) {\r\n          if (!this.fromString(valueElement.value, leaveValue)) {\r\n            styleElement.style.backgroundImage = styleElement.jscStyle.backgroundImage\r\n            styleElement.style.backgroundColor = styleElement.jscStyle.backgroundColor\r\n            styleElement.style.color = styleElement.jscStyle.color\r\n            this.exportColor(leaveValue | leaveStyle)\r\n          }\r\n        } else if (!this.required && /^\\s*$/.test(valueElement.value)) {\r\n          valueElement.value = ''\r\n          styleElement.style.backgroundImage = styleElement.jscStyle.backgroundImage\r\n          styleElement.style.backgroundColor = styleElement.jscStyle.backgroundColor\r\n          styleElement.style.color = styleElement.jscStyle.color\r\n          this.exportColor(leaveValue | leaveStyle)\r\n\r\n        } else if (this.fromString(valueElement.value)) {\r\n          // OK\r\n        } else {\r\n          this.exportColor()\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    this.exportColor = function (flags) {\r\n      if (!(flags & leaveValue) && valueElement) {\r\n        var value = this.toString()\r\n        if (this.caps) {\r\n          value = value.toUpperCase()\r\n        }\r\n        if (this.hash) {\r\n          value = '#' + value\r\n        }\r\n        valueElement.value = value\r\n      }\r\n      if (!(flags & leaveStyle) && styleElement) {\r\n        styleElement.style.backgroundImage = \"none\"\r\n        styleElement.style.backgroundColor =\r\n          '#' + this.toString()\r\n        styleElement.style.color =\r\n          0.213 * this.rgb[0] +\r\n          0.715 * this.rgb[1] +\r\n          0.072 * this.rgb[2]\r\n          < 0.5 ? '#FFF' : '#000'\r\n      }\r\n      if (!(flags & leavePad) && isPickerOwner()) {\r\n        redrawPad()\r\n      }\r\n      if (!(flags & leaveSld) && isPickerOwner()) {\r\n        redrawSld()\r\n      }\r\n    }\r\n\r\n\r\n    this.fromHSV = function (h, s, v, flags) { // null = don't change\r\n      if (h !== null) {\r\n        h = Math.max(0.0, this.minH, Math.min(6.0, this.maxH, h))\r\n      }\r\n      if (s !== null) {\r\n        s = Math.max(0.0, this.minS, Math.min(1.0, this.maxS, s))\r\n      }\r\n      if (v !== null) {\r\n        v = Math.max(0.0, this.minV, Math.min(1.0, this.maxV, v))\r\n      }\r\n\r\n      this.rgb = HSV_RGB(\r\n        h === null ? this.hsv[0] : (this.hsv[0] = h),\r\n        s === null ? this.hsv[1] : (this.hsv[1] = s),\r\n        v === null ? this.hsv[2] : (this.hsv[2] = v)\r\n      )\r\n\r\n      this.exportColor(flags)\r\n    }\r\n\r\n\r\n    this.fromRGB = function (r, g, b, flags) { // null = don't change\r\n      if (r !== null) {\r\n        r = Math.max(0.0, Math.min(1.0, r))\r\n      }\r\n      if (g !== null) {\r\n        g = Math.max(0.0, Math.min(1.0, g))\r\n      }\r\n      if (b !== null) {\r\n        b = Math.max(0.0, Math.min(1.0, b))\r\n      }\r\n\r\n      var hsv = RGB_HSV(\r\n        r === null ? this.rgb[0] : r,\r\n        g === null ? this.rgb[1] : g,\r\n        b === null ? this.rgb[2] : b\r\n      )\r\n      if (hsv[0] !== null) {\r\n        this.hsv[0] = Math.max(0.0, this.minH, Math.min(6.0, this.maxH, hsv[0]))\r\n      }\r\n      if (hsv[2] !== 0) {\r\n        this.hsv[1] = hsv[1] === null ? null : Math.max(0.0, this.minS, Math.min(1.0, this.maxS, hsv[1]))\r\n      }\r\n      this.hsv[2] = hsv[2] === null ? null : Math.max(0.0, this.minV, Math.min(1.0, this.maxV, hsv[2]))\r\n\r\n      // update RGB according to final HSV, as some values might be trimmed\r\n      var rgb = HSV_RGB(this.hsv[0], this.hsv[1], this.hsv[2])\r\n      this.rgb[0] = rgb[0]\r\n      this.rgb[1] = rgb[1]\r\n      this.rgb[2] = rgb[2]\r\n\r\n      this.exportColor(flags)\r\n    }\r\n\r\n\r\n    this.fromString = function (hex, flags) {\r\n      var m = hex.match(/^\\W*([0-9A-F]{3}([0-9A-F]{3})?)\\W*$/i)\r\n      if (!m) {\r\n        return false\r\n      } else {\r\n        if (m[1].length === 6) { // 6-char notation\r\n          this.fromRGB(\r\n            parseInt(m[1].substr(0, 2), 16) / 255,\r\n            parseInt(m[1].substr(2, 2), 16) / 255,\r\n            parseInt(m[1].substr(4, 2), 16) / 255,\r\n            flags\r\n          )\r\n        } else { // 3-char notation\r\n          this.fromRGB(\r\n            parseInt(m[1].charAt(0) + m[1].charAt(0), 16) / 255,\r\n            parseInt(m[1].charAt(1) + m[1].charAt(1), 16) / 255,\r\n            parseInt(m[1].charAt(2) + m[1].charAt(2), 16) / 255,\r\n            flags\r\n          )\r\n        }\r\n        return true\r\n      }\r\n    }\r\n\r\n\r\n    this.toString = function () {\r\n      return (\r\n        (0x100 | Math.round(255 * this.rgb[0])).toString(16).substr(1) +\r\n        (0x100 | Math.round(255 * this.rgb[1])).toString(16).substr(1) +\r\n        (0x100 | Math.round(255 * this.rgb[2])).toString(16).substr(1)\r\n      )\r\n    }\r\n\r\n\r\n    function RGB_HSV(r, g, b) {\r\n      var n = Math.min(Math.min(r, g), b)\r\n      var v = Math.max(Math.max(r, g), b)\r\n      var m = v - n\r\n      if (m === 0) {\r\n        return [null, 0, v]\r\n      }\r\n      var h = r === n ? 3 + (b - g) / m : (g === n ? 5 + (r - b) / m : 1 + (g - r) / m)\r\n      return [h === 6 ? 0 : h, m / v, v]\r\n    }\r\n\r\n\r\n    function HSV_RGB(h, s, v) {\r\n      if (h === null) {\r\n        return [v, v, v]\r\n      }\r\n      var i = Math.floor(h)\r\n      var f = i % 2 ? h - i : 1 - (h - i)\r\n      var m = v * (1 - s)\r\n      var n = v * (1 - s * f)\r\n      switch (i) {\r\n        case 6:\r\n        case 0:\r\n          return [v, n, m]\r\n        case 1:\r\n          return [n, v, m]\r\n        case 2:\r\n          return [m, v, n]\r\n        case 3:\r\n          return [m, n, v]\r\n        case 4:\r\n          return [n, m, v]\r\n        case 5:\r\n          return [v, m, n]\r\n      }\r\n    }\r\n\r\n\r\n    function removePicker() {\r\n      delete jscolor.picker.owner\r\n      document.getElementsByTagName('body')[0].removeChild(jscolor.picker.boxB)\r\n    }\r\n\r\n\r\n    function drawPicker(x, y) {\r\n      if (!jscolor.picker) {\r\n        jscolor.picker = {\r\n          box: document.createElement('div'),\r\n          boxB: document.createElement('div'),\r\n          pad: document.createElement('div'),\r\n          padB: document.createElement('div'),\r\n          padM: document.createElement('div'),\r\n          sld: document.createElement('div'),\r\n          sldB: document.createElement('div'),\r\n          sldM: document.createElement('div'),\r\n          btn: document.createElement('div'),\r\n          btnS: document.createElement('span'),\r\n          btnT: document.createTextNode(THIS.pickerCloseText)\r\n        }\r\n        for (var i = 0, segSize = 4; i < jscolor.images.sld[1]; i += segSize) {\r\n          var seg = document.createElement('div')\r\n          seg.style.height = segSize + 'px'\r\n          seg.style.fontSize = '1px'\r\n          seg.style.lineHeight = '0'\r\n          jscolor.picker.sld.appendChild(seg)\r\n        }\r\n        jscolor.picker.sldB.appendChild(jscolor.picker.sld)\r\n        jscolor.picker.box.appendChild(jscolor.picker.sldB)\r\n        jscolor.picker.box.appendChild(jscolor.picker.sldM)\r\n        jscolor.picker.padB.appendChild(jscolor.picker.pad)\r\n        jscolor.picker.box.appendChild(jscolor.picker.padB)\r\n        jscolor.picker.box.appendChild(jscolor.picker.padM)\r\n        jscolor.picker.btnS.appendChild(jscolor.picker.btnT)\r\n        jscolor.picker.btn.appendChild(jscolor.picker.btnS)\r\n        jscolor.picker.box.appendChild(jscolor.picker.btn)\r\n        jscolor.picker.boxB.appendChild(jscolor.picker.box)\r\n      }\r\n\r\n      var p = jscolor.picker\r\n\r\n      // controls interaction\r\n      p.box.onmouseup =\r\n        p.box.onmouseout = function () {\r\n          target.focus()\r\n        }\r\n      p.box.onmousedown = function () {\r\n        abortBlur = true\r\n      }\r\n      p.box.onmousemove = function (e) {\r\n        if (holdPad || holdSld) {\r\n          holdPad && setPad(e)\r\n          holdSld && setSld(e)\r\n          if (document.selection) {\r\n            document.selection.empty()\r\n          } else if (window.getSelection) {\r\n            window.getSelection().removeAllRanges()\r\n          }\r\n          dispatchImmediateChange()\r\n        }\r\n      }\r\n      if ('ontouchstart' in window) { // if touch device\r\n        var handle_touchmove = function (e) {\r\n          var event = {\r\n            'offsetX': e.touches[0].pageX - touchOffset.X,\r\n            'offsetY': e.touches[0].pageY - touchOffset.Y\r\n          }\r\n          if (holdPad || holdSld) {\r\n            holdPad && setPad(event)\r\n            holdSld && setSld(event)\r\n            dispatchImmediateChange()\r\n          }\r\n          e.stopPropagation() // prevent move \"view\" on broswer\r\n          e.preventDefault() // prevent Default - Android Fix (else android generated only 1-2 touchmove events)\r\n        }\r\n        p.box.removeEventListener('touchmove', handle_touchmove, false)\r\n        p.box.addEventListener('touchmove', handle_touchmove, false)\r\n      }\r\n      p.padM.onmouseup =\r\n        p.padM.onmouseout = function () {\r\n          if (holdPad) {\r\n            holdPad = false\r\n            jscolor.fireEvent(valueElement, 'change')\r\n          }\r\n        }\r\n      p.padM.onmousedown = function (e) {\r\n        // if the slider is at the bottom, move it up\r\n        switch (modeID) {\r\n          case 0:\r\n            if (THIS.hsv[2] === 0) {\r\n              THIS.fromHSV(null, null, 1.0)\r\n            }\r\n            \r\n            break\r\n          case 1:\r\n            if (THIS.hsv[1] === 0) {\r\n              THIS.fromHSV(null, 1.0, null)\r\n            }\r\n            \r\n            break\r\n        }\r\n        holdSld = false\r\n        holdPad = true\r\n        setPad(e)\r\n        dispatchImmediateChange()\r\n      }\r\n      if ('ontouchstart' in window) {\r\n        p.padM.addEventListener('touchstart', function (e) {\r\n          touchOffset = {\r\n            'X': e.target.offsetParent.offsetLeft,\r\n            'Y': e.target.offsetParent.offsetTop\r\n          }\r\n          this.onmousedown({\r\n            'offsetX': e.touches[0].pageX - touchOffset.X,\r\n            'offsetY': e.touches[0].pageY - touchOffset.Y\r\n          })\r\n        })\r\n      }\r\n      p.sldM.onmouseup =\r\n        p.sldM.onmouseout = function () {\r\n          if (holdSld) {\r\n            holdSld = false\r\n            jscolor.fireEvent(valueElement, 'change')\r\n          }\r\n        }\r\n      p.sldM.onmousedown = function (e) {\r\n        holdPad = false\r\n        holdSld = true\r\n        setSld(e)\r\n        dispatchImmediateChange()\r\n      }\r\n      if ('ontouchstart' in window) {\r\n        p.sldM.addEventListener('touchstart', function (e) {\r\n          touchOffset = {\r\n            'X': e.target.offsetParent.offsetLeft,\r\n            'Y': e.target.offsetParent.offsetTop\r\n          }\r\n          this.onmousedown({\r\n            'offsetX': e.touches[0].pageX - touchOffset.X,\r\n            'offsetY': e.touches[0].pageY - touchOffset.Y\r\n          })\r\n        })\r\n      }\r\n\r\n      // picker\r\n      var dims = getPickerDims(THIS)\r\n      p.box.style.width = dims[0] + 'px'\r\n      p.box.style.height = dims[1] + 'px'\r\n\r\n      // picker border\r\n      p.boxB.style.position = 'absolute'\r\n      p.boxB.style.clear = 'both'\r\n      p.boxB.style.left = x + 'px'\r\n      p.boxB.style.top = y + 'px'\r\n      p.boxB.style.zIndex = THIS.pickerZIndex\r\n      p.boxB.style.border = THIS.pickerBorder + 'px solid'\r\n      p.boxB.style.borderColor = THIS.pickerBorderColor\r\n      p.boxB.style.background = THIS.pickerFaceColor\r\n\r\n      // pad image\r\n      p.pad.style.width = jscolor.images.pad[0] + 'px'\r\n      p.pad.style.height = jscolor.images.pad[1] + 'px'\r\n\r\n      // pad border\r\n      p.padB.style.position = 'absolute'\r\n      p.padB.style.left = THIS.pickerFace + 'px'\r\n      p.padB.style.top = THIS.pickerFace + 'px'\r\n      p.padB.style.border = THIS.pickerInset + 'px solid'\r\n      p.padB.style.borderColor = THIS.pickerInsetColor\r\n\r\n      // pad mouse area\r\n      p.padM.style.position = 'absolute'\r\n      p.padM.style.left = '0'\r\n      p.padM.style.top = '0'\r\n      p.padM.style.width = THIS.pickerFace + 2 * THIS.pickerInset + jscolor.images.pad[0] + jscolor.images.arrow[0] + 'px'\r\n      p.padM.style.height = p.box.style.height\r\n      p.padM.style.cursor = 'crosshair'\r\n\r\n      // slider image\r\n      p.sld.style.overflow = 'hidden'\r\n      p.sld.style.width = jscolor.images.sld[0] + 'px'\r\n      p.sld.style.height = jscolor.images.sld[1] + 'px'\r\n\r\n      // slider border\r\n      p.sldB.style.display = THIS.slider ? 'block' : 'none'\r\n      p.sldB.style.position = 'absolute'\r\n      p.sldB.style.right = THIS.pickerFace + 'px'\r\n      p.sldB.style.top = THIS.pickerFace + 'px'\r\n      p.sldB.style.border = THIS.pickerInset + 'px solid'\r\n      p.sldB.style.borderColor = THIS.pickerInsetColor\r\n\r\n      // slider mouse area\r\n      p.sldM.style.display = THIS.slider ? 'block' : 'none'\r\n      p.sldM.style.position = 'absolute'\r\n      p.sldM.style.right = '0'\r\n      p.sldM.style.top = '0'\r\n      p.sldM.style.width = jscolor.images.sld[0] + jscolor.images.arrow[0] + THIS.pickerFace + 2 * THIS.pickerInset + 'px'\r\n      p.sldM.style.height = p.box.style.height\r\n      try {\r\n        p.sldM.style.cursor = 'pointer'\r\n      } catch (eOldIE) {\r\n        p.sldM.style.cursor = 'hand'\r\n      }\r\n\r\n      // \"close\" button\r\n      function setBtnBorder() {\r\n        var insetColors = THIS.pickerInsetColor.split(/\\s+/)\r\n        var pickerOutsetColor = insetColors.length < 2 ? insetColors[0] : insetColors[1] + ' ' + insetColors[0] + ' ' + insetColors[0] + ' ' + insetColors[1]\r\n        p.btn.style.borderColor = pickerOutsetColor\r\n      }\r\n\r\n      p.btn.style.display = THIS.pickerClosable ? 'block' : 'none'\r\n      p.btn.style.position = 'absolute'\r\n      p.btn.style.left = THIS.pickerFace + 'px'\r\n      p.btn.style.bottom = THIS.pickerFace + 'px'\r\n      p.btn.style.padding = '0 15px'\r\n      p.btn.style.height = '18px'\r\n      p.btn.style.border = THIS.pickerInset + 'px solid'\r\n      setBtnBorder()\r\n      p.btn.style.color = THIS.pickerButtonColor\r\n      p.btn.style.font = '12px sans-serif'\r\n      p.btn.style.textAlign = 'center'\r\n      try {\r\n        p.btn.style.cursor = 'pointer'\r\n      } catch (eOldIE) {\r\n        p.btn.style.cursor = 'hand'\r\n      }\r\n      p.btn.onmousedown = function () {\r\n        THIS.hidePicker()\r\n      }\r\n      p.btnS.style.lineHeight = p.btn.style.height\r\n\r\n      // load images in optimal order\r\n      switch (modeID) {\r\n        case 0:\r\n          var padImg = hsImg\r\n          break\r\n        case 1:\r\n          var padImg = hvImg\r\n          break\r\n      }\r\n\r\n      p.padM.style.backgroundImage = \"url('\" + crossImg + \"')\"\r\n      p.padM.style.backgroundRepeat = \"no-repeat\"\r\n      p.sldM.style.backgroundImage = \"url('./\" + arrowImg + \"')\"\r\n      p.sldM.style.backgroundRepeat = \"no-repeat\"\r\n      p.pad.style.backgroundImage = \"url('\" + padImg + \"')\"\r\n      p.pad.style.backgroundRepeat = \"no-repeat\"\r\n      p.pad.style.backgroundPosition = \"0 0\"\r\n\r\n      // place pointers\r\n      redrawPad()\r\n      redrawSld()\r\n\r\n      jscolor.picker.owner = THIS\r\n      document.getElementsByTagName('body')[0].appendChild(p.boxB)\r\n    }\r\n\r\n\r\n    function getPickerDims(o) {\r\n      var dims = [\r\n        2 * o.pickerInset + 2 * o.pickerFace + jscolor.images.pad[0] +\r\n        (o.slider ? 2 * o.pickerInset + 2 * jscolor.images.arrow[0] + jscolor.images.sld[0] : 0),\r\n        o.pickerClosable ?\r\n          4 * o.pickerInset + 3 * o.pickerFace + jscolor.images.pad[1] + o.pickerButtonHeight :\r\n          2 * o.pickerInset + 2 * o.pickerFace + jscolor.images.pad[1]\r\n      ]\r\n      return dims\r\n    }\r\n\r\n\r\n    function redrawPad() {\r\n      // redraw the pad pointer\r\n      switch (modeID) {\r\n        case 0:\r\n          var yComponent = 1\r\n          break\r\n        case 1:\r\n          var yComponent = 2\r\n          break\r\n      }\r\n      var x = Math.round((THIS.hsv[0] / 6) * (jscolor.images.pad[0] - 1))\r\n      var y = Math.round((1 - THIS.hsv[yComponent]) * (jscolor.images.pad[1] - 1))\r\n      jscolor.picker.padM.style.backgroundPosition =\r\n        (THIS.pickerFace + THIS.pickerInset + x - Math.floor(jscolor.images.cross[0] / 2)) + 'px ' +\r\n        (THIS.pickerFace + THIS.pickerInset + y - Math.floor(jscolor.images.cross[1] / 2)) + 'px'\r\n\r\n      // redraw the slider image\r\n      var seg = jscolor.picker.sld.childNodes\r\n\r\n      switch (modeID) {\r\n        case 0:\r\n          var rgb = HSV_RGB(THIS.hsv[0], THIS.hsv[1], 1)\r\n          for (var i = 0; i < seg.length; i += 1) {\r\n            seg[i].style.backgroundColor = 'rgb(' +\r\n              (rgb[0] * (1 - i / seg.length) * 100) + '%,' +\r\n              (rgb[1] * (1 - i / seg.length) * 100) + '%,' +\r\n              (rgb[2] * (1 - i / seg.length) * 100) + '%)'\r\n          }\r\n          break\r\n        case 1:\r\n          var rgb, s, c = [THIS.hsv[2], 0, 0]\r\n          var i = Math.floor(THIS.hsv[0])\r\n          var f = i % 2 ? THIS.hsv[0] - i : 1 - (THIS.hsv[0] - i)\r\n          switch (i) {\r\n            case 6:\r\n            case 0:\r\n              rgb = [0, 1, 2]\r\n              break\r\n            case 1:\r\n              rgb = [1, 0, 2]\r\n              break\r\n            case 2:\r\n              rgb = [2, 0, 1]\r\n              break\r\n            case 3:\r\n              rgb = [2, 1, 0]\r\n              break\r\n            case 4:\r\n              rgb = [1, 2, 0]\r\n              break\r\n            case 5:\r\n              rgb = [0, 2, 1]\r\n              break\r\n          }\r\n          for (var i = 0; i < seg.length; i += 1) {\r\n            s = 1 - 1 / (seg.length - 1) * i\r\n            c[1] = c[0] * (1 - s * f)\r\n            c[2] = c[0] * (1 - s)\r\n            seg[i].style.backgroundColor = 'rgb(' +\r\n              (c[rgb[0]] * 100) + '%,' +\r\n              (c[rgb[1]] * 100) + '%,' +\r\n              (c[rgb[2]] * 100) + '%)'\r\n          }\r\n          break\r\n      }\r\n    }\r\n\r\n\r\n    function redrawSld() {\r\n      // redraw the slider pointer\r\n      switch (modeID) {\r\n        case 0:\r\n          var yComponent = 2\r\n          break\r\n        case 1:\r\n          var yComponent = 1\r\n          break\r\n      }\r\n      var y = Math.round((1 - THIS.hsv[yComponent]) * (jscolor.images.sld[1] - 1))\r\n      jscolor.picker.sldM.style.backgroundPosition =\r\n        '0 ' + (THIS.pickerFace + THIS.pickerInset + y - Math.floor(jscolor.images.arrow[1] / 2)) + 'px'\r\n    }\r\n\r\n\r\n    function isPickerOwner() {\r\n      return jscolor.picker && jscolor.picker.owner === THIS\r\n    }\r\n\r\n\r\n    function blurTarget() {\r\n      if (valueElement === target) {\r\n        THIS.importColor()\r\n      }\r\n      if (THIS.pickerOnfocus) {\r\n        THIS.hidePicker()\r\n      }\r\n    }\r\n\r\n\r\n    function blurValue() {\r\n      if (valueElement !== target) {\r\n        THIS.importColor()\r\n      }\r\n    }\r\n\r\n\r\n    function setPad(e) {\r\n      var mpos = jscolor.getRelMousePos(e)\r\n      var x = mpos.x - THIS.pickerFace - THIS.pickerInset\r\n      var y = mpos.y - THIS.pickerFace - THIS.pickerInset\r\n      switch (modeID) {\r\n        case 0:\r\n          THIS.fromHSV(x * (6 / (jscolor.images.pad[0] - 1)), 1 - y / (jscolor.images.pad[1] - 1), null, leaveSld)\r\n          break\r\n        case 1:\r\n          THIS.fromHSV(x * (6 / (jscolor.images.pad[0] - 1)), null, 1 - y / (jscolor.images.pad[1] - 1), leaveSld)\r\n          break\r\n      }\r\n    }\r\n\r\n\r\n    function setSld(e) {\r\n      var mpos = jscolor.getRelMousePos(e)\r\n      var y = mpos.y - THIS.pickerFace - THIS.pickerInset\r\n      switch (modeID) {\r\n        case 0:\r\n          THIS.fromHSV(null, null, 1 - y / (jscolor.images.sld[1] - 1), leavePad)\r\n          break\r\n        case 1:\r\n          THIS.fromHSV(null, 1 - y / (jscolor.images.sld[1] - 1), null, leavePad)\r\n          break\r\n      }\r\n    }\r\n\r\n\r\n    function dispatchImmediateChange() {\r\n      if (THIS.onImmediateChange) {\r\n        var callback\r\n        if (typeof THIS.onImmediateChange === 'string') {\r\n          callback = new Function(THIS.onImmediateChange)\r\n        } else {\r\n          callback = THIS.onImmediateChange\r\n        }\r\n        callback.call(THIS)\r\n      }\r\n    }\r\n\r\n\r\n    var THIS = this\r\n    var modeID = this.pickerMode.toLowerCase() === 'hvs' ? 1 : 0\r\n    var abortBlur = false\r\n    var\r\n      valueElement = jscolor.fetchElement(this.valueElement),\r\n      styleElement = jscolor.fetchElement(this.styleElement)\r\n    var\r\n      holdPad = false,\r\n      holdSld = false,\r\n      touchOffset = {}\r\n    var\r\n      leaveValue = 1 << 0,\r\n      leaveStyle = 1 << 1,\r\n      leavePad = 1 << 2,\r\n      leaveSld = 1 << 3\r\n\r\n    // target\r\n    jscolor.addEvent(target, 'focus', function () {\r\n      if (THIS.pickerOnfocus) {\r\n        THIS.showPicker()\r\n      }\r\n    })\r\n    jscolor.addEvent(target, 'blur', function () {\r\n      if (!abortBlur) {\r\n        window.setTimeout(function () {\r\n          abortBlur || blurTarget()\r\n          abortBlur = false\r\n        }, 0)\r\n      } else {\r\n        abortBlur = false\r\n      }\r\n    })\r\n\r\n    // valueElement\r\n    if (valueElement) {\r\n      var updateField = function () {\r\n        THIS.fromString(valueElement.value, leaveValue)\r\n        dispatchImmediateChange()\r\n      }\r\n      jscolor.addEvent(valueElement, 'keyup', updateField)\r\n      jscolor.addEvent(valueElement, 'input', updateField)\r\n      jscolor.addEvent(valueElement, 'blur', blurValue)\r\n      valueElement.setAttribute('autocomplete', 'off')\r\n    }\r\n\r\n    // styleElement\r\n    if (styleElement) {\r\n      styleElement.jscStyle = {\r\n        backgroundImage: styleElement.style.backgroundImage,\r\n        backgroundColor: styleElement.style.backgroundColor,\r\n        color: styleElement.style.color\r\n      }\r\n    }\r\n\r\n    // require images\r\n    switch (modeID) {\r\n      case 0:\r\n        jscolor.requireImage(hsImg)\r\n        break\r\n      case 1:\r\n        jscolor.requireImage(hvImg)\r\n        break\r\n    }\r\n    jscolor.requireImage(crossImg)\r\n    jscolor.requireImage(arrowImg)\r\n\r\n    this.importColor()\r\n  }\r\n\r\n}\r\n","/*\r\n    ui.anglepicker\r\n*/\r\n\r\n$.widget(\"ui.anglepicker\", $.ui.mouse, {\r\n  widgetEventPrefix: \"angle\",\r\n  _init: function () {\r\n    this._mouseInit()\r\n    this.pointer = $('<div class=\"ui-anglepicker-pointer\"></div>')\r\n    this.pointer.append('<div class=\"ui-anglepicker-dot\"></div>')\r\n    this.pointer.append('<div class=\"ui-anglepicker-line\"></div>')\r\n\r\n    this.element.addClass(\"ui-anglepicker\")\r\n    this.element.append(this.pointer)\r\n\r\n    this.setDegrees(this.options.value)\r\n  },\r\n  _propagate: function (name, event) {\r\n    this._trigger(name, event, this.ui())\r\n  },\r\n  _create: function () {\r\n\r\n  },\r\n  destroy: function () {\r\n    this._mouseDestroy()\r\n\r\n    this.element.removeClass(\"ui-anglepicker\")\r\n    this.pointer.remove()\r\n  },\r\n  _mouseStart: function (event) {\r\n    var myOffset = this.element.offset()\r\n    this.width = this.element.width()\r\n    this.height = this.element.height()\r\n\r\n    this.startOffset = {\r\n      x: myOffset.left + (this.width / 2),\r\n      y: myOffset.top + (this.height / 2)\r\n    }\r\n\r\n    this.element.addClass(\"ui-anglepicker-dragging\")\r\n    this.setDegreesFromEvent(event)\r\n    this._propagate(\"start\", event)\r\n  },\r\n  _mouseStop: function (event) {\r\n    this.element.removeClass(\"ui-anglepicker-dragging\")\r\n    this._propagate(\"stop\", event)\r\n  },\r\n  _mouseDrag: function (event) {\r\n    this.setDegreesFromEvent(event)\r\n    this._propagate(\"change\", event)\r\n  },\r\n  _setOption: function (key, value) {\r\n\r\n    this._super(key, value)\r\n  },\r\n\r\n  ui: function () {\r\n    return {\r\n      element: this.element,\r\n      value: this.options.value\r\n    }\r\n  },\r\n  value: function (newValue) {\r\n\r\n    if (!arguments.length) {\r\n      return this.options.value\r\n    }\r\n\r\n    var oldValue = this.options.value\r\n    this.setDegrees(newValue)\r\n\r\n    if (oldValue !== this.options.value) {\r\n      this._propagate(\"change\")\r\n    }\r\n\r\n    return this\r\n  },\r\n  drawRotation: function () {\r\n    var value = this.options.clockwise ? this.options.value : -this.options.value\r\n    var rotation = 'rotate(' + -value + 'deg)'\r\n\r\n    this.pointer.css({\r\n      '-webkit-transform': rotation,\r\n      '-moz-transform': rotation,\r\n      '-ms-transform': rotation,\r\n      '-o-transform': rotation,\r\n      'transform': rotation\r\n    })\r\n  },\r\n  setDegrees: function (degrees) {\r\n    this.options.value = this.clamp(degrees)\r\n    this.drawRotation()\r\n  },\r\n  clamp: function (degrees) {\r\n    if (typeof degrees !== \"number\") {\r\n      degrees = 0\r\n    }\r\n\r\n    var min = this.options.min,\r\n      max = min + 360\r\n\r\n    while (degrees < min) {\r\n      degrees += 360\r\n    }\r\n    while (degrees > max) {\r\n      degrees -= 360\r\n    }\r\n\r\n    return degrees\r\n  },\r\n  setDegreesFromEvent: function (event) {\r\n    var opposite = this.startOffset.y - event.pageY\r\n    opposite = this.options.clockwise ? opposite : -opposite\r\n\r\n    var adjacent = event.pageX - this.startOffset.x,\r\n      radians = Math.atan(opposite / adjacent),\r\n      degrees = Math.round(radians * (180 / Math.PI), 10)\r\n\r\n    if (event.shiftKey) {\r\n      degrees = this.roundToMultiple(degrees, this.options.shiftSnap)\r\n    }\r\n    else {\r\n      degrees = this.roundToMultiple(degrees, this.options.snap)\r\n    }\r\n\r\n    if (adjacent < 0 && opposite >= 0) {\r\n      degrees += 180\r\n    }\r\n    else if (opposite < 0 && adjacent < 0) {\r\n      degrees -= 180\r\n    }\r\n\r\n    this.setDegrees(degrees)\r\n  },\r\n  roundToMultiple: function (number, multiple) {\r\n    var value = number / multiple,\r\n      integer = Math.floor(value),\r\n      rest = value - integer\r\n\r\n    return rest > 0.5 ? (integer + 1) * multiple : integer * multiple\r\n  },\r\n  options: {\r\n    distance: 1,\r\n    delay: 1,\r\n    snap: 1,\r\n    min: 0,\r\n    shiftSnap: 15,\r\n    value: 90,\r\n    clockwise: true // anti-clockwise if false\r\n  }\r\n})\r\n","\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/less-loader/dist/cjs.js!./index.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/less-loader/dist/cjs.js!./index.less\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/less-loader/dist/cjs.js!./index.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","(function (root, factory) {\r\n\r\n    if(typeof define === 'function' && define.amd) {\r\n        define([], factory(root));\r\n    } else if (typeof exports === 'object') {\r\n        module.exports = factory(root);\r\n    } else {\r\n        root.inlineSVG = factory(root);\r\n    }\r\n\r\n})(typeof global !== \"undefined\" ? global : this.window || this.global, function (root) {\r\n\r\n    // Variables\r\n    var inlineSVG = {},\r\n        supports = !!document.querySelector && !!root.addEventListener,\r\n        settings;\r\n\r\n    // Defaults\r\n    var defaults = {\r\n        initClass: 'js-inlinesvg',\r\n        svgSelector: 'img.svg'\r\n    };\r\n\r\n    /**\r\n     * Stolen from underscore.js\r\n     * @private\r\n     * @param {Int} times\r\n     * @param {Function} func\r\n     */\r\n\r\n    var after = function(times, func) {\r\n        return function() {\r\n            if (--times < 1) {\r\n                return func.apply(this, arguments);\r\n            }\r\n        };\r\n    };\r\n\r\n    /**\r\n     * Merge two objects together\r\n     * @private\r\n     * @param {Function} fn\r\n     */\r\n    var extend = function () {\r\n\r\n        // Variables\r\n        var extended = {};\r\n        var deep = false;\r\n        var i = 0;\r\n        var length = arguments.length;\r\n\r\n        // Check if a deep merge\r\n        if ( Object.prototype.toString.call( arguments[0] ) === '[object Boolean]' ) {\r\n            deep = arguments[0];\r\n            i++;\r\n        }\r\n\r\n        // Merge the object into the extended object\r\n        var merge = function (obj) {\r\n            for ( var prop in obj ) {\r\n                if ( Object.prototype.hasOwnProperty.call( obj, prop ) ) {\r\n                    // If deep merge and property is an object, merge properties\r\n                    if ( deep && Object.prototype.toString.call(obj[prop]) === '[object Object]' ) {\r\n                        extended[prop] = extend( true, extended[prop], obj[prop] );\r\n                    } else {\r\n                        extended[prop] = obj[prop];\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        // Loop through each object and conduct a merge\r\n        for ( ; i < length; i++ ) {\r\n            var obj = arguments[i];\r\n            merge(obj);\r\n        }\r\n\r\n        return extended;\r\n\r\n    };\r\n\r\n    // Methods\r\n\r\n    /**\r\n     * Grab all the SVGs that match the selector\r\n     * @public\r\n     */\r\n    var getAll = function () {\r\n\r\n        var svgs = document.querySelectorAll(settings.svgSelector);\r\n        return svgs;\r\n\r\n    };\r\n\r\n    /**\r\n     * Inline all the SVGs in the array\r\n     * @public\r\n     */\r\n    var inliner = function (cb) {\r\n\r\n        var svgs = getAll();\r\n        var callback = after(svgs.length, cb);\r\n\r\n        Array.prototype.forEach.call(svgs, function (svg, i) {\r\n\r\n            // Store some attributes of the image\r\n            var src = svg.src || svg.getAttribute('data-src'),\r\n                attributes = svg.attributes;\r\n\r\n            // Get the contents of the SVG\r\n            var request = new XMLHttpRequest();\r\n            request.open('GET', src, true);\r\n\r\n            request.onload = function () {\r\n\r\n                if(request.status >= 200 && request.status < 400) {\r\n\r\n                    // Setup a parser to convert the response to text/xml in order for it\r\n                    // to be manipulated and changed\r\n                    var parser = new DOMParser(),\r\n                        result = parser.parseFromString(request.responseText, 'text/xml'),\r\n                        inlinedSVG = result.getElementsByTagName('svg')[0];\r\n\r\n                    let titles = inlinedSVG.getElementsByTagName('title')\r\n                    while (titles[0]) titles[0].parentNode.removeChild(titles[0])\r\n\r\n                    let descs = inlinedSVG.getElementsByTagName('desc')\r\n                    while (descs[0]) descs[0].parentNode.removeChild(descs[0])\r\n\r\n                    // Remove some of the attributes that aren't needed\r\n                    inlinedSVG.removeAttribute('xmlns:a');\r\n                    inlinedSVG.removeAttribute('width');\r\n                    inlinedSVG.removeAttribute('height');\r\n                    inlinedSVG.removeAttribute('x');\r\n                    inlinedSVG.removeAttribute('y');\r\n                    inlinedSVG.removeAttribute('enable-background');\r\n                    inlinedSVG.removeAttribute('xmlns:xlink');\r\n                    inlinedSVG.removeAttribute('xml:space');\r\n                    inlinedSVG.removeAttribute('version');\r\n\r\n                    // Add in the attributes from the original <img> except `src` or\r\n                    // `alt`, we don't need either\r\n                    Array.prototype.slice.call(attributes).forEach(function(attribute) {\r\n                        if(attribute.name !== 'src' && attribute.name !== 'alt') {\r\n                            inlinedSVG.setAttribute(attribute.name, attribute.value);\r\n                        }\r\n                    });\r\n\r\n                    // Add an additional class to the inlined SVG to imply it was\r\n                    // infact inlined, might be useful to know\r\n                    if (inlinedSVG.classList) {\r\n                        inlinedSVG.classList.add('inlined-svg');\r\n                    } else {\r\n                        inlinedSVG.className += ' ' + 'inlined-svg';\r\n                    }\r\n\r\n                    // Add in some accessibility quick wins\r\n                    inlinedSVG.setAttribute('role', 'img');\r\n\r\n                    // Use the `longdesc` attribute if one exists\r\n                    if(attributes.longdesc) {\r\n                        var description = document.createElementNS('http://www.w3.org/2000/svg', 'desc'),\r\n                            descriptionText = document.createTextNode(attributes.longdesc.value);\r\n\r\n                        description.appendChild(descriptionText);\r\n                        inlinedSVG.insertBefore(description, inlinedSVG.firstChild);\r\n                    }\r\n\r\n                    // Use the `alt` attribute if one exists\r\n                    if(attributes.alt) {\r\n                        inlinedSVG.setAttribute('aria-labelledby', 'title');\r\n\r\n                        var title = document.createElementNS('http://www.w3.org/2000/svg', 'title'),\r\n                            titleText = document.createTextNode(attributes.alt.value);\r\n\r\n                        title.appendChild(titleText);\r\n                        inlinedSVG.insertBefore(title, inlinedSVG.firstChild);\r\n                    }\r\n\r\n                    // Replace the image with the SVG\r\n                    svg.parentNode.replaceChild(inlinedSVG, svg);\r\n\r\n                    // Fire the callback\r\n                    callback(settings.svgSelector);\r\n\r\n                } else {\r\n\r\n                    console.error('There was an error retrieving the source of the SVG.');\r\n\r\n                }\r\n\r\n            };\r\n\r\n            request.onerror = function () {\r\n                console.error('There was an error connecting to the origin server.');\r\n            };\r\n\r\n            request.send();\r\n\r\n        });\r\n\r\n    };\r\n\r\n    /**\r\n     * Initialise the inliner\r\n     * @public\r\n     */\r\n    inlineSVG.init = function (options, callback) {\r\n\r\n        // Test for support\r\n        if (!supports) return;\r\n\r\n        // Merge users option with defaults\r\n        settings = extend(defaults, options || {});\r\n\r\n        // Kick-off the inliner\r\n        inliner(callback || function(){});\r\n    };\r\n\r\n    return inlineSVG;\r\n\r\n});\r\n","/*!\n * Autolinker.js\n * 0.28.1\n *\n * Copyright(c) 2016 Gregory Jacobs <greg@greg-jacobs.com>\n * MIT License\n *\n * https://github.com/gregjacobs/Autolinker.js\n */\n;(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.Autolinker = factory();\n  }\n}(this, function() {\n/**\n * @class Autolinker\n * @extends Object\n *\n * Utility class used to process a given string of text, and wrap the matches in\n * the appropriate anchor (&lt;a&gt;) tags to turn them into links.\n *\n * Any of the configuration options may be provided in an Object (map) provided\n * to the Autolinker constructor, which will configure how the {@link #link link()}\n * method will process the links.\n *\n * For example:\n *\n *     var autolinker = new Autolinker( {\n *         newWindow : false,\n *         truncate  : 30\n *     } );\n *\n *     var html = autolinker.link( \"Joe went to www.yahoo.com\" );\n *     // produces: 'Joe went to <a href=\"http://www.yahoo.com\">yahoo.com</a>'\n *\n *\n * The {@link #static-link static link()} method may also be used to inline\n * options into a single call, which may be more convenient for one-off uses.\n * For example:\n *\n *     var html = Autolinker.link( \"Joe went to www.yahoo.com\", {\n *         newWindow : false,\n *         truncate  : 30\n *     } );\n *     // produces: 'Joe went to <a href=\"http://www.yahoo.com\">yahoo.com</a>'\n *\n *\n * ## Custom Replacements of Links\n *\n * If the configuration options do not provide enough flexibility, a {@link #replaceFn}\n * may be provided to fully customize the output of Autolinker. This function is\n * called once for each URL/Email/Phone#/Twitter Handle/Hashtag match that is\n * encountered.\n *\n * For example:\n *\n *     var input = \"...\";  // string with URLs, Email Addresses, Phone #s, Twitter Handles, and Hashtags\n *\n *     var linkedText = Autolinker.link( input, {\n *         replaceFn : function( autolinker, match ) {\n *             console.log( \"href = \", match.getAnchorHref() );\n *             console.log( \"text = \", match.getAnchorText() );\n *\n *             switch( match.getType() ) {\n *                 case 'url' :\n *                     console.log( \"url: \", match.getUrl() );\n *\n *                     if( match.getUrl().indexOf( 'mysite.com' ) === -1 ) {\n *                         var tag = autolinker.getTagBuilder().build( match );  // returns an `Autolinker.HtmlTag` instance, which provides mutator methods for easy changes\n *                         tag.setAttr( 'rel', 'nofollow' );\n *                         tag.addClass( 'external-link' );\n *\n *                         return tag;\n *\n *                     } else {\n *                         return true;  // let Autolinker perform its normal anchor tag replacement\n *                     }\n *\n *                 case 'email' :\n *                     var email = match.getEmail();\n *                     console.log( \"email: \", email );\n *\n *                     if( email === \"my@own.address\" ) {\n *                         return false;  // don't auto-link this particular email address; leave as-is\n *                     } else {\n *                         return;  // no return value will have Autolinker perform its normal anchor tag replacement (same as returning `true`)\n *                     }\n *\n *                 case 'phone' :\n *                     var phoneNumber = match.getPhoneNumber();\n *                     console.log( phoneNumber );\n *\n *                     return '<a href=\"http://newplace.to.link.phone.numbers.to/\">' + phoneNumber + '</a>';\n *\n *                 case 'twitter' :\n *                     var twitterHandle = match.getTwitterHandle();\n *                     console.log( twitterHandle );\n *\n *                     return '<a href=\"http://newplace.to.link.twitter.handles.to/\">' + twitterHandle + '</a>';\n *\n *                 case 'hashtag' :\n *                     var hashtag = match.getHashtag();\n *                     console.log( hashtag );\n *\n *                     return '<a href=\"http://newplace.to.link.hashtag.handles.to/\">' + hashtag + '</a>';\n *             }\n *         }\n *     } );\n *\n *\n * The function may return the following values:\n *\n * - `true` (Boolean): Allow Autolinker to replace the match as it normally\n *   would.\n * - `false` (Boolean): Do not replace the current match at all - leave as-is.\n * - Any String: If a string is returned from the function, the string will be\n *   used directly as the replacement HTML for the match.\n * - An {@link Autolinker.HtmlTag} instance, which can be used to build/modify\n *   an HTML tag before writing out its HTML text.\n *\n * @constructor\n * @param {Object} [cfg] The configuration options for the Autolinker instance,\n *   specified in an Object (map).\n */\nvar Autolinker = function( cfg ) {\n\tcfg = cfg || {};\n\n\tthis.version = Autolinker.version;\n\n\tthis.urls = this.normalizeUrlsCfg( cfg.urls );\n\tthis.email = typeof cfg.email === 'boolean' ? cfg.email : true;\n\tthis.twitter = typeof cfg.twitter === 'boolean' ? cfg.twitter : true;\n\tthis.phone = typeof cfg.phone === 'boolean' ? cfg.phone : true;\n\tthis.hashtag = cfg.hashtag || false;\n\tthis.newWindow = typeof cfg.newWindow === 'boolean' ? cfg.newWindow : true;\n\tthis.stripPrefix = typeof cfg.stripPrefix === 'boolean' ? cfg.stripPrefix : true;\n\n\t// Validate the value of the `hashtag` cfg.\n\tvar hashtag = this.hashtag;\n\tif( hashtag !== false && hashtag !== 'twitter' && hashtag !== 'facebook' && hashtag !== 'instagram' ) {\n\t\tthrow new Error( \"invalid `hashtag` cfg - see docs\" );\n\t}\n\n\tthis.truncate = this.normalizeTruncateCfg( cfg.truncate );\n\tthis.className = cfg.className || '';\n\tthis.replaceFn = cfg.replaceFn || null;\n\n\tthis.htmlParser = null;\n\tthis.matchers = null;\n\tthis.tagBuilder = null;\n};\n\n\n\n/**\n * Automatically links URLs, Email addresses, Phone Numbers, Twitter handles,\n * and Hashtags found in the given chunk of HTML. Does not link URLs found\n * within HTML tags.\n *\n * For instance, if given the text: `You should go to http://www.yahoo.com`,\n * then the result will be `You should go to &lt;a href=\"http://www.yahoo.com\"&gt;http://www.yahoo.com&lt;/a&gt;`\n *\n * Example:\n *\n *     var linkedText = Autolinker.link( \"Go to google.com\", { newWindow: false } );\n *     // Produces: \"Go to <a href=\"http://google.com\">google.com</a>\"\n *\n * @static\n * @param {String} textOrHtml The HTML or text to find matches within (depending\n *   on if the {@link #urls}, {@link #email}, {@link #phone}, {@link #twitter},\n *   and {@link #hashtag} options are enabled).\n * @param {Object} [options] Any of the configuration options for the Autolinker\n *   class, specified in an Object (map). See the class description for an\n *   example call.\n * @return {String} The HTML text, with matches automatically linked.\n */\nAutolinker.link = function( textOrHtml, options ) {\n\tvar autolinker = new Autolinker( options );\n\treturn autolinker.link( textOrHtml );\n};\n\n\n/**\n * @static\n * @property {String} version (readonly)\n *\n * The Autolinker version number in the form major.minor.patch\n *\n * Ex: 0.25.1\n */\nAutolinker.version = '0.28.1';\n\n\nAutolinker.prototype = {\n\tconstructor : Autolinker,  // fix constructor property\n\n\t/**\n\t * @cfg {Boolean/Object} [urls=true]\n\t *\n\t * `true` if URLs should be automatically linked, `false` if they should not\n\t * be.\n\t *\n\t * This option also accepts an Object form with 3 properties, to allow for\n\t * more customization of what exactly gets linked. All default to `true`:\n\t *\n\t * @param {Boolean} schemeMatches `true` to match URLs found prefixed with a\n\t *   scheme, i.e. `http://google.com`, or `other+scheme://google.com`,\n\t *   `false` to prevent these types of matches.\n\t * @param {Boolean} wwwMatches `true` to match urls found prefixed with\n\t *   `'www.'`, i.e. `www.google.com`. `false` to prevent these types of\n\t *   matches. Note that if the URL had a prefixed scheme, and\n\t *   `schemeMatches` is true, it will still be linked.\n\t * @param {Boolean} tldMatches `true` to match URLs with known top level\n\t *   domains (.com, .net, etc.) that are not prefixed with a scheme or\n\t *   `'www.'`. This option attempts to match anything that looks like a URL\n\t *   in the given text. Ex: `google.com`, `asdf.org/?page=1`, etc. `false`\n\t *   to prevent these types of matches.\n\t */\n\n\t/**\n\t * @cfg {Boolean} [email=true]\n\t *\n\t * `true` if email addresses should be automatically linked, `false` if they\n\t * should not be.\n\t */\n\n\t/**\n\t * @cfg {Boolean} [twitter=true]\n\t *\n\t * `true` if Twitter handles (\"@example\") should be automatically linked,\n\t * `false` if they should not be.\n\t */\n\n\t/**\n\t * @cfg {Boolean} [phone=true]\n\t *\n\t * `true` if Phone numbers (\"(555)555-5555\") should be automatically linked,\n\t * `false` if they should not be.\n\t */\n\n\t/**\n\t * @cfg {Boolean/String} [hashtag=false]\n\t *\n\t * A string for the service name to have hashtags (ex: \"#myHashtag\")\n\t * auto-linked to. The currently-supported values are:\n\t *\n\t * - 'twitter'\n\t * - 'facebook'\n\t * - 'instagram'\n\t *\n\t * Pass `false` to skip auto-linking of hashtags.\n\t */\n\n\t/**\n\t * @cfg {Boolean} [newWindow=true]\n\t *\n\t * `true` if the links should open in a new window, `false` otherwise.\n\t */\n\n\t/**\n\t * @cfg {Boolean} [stripPrefix=true]\n\t *\n\t * `true` if 'http://' or 'https://' and/or the 'www.' should be stripped\n\t * from the beginning of URL links' text, `false` otherwise.\n\t */\n\n\t/**\n\t * @cfg {Number/Object} [truncate=0]\n\t *\n\t * ## Number Form\n\t *\n\t * A number for how many characters matched text should be truncated to\n\t * inside the text of a link. If the matched text is over this number of\n\t * characters, it will be truncated to this length by adding a two period\n\t * ellipsis ('..') to the end of the string.\n\t *\n\t * For example: A url like 'http://www.yahoo.com/some/long/path/to/a/file'\n\t * truncated to 25 characters might look something like this:\n\t * 'yahoo.com/some/long/pat..'\n\t *\n\t * Example Usage:\n\t *\n\t *     truncate: 25\n\t *\n\t *\n\t *  Defaults to `0` for \"no truncation.\"\n\t *\n\t *\n\t * ## Object Form\n\t *\n\t * An Object may also be provided with two properties: `length` (Number) and\n\t * `location` (String). `location` may be one of the following: 'end'\n\t * (default), 'middle', or 'smart'.\n\t *\n\t * Example Usage:\n\t *\n\t *     truncate: { length: 25, location: 'middle' }\n\t *\n\t * @cfg {Number} [truncate.length=0] How many characters to allow before\n\t *   truncation will occur. Defaults to `0` for \"no truncation.\"\n\t * @cfg {\"end\"/\"middle\"/\"smart\"} [truncate.location=\"end\"]\n\t *\n\t * - 'end' (default): will truncate up to the number of characters, and then\n\t *   add an ellipsis at the end. Ex: 'yahoo.com/some/long/pat..'\n\t * - 'middle': will truncate and add the ellipsis in the middle. Ex:\n\t *   'yahoo.com/s..th/to/a/file'\n\t * - 'smart': for URLs where the algorithm attempts to strip out unnecessary\n\t *   parts first (such as the 'www.', then URL scheme, hash, etc.),\n\t *   attempting to make the URL human-readable before looking for a good\n\t *   point to insert the ellipsis if it is still too long. Ex:\n\t *   'yahoo.com/some..to/a/file'. For more details, see\n\t *   {@link Autolinker.truncate.TruncateSmart}.\n\t */\n\n\t/**\n\t * @cfg {String} className\n\t *\n\t * A CSS class name to add to the generated links. This class will be added\n\t * to all links, as well as this class plus match suffixes for styling\n\t * url/email/phone/twitter/hashtag links differently.\n\t *\n\t * For example, if this config is provided as \"myLink\", then:\n\t *\n\t * - URL links will have the CSS classes: \"myLink myLink-url\"\n\t * - Email links will have the CSS classes: \"myLink myLink-email\", and\n\t * - Twitter links will have the CSS classes: \"myLink myLink-twitter\"\n\t * - Phone links will have the CSS classes: \"myLink myLink-phone\"\n\t * - Hashtag links will have the CSS classes: \"myLink myLink-hashtag\"\n\t */\n\n\t/**\n\t * @cfg {Function} replaceFn\n\t *\n\t * A function to individually process each match found in the input string.\n\t *\n\t * See the class's description for usage.\n\t *\n\t * This function is called with the following parameters:\n\t *\n\t * @cfg {Autolinker} replaceFn.autolinker The Autolinker instance, which may\n\t *   be used to retrieve child objects from (such as the instance's\n\t *   {@link #getTagBuilder tag builder}).\n\t * @cfg {Autolinker.match.Match} replaceFn.match The Match instance which\n\t *   can be used to retrieve information about the match that the `replaceFn`\n\t *   is currently processing. See {@link Autolinker.match.Match} subclasses\n\t *   for details.\n\t */\n\n\n\t/**\n\t * @property {String} version (readonly)\n\t *\n\t * The Autolinker version number in the form major.minor.patch\n\t *\n\t * Ex: 0.25.1\n\t */\n\n\t/**\n\t * @private\n\t * @property {Autolinker.htmlParser.HtmlParser} htmlParser\n\t *\n\t * The HtmlParser instance used to skip over HTML tags, while finding text\n\t * nodes to process. This is lazily instantiated in the {@link #getHtmlParser}\n\t * method.\n\t */\n\n\t/**\n\t * @private\n\t * @property {Autolinker.matcher.Matcher[]} matchers\n\t *\n\t * The {@link Autolinker.matcher.Matcher} instances for this Autolinker\n\t * instance.\n\t *\n\t * This is lazily created in {@link #getMatchers}.\n\t */\n\n\t/**\n\t * @private\n\t * @property {Autolinker.AnchorTagBuilder} tagBuilder\n\t *\n\t * The AnchorTagBuilder instance used to build match replacement anchor tags.\n\t * Note: this is lazily instantiated in the {@link #getTagBuilder} method.\n\t */\n\n\n\t/**\n\t * Normalizes the {@link #urls} config into an Object with 3 properties:\n\t * `schemeMatches`, `wwwMatches`, and `tldMatches`, all Booleans.\n\t *\n\t * See {@link #urls} config for details.\n\t *\n\t * @private\n\t * @param {Boolean/Object} urls\n\t * @return {Object}\n\t */\n\tnormalizeUrlsCfg : function( urls ) {\n\t\tif( urls == null ) urls = true;  // default to `true`\n\n\t\tif( typeof urls === 'boolean' ) {\n\t\t\treturn { schemeMatches: urls, wwwMatches: urls, tldMatches: urls };\n\n\t\t} else {  // object form\n\t\t\treturn {\n\t\t\t\tschemeMatches : typeof urls.schemeMatches === 'boolean' ? urls.schemeMatches : true,\n\t\t\t\twwwMatches    : typeof urls.wwwMatches === 'boolean'    ? urls.wwwMatches    : true,\n\t\t\t\ttldMatches    : typeof urls.tldMatches === 'boolean'    ? urls.tldMatches    : true\n\t\t\t};\n\t\t}\n\t},\n\n\n\t/**\n\t * Normalizes the {@link #truncate} config into an Object with 2 properties:\n\t * `length` (Number), and `location` (String).\n\t *\n\t * See {@link #truncate} config for details.\n\t *\n\t * @private\n\t * @param {Number/Object} truncate\n\t * @return {Object}\n\t */\n\tnormalizeTruncateCfg : function( truncate ) {\n\t\tif( typeof truncate === 'number' ) {\n\t\t\treturn { length: truncate, location: 'end' };\n\n\t\t} else {  // object, or undefined/null\n\t\t\treturn Autolinker.Util.defaults( truncate || {}, {\n\t\t\t\tlength   : Number.POSITIVE_INFINITY,\n\t\t\t\tlocation : 'end'\n\t\t\t} );\n\t\t}\n\t},\n\n\n\t/**\n\t * Parses the input `textOrHtml` looking for URLs, email addresses, phone\n\t * numbers, username handles, and hashtags (depending on the configuration\n\t * of the Autolinker instance), and returns an array of {@link Autolinker.match.Match}\n\t * objects describing those matches.\n\t *\n\t * This method is used by the {@link #link} method, but can also be used to\n\t * simply do parsing of the input in order to discover what kinds of links\n\t * there are and how many.\n\t *\n\t * @param {String} textOrHtml The HTML or text to find matches within\n\t *   (depending on if the {@link #urls}, {@link #email}, {@link #phone},\n\t *   {@link #twitter}, and {@link #hashtag} options are enabled).\n\t * @return {Autolinker.match.Match[]} The array of Matches found in the\n\t *   given input `textOrHtml`.\n\t */\n\tparse : function( textOrHtml ) {\n\t\tvar htmlParser = this.getHtmlParser(),\n\t\t    htmlNodes = htmlParser.parse( textOrHtml ),\n\t\t    anchorTagStackCount = 0,  // used to only process text around anchor tags, and any inner text/html they may have;\n\t\t    matches = [];\n\n\t\t// Find all matches within the `textOrHtml` (but not matches that are\n\t\t// already nested within <a> tags)\n\t\tfor( var i = 0, len = htmlNodes.length; i < len; i++ ) {\n\t\t\tvar node = htmlNodes[ i ],\n\t\t\t    nodeType = node.getType();\n\n\t\t\tif( nodeType === 'element' && node.getTagName() === 'a' ) {  // Process HTML anchor element nodes in the input `textOrHtml` to find out when we're within an <a> tag\n\t\t\t\tif( !node.isClosing() ) {  // it's the start <a> tag\n\t\t\t\t\tanchorTagStackCount++;\n\t\t\t\t} else {  // it's the end </a> tag\n\t\t\t\t\tanchorTagStackCount = Math.max( anchorTagStackCount - 1, 0 );  // attempt to handle extraneous </a> tags by making sure the stack count never goes below 0\n\t\t\t\t}\n\n\t\t\t} else if( nodeType === 'text' && anchorTagStackCount === 0 ) {  // Process text nodes that are not within an <a> tag\n\t\t\t\tvar textNodeMatches = this.parseText( node.getText(), node.getOffset() );\n\n\t\t\t\tmatches.push.apply( matches, textNodeMatches );\n\t\t\t}\n\t\t}\n\n\n\t\t// After we have found all matches, remove subsequent matches that\n\t\t// overlap with a previous match. This can happen for instance with URLs,\n\t\t// where the url 'google.com/#link' would match '#link' as a hashtag.\n\t\tmatches = this.compactMatches( matches );\n\n\t\t// And finally, remove matches for match types that have been turned\n\t\t// off. We needed to have all match types turned on initially so that\n\t\t// things like hashtags could be filtered out if they were really just\n\t\t// part of a URL match (for instance, as a named anchor).\n\t\tmatches = this.removeUnwantedMatches( matches );\n\n\t\treturn matches;\n\t},\n\n\n\t/**\n\t * After we have found all matches, we need to remove subsequent matches\n\t * that overlap with a previous match. This can happen for instance with\n\t * URLs, where the url 'google.com/#link' would match '#link' as a hashtag.\n\t *\n\t * @private\n\t * @param {Autolinker.match.Match[]} matches\n\t * @return {Autolinker.match.Match[]}\n\t */\n\tcompactMatches : function( matches ) {\n\t\t// First, the matches need to be sorted in order of offset\n\t\tmatches.sort( function( a, b ) { return a.getOffset() - b.getOffset(); } );\n\n\t\tfor( var i = 0; i < matches.length - 1; i++ ) {\n\t\t\tvar match = matches[ i ],\n\t\t\t    endIdx = match.getOffset() + match.getMatchedText().length;\n\n\t\t\t// Remove subsequent matches that overlap with the current match\n\t\t\twhile( i + 1 < matches.length && matches[ i + 1 ].getOffset() <= endIdx ) {\n\t\t\t\tmatches.splice( i + 1, 1 );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\n\t/**\n\t * Removes matches for matchers that were turned off in the options. For\n\t * example, if {@link #hashtag hashtags} were not to be matched, we'll\n\t * remove them from the `matches` array here.\n\t *\n\t * @private\n\t * @param {Autolinker.match.Match[]} matches The array of matches to remove\n\t *   the unwanted matches from. Note: this array is mutated for the\n\t *   removals.\n\t * @return {Autolinker.match.Match[]} The mutated input `matches` array.\n\t */\n\tremoveUnwantedMatches : function( matches ) {\n\t\tvar remove = Autolinker.Util.remove;\n\n\t\tif( !this.hashtag ) remove( matches, function( match ) { return match.getType() === 'hashtag'; } );\n\t\tif( !this.email )   remove( matches, function( match ) { return match.getType() === 'email'; } );\n\t\tif( !this.phone )   remove( matches, function( match ) { return match.getType() === 'phone'; } );\n\t\tif( !this.twitter ) remove( matches, function( match ) { return match.getType() === 'twitter'; } );\n\t\tif( !this.urls.schemeMatches ) {\n\t\t\tremove( matches, function( m ) { return m.getType() === 'url' && m.getUrlMatchType() === 'scheme'; } );\n\t\t}\n\t\tif( !this.urls.wwwMatches ) {\n\t\t\tremove( matches, function( m ) { return m.getType() === 'url' && m.getUrlMatchType() === 'www'; } );\n\t\t}\n\t\tif( !this.urls.tldMatches ) {\n\t\t\tremove( matches, function( m ) { return m.getType() === 'url' && m.getUrlMatchType() === 'tld'; } );\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\n\t/**\n\t * Parses the input `text` looking for URLs, email addresses, phone\n\t * numbers, username handles, and hashtags (depending on the configuration\n\t * of the Autolinker instance), and returns an array of {@link Autolinker.match.Match}\n\t * objects describing those matches.\n\t *\n\t * This method processes a **non-HTML string**, and is used to parse and\n\t * match within the text nodes of an HTML string. This method is used\n\t * internally by {@link #parse}.\n\t *\n\t * @private\n\t * @param {String} text The text to find matches within (depending on if the\n\t *   {@link #urls}, {@link #email}, {@link #phone}, {@link #twitter}, and\n\t *   {@link #hashtag} options are enabled). This must be a non-HTML string.\n\t * @param {Number} [offset=0] The offset of the text node within the\n\t *   original string. This is used when parsing with the {@link #parse}\n\t *   method to generate correct offsets within the {@link Autolinker.match.Match}\n\t *   instances, but may be omitted if calling this method publicly.\n\t * @return {Autolinker.match.Match[]} The array of Matches found in the\n\t *   given input `text`.\n\t */\n\tparseText : function( text, offset ) {\n\t\toffset = offset || 0;\n\t\tvar matchers = this.getMatchers(),\n\t\t    matches = [];\n\n\t\tfor( var i = 0, numMatchers = matchers.length; i < numMatchers; i++ ) {\n\t\t\tvar textMatches = matchers[ i ].parseMatches( text );\n\n\t\t\t// Correct the offset of each of the matches. They are originally\n\t\t\t// the offset of the match within the provided text node, but we\n\t\t\t// need to correct them to be relative to the original HTML input\n\t\t\t// string (i.e. the one provided to #parse).\n\t\t\tfor( var j = 0, numTextMatches = textMatches.length; j < numTextMatches; j++ ) {\n\t\t\t\ttextMatches[ j ].setOffset( offset + textMatches[ j ].getOffset() );\n\t\t\t}\n\n\t\t\tmatches.push.apply( matches, textMatches );\n\t\t}\n\t\treturn matches;\n\t},\n\n\n\t/**\n\t * Automatically links URLs, Email addresses, Phone numbers, Twitter\n\t * handles, and Hashtags found in the given chunk of HTML. Does not link\n\t * URLs found within HTML tags.\n\t *\n\t * For instance, if given the text: `You should go to http://www.yahoo.com`,\n\t * then the result will be `You should go to\n\t * &lt;a href=\"http://www.yahoo.com\"&gt;http://www.yahoo.com&lt;/a&gt;`\n\t *\n\t * This method finds the text around any HTML elements in the input\n\t * `textOrHtml`, which will be the text that is processed. Any original HTML\n\t * elements will be left as-is, as well as the text that is already wrapped\n\t * in anchor (&lt;a&gt;) tags.\n\t *\n\t * @param {String} textOrHtml The HTML or text to autolink matches within\n\t *   (depending on if the {@link #urls}, {@link #email}, {@link #phone},\n\t *   {@link #twitter}, and {@link #hashtag} options are enabled).\n\t * @return {String} The HTML, with matches automatically linked.\n\t */\n\tlink : function( textOrHtml ) {\n\t\tif( !textOrHtml ) { return \"\"; }  // handle `null` and `undefined`\n\n\t\tvar matches = this.parse( textOrHtml ),\n\t\t\tnewHtml = [],\n\t\t\tlastIndex = 0;\n\n\t\tfor( var i = 0, len = matches.length; i < len; i++ ) {\n\t\t\tvar match = matches[ i ];\n\n\t\t\tnewHtml.push( textOrHtml.substring( lastIndex, match.getOffset() ) );\n\t\t\tnewHtml.push( this.createMatchReturnVal( match ) );\n\n\t\t\tlastIndex = match.getOffset() + match.getMatchedText().length;\n\t\t}\n\t\tnewHtml.push( textOrHtml.substring( lastIndex ) );  // handle the text after the last match\n\n\t\treturn newHtml.join( '' );\n\t},\n\n\n\t/**\n\t * Creates the return string value for a given match in the input string.\n\t *\n\t * This method handles the {@link #replaceFn}, if one was provided.\n\t *\n\t * @private\n\t * @param {Autolinker.match.Match} match The Match object that represents\n\t *   the match.\n\t * @return {String} The string that the `match` should be replaced with.\n\t *   This is usually the anchor tag string, but may be the `matchStr` itself\n\t *   if the match is not to be replaced.\n\t */\n\tcreateMatchReturnVal : function( match ) {\n\t\t// Handle a custom `replaceFn` being provided\n\t\tvar replaceFnResult;\n\t\tif( this.replaceFn ) {\n\t\t\treplaceFnResult = this.replaceFn.call( this, this, match );  // Autolinker instance is the context, and the first arg\n\t\t}\n\n\t\tif( typeof replaceFnResult === 'string' ) {\n\t\t\treturn replaceFnResult;  // `replaceFn` returned a string, use that\n\n\t\t} else if( replaceFnResult === false ) {\n\t\t\treturn match.getMatchedText();  // no replacement for the match\n\n\t\t} else if( replaceFnResult instanceof Autolinker.HtmlTag ) {\n\t\t\treturn replaceFnResult.toAnchorString();\n\n\t\t} else {  // replaceFnResult === true, or no/unknown return value from function\n\t\t\t// Perform Autolinker's default anchor tag generation\n\t\t\tvar anchorTag = match.buildTag();  // returns an Autolinker.HtmlTag instance\n\n\t\t\treturn anchorTag.toAnchorString();\n\t\t}\n\t},\n\n\n\t/**\n\t * Lazily instantiates and returns the {@link #htmlParser} instance for this\n\t * Autolinker instance.\n\t *\n\t * @protected\n\t * @return {Autolinker.htmlParser.HtmlParser}\n\t */\n\tgetHtmlParser : function() {\n\t\tvar htmlParser = this.htmlParser;\n\n\t\tif( !htmlParser ) {\n\t\t\thtmlParser = this.htmlParser = new Autolinker.htmlParser.HtmlParser();\n\t\t}\n\n\t\treturn htmlParser;\n\t},\n\n\n\t/**\n\t * Lazily instantiates and returns the {@link Autolinker.matcher.Matcher}\n\t * instances for this Autolinker instance.\n\t *\n\t * @protected\n\t * @return {Autolinker.matcher.Matcher[]}\n\t */\n\tgetMatchers : function() {\n\t\tif( !this.matchers ) {\n\t\t\tvar matchersNs = Autolinker.matcher,\n\t\t\t    tagBuilder = this.getTagBuilder();\n\n\t\t\tvar matchers = [\n\t\t\t\tnew matchersNs.Hashtag( { tagBuilder: tagBuilder, serviceName: this.hashtag } ),\n\t\t\t\tnew matchersNs.Email( { tagBuilder: tagBuilder } ),\n\t\t\t\tnew matchersNs.Phone( { tagBuilder: tagBuilder } ),\n\t\t\t\tnew matchersNs.Twitter( { tagBuilder: tagBuilder } ),\n\t\t\t\tnew matchersNs.Url( { tagBuilder: tagBuilder, stripPrefix: this.stripPrefix } )\n\t\t\t];\n\n\t\t\treturn ( this.matchers = matchers );\n\n\t\t} else {\n\t\t\treturn this.matchers;\n\t\t}\n\t},\n\n\n\t/**\n\t * Returns the {@link #tagBuilder} instance for this Autolinker instance, lazily instantiating it\n\t * if it does not yet exist.\n\t *\n\t * This method may be used in a {@link #replaceFn} to generate the {@link Autolinker.HtmlTag HtmlTag} instance that\n\t * Autolinker would normally generate, and then allow for modifications before returning it. For example:\n\t *\n\t *     var html = Autolinker.link( \"Test google.com\", {\n\t *         replaceFn : function( autolinker, match ) {\n\t *             var tag = autolinker.getTagBuilder().build( match );  // returns an {@link Autolinker.HtmlTag} instance\n\t *             tag.setAttr( 'rel', 'nofollow' );\n\t *\n\t *             return tag;\n\t *         }\n\t *     } );\n\t *\n\t *     // generated html:\n\t *     //   Test <a href=\"http://google.com\" target=\"_blank\" rel=\"nofollow\">google.com</a>\n\t *\n\t * @return {Autolinker.AnchorTagBuilder}\n\t */\n\tgetTagBuilder : function() {\n\t\tvar tagBuilder = this.tagBuilder;\n\n\t\tif( !tagBuilder ) {\n\t\t\ttagBuilder = this.tagBuilder = new Autolinker.AnchorTagBuilder( {\n\t\t\t\tnewWindow   : this.newWindow,\n\t\t\t\ttruncate    : this.truncate,\n\t\t\t\tclassName   : this.className\n\t\t\t} );\n\t\t}\n\n\t\treturn tagBuilder;\n\t}\n\n};\n\n\n// Autolinker Namespaces\n\nAutolinker.match = {};\nAutolinker.matcher = {};\nAutolinker.htmlParser = {};\nAutolinker.truncate = {};\n\n/*global Autolinker */\n/*jshint eqnull:true, boss:true */\n/**\n * @class Autolinker.Util\n * @singleton\n *\n * A few utility methods for Autolinker.\n */\nAutolinker.Util = {\n\n\t/**\n\t * @property {Function} abstractMethod\n\t *\n\t * A function object which represents an abstract method.\n\t */\n\tabstractMethod : function() { throw \"abstract\"; },\n\n\n\t/**\n\t * @private\n\t * @property {RegExp} trimRegex\n\t *\n\t * The regular expression used to trim the leading and trailing whitespace\n\t * from a string.\n\t */\n\ttrimRegex : /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\n\n\n\t/**\n\t * Assigns (shallow copies) the properties of `src` onto `dest`.\n\t *\n\t * @param {Object} dest The destination object.\n\t * @param {Object} src The source object.\n\t * @return {Object} The destination object (`dest`)\n\t */\n\tassign : function( dest, src ) {\n\t\tfor( var prop in src ) {\n\t\t\tif( src.hasOwnProperty( prop ) ) {\n\t\t\t\tdest[ prop ] = src[ prop ];\n\t\t\t}\n\t\t}\n\n\t\treturn dest;\n\t},\n\n\n\t/**\n\t * Assigns (shallow copies) the properties of `src` onto `dest`, if the\n\t * corresponding property on `dest` === `undefined`.\n\t *\n\t * @param {Object} dest The destination object.\n\t * @param {Object} src The source object.\n\t * @return {Object} The destination object (`dest`)\n\t */\n\tdefaults : function( dest, src ) {\n\t\tfor( var prop in src ) {\n\t\t\tif( src.hasOwnProperty( prop ) && dest[ prop ] === undefined ) {\n\t\t\t\tdest[ prop ] = src[ prop ];\n\t\t\t}\n\t\t}\n\n\t\treturn dest;\n\t},\n\n\n\t/**\n\t * Extends `superclass` to create a new subclass, adding the `protoProps` to the new subclass's prototype.\n\t *\n\t * @param {Function} superclass The constructor function for the superclass.\n\t * @param {Object} protoProps The methods/properties to add to the subclass's prototype. This may contain the\n\t *   special property `constructor`, which will be used as the new subclass's constructor function.\n\t * @return {Function} The new subclass function.\n\t */\n\textend : function( superclass, protoProps ) {\n\t\tvar superclassProto = superclass.prototype;\n\n\t\tvar F = function() {};\n\t\tF.prototype = superclassProto;\n\n\t\tvar subclass;\n\t\tif( protoProps.hasOwnProperty( 'constructor' ) ) {\n\t\t\tsubclass = protoProps.constructor;\n\t\t} else {\n\t\t\tsubclass = function() { superclassProto.constructor.apply( this, arguments ); };\n\t\t}\n\n\t\tvar subclassProto = subclass.prototype = new F();  // set up prototype chain\n\t\tsubclassProto.constructor = subclass;  // fix constructor property\n\t\tsubclassProto.superclass = superclassProto;\n\n\t\tdelete protoProps.constructor;  // don't re-assign constructor property to the prototype, since a new function may have been created (`subclass`), which is now already there\n\t\tAutolinker.Util.assign( subclassProto, protoProps );\n\n\t\treturn subclass;\n\t},\n\n\n\t/**\n\t * Truncates the `str` at `len - ellipsisChars.length`, and adds the `ellipsisChars` to the\n\t * end of the string (by default, two periods: '..'). If the `str` length does not exceed\n\t * `len`, the string will be returned unchanged.\n\t *\n\t * @param {String} str The string to truncate and add an ellipsis to.\n\t * @param {Number} truncateLen The length to truncate the string at.\n\t * @param {String} [ellipsisChars=..] The ellipsis character(s) to add to the end of `str`\n\t *   when truncated. Defaults to '..'\n\t */\n\tellipsis : function( str, truncateLen, ellipsisChars ) {\n\t\tif( str.length > truncateLen ) {\n\t\t\tellipsisChars = ( ellipsisChars == null ) ? '..' : ellipsisChars;\n\t\t\tstr = str.substring( 0, truncateLen - ellipsisChars.length ) + ellipsisChars;\n\t\t}\n\t\treturn str;\n\t},\n\n\n\t/**\n\t * Supports `Array.prototype.indexOf()` functionality for old IE (IE8 and below).\n\t *\n\t * @param {Array} arr The array to find an element of.\n\t * @param {*} element The element to find in the array, and return the index of.\n\t * @return {Number} The index of the `element`, or -1 if it was not found.\n\t */\n\tindexOf : function( arr, element ) {\n\t\tif( Array.prototype.indexOf ) {\n\t\t\treturn arr.indexOf( element );\n\n\t\t} else {\n\t\t\tfor( var i = 0, len = arr.length; i < len; i++ ) {\n\t\t\t\tif( arr[ i ] === element ) return i;\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\t},\n\n\n\t/**\n\t * Removes array elements based on a filtering function. Mutates the input\n\t * array.\n\t *\n\t * Using this instead of the ES5 Array.prototype.filter() function, to allow\n\t * Autolinker compatibility with IE8, and also to prevent creating many new\n\t * arrays in memory for filtering.\n\t *\n\t * @param {Array} arr The array to remove elements from. This array is\n\t *   mutated.\n\t * @param {Function} fn A function which should return `true` to\n\t *   remove an element.\n\t * @return {Array} The mutated input `arr`.\n\t */\n\tremove : function( arr, fn ) {\n\t\tfor( var i = arr.length - 1; i >= 0; i-- ) {\n\t\t\tif( fn( arr[ i ] ) === true ) {\n\t\t\t\tarr.splice( i, 1 );\n\t\t\t}\n\t\t}\n\t},\n\n\n\t/**\n\t * Performs the functionality of what modern browsers do when `String.prototype.split()` is called\n\t * with a regular expression that contains capturing parenthesis.\n\t *\n\t * For example:\n\t *\n\t *     // Modern browsers:\n\t *     \"a,b,c\".split( /(,)/ );  // --> [ 'a', ',', 'b', ',', 'c' ]\n\t *\n\t *     // Old IE (including IE8):\n\t *     \"a,b,c\".split( /(,)/ );  // --> [ 'a', 'b', 'c' ]\n\t *\n\t * This method emulates the functionality of modern browsers for the old IE case.\n\t *\n\t * @param {String} str The string to split.\n\t * @param {RegExp} splitRegex The regular expression to split the input `str` on. The splitting\n\t *   character(s) will be spliced into the array, as in the \"modern browsers\" example in the\n\t *   description of this method.\n\t *   Note #1: the supplied regular expression **must** have the 'g' flag specified.\n\t *   Note #2: for simplicity's sake, the regular expression does not need\n\t *   to contain capturing parenthesis - it will be assumed that any match has them.\n\t * @return {String[]} The split array of strings, with the splitting character(s) included.\n\t */\n\tsplitAndCapture : function( str, splitRegex ) {\n\t\tif( !splitRegex.global ) throw new Error( \"`splitRegex` must have the 'g' flag set\" );\n\n\t\tvar result = [],\n\t\t    lastIdx = 0,\n\t\t    match;\n\n\t\twhile( match = splitRegex.exec( str ) ) {\n\t\t\tresult.push( str.substring( lastIdx, match.index ) );\n\t\t\tresult.push( match[ 0 ] );  // push the splitting char(s)\n\n\t\t\tlastIdx = match.index + match[ 0 ].length;\n\t\t}\n\t\tresult.push( str.substring( lastIdx ) );\n\n\t\treturn result;\n\t},\n\n\n\t/**\n\t * Trims the leading and trailing whitespace from a string.\n\t *\n\t * @param {String} str The string to trim.\n\t * @return {String}\n\t */\n\ttrim : function( str ) {\n\t\treturn str.replace( this.trimRegex, '' );\n\t}\n\n};\n/*global Autolinker */\n/*jshint boss:true */\n/**\n * @class Autolinker.HtmlTag\n * @extends Object\n *\n * Represents an HTML tag, which can be used to easily build/modify HTML tags programmatically.\n *\n * Autolinker uses this abstraction to create HTML tags, and then write them out as strings. You may also use\n * this class in your code, especially within a {@link Autolinker#replaceFn replaceFn}.\n *\n * ## Examples\n *\n * Example instantiation:\n *\n *     var tag = new Autolinker.HtmlTag( {\n *         tagName : 'a',\n *         attrs   : { 'href': 'http://google.com', 'class': 'external-link' },\n *         innerHtml : 'Google'\n *     } );\n *\n *     tag.toAnchorString();  // <a href=\"http://google.com\" class=\"external-link\">Google</a>\n *\n *     // Individual accessor methods\n *     tag.getTagName();                 // 'a'\n *     tag.getAttr( 'href' );            // 'http://google.com'\n *     tag.hasClass( 'external-link' );  // true\n *\n *\n * Using mutator methods (which may be used in combination with instantiation config properties):\n *\n *     var tag = new Autolinker.HtmlTag();\n *     tag.setTagName( 'a' );\n *     tag.setAttr( 'href', 'http://google.com' );\n *     tag.addClass( 'external-link' );\n *     tag.setInnerHtml( 'Google' );\n *\n *     tag.getTagName();                 // 'a'\n *     tag.getAttr( 'href' );            // 'http://google.com'\n *     tag.hasClass( 'external-link' );  // true\n *\n *     tag.toAnchorString();  // <a href=\"http://google.com\" class=\"external-link\">Google</a>\n *\n *\n * ## Example use within a {@link Autolinker#replaceFn replaceFn}\n *\n *     var html = Autolinker.link( \"Test google.com\", {\n *         replaceFn : function( autolinker, match ) {\n *             var tag = match.buildTag();  // returns an {@link Autolinker.HtmlTag} instance, configured with the Match's href and anchor text\n *             tag.setAttr( 'rel', 'nofollow' );\n *\n *             return tag;\n *         }\n *     } );\n *\n *     // generated html:\n *     //   Test <a href=\"http://google.com\" target=\"_blank\" rel=\"nofollow\">google.com</a>\n *\n *\n * ## Example use with a new tag for the replacement\n *\n *     var html = Autolinker.link( \"Test google.com\", {\n *         replaceFn : function( autolinker, match ) {\n *             var tag = new Autolinker.HtmlTag( {\n *                 tagName : 'button',\n *                 attrs   : { 'title': 'Load URL: ' + match.getAnchorHref() },\n *                 innerHtml : 'Load URL: ' + match.getAnchorText()\n *             } );\n *\n *             return tag;\n *         }\n *     } );\n *\n *     // generated html:\n *     //   Test <button title=\"Load URL: http://google.com\">Load URL: google.com</button>\n */\nAutolinker.HtmlTag = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @cfg {String} tagName\n\t *\n\t * The tag name. Ex: 'a', 'button', etc.\n\t *\n\t * Not required at instantiation time, but should be set using {@link #setTagName} before {@link #toAnchorString}\n\t * is executed.\n\t */\n\n\t/**\n\t * @cfg {Object.<String, String>} attrs\n\t *\n\t * An key/value Object (map) of attributes to create the tag with. The keys are the attribute names, and the\n\t * values are the attribute values.\n\t */\n\n\t/**\n\t * @cfg {String} innerHtml\n\t *\n\t * The inner HTML for the tag.\n\t *\n\t * Note the camel case name on `innerHtml`. Acronyms are camelCased in this utility (such as not to run into the acronym\n\t * naming inconsistency that the DOM developers created with `XMLHttpRequest`). You may alternatively use {@link #innerHTML}\n\t * if you prefer, but this one is recommended.\n\t */\n\n\t/**\n\t * @cfg {String} innerHTML\n\t *\n\t * Alias of {@link #innerHtml}, accepted for consistency with the browser DOM api, but prefer the camelCased version\n\t * for acronym names.\n\t */\n\n\n\t/**\n\t * @protected\n\t * @property {RegExp} whitespaceRegex\n\t *\n\t * Regular expression used to match whitespace in a string of CSS classes.\n\t */\n\twhitespaceRegex : /\\s+/,\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} [cfg] The configuration properties for this class, in an Object (map)\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.Util.assign( this, cfg );\n\n\t\tthis.innerHtml = this.innerHtml || this.innerHTML;  // accept either the camelCased form or the fully capitalized acronym\n\t},\n\n\n\t/**\n\t * Sets the tag name that will be used to generate the tag with.\n\t *\n\t * @param {String} tagName\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetTagName : function( tagName ) {\n\t\tthis.tagName = tagName;\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Retrieves the tag name.\n\t *\n\t * @return {String}\n\t */\n\tgetTagName : function() {\n\t\treturn this.tagName || \"\";\n\t},\n\n\n\t/**\n\t * Sets an attribute on the HtmlTag.\n\t *\n\t * @param {String} attrName The attribute name to set.\n\t * @param {String} attrValue The attribute value to set.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetAttr : function( attrName, attrValue ) {\n\t\tvar tagAttrs = this.getAttrs();\n\t\ttagAttrs[ attrName ] = attrValue;\n\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Retrieves an attribute from the HtmlTag. If the attribute does not exist, returns `undefined`.\n\t *\n\t * @param {String} attrName The attribute name to retrieve.\n\t * @return {String} The attribute's value, or `undefined` if it does not exist on the HtmlTag.\n\t */\n\tgetAttr : function( attrName ) {\n\t\treturn this.getAttrs()[ attrName ];\n\t},\n\n\n\t/**\n\t * Sets one or more attributes on the HtmlTag.\n\t *\n\t * @param {Object.<String, String>} attrs A key/value Object (map) of the attributes to set.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetAttrs : function( attrs ) {\n\t\tvar tagAttrs = this.getAttrs();\n\t\tAutolinker.Util.assign( tagAttrs, attrs );\n\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Retrieves the attributes Object (map) for the HtmlTag.\n\t *\n\t * @return {Object.<String, String>} A key/value object of the attributes for the HtmlTag.\n\t */\n\tgetAttrs : function() {\n\t\treturn this.attrs || ( this.attrs = {} );\n\t},\n\n\n\t/**\n\t * Sets the provided `cssClass`, overwriting any current CSS classes on the HtmlTag.\n\t *\n\t * @param {String} cssClass One or more space-separated CSS classes to set (overwrite).\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetClass : function( cssClass ) {\n\t\treturn this.setAttr( 'class', cssClass );\n\t},\n\n\n\t/**\n\t * Convenience method to add one or more CSS classes to the HtmlTag. Will not add duplicate CSS classes.\n\t *\n\t * @param {String} cssClass One or more space-separated CSS classes to add.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\taddClass : function( cssClass ) {\n\t\tvar classAttr = this.getClass(),\n\t\t    whitespaceRegex = this.whitespaceRegex,\n\t\t    indexOf = Autolinker.Util.indexOf,  // to support IE8 and below\n\t\t    classes = ( !classAttr ) ? [] : classAttr.split( whitespaceRegex ),\n\t\t    newClasses = cssClass.split( whitespaceRegex ),\n\t\t    newClass;\n\n\t\twhile( newClass = newClasses.shift() ) {\n\t\t\tif( indexOf( classes, newClass ) === -1 ) {\n\t\t\t\tclasses.push( newClass );\n\t\t\t}\n\t\t}\n\n\t\tthis.getAttrs()[ 'class' ] = classes.join( \" \" );\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Convenience method to remove one or more CSS classes from the HtmlTag.\n\t *\n\t * @param {String} cssClass One or more space-separated CSS classes to remove.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tremoveClass : function( cssClass ) {\n\t\tvar classAttr = this.getClass(),\n\t\t    whitespaceRegex = this.whitespaceRegex,\n\t\t    indexOf = Autolinker.Util.indexOf,  // to support IE8 and below\n\t\t    classes = ( !classAttr ) ? [] : classAttr.split( whitespaceRegex ),\n\t\t    removeClasses = cssClass.split( whitespaceRegex ),\n\t\t    removeClass;\n\n\t\twhile( classes.length && ( removeClass = removeClasses.shift() ) ) {\n\t\t\tvar idx = indexOf( classes, removeClass );\n\t\t\tif( idx !== -1 ) {\n\t\t\t\tclasses.splice( idx, 1 );\n\t\t\t}\n\t\t}\n\n\t\tthis.getAttrs()[ 'class' ] = classes.join( \" \" );\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Convenience method to retrieve the CSS class(es) for the HtmlTag, which will each be separated by spaces when\n\t * there are multiple.\n\t *\n\t * @return {String}\n\t */\n\tgetClass : function() {\n\t\treturn this.getAttrs()[ 'class' ] || \"\";\n\t},\n\n\n\t/**\n\t * Convenience method to check if the tag has a CSS class or not.\n\t *\n\t * @param {String} cssClass The CSS class to check for.\n\t * @return {Boolean} `true` if the HtmlTag has the CSS class, `false` otherwise.\n\t */\n\thasClass : function( cssClass ) {\n\t\treturn ( ' ' + this.getClass() + ' ' ).indexOf( ' ' + cssClass + ' ' ) !== -1;\n\t},\n\n\n\t/**\n\t * Sets the inner HTML for the tag.\n\t *\n\t * @param {String} html The inner HTML to set.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetInnerHtml : function( html ) {\n\t\tthis.innerHtml = html;\n\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Retrieves the inner HTML for the tag.\n\t *\n\t * @return {String}\n\t */\n\tgetInnerHtml : function() {\n\t\treturn this.innerHtml || \"\";\n\t},\n\n\n\t/**\n\t * Override of superclass method used to generate the HTML string for the tag.\n\t *\n\t * @return {String}\n\t */\n\ttoAnchorString : function() {\n\t\tvar tagName = this.getTagName(),\n\t\t    attrsStr = this.buildAttrsStr();\n\n\t\tattrsStr = ( attrsStr ) ? ' ' + attrsStr : '';  // prepend a space if there are actually attributes\n\n\t\treturn [ '<', tagName, attrsStr, '>', this.getInnerHtml(), '</', tagName, '>' ].join( \"\" );\n\t},\n\n\n\t/**\n\t * Support method for {@link #toAnchorString}, returns the string space-separated key=\"value\" pairs, used to populate\n\t * the stringified HtmlTag.\n\t *\n\t * @protected\n\t * @return {String} Example return: `attr1=\"value1\" attr2=\"value2\"`\n\t */\n\tbuildAttrsStr : function() {\n\t\tif( !this.attrs ) return \"\";  // no `attrs` Object (map) has been set, return empty string\n\n\t\tvar attrs = this.getAttrs(),\n\t\t    attrsArr = [];\n\n\t\tfor( var prop in attrs ) {\n\t\t\tif( attrs.hasOwnProperty( prop ) ) {\n\t\t\t\tattrsArr.push( prop + '=\"' + attrs[ prop ] + '\"' );\n\t\t\t}\n\t\t}\n\t\treturn attrsArr.join( \" \" );\n\t}\n\n} );\n\n/*global Autolinker */\n/**\n * @class Autolinker.RegexLib\n * @singleton\n *\n * Builds and stores a library of the common regular expressions used by the\n * Autolinker utility.\n *\n * Other regular expressions may exist ad-hoc, but these are generally the\n * regular expressions that are shared between source files.\n */\nAutolinker.RegexLib = (function() {\n\n\t/**\n\t * The string form of a regular expression that would match all of the\n\t * alphabetic (\"letter\") chars in the unicode character set when placed in a\n\t * RegExp character class (`[]`). This includes all international alphabetic\n\t * characters.\n\t *\n\t * These would be the characters matched by unicode regex engines `\\p{L}`\n\t * escape (\"all letters\").\n\t *\n\t * Taken from the XRegExp library: http://xregexp.com/\n\t * Specifically: http://xregexp.com/v/3.0.0/unicode-categories.js\n\t *\n\t * @private\n\t * @type {String}\n\t */\n\tvar alphaCharsStr = 'A-Za-z\\\\xAA\\\\xB5\\\\xBA\\\\xC0-\\\\xD6\\\\xD8-\\\\xF6\\\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B4\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AD\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC';\n\n\t/**\n\t * The string form of a regular expression that would match all of the\n\t * decimal number chars in the unicode character set when placed in a RegExp\n\t * character class (`[]`).\n\t *\n\t * These would be the characters matched by unicode regex engines `\\p{Nd}`\n\t * escape (\"all decimal numbers\")\n\t *\n\t * Taken from the XRegExp library: http://xregexp.com/\n\t * Specifically: http://xregexp.com/v/3.0.0/unicode-categories.js\n\t *\n\t * @private\n\t * @type {String}\n\t */\n\tvar decimalNumbersStr = '0-9\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19';\n\n\n\t// See documentation below\n\tvar alphaNumericCharsStr = alphaCharsStr + decimalNumbersStr;\n\n\n\t// See documentation below\n\tvar domainNameRegex = new RegExp( '[' + alphaNumericCharsStr + '.\\\\-]*[' + alphaNumericCharsStr + '\\\\-]' );\n\n\n\t// See documentation below\n\tvar tldRegex = /(?:travelersinsurance|sandvikcoromant|kerryproperties|cancerresearch|weatherchannel|kerrylogistics|spreadbetting|international|wolterskluwer|lifeinsurance|construction|pamperedchef|scholarships|versicherung|bridgestone|creditunion|kerryhotels|investments|productions|blackfriday|enterprises|lamborghini|photography|motorcycles|williamhill|playstation|contractors|barclaycard|accountants|redumbrella|engineering|management|telefonica|protection|consulting|tatamotors|creditcard|vlaanderen|schaeffler|associates|properties|foundation|republican|bnpparibas|boehringer|eurovision|extraspace|industries|immobilien|university|technology|volkswagen|healthcare|restaurant|cuisinella|vistaprint|apartments|accountant|travelers|homedepot|institute|vacations|furniture|fresenius|insurance|christmas|bloomberg|solutions|barcelona|firestone|financial|kuokgroup|fairwinds|community|passagens|goldpoint|equipment|lifestyle|yodobashi|aquarelle|marketing|analytics|education|amsterdam|statefarm|melbourne|allfinanz|directory|microsoft|stockholm|montblanc|accenture|lancaster|landrover|everbank|istanbul|graphics|grainger|ipiranga|softbank|attorney|pharmacy|saarland|catering|airforce|yokohama|mortgage|frontier|mutuelle|stcgroup|memorial|pictures|football|symantec|cipriani|ventures|telecity|cityeats|verisign|flsmidth|boutique|cleaning|firmdale|clinique|clothing|redstone|infiniti|deloitte|feedback|services|broadway|plumbing|commbank|training|barclays|exchange|computer|brussels|software|delivery|barefoot|builders|business|bargains|engineer|holdings|download|security|helsinki|lighting|movistar|discount|hdfcbank|supplies|marriott|property|diamonds|capetown|partners|democrat|jpmorgan|bradesco|budapest|rexroth|zuerich|shriram|academy|science|support|youtube|singles|surgery|alibaba|statoil|dentist|schwarz|android|cruises|cricket|digital|markets|starhub|systems|courses|coupons|netbank|country|domains|corsica|network|neustar|realtor|lincoln|limited|schmidt|yamaxun|cooking|contact|auction|spiegel|liaison|leclerc|latrobe|lasalle|abogado|compare|lanxess|exposed|express|company|cologne|college|avianca|lacaixa|fashion|recipes|ferrero|komatsu|storage|wanggou|clubmed|sandvik|fishing|fitness|bauhaus|kitchen|flights|florist|flowers|watches|weather|temasek|samsung|bentley|forsale|channel|theater|frogans|theatre|okinawa|website|tickets|jewelry|gallery|tiffany|iselect|shiksha|brother|organic|wedding|genting|toshiba|origins|philips|hyundai|hotmail|hoteles|hosting|rentals|windows|cartier|bugatti|holiday|careers|whoswho|hitachi|panerai|caravan|reviews|guitars|capital|trading|hamburg|hangout|finance|stream|family|abbott|health|review|travel|report|hermes|hiphop|gratis|career|toyota|hockey|dating|repair|google|social|soccer|reisen|global|otsuka|giving|unicom|casino|photos|center|broker|rocher|orange|bostik|garden|insure|ryukyu|bharti|safety|physio|sakura|oracle|online|jaguar|gallup|piaget|tienda|futbol|pictet|joburg|webcam|berlin|office|juegos|kaufen|chanel|chrome|xihuan|church|tennis|circle|kinder|flickr|bayern|claims|clinic|viajes|nowruz|xperia|norton|yachts|studio|coffee|camera|sanofi|nissan|author|expert|events|comsec|lawyer|tattoo|viking|estate|villas|condos|realty|yandex|energy|emerck|virgin|vision|durban|living|school|coupon|london|taobao|natura|taipei|nagoya|luxury|walter|aramco|sydney|madrid|credit|maison|makeup|schule|market|anquan|direct|design|swatch|suzuki|alsace|vuelos|dental|alipay|voyage|shouji|voting|airtel|mutual|degree|supply|agency|museum|mobily|dealer|monash|select|mormon|active|moscow|racing|datsun|quebec|nissay|rodeo|email|gifts|works|photo|chloe|edeka|cheap|earth|vista|tushu|koeln|glass|shoes|globo|tunes|gmail|nokia|space|kyoto|black|ricoh|seven|lamer|sener|epson|cisco|praxi|trust|citic|crown|shell|lease|green|legal|lexus|ninja|tatar|gripe|nikon|group|video|wales|autos|gucci|party|nexus|guide|linde|adult|parts|amica|lixil|boats|azure|loans|locus|cymru|lotte|lotto|stada|click|poker|quest|dabur|lupin|nadex|paris|faith|dance|canon|place|gives|trade|skype|rocks|mango|cloud|boots|smile|final|swiss|homes|honda|media|horse|cards|deals|watch|bosch|house|pizza|miami|osaka|tours|total|xerox|coach|sucks|style|delta|toray|iinet|tools|money|codes|beats|tokyo|salon|archi|movie|baidu|study|actor|yahoo|store|apple|world|forex|today|bible|tmall|tirol|irish|tires|forum|reise|vegas|vodka|sharp|omega|weber|jetzt|audio|promo|build|bingo|chase|gallo|drive|dubai|rehab|press|solar|sale|beer|bbva|bank|band|auto|sapo|sarl|saxo|audi|asia|arte|arpa|army|yoga|ally|zara|scor|scot|sexy|seat|zero|seek|aero|adac|zone|aarp|maif|meet|meme|menu|surf|mini|mobi|mtpc|porn|desi|star|ltda|name|talk|navy|love|loan|live|link|news|limo|like|spot|life|nico|lidl|lgbt|land|taxi|team|tech|kred|kpmg|sony|song|kiwi|kddi|jprs|jobs|sohu|java|itau|tips|info|immo|icbc|hsbc|town|host|page|toys|here|help|pars|haus|guru|guge|tube|goog|golf|gold|sncf|gmbh|gift|ggee|gent|gbiz|game|vana|pics|fund|ford|ping|pink|fish|film|fast|farm|play|fans|fail|plus|skin|pohl|fage|moda|post|erni|dvag|prod|doha|prof|docs|viva|diet|luxe|site|dell|sina|dclk|show|qpon|date|vote|cyou|voto|read|coop|cool|wang|club|city|chat|cern|cash|reit|rent|casa|cars|care|camp|rest|call|cafe|weir|wien|rich|wiki|buzz|wine|book|bond|room|work|rsvp|shia|ruhr|blue|bing|shaw|bike|safe|xbox|best|pwc|mtn|lds|aig|boo|fyi|nra|nrw|ntt|car|gal|obi|zip|aeg|vin|how|one|ong|onl|dad|ooo|bet|esq|org|htc|bar|uol|ibm|ovh|gdn|ice|icu|uno|gea|ifm|bot|top|wtf|lol|day|pet|eus|wtc|ubs|tvs|aco|ing|ltd|ink|tab|abb|afl|cat|int|pid|pin|bid|cba|gle|com|cbn|ads|man|wed|ceb|gmo|sky|ist|gmx|tui|mba|fan|ski|iwc|app|pro|med|ceo|jcb|jcp|goo|dev|men|aaa|meo|pub|jlc|bom|jll|gop|jmp|mil|got|gov|win|jot|mma|joy|trv|red|cfa|cfd|bio|moe|moi|mom|ren|biz|aws|xin|bbc|dnp|buy|kfh|mov|thd|xyz|fit|kia|rio|rip|kim|dog|vet|nyc|bcg|mtr|bcn|bms|bmw|run|bzh|rwe|tel|stc|axa|kpn|fly|krd|cab|bnl|foo|crs|eat|tci|sap|srl|nec|sas|net|cal|sbs|sfr|sca|scb|csc|edu|new|xxx|hiv|fox|wme|ngo|nhk|vip|sex|frl|lat|yun|law|you|tax|soy|sew|om|ac|hu|se|sc|sg|sh|sb|sa|rw|ru|rs|ro|re|qa|py|si|pw|pt|ps|sj|sk|pr|pn|pm|pl|sl|sm|pk|sn|ph|so|pg|pf|pe|pa|zw|nz|nu|nr|np|no|nl|ni|ng|nf|sr|ne|st|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|su|mn|mm|ml|mk|mh|mg|me|sv|md|mc|sx|sy|ma|ly|lv|sz|lu|lt|ls|lr|lk|li|lc|lb|la|tc|kz|td|ky|kw|kr|kp|kn|km|ki|kh|tf|tg|th|kg|ke|jp|jo|jm|je|it|is|ir|tj|tk|tl|tm|iq|tn|to|io|in|im|il|ie|ad|sd|ht|hr|hn|hm|tr|hk|gy|gw|gu|gt|gs|gr|gq|tt|gp|gn|gm|gl|tv|gi|tw|tz|ua|gh|ug|uk|gg|gf|ge|gd|us|uy|uz|va|gb|ga|vc|ve|fr|fo|fm|fk|fj|vg|vi|fi|eu|et|es|er|eg|ee|ec|dz|do|dm|dk|vn|dj|de|cz|cy|cx|cw|vu|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|wf|bz|by|bw|bv|bt|bs|br|bo|bn|bm|bj|bi|ws|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ye|ar|aq|ao|am|al|yt|ai|za|ag|af|ae|zm|id)\\b/;\n\n\n\treturn {\n\n\t\t/**\n\t\t * The string form of a regular expression that would match all of the\n\t\t * letters and decimal number chars in the unicode character set when placed\n\t\t * in a RegExp character class (`[]`).\n\t\t *\n\t\t * These would be the characters matched by unicode regex engines `[\\p{L}\\p{Nd}]`\n\t\t * escape (\"all letters and decimal numbers\")\n\t\t *\n\t\t * @property {String} alphaNumericCharsStr\n\t\t */\n\t\talphaNumericCharsStr : alphaNumericCharsStr,\n\n\t\t/**\n\t\t * A regular expression to match domain names of a URL or email address.\n\t\t * Ex: 'google', 'yahoo', 'some-other-company', etc.\n\t\t *\n\t\t * @property {RegExp} domainNameRegex\n\t\t */\n\t\tdomainNameRegex : domainNameRegex,\n\n\t\t/**\n\t\t * A regular expression to match top level domains (TLDs) for a URL or\n\t\t * email address. Ex: 'com', 'org', 'net', etc.\n\t\t *\n\t\t * @property {RegExp} tldRegex\n\t\t */\n\t\ttldRegex : tldRegex\n\n\t};\n\n\n}() );\n/*global Autolinker */\n/*jshint sub:true */\n/**\n * @protected\n * @class Autolinker.AnchorTagBuilder\n * @extends Object\n *\n * Builds anchor (&lt;a&gt;) tags for the Autolinker utility when a match is\n * found.\n *\n * Normally this class is instantiated, configured, and used internally by an\n * {@link Autolinker} instance, but may actually be retrieved in a {@link Autolinker#replaceFn replaceFn}\n * to create {@link Autolinker.HtmlTag HtmlTag} instances which may be modified\n * before returning from the {@link Autolinker#replaceFn replaceFn}. For\n * example:\n *\n *     var html = Autolinker.link( \"Test google.com\", {\n *         replaceFn : function( autolinker, match ) {\n *             var tag = autolinker.getTagBuilder().build( match );  // returns an {@link Autolinker.HtmlTag} instance\n *             tag.setAttr( 'rel', 'nofollow' );\n *\n *             return tag;\n *         }\n *     } );\n *\n *     // generated html:\n *     //   Test <a href=\"http://google.com\" target=\"_blank\" rel=\"nofollow\">google.com</a>\n */\nAutolinker.AnchorTagBuilder = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @cfg {Boolean} newWindow\n\t * @inheritdoc Autolinker#newWindow\n\t */\n\n\t/**\n\t * @cfg {Object} truncate\n\t * @inheritdoc Autolinker#truncate\n\t */\n\n\t/**\n\t * @cfg {String} className\n\t * @inheritdoc Autolinker#className\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} [cfg] The configuration options for the AnchorTagBuilder instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.Util.assign( this, cfg );\n\t},\n\n\n\t/**\n\t * Generates the actual anchor (&lt;a&gt;) tag to use in place of the\n\t * matched text, via its `match` object.\n\t *\n\t * @param {Autolinker.match.Match} match The Match instance to generate an\n\t *   anchor tag from.\n\t * @return {Autolinker.HtmlTag} The HtmlTag instance for the anchor tag.\n\t */\n\tbuild : function( match ) {\n\t\treturn new Autolinker.HtmlTag( {\n\t\t\ttagName   : 'a',\n\t\t\tattrs     : this.createAttrs( match.getType(), match.getAnchorHref() ),\n\t\t\tinnerHtml : this.processAnchorText( match.getAnchorText() )\n\t\t} );\n\t},\n\n\n\t/**\n\t * Creates the Object (map) of the HTML attributes for the anchor (&lt;a&gt;)\n\t *   tag being generated.\n\t *\n\t * @protected\n\t * @param {\"url\"/\"email\"/\"phone\"/\"twitter\"/\"hashtag\"} matchType The type of\n\t *   match that an anchor tag is being generated for.\n\t * @param {String} anchorHref The href for the anchor tag.\n\t * @return {Object} A key/value Object (map) of the anchor tag's attributes.\n\t */\n\tcreateAttrs : function( matchType, anchorHref ) {\n\t\tvar attrs = {\n\t\t\t'href' : anchorHref  // we'll always have the `href` attribute\n\t\t};\n\n\t\tvar cssClass = this.createCssClass( matchType );\n\t\tif( cssClass ) {\n\t\t\tattrs[ 'class' ] = cssClass;\n\t\t}\n\t\tif( this.newWindow ) {\n\t\t\tattrs[ 'target' ] = \"_blank\";\n\t\t\tattrs[ 'rel' ] = \"noopener noreferrer\";\n\t\t}\n\n\t\treturn attrs;\n\t},\n\n\n\t/**\n\t * Creates the CSS class that will be used for a given anchor tag, based on\n\t * the `matchType` and the {@link #className} config.\n\t *\n\t * @private\n\t * @param {\"url\"/\"email\"/\"phone\"/\"twitter\"/\"hashtag\"} matchType The type of\n\t *   match that an anchor tag is being generated for.\n\t * @return {String} The CSS class string for the link. Example return:\n\t *   \"myLink myLink-url\". If no {@link #className} was configured, returns\n\t *   an empty string.\n\t */\n\tcreateCssClass : function( matchType ) {\n\t\tvar className = this.className;\n\n\t\tif( !className )\n\t\t\treturn \"\";\n\t\telse\n\t\t\treturn className + \" \" + className + \"-\" + matchType;  // ex: \"myLink myLink-url\", \"myLink myLink-email\", \"myLink myLink-phone\", \"myLink myLink-twitter\", or \"myLink myLink-hashtag\"\n\t},\n\n\n\t/**\n\t * Processes the `anchorText` by truncating the text according to the\n\t * {@link #truncate} config.\n\t *\n\t * @private\n\t * @param {String} anchorText The anchor tag's text (i.e. what will be\n\t *   displayed).\n\t * @return {String} The processed `anchorText`.\n\t */\n\tprocessAnchorText : function( anchorText ) {\n\t\tanchorText = this.doTruncate( anchorText );\n\n\t\treturn anchorText;\n\t},\n\n\n\t/**\n\t * Performs the truncation of the `anchorText` based on the {@link #truncate}\n\t * option. If the `anchorText` is longer than the length specified by the\n\t * {@link #truncate} option, the truncation is performed based on the\n\t * `location` property. See {@link #truncate} for details.\n\t *\n\t * @private\n\t * @param {String} anchorText The anchor tag's text (i.e. what will be\n\t *   displayed).\n\t * @return {String} The truncated anchor text.\n\t */\n\tdoTruncate : function( anchorText ) {\n\t\tvar truncate = this.truncate;\n\t\tif( !truncate || !truncate.length ) return anchorText;\n\n\t\tvar truncateLength = truncate.length,\n\t\t\ttruncateLocation = truncate.location;\n\n\t\tif( truncateLocation === 'smart' ) {\n\t\t\treturn Autolinker.truncate.TruncateSmart( anchorText, truncateLength, '..' );\n\n\t\t} else if( truncateLocation === 'middle' ) {\n\t\t\treturn Autolinker.truncate.TruncateMiddle( anchorText, truncateLength, '..' );\n\n\t\t} else {\n\t\t\treturn Autolinker.truncate.TruncateEnd( anchorText, truncateLength, '..' );\n\t\t}\n\t}\n\n} );\n\n/*global Autolinker */\n/**\n * @class Autolinker.htmlParser.HtmlParser\n * @extends Object\n *\n * An HTML parser implementation which simply walks an HTML string and returns an array of\n * {@link Autolinker.htmlParser.HtmlNode HtmlNodes} that represent the basic HTML structure of the input string.\n *\n * Autolinker uses this to only link URLs/emails/Twitter handles within text nodes, effectively ignoring / \"walking\n * around\" HTML tags.\n */\nAutolinker.htmlParser.HtmlParser = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @private\n\t * @property {RegExp} htmlRegex\n\t *\n\t * The regular expression used to pull out HTML tags from a string. Handles namespaced HTML tags and\n\t * attribute names, as specified by http://www.w3.org/TR/html-markup/syntax.html.\n\t *\n\t * Capturing groups:\n\t *\n\t * 1. The \"!DOCTYPE\" tag name, if a tag is a &lt;!DOCTYPE&gt; tag.\n\t * 2. If it is an end tag, this group will have the '/'.\n\t * 3. If it is a comment tag, this group will hold the comment text (i.e.\n\t *    the text inside the `&lt;!--` and `--&gt;`.\n\t * 4. The tag name for all tags (other than the &lt;!DOCTYPE&gt; tag)\n\t */\n\thtmlRegex : (function() {\n\t\tvar commentTagRegex = /!--([\\s\\S]+?)--/,\n\t\t    tagNameRegex = /[0-9a-zA-Z][0-9a-zA-Z:]*/,\n\t\t    attrNameRegex = /[^\\s\"'>\\/=\\x00-\\x1F\\x7F]+/,   // the unicode range accounts for excluding control chars, and the delete char\n\t\t    attrValueRegex = /(?:\"[^\"]*?\"|'[^']*?'|[^'\"=<>`\\s]+)/, // double quoted, single quoted, or unquoted attribute values\n\t\t    nameEqualsValueRegex = attrNameRegex.source + '(?:\\\\s*=\\\\s*' + attrValueRegex.source + ')?';  // optional '=[value]'\n\n\t\treturn new RegExp( [\n\t\t\t// for <!DOCTYPE> tag. Ex: <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">)\n\t\t\t'(?:',\n\t\t\t\t'<(!DOCTYPE)',  // *** Capturing Group 1 - If it's a doctype tag\n\n\t\t\t\t\t// Zero or more attributes following the tag name\n\t\t\t\t\t'(?:',\n\t\t\t\t\t\t'\\\\s+',  // one or more whitespace chars before an attribute\n\n\t\t\t\t\t\t// Either:\n\t\t\t\t\t\t// A. attr=\"value\", or\n\t\t\t\t\t\t// B. \"value\" alone (To cover example doctype tag: <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">)\n\t\t\t\t\t\t'(?:', nameEqualsValueRegex, '|', attrValueRegex.source + ')',\n\t\t\t\t\t')*',\n\t\t\t\t'>',\n\t\t\t')',\n\n\t\t\t'|',\n\n\t\t\t// All other HTML tags (i.e. tags that are not <!DOCTYPE>)\n\t\t\t'(?:',\n\t\t\t\t'<(/)?',  // Beginning of a tag or comment. Either '<' for a start tag, or '</' for an end tag.\n\t\t\t\t          // *** Capturing Group 2: The slash or an empty string. Slash ('/') for end tag, empty string for start or self-closing tag.\n\n\t\t\t\t\t'(?:',\n\t\t\t\t\t\tcommentTagRegex.source,  // *** Capturing Group 3 - A Comment Tag's Text\n\n\t\t\t\t\t\t'|',\n\n\t\t\t\t\t\t'(?:',\n\n\t\t\t\t\t\t\t// *** Capturing Group 4 - The tag name\n\t\t\t\t\t\t\t'(' + tagNameRegex.source + ')',\n\n\t\t\t\t\t\t\t// Zero or more attributes following the tag name\n\t\t\t\t\t\t\t'(?:',\n\t\t\t\t\t\t\t\t'(?:\\\\s+|\\\\b)',        // any number of whitespace chars before an attribute. NOTE: Using \\s* here throws Chrome into an infinite loop for some reason, so using \\s+|\\b instead\n\t\t\t\t\t\t\t\tnameEqualsValueRegex,  // attr=\"value\" (with optional =\"value\" part)\n\t\t\t\t\t\t\t')*',\n\n\t\t\t\t\t\t\t'\\\\s*/?',  // any trailing spaces and optional '/' before the closing '>'\n\n\t\t\t\t\t\t')',\n\t\t\t\t\t')',\n\t\t\t\t'>',\n\t\t\t')'\n\t\t].join( \"\" ), 'gi' );\n\t} )(),\n\n\t/**\n\t * @private\n\t * @property {RegExp} htmlCharacterEntitiesRegex\n\t *\n\t * The regular expression that matches common HTML character entities.\n\t *\n\t * Ignoring &amp; as it could be part of a query string -- handling it separately.\n\t */\n\thtmlCharacterEntitiesRegex: /(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,\n\n\n\t/**\n\t * Parses an HTML string and returns a simple array of {@link Autolinker.htmlParser.HtmlNode HtmlNodes}\n\t * to represent the HTML structure of the input string.\n\t *\n\t * @param {String} html The HTML to parse.\n\t * @return {Autolinker.htmlParser.HtmlNode[]}\n\t */\n\tparse : function( html ) {\n\t\tvar htmlRegex = this.htmlRegex,\n\t\t    currentResult,\n\t\t    lastIndex = 0,\n\t\t    textAndEntityNodes,\n\t\t    nodes = [];  // will be the result of the method\n\n\t\twhile( ( currentResult = htmlRegex.exec( html ) ) !== null ) {\n\t\t\tvar tagText = currentResult[ 0 ],\n\t\t\t    commentText = currentResult[ 3 ], // if we've matched a comment\n\t\t\t    tagName = currentResult[ 1 ] || currentResult[ 4 ],  // The <!DOCTYPE> tag (ex: \"!DOCTYPE\"), or another tag (ex: \"a\" or \"img\")\n\t\t\t    isClosingTag = !!currentResult[ 2 ],\n\t\t\t    offset = currentResult.index,\n\t\t\t    inBetweenTagsText = html.substring( lastIndex, offset );\n\n\t\t\t// Push TextNodes and EntityNodes for any text found between tags\n\t\t\tif( inBetweenTagsText ) {\n\t\t\t\ttextAndEntityNodes = this.parseTextAndEntityNodes( lastIndex, inBetweenTagsText );\n\t\t\t\tnodes.push.apply( nodes, textAndEntityNodes );\n\t\t\t}\n\n\t\t\t// Push the CommentNode or ElementNode\n\t\t\tif( commentText ) {\n\t\t\t\tnodes.push( this.createCommentNode( offset, tagText, commentText ) );\n\t\t\t} else {\n\t\t\t\tnodes.push( this.createElementNode( offset, tagText, tagName, isClosingTag ) );\n\t\t\t}\n\n\t\t\tlastIndex = offset + tagText.length;\n\t\t}\n\n\t\t// Process any remaining text after the last HTML element. Will process all of the text if there were no HTML elements.\n\t\tif( lastIndex < html.length ) {\n\t\t\tvar text = html.substring( lastIndex );\n\n\t\t\t// Push TextNodes and EntityNodes for any text found between tags\n\t\t\tif( text ) {\n\t\t\t\ttextAndEntityNodes = this.parseTextAndEntityNodes( lastIndex, text );\n\t\t\t\tnodes.push.apply( nodes, textAndEntityNodes );\n\t\t\t}\n\t\t}\n\n\t\treturn nodes;\n\t},\n\n\n\t/**\n\t * Parses text and HTML entity nodes from a given string. The input string\n\t * should not have any HTML tags (elements) within it.\n\t *\n\t * @private\n\t * @param {Number} offset The offset of the text node match within the\n\t *   original HTML string.\n\t * @param {String} text The string of text to parse. This is from an HTML\n\t *   text node.\n\t * @return {Autolinker.htmlParser.HtmlNode[]} An array of HtmlNodes to\n\t *   represent the {@link Autolinker.htmlParser.TextNode TextNodes} and\n\t *   {@link Autolinker.htmlParser.EntityNode EntityNodes} found.\n\t */\n\tparseTextAndEntityNodes : function( offset, text ) {\n\t\tvar nodes = [],\n\t\t    textAndEntityTokens = Autolinker.Util.splitAndCapture( text, this.htmlCharacterEntitiesRegex );  // split at HTML entities, but include the HTML entities in the results array\n\n\t\t// Every even numbered token is a TextNode, and every odd numbered token is an EntityNode\n\t\t// For example: an input `text` of \"Test &quot;this&quot; today\" would turn into the\n\t\t//   `textAndEntityTokens`: [ 'Test ', '&quot;', 'this', '&quot;', ' today' ]\n\t\tfor( var i = 0, len = textAndEntityTokens.length; i < len; i += 2 ) {\n\t\t\tvar textToken = textAndEntityTokens[ i ],\n\t\t\t    entityToken = textAndEntityTokens[ i + 1 ];\n\n\t\t\tif( textToken ) {\n\t\t\t\tnodes.push( this.createTextNode( offset, textToken ) );\n\t\t\t\toffset += textToken.length;\n\t\t\t}\n\t\t\tif( entityToken ) {\n\t\t\t\tnodes.push( this.createEntityNode( offset, entityToken ) );\n\t\t\t\toffset += entityToken.length;\n\t\t\t}\n\t\t}\n\t\treturn nodes;\n\t},\n\n\n\t/**\n\t * Factory method to create an {@link Autolinker.htmlParser.CommentNode CommentNode}.\n\t *\n\t * @private\n\t * @param {Number} offset The offset of the match within the original HTML\n\t *   string.\n\t * @param {String} tagText The full text of the tag (comment) that was\n\t *   matched, including its &lt;!-- and --&gt;.\n\t * @param {String} commentText The full text of the comment that was matched.\n\t */\n\tcreateCommentNode : function( offset, tagText, commentText ) {\n\t\treturn new Autolinker.htmlParser.CommentNode( {\n\t\t\toffset : offset,\n\t\t\ttext   : tagText,\n\t\t\tcomment: Autolinker.Util.trim( commentText )\n\t\t} );\n\t},\n\n\n\t/**\n\t * Factory method to create an {@link Autolinker.htmlParser.ElementNode ElementNode}.\n\t *\n\t * @private\n\t * @param {Number} offset The offset of the match within the original HTML\n\t *   string.\n\t * @param {String} tagText The full text of the tag (element) that was\n\t *   matched, including its attributes.\n\t * @param {String} tagName The name of the tag. Ex: An &lt;img&gt; tag would\n\t *   be passed to this method as \"img\".\n\t * @param {Boolean} isClosingTag `true` if it's a closing tag, false\n\t *   otherwise.\n\t * @return {Autolinker.htmlParser.ElementNode}\n\t */\n\tcreateElementNode : function( offset, tagText, tagName, isClosingTag ) {\n\t\treturn new Autolinker.htmlParser.ElementNode( {\n\t\t\toffset  : offset,\n\t\t\ttext    : tagText,\n\t\t\ttagName : tagName.toLowerCase(),\n\t\t\tclosing : isClosingTag\n\t\t} );\n\t},\n\n\n\t/**\n\t * Factory method to create a {@link Autolinker.htmlParser.EntityNode EntityNode}.\n\t *\n\t * @private\n\t * @param {Number} offset The offset of the match within the original HTML\n\t *   string.\n\t * @param {String} text The text that was matched for the HTML entity (such\n\t *   as '&amp;nbsp;').\n\t * @return {Autolinker.htmlParser.EntityNode}\n\t */\n\tcreateEntityNode : function( offset, text ) {\n\t\treturn new Autolinker.htmlParser.EntityNode( { offset: offset, text: text } );\n\t},\n\n\n\t/**\n\t * Factory method to create a {@link Autolinker.htmlParser.TextNode TextNode}.\n\t *\n\t * @private\n\t * @param {Number} offset The offset of the match within the original HTML\n\t *   string.\n\t * @param {String} text The text that was matched.\n\t * @return {Autolinker.htmlParser.TextNode}\n\t */\n\tcreateTextNode : function( offset, text ) {\n\t\treturn new Autolinker.htmlParser.TextNode( { offset: offset, text: text } );\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @abstract\n * @class Autolinker.htmlParser.HtmlNode\n *\n * Represents an HTML node found in an input string. An HTML node is one of the\n * following:\n *\n * 1. An {@link Autolinker.htmlParser.ElementNode ElementNode}, which represents\n *    HTML tags.\n * 2. A {@link Autolinker.htmlParser.CommentNode CommentNode}, which represents\n *    HTML comments.\n * 3. A {@link Autolinker.htmlParser.TextNode TextNode}, which represents text\n *    outside or within HTML tags.\n * 4. A {@link Autolinker.htmlParser.EntityNode EntityNode}, which represents\n *    one of the known HTML entities that Autolinker looks for. This includes\n *    common ones such as &amp;quot; and &amp;nbsp;\n */\nAutolinker.htmlParser.HtmlNode = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @cfg {Number} offset (required)\n\t *\n\t * The offset of the HTML node in the original text that was parsed.\n\t */\n\toffset : undefined,\n\n\t/**\n\t * @cfg {String} text (required)\n\t *\n\t * The text that was matched for the HtmlNode.\n\t *\n\t * - In the case of an {@link Autolinker.htmlParser.ElementNode ElementNode},\n\t *   this will be the tag's text.\n\t * - In the case of an {@link Autolinker.htmlParser.CommentNode CommentNode},\n\t *   this will be the comment's text.\n\t * - In the case of a {@link Autolinker.htmlParser.TextNode TextNode}, this\n\t *   will be the text itself.\n\t * - In the case of a {@link Autolinker.htmlParser.EntityNode EntityNode},\n\t *   this will be the text of the HTML entity.\n\t */\n\ttext : undefined,\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match instance,\n\t * specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.Util.assign( this, cfg );\n\n\t\tif( this.offset == null ) throw new Error( '`offset` cfg required' );\n\t\tif( this.text == null ) throw new Error( '`text` cfg required' );\n\t},\n\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @abstract\n\t * @return {String}\n\t */\n\tgetType : Autolinker.Util.abstractMethod,\n\n\n\t/**\n\t * Retrieves the {@link #offset} of the HtmlNode. This is the offset of the\n\t * HTML node in the original string that was parsed.\n\t *\n\t * @return {Number}\n\t */\n\tgetOffset : function() {\n\t\treturn this.offset;\n\t},\n\n\n\t/**\n\t * Retrieves the {@link #text} for the HtmlNode.\n\t *\n\t * @return {String}\n\t */\n\tgetText : function() {\n\t\treturn this.text;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.htmlParser.CommentNode\n * @extends Autolinker.htmlParser.HtmlNode\n *\n * Represents an HTML comment node that has been parsed by the\n * {@link Autolinker.htmlParser.HtmlParser}.\n *\n * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more\n * details.\n */\nAutolinker.htmlParser.CommentNode = Autolinker.Util.extend( Autolinker.htmlParser.HtmlNode, {\n\n\t/**\n\t * @cfg {String} comment (required)\n\t *\n\t * The text inside the comment tag. This text is stripped of any leading or\n\t * trailing whitespace.\n\t */\n\tcomment : '',\n\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'comment';\n\t},\n\n\n\t/**\n\t * Returns the comment inside the comment tag.\n\t *\n\t * @return {String}\n\t */\n\tgetComment : function() {\n\t\treturn this.comment;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.htmlParser.ElementNode\n * @extends Autolinker.htmlParser.HtmlNode\n *\n * Represents an HTML element node that has been parsed by the {@link Autolinker.htmlParser.HtmlParser}.\n *\n * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more\n * details.\n */\nAutolinker.htmlParser.ElementNode = Autolinker.Util.extend( Autolinker.htmlParser.HtmlNode, {\n\n\t/**\n\t * @cfg {String} tagName (required)\n\t *\n\t * The name of the tag that was matched.\n\t */\n\ttagName : '',\n\n\t/**\n\t * @cfg {Boolean} closing (required)\n\t *\n\t * `true` if the element (tag) is a closing tag, `false` if its an opening\n\t * tag.\n\t */\n\tclosing : false,\n\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'element';\n\t},\n\n\n\t/**\n\t * Returns the HTML element's (tag's) name. Ex: for an &lt;img&gt; tag,\n\t * returns \"img\".\n\t *\n\t * @return {String}\n\t */\n\tgetTagName : function() {\n\t\treturn this.tagName;\n\t},\n\n\n\t/**\n\t * Determines if the HTML element (tag) is a closing tag. Ex: &lt;div&gt;\n\t * returns `false`, while &lt;/div&gt; returns `true`.\n\t *\n\t * @return {Boolean}\n\t */\n\tisClosing : function() {\n\t\treturn this.closing;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.htmlParser.EntityNode\n * @extends Autolinker.htmlParser.HtmlNode\n *\n * Represents a known HTML entity node that has been parsed by the {@link Autolinker.htmlParser.HtmlParser}.\n * Ex: '&amp;nbsp;', or '&amp#160;' (which will be retrievable from the {@link #getText}\n * method.\n *\n * Note that this class will only be returned from the HtmlParser for the set of\n * checked HTML entity nodes  defined by the {@link Autolinker.htmlParser.HtmlParser#htmlCharacterEntitiesRegex}.\n *\n * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more\n * details.\n */\nAutolinker.htmlParser.EntityNode = Autolinker.Util.extend( Autolinker.htmlParser.HtmlNode, {\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'entity';\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.htmlParser.TextNode\n * @extends Autolinker.htmlParser.HtmlNode\n *\n * Represents a text node that has been parsed by the {@link Autolinker.htmlParser.HtmlParser}.\n *\n * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more\n * details.\n */\nAutolinker.htmlParser.TextNode = Autolinker.Util.extend( Autolinker.htmlParser.HtmlNode, {\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'text';\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @abstract\n * @class Autolinker.match.Match\n *\n * Represents a match found in an input string which should be Autolinked. A Match object is what is provided in a\n * {@link Autolinker#replaceFn replaceFn}, and may be used to query for details about the match.\n *\n * For example:\n *\n *     var input = \"...\";  // string with URLs, Email Addresses, and Twitter Handles\n *\n *     var linkedText = Autolinker.link( input, {\n *         replaceFn : function( autolinker, match ) {\n *             console.log( \"href = \", match.getAnchorHref() );\n *             console.log( \"text = \", match.getAnchorText() );\n *\n *             switch( match.getType() ) {\n *                 case 'url' :\n *                     console.log( \"url: \", match.getUrl() );\n *\n *                 case 'email' :\n *                     console.log( \"email: \", match.getEmail() );\n *\n *                 case 'twitter' :\n *                     console.log( \"twitter: \", match.getTwitterHandle() );\n *             }\n *         }\n *     } );\n *\n * See the {@link Autolinker} class for more details on using the {@link Autolinker#replaceFn replaceFn}.\n */\nAutolinker.match.Match = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @cfg {Autolinker.AnchorTagBuilder} tagBuilder (required)\n\t *\n\t * Reference to the AnchorTagBuilder instance to use to generate an anchor\n\t * tag for the Match.\n\t */\n\n\t/**\n\t * @cfg {String} matchedText (required)\n\t *\n\t * The original text that was matched by the {@link Autolinker.matcher.Matcher}.\n\t */\n\n\t/**\n\t * @cfg {Number} offset (required)\n\t *\n\t * The offset of where the match was made in the input string.\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tif( cfg.tagBuilder == null ) throw new Error( '`tagBuilder` cfg required' );\n\t\tif( cfg.matchedText == null ) throw new Error( '`matchedText` cfg required' );\n\t\tif( cfg.offset == null ) throw new Error( '`offset` cfg required' );\n\n\t\tthis.tagBuilder = cfg.tagBuilder;\n\t\tthis.matchedText = cfg.matchedText;\n\t\tthis.offset = cfg.offset;\n\t},\n\n\n\t/**\n\t * Returns a string name for the type of match that this class represents.\n\t *\n\t * @abstract\n\t * @return {String}\n\t */\n\tgetType : Autolinker.Util.abstractMethod,\n\n\n\t/**\n\t * Returns the original text that was matched.\n\t *\n\t * @return {String}\n\t */\n\tgetMatchedText : function() {\n\t\treturn this.matchedText;\n\t},\n\n\n\t/**\n\t * Sets the {@link #offset} of where the match was made in the input string.\n\t *\n\t * A {@link Autolinker.matcher.Matcher} will be fed only HTML text nodes,\n\t * and will therefore set an original offset that is relative to the HTML\n\t * text node itself. However, we want this offset to be relative to the full\n\t * HTML input string, and thus if using {@link Autolinker#parse} (rather\n\t * than calling a {@link Autolinker.matcher.Matcher} directly), then this\n\t * offset is corrected after the Matcher itself has done its job.\n\t *\n\t * @param {Number} offset\n\t */\n\tsetOffset : function( offset ) {\n\t\tthis.offset = offset;\n\t},\n\n\n\t/**\n\t * Returns the offset of where the match was made in the input string. This\n\t * is the 0-based index of the match.\n\t *\n\t * @return {Number}\n\t */\n\tgetOffset : function() {\n\t\treturn this.offset;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @abstract\n\t * @return {String}\n\t */\n\tgetAnchorHref : Autolinker.Util.abstractMethod,\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @abstract\n\t * @return {String}\n\t */\n\tgetAnchorText : Autolinker.Util.abstractMethod,\n\n\n\t/**\n\t * Builds and returns an {@link Autolinker.HtmlTag} instance based on the\n\t * Match.\n\t *\n\t * This can be used to easily generate anchor tags from matches, and either\n\t * return their HTML string, or modify them before doing so.\n\t *\n\t * Example Usage:\n\t *\n\t *     var tag = match.buildTag();\n\t *     tag.addClass( 'cordova-link' );\n\t *     tag.setAttr( 'target', '_system' );\n\t *\n\t *     tag.toAnchorString();  // <a href=\"http://google.com\" class=\"cordova-link\" target=\"_system\">Google</a>\n\t */\n\tbuildTag : function() {\n\t\treturn this.tagBuilder.build( this );\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.match.Email\n * @extends Autolinker.match.Match\n *\n * Represents a Email match found in an input string which should be Autolinked.\n *\n * See this class's superclass ({@link Autolinker.match.Match}) for more details.\n */\nAutolinker.match.Email = Autolinker.Util.extend( Autolinker.match.Match, {\n\n\t/**\n\t * @cfg {String} email (required)\n\t *\n\t * The email address that was matched.\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.match.Match.prototype.constructor.call( this, cfg );\n\n\t\tif( !cfg.email ) throw new Error( '`email` cfg required' );\n\n\t\tthis.email = cfg.email;\n\t},\n\n\n\t/**\n\t * Returns a string name for the type of match that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'email';\n\t},\n\n\n\t/**\n\t * Returns the email address that was matched.\n\t *\n\t * @return {String}\n\t */\n\tgetEmail : function() {\n\t\treturn this.email;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\treturn 'mailto:' + this.email;\n\t},\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\treturn this.email;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.match.Hashtag\n * @extends Autolinker.match.Match\n *\n * Represents a Hashtag match found in an input string which should be\n * Autolinked.\n *\n * See this class's superclass ({@link Autolinker.match.Match}) for more\n * details.\n */\nAutolinker.match.Hashtag = Autolinker.Util.extend( Autolinker.match.Match, {\n\n\t/**\n\t * @cfg {String} serviceName\n\t *\n\t * The service to point hashtag matches to. See {@link Autolinker#hashtag}\n\t * for available values.\n\t */\n\n\t/**\n\t * @cfg {String} hashtag (required)\n\t *\n\t * The Hashtag that was matched, without the '#'.\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.match.Match.prototype.constructor.call( this, cfg );\n\n\t\t// TODO: if( !serviceName ) throw new Error( '`serviceName` cfg required' );\n\t\tif( !cfg.hashtag ) throw new Error( '`hashtag` cfg required' );\n\n\t\tthis.serviceName = cfg.serviceName;\n\t\tthis.hashtag = cfg.hashtag;\n\t},\n\n\n\t/**\n\t * Returns the type of match that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'hashtag';\n\t},\n\n\n\t/**\n\t * Returns the configured {@link #serviceName} to point the Hashtag to.\n\t * Ex: 'facebook', 'twitter'.\n\t *\n\t * @return {String}\n\t */\n\tgetServiceName : function() {\n\t\treturn this.serviceName;\n\t},\n\n\n\t/**\n\t * Returns the matched hashtag, without the '#' character.\n\t *\n\t * @return {String}\n\t */\n\tgetHashtag : function() {\n\t\treturn this.hashtag;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\tvar serviceName = this.serviceName,\n\t\t    hashtag = this.hashtag;\n\n\t\tswitch( serviceName ) {\n\t\t\tcase 'twitter' :\n\t\t\t\treturn 'https://twitter.com/hashtag/' + hashtag;\n\t\t\tcase 'facebook' :\n\t\t\t\treturn 'https://www.facebook.com/hashtag/' + hashtag;\n\t\t\tcase 'instagram' :\n\t\t\t\treturn 'https://instagram.com/explore/tags/' + hashtag;\n\n\t\t\tdefault :  // Shouldn't happen because Autolinker's constructor should block any invalid values, but just in case.\n\t\t\t\tthrow new Error( 'Unknown service name to point hashtag to: ', serviceName );\n\t\t}\n\t},\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\treturn '#' + this.hashtag;\n\t}\n\n} );\n\n/*global Autolinker */\n/**\n * @class Autolinker.match.Phone\n * @extends Autolinker.match.Match\n *\n * Represents a Phone number match found in an input string which should be\n * Autolinked.\n *\n * See this class's superclass ({@link Autolinker.match.Match}) for more\n * details.\n */\nAutolinker.match.Phone = Autolinker.Util.extend( Autolinker.match.Match, {\n\n\t/**\n\t * @protected\n\t * @property {String} number (required)\n\t *\n\t * The phone number that was matched, without any delimiter characters.\n\t *\n\t * Note: This is a string to allow for prefixed 0's.\n\t */\n\n\t/**\n\t * @protected\n\t * @property  {Boolean} plusSign (required)\n\t *\n\t * `true` if the matched phone number started with a '+' sign. We'll include\n\t * it in the `tel:` URL if so, as this is needed for international numbers.\n\t *\n\t * Ex: '+1 (123) 456 7879'\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.match.Match.prototype.constructor.call( this, cfg );\n\n\t\tif( !cfg.number ) throw new Error( '`number` cfg required' );\n\t\tif( cfg.plusSign == null ) throw new Error( '`plusSign` cfg required' );\n\n\t\tthis.number = cfg.number;\n\t\tthis.plusSign = cfg.plusSign;\n\t},\n\n\n\t/**\n\t * Returns a string name for the type of match that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'phone';\n\t},\n\n\n\t/**\n\t * Returns the phone number that was matched as a string, without any\n\t * delimiter characters.\n\t *\n\t * Note: This is a string to allow for prefixed 0's.\n\t *\n\t * @return {String}\n\t */\n\tgetNumber: function() {\n\t\treturn this.number;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\treturn 'tel:' + ( this.plusSign ? '+' : '' ) + this.number;\n\t},\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\treturn this.matchedText;\n\t}\n\n} );\n\n/*global Autolinker */\n/**\n * @class Autolinker.match.Twitter\n * @extends Autolinker.match.Match\n *\n * Represents a Twitter match found in an input string which should be Autolinked.\n *\n * See this class's superclass ({@link Autolinker.match.Match}) for more details.\n */\nAutolinker.match.Twitter = Autolinker.Util.extend( Autolinker.match.Match, {\n\n\t/**\n\t * @cfg {String} twitterHandle (required)\n\t *\n\t * The Twitter handle that was matched, without the '@' character.\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg) {\n\t\tAutolinker.match.Match.prototype.constructor.call( this, cfg );\n\n\t\tif( !cfg.twitterHandle ) throw new Error( '`twitterHandle` cfg required' );\n\n\t\tthis.twitterHandle = cfg.twitterHandle;\n\t},\n\n\n\t/**\n\t * Returns the type of match that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'twitter';\n\t},\n\n\n\t/**\n\t * Returns the twitter handle, without the '@' character.\n\t *\n\t * @return {String}\n\t */\n\tgetTwitterHandle : function() {\n\t\treturn this.twitterHandle;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\treturn 'https://twitter.com/' + this.twitterHandle;\n\t},\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\treturn '@' + this.twitterHandle;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.match.Url\n * @extends Autolinker.match.Match\n *\n * Represents a Url match found in an input string which should be Autolinked.\n *\n * See this class's superclass ({@link Autolinker.match.Match}) for more details.\n */\nAutolinker.match.Url = Autolinker.Util.extend( Autolinker.match.Match, {\n\n\t/**\n\t * @cfg {String} url (required)\n\t *\n\t * The url that was matched.\n\t */\n\n\t/**\n\t * @cfg {\"scheme\"/\"www\"/\"tld\"} urlMatchType (required)\n\t *\n\t * The type of URL match that this class represents. This helps to determine\n\t * if the match was made in the original text with a prefixed scheme (ex:\n\t * 'http://www.google.com'), a prefixed 'www' (ex: 'www.google.com'), or\n\t * was matched by a known top-level domain (ex: 'google.com').\n\t */\n\n\t/**\n\t * @cfg {Boolean} protocolUrlMatch (required)\n\t *\n\t * `true` if the URL is a match which already has a protocol (i.e.\n\t * 'http://'), `false` if the match was from a 'www' or known TLD match.\n\t */\n\n\t/**\n\t * @cfg {Boolean} protocolRelativeMatch (required)\n\t *\n\t * `true` if the URL is a protocol-relative match. A protocol-relative match\n\t * is a URL that starts with '//', and will be either http:// or https://\n\t * based on the protocol that the site is loaded under.\n\t */\n\n\t/**\n\t * @cfg {Boolean} stripPrefix (required)\n\t * @inheritdoc Autolinker#cfg-stripPrefix\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.match.Match.prototype.constructor.call( this, cfg );\n\n\t\tif( cfg.urlMatchType !== 'scheme' && cfg.urlMatchType !== 'www' && cfg.urlMatchType !== 'tld' ) throw new Error( '`urlMatchType` cfg must be one of: \"scheme\", \"www\", or \"tld\"' );\n\t\tif( !cfg.url ) throw new Error( '`url` cfg required' );\n\t\tif( cfg.protocolUrlMatch == null ) throw new Error( '`protocolUrlMatch` cfg required' );\n\t\tif( cfg.protocolRelativeMatch == null ) throw new Error( '`protocolRelativeMatch` cfg required' );\n\t\tif( cfg.stripPrefix == null ) throw new Error( '`stripPrefix` cfg required' );\n\n\t\tthis.urlMatchType = cfg.urlMatchType;\n\t\tthis.url = cfg.url;\n\t\tthis.protocolUrlMatch = cfg.protocolUrlMatch;\n\t\tthis.protocolRelativeMatch = cfg.protocolRelativeMatch;\n\t\tthis.stripPrefix = cfg.stripPrefix;\n\t},\n\n\n\t/**\n\t * @private\n\t * @property {RegExp} urlPrefixRegex\n\t *\n\t * A regular expression used to remove the 'http://' or 'https://' and/or the 'www.' from URLs.\n\t */\n\turlPrefixRegex: /^(https?:\\/\\/)?(www\\.)?/i,\n\n\t/**\n\t * @private\n\t * @property {RegExp} protocolRelativeRegex\n\t *\n\t * The regular expression used to remove the protocol-relative '//' from the {@link #url} string, for purposes\n\t * of {@link #getAnchorText}. A protocol-relative URL is, for example, \"//yahoo.com\"\n\t */\n\tprotocolRelativeRegex : /^\\/\\//,\n\n\t/**\n\t * @private\n\t * @property {Boolean} protocolPrepended\n\t *\n\t * Will be set to `true` if the 'http://' protocol has been prepended to the {@link #url} (because the\n\t * {@link #url} did not have a protocol)\n\t */\n\tprotocolPrepended : false,\n\n\n\t/**\n\t * Returns a string name for the type of match that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'url';\n\t},\n\n\n\t/**\n\t * Returns a string name for the type of URL match that this class\n\t * represents.\n\t *\n\t * This helps to determine if the match was made in the original text with a\n\t * prefixed scheme (ex: 'http://www.google.com'), a prefixed 'www' (ex:\n\t * 'www.google.com'), or was matched by a known top-level domain (ex:\n\t * 'google.com').\n\t *\n\t * @return {\"scheme\"/\"www\"/\"tld\"}\n\t */\n\tgetUrlMatchType : function() {\n\t\treturn this.urlMatchType;\n\t},\n\n\n\t/**\n\t * Returns the url that was matched, assuming the protocol to be 'http://' if the original\n\t * match was missing a protocol.\n\t *\n\t * @return {String}\n\t */\n\tgetUrl : function() {\n\t\tvar url = this.url;\n\n\t\t// if the url string doesn't begin with a protocol, assume 'http://'\n\t\tif( !this.protocolRelativeMatch && !this.protocolUrlMatch && !this.protocolPrepended ) {\n\t\t\turl = this.url = 'http://' + url;\n\n\t\t\tthis.protocolPrepended = true;\n\t\t}\n\n\t\treturn url;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\tvar url = this.getUrl();\n\n\t\treturn url.replace( /&amp;/g, '&' );  // any &amp;'s in the URL should be converted back to '&' if they were displayed as &amp; in the source html\n\t},\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\tvar anchorText = this.getMatchedText();\n\n\t\tif( this.protocolRelativeMatch ) {\n\t\t\t// Strip off any protocol-relative '//' from the anchor text\n\t\t\tanchorText = this.stripProtocolRelativePrefix( anchorText );\n\t\t}\n\t\tif( this.stripPrefix ) {\n\t\t\tanchorText = this.stripUrlPrefix( anchorText );\n\t\t}\n\t\tanchorText = this.removeTrailingSlash( anchorText );  // remove trailing slash, if there is one\n\n\t\treturn anchorText;\n\t},\n\n\n\t// ---------------------------------------\n\n\t// Utility Functionality\n\n\t/**\n\t * Strips the URL prefix (such as \"http://\" or \"https://\") from the given text.\n\t *\n\t * @private\n\t * @param {String} text The text of the anchor that is being generated, for which to strip off the\n\t *   url prefix (such as stripping off \"http://\")\n\t * @return {String} The `anchorText`, with the prefix stripped.\n\t */\n\tstripUrlPrefix : function( text ) {\n\t\treturn text.replace( this.urlPrefixRegex, '' );\n\t},\n\n\n\t/**\n\t * Strips any protocol-relative '//' from the anchor text.\n\t *\n\t * @private\n\t * @param {String} text The text of the anchor that is being generated, for which to strip off the\n\t *   protocol-relative prefix (such as stripping off \"//\")\n\t * @return {String} The `anchorText`, with the protocol-relative prefix stripped.\n\t */\n\tstripProtocolRelativePrefix : function( text ) {\n\t\treturn text.replace( this.protocolRelativeRegex, '' );\n\t},\n\n\n\t/**\n\t * Removes any trailing slash from the given `anchorText`, in preparation for the text to be displayed.\n\t *\n\t * @private\n\t * @param {String} anchorText The text of the anchor that is being generated, for which to remove any trailing\n\t *   slash ('/') that may exist.\n\t * @return {String} The `anchorText`, with the trailing slash removed.\n\t */\n\tremoveTrailingSlash : function( anchorText ) {\n\t\tif( anchorText.charAt( anchorText.length - 1 ) === '/' ) {\n\t\t\tanchorText = anchorText.slice( 0, -1 );\n\t\t}\n\t\treturn anchorText;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @abstract\n * @class Autolinker.matcher.Matcher\n *\n * An abstract class and interface for individual matchers to find matches in\n * an input string with linkified versions of them.\n *\n * Note that Matchers do not take HTML into account - they must be fed the text\n * nodes of any HTML string, which is handled by {@link Autolinker#parse}.\n */\nAutolinker.matcher.Matcher = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @cfg {Autolinker.AnchorTagBuilder} tagBuilder (required)\n\t *\n\t * Reference to the AnchorTagBuilder instance to use to generate HTML tags\n\t * for {@link Autolinker.match.Match Matches}.\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Matcher\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tif( !cfg.tagBuilder ) throw new Error( '`tagBuilder` cfg required' );\n\n\t\tthis.tagBuilder = cfg.tagBuilder;\n\t},\n\n\n\t/**\n\t * Parses the input `text` and returns the array of {@link Autolinker.match.Match Matches}\n\t * for the matcher.\n\t *\n\t * @abstract\n\t * @param {String} text The text to scan and replace matches in.\n\t * @return {Autolinker.match.Match[]}\n\t */\n\tparseMatches : Autolinker.Util.abstractMethod\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.matcher.Email\n * @extends Autolinker.matcher.Matcher\n *\n * Matcher to find email matches in an input string.\n *\n * See this class's superclass ({@link Autolinker.matcher.Matcher}) for more details.\n */\nAutolinker.matcher.Email = Autolinker.Util.extend( Autolinker.matcher.Matcher, {\n\n\t/**\n\t * The regular expression to match email addresses. Example match:\n\t *\n\t *     person@place.com\n\t *\n\t * @private\n\t * @property {RegExp} matcherRegex\n\t */\n\tmatcherRegex : (function() {\n\t\tvar alphaNumericChars = Autolinker.RegexLib.alphaNumericCharsStr,\n\t\t    emailRegex = new RegExp( '[' + alphaNumericChars + '\\\\-_\\';:&=+$.,]+@' ),  // something@ for email addresses (a.k.a. local-part)\n\t\t\tdomainNameRegex = Autolinker.RegexLib.domainNameRegex,\n\t\t\ttldRegex = Autolinker.RegexLib.tldRegex;  // match our known top level domains (TLDs)\n\n\t\treturn new RegExp( [\n\t\t\temailRegex.source,\n\t\t\tdomainNameRegex.source,\n\t\t\t'\\\\.', tldRegex.source   // '.com', '.net', etc\n\t\t].join( \"\" ), 'gi' );\n\t} )(),\n\n\n\t/**\n\t * @inheritdoc\n\t */\n\tparseMatches : function( text ) {\n\t\tvar matcherRegex = this.matcherRegex,\n\t\t    tagBuilder = this.tagBuilder,\n\t\t    matches = [],\n\t\t    match;\n\n\t\twhile( ( match = matcherRegex.exec( text ) ) !== null ) {\n\t\t\tvar matchedText = match[ 0 ];\n\n\t\t\tmatches.push( new Autolinker.match.Email( {\n\t\t\t\ttagBuilder  : tagBuilder,\n\t\t\t\tmatchedText : matchedText,\n\t\t\t\toffset      : match.index,\n\t\t\t\temail       : matchedText\n\t\t\t} ) );\n\t\t}\n\n\t\treturn matches;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.matcher.Hashtag\n * @extends Autolinker.matcher.Matcher\n *\n * Matcher to find Hashtag matches in an input string.\n */\nAutolinker.matcher.Hashtag = Autolinker.Util.extend( Autolinker.matcher.Matcher, {\n\n\t/**\n\t * @cfg {String} serviceName\n\t *\n\t * The service to point hashtag matches to. See {@link Autolinker#hashtag}\n\t * for available values.\n\t */\n\n\n\t/**\n\t * The regular expression to match Hashtags. Example match:\n\t *\n\t *     #asdf\n\t *\n\t * @private\n\t * @property {RegExp} matcherRegex\n\t */\n\tmatcherRegex : new RegExp( '#[_' + Autolinker.RegexLib.alphaNumericCharsStr + ']{1,139}', 'g' ),\n\n\t/**\n\t * The regular expression to use to check the character before a username match to\n\t * make sure we didn't accidentally match an email address.\n\t *\n\t * For example, the string \"asdf@asdf.com\" should not match \"@asdf\" as a username.\n\t *\n\t * @private\n\t * @property {RegExp} nonWordCharRegex\n\t */\n\tnonWordCharRegex : new RegExp( '[^' + Autolinker.RegexLib.alphaNumericCharsStr + ']' ),\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match instance,\n\t *   specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.matcher.Matcher.prototype.constructor.call( this, cfg );\n\n\t\tthis.serviceName = cfg.serviceName;\n\t},\n\n\n\t/**\n\t * @inheritdoc\n\t */\n\tparseMatches : function( text ) {\n\t\tvar matcherRegex = this.matcherRegex,\n\t\t    nonWordCharRegex = this.nonWordCharRegex,\n\t\t    serviceName = this.serviceName,\n\t\t    tagBuilder = this.tagBuilder,\n\t\t    matches = [],\n\t\t    match;\n\n\t\twhile( ( match = matcherRegex.exec( text ) ) !== null ) {\n\t\t\tvar offset = match.index,\n\t\t\t    prevChar = text.charAt( offset - 1 );\n\n\t\t\t// If we found the match at the beginning of the string, or we found the match\n\t\t\t// and there is a whitespace char in front of it (meaning it is not a '#' char\n\t\t\t// in the middle of a word), then it is a hashtag match.\n\t\t\tif( offset === 0 || nonWordCharRegex.test( prevChar ) ) {\n\t\t\t\tvar matchedText = match[ 0 ],\n\t\t\t\t    hashtag = match[ 0 ].slice( 1 );  // strip off the '#' character at the beginning\n\n\t\t\t\tmatches.push( new Autolinker.match.Hashtag( {\n\t\t\t\t\ttagBuilder  : tagBuilder,\n\t\t\t\t\tmatchedText : matchedText,\n\t\t\t\t\toffset      : offset,\n\t\t\t\t\tserviceName : serviceName,\n\t\t\t\t\thashtag     : hashtag\n\t\t\t\t} ) );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.matcher.Phone\n * @extends Autolinker.matcher.Matcher\n *\n * Matcher to find Phone number matches in an input string.\n *\n * See this class's superclass ({@link Autolinker.matcher.Matcher}) for more\n * details.\n */\nAutolinker.matcher.Phone = Autolinker.Util.extend( Autolinker.matcher.Matcher, {\n\n\t/**\n\t * The regular expression to match Phone numbers. Example match:\n\t *\n\t *     (123) 456-7890\n\t *\n\t * This regular expression has the following capturing groups:\n\t *\n\t * 1. The prefixed '+' sign, if there is one.\n\t *\n\t * @private\n\t * @property {RegExp} matcherRegex\n\t */\n\tmatcherRegex : /(?:(\\+)?\\d{1,3}[-\\040.])?\\(?\\d{3}\\)?[-\\040.]?\\d{3}[-\\040.]\\d{4}/g,  // ex: (123) 456-7890, 123 456 7890, 123-456-7890, etc.\n\n\t/**\n\t * @inheritdoc\n\t */\n\tparseMatches : function( text ) {\n\t\tvar matcherRegex = this.matcherRegex,\n\t\t    tagBuilder = this.tagBuilder,\n\t\t    matches = [],\n\t\t    match;\n\n\t\twhile( ( match = matcherRegex.exec( text ) ) !== null ) {\n\t\t\t// Remove non-numeric values from phone number string\n\t\t\tvar matchedText = match[ 0 ],\n\t\t\t    cleanNumber = matchedText.replace( /\\D/g, '' ),  // strip out non-digit characters\n\t\t\t    plusSign = !!match[ 1 ];  // match[ 1 ] is the prefixed plus sign, if there is one\n\n\t\t\tmatches.push( new Autolinker.match.Phone( {\n\t\t\t\ttagBuilder  : tagBuilder,\n\t\t\t\tmatchedText : matchedText,\n\t\t\t\toffset      : match.index,\n\t\t\t\tnumber      : cleanNumber,\n\t\t\t\tplusSign    : plusSign\n\t\t\t} ) );\n\t\t}\n\n\t\treturn matches;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.matcher.Twitter\n * @extends Autolinker.matcher.Matcher\n *\n * Matcher to find/replace username matches in an input string.\n */\nAutolinker.matcher.Twitter = Autolinker.Util.extend( Autolinker.matcher.Matcher, {\n\n\t/**\n\t * The regular expression to match username handles. Example match:\n\t *\n\t *     @asdf\n\t *\n\t * @private\n\t * @property {RegExp} matcherRegex\n\t */\n\tmatcherRegex : new RegExp( '@[_' + Autolinker.RegexLib.alphaNumericCharsStr + ']{1,20}', 'g' ),\n\n\t/**\n\t * The regular expression to use to check the character before a username match to\n\t * make sure we didn't accidentally match an email address.\n\t *\n\t * For example, the string \"asdf@asdf.com\" should not match \"@asdf\" as a username.\n\t *\n\t * @private\n\t * @property {RegExp} nonWordCharRegex\n\t */\n\tnonWordCharRegex : new RegExp( '[^' + Autolinker.RegexLib.alphaNumericCharsStr + ']' ),\n\n\n\t/**\n\t * @inheritdoc\n\t */\n\tparseMatches : function( text ) {\n\t\tvar matcherRegex = this.matcherRegex,\n\t\t    nonWordCharRegex = this.nonWordCharRegex,\n\t\t    tagBuilder = this.tagBuilder,\n\t\t    matches = [],\n\t\t    match;\n\n\t\twhile( ( match = matcherRegex.exec( text ) ) !== null ) {\n\t\t\tvar offset = match.index,\n\t\t\t    prevChar = text.charAt( offset - 1 );\n\n\t\t\t// If we found the match at the beginning of the string, or we found the match\n\t\t\t// and there is a whitespace char in front of it (meaning it is not an email\n\t\t\t// address), then it is a username match.\n\t\t\tif( offset === 0 || nonWordCharRegex.test( prevChar ) ) {\n\t\t\t\tvar matchedText = match[ 0 ],\n\t\t\t\t    twitterHandle = match[ 0 ].slice( 1 );  // strip off the '@' character at the beginning\n\n\t\t\t\tmatches.push( new Autolinker.match.Twitter( {\n\t\t\t\t\ttagBuilder    : tagBuilder,\n\t\t\t\t\tmatchedText   : matchedText,\n\t\t\t\t\toffset        : offset,\n\t\t\t\t\ttwitterHandle : twitterHandle\n\t\t\t\t} ) );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.matcher.Url\n * @extends Autolinker.matcher.Matcher\n *\n * Matcher to find URL matches in an input string.\n *\n * See this class's superclass ({@link Autolinker.matcher.Matcher}) for more details.\n */\nAutolinker.matcher.Url = Autolinker.Util.extend( Autolinker.matcher.Matcher, {\n\n\t/**\n\t * @cfg {Boolean} stripPrefix (required)\n\t * @inheritdoc Autolinker#stripPrefix\n\t */\n\n\n\t/**\n\t * @private\n\t * @property {RegExp} matcherRegex\n\t *\n\t * The regular expression to match URLs with an optional scheme, port\n\t * number, path, query string, and hash anchor.\n\t *\n\t * Example matches:\n\t *\n\t *     http://google.com\n\t *     www.google.com\n\t *     google.com/path/to/file?q1=1&q2=2#myAnchor\n\t *\n\t *\n\t * This regular expression will have the following capturing groups:\n\t *\n\t * 1.  Group that matches a scheme-prefixed URL (i.e. 'http://google.com').\n\t *     This is used to match scheme URLs with just a single word, such as\n\t *     'http://localhost', where we won't double check that the domain name\n\t *     has at least one dot ('.') in it.\n\t * 2.  Group that matches a 'www.' prefixed URL. This is only matched if the\n\t *     'www.' text was not prefixed by a scheme (i.e.: not prefixed by\n\t *     'http://', 'ftp:', etc.)\n\t * 3.  A protocol-relative ('//') match for the case of a 'www.' prefixed\n\t *     URL. Will be an empty string if it is not a protocol-relative match.\n\t *     We need to know the character before the '//' in order to determine\n\t *     if it is a valid match or the // was in a string we don't want to\n\t *     auto-link.\n\t * 4.  Group that matches a known TLD (top level domain), when a scheme\n\t *     or 'www.'-prefixed domain is not matched.\n\t * 5.  A protocol-relative ('//') match for the case of a known TLD prefixed\n\t *     URL. Will be an empty string if it is not a protocol-relative match.\n\t *     See #3 for more info.\n\t */\n\tmatcherRegex : (function() {\n\t\tvar schemeRegex = /(?:[A-Za-z][-.+A-Za-z0-9]*:(?![A-Za-z][-.+A-Za-z0-9]*:\\/\\/)(?!\\d+\\/?)(?:\\/\\/)?)/,  // match protocol, allow in format \"http://\" or \"mailto:\". However, do not match the first part of something like 'link:http://www.google.com' (i.e. don't match \"link:\"). Also, make sure we don't interpret 'google.com:8000' as if 'google.com' was a protocol here (i.e. ignore a trailing port number in this regex)\n\t\t    wwwRegex = /(?:www\\.)/,                  // starting with 'www.'\n\t\t    domainNameRegex = Autolinker.RegexLib.domainNameRegex,\n\t\t    tldRegex = Autolinker.RegexLib.tldRegex,  // match our known top level domains (TLDs)\n\t\t    alphaNumericCharsStr = Autolinker.RegexLib.alphaNumericCharsStr,\n\n\t\t    // Allow optional path, query string, and hash anchor, not ending in the following characters: \"?!:,.;\"\n\t\t    // http://blog.codinghorror.com/the-problem-with-urls/\n\t\t    urlSuffixRegex = new RegExp( '[' + alphaNumericCharsStr + '\\\\-+&@#/%=~_()|\\'$*\\\\[\\\\]?!:,.;]*[' + alphaNumericCharsStr + '\\\\-+&@#/%=~_()|\\'$*\\\\[\\\\]]' );\n\n\t\treturn new RegExp( [\n\t\t\t'(?:', // parens to cover match for scheme (optional), and domain\n\t\t\t\t'(',  // *** Capturing group $1, for a scheme-prefixed url (ex: http://google.com)\n\t\t\t\t\tschemeRegex.source,\n\t\t\t\t\tdomainNameRegex.source,\n\t\t\t\t')',\n\n\t\t\t\t'|',\n\n\t\t\t\t'(',  // *** Capturing group $2, for a 'www.' prefixed url (ex: www.google.com)\n\t\t\t\t\t'(//)?',  // *** Capturing group $3 for an optional protocol-relative URL. Must be at the beginning of the string or start with a non-word character (handled later)\n\t\t\t\t\twwwRegex.source,\n\t\t\t\t\tdomainNameRegex.source,\n\t\t\t\t')',\n\n\t\t\t\t'|',\n\n\t\t\t\t'(',  // *** Capturing group $4, for known a TLD url (ex: google.com)\n\t\t\t\t\t'(//)?',  // *** Capturing group $5 for an optional protocol-relative URL. Must be at the beginning of the string or start with a non-word character (handled later)\n\t\t\t\t\tdomainNameRegex.source + '\\\\.',\n\t\t\t\t\ttldRegex.source,\n\t\t\t\t')',\n\t\t\t')',\n\n\t\t\t'(?:' + urlSuffixRegex.source + ')?'  // match for path, query string, and/or hash anchor - optional\n\t\t].join( \"\" ), 'gi' );\n\t} )(),\n\n\n\t/**\n\t * A regular expression to use to check the character before a protocol-relative\n\t * URL match. We don't want to match a protocol-relative URL if it is part\n\t * of another word.\n\t *\n\t * For example, we want to match something like \"Go to: //google.com\",\n\t * but we don't want to match something like \"abc//google.com\"\n\t *\n\t * This regular expression is used to test the character before the '//'.\n\t *\n\t * @private\n\t * @type {RegExp} wordCharRegExp\n\t */\n\twordCharRegExp : /\\w/,\n\n\n\t/**\n\t * The regular expression to match opening parenthesis in a URL match.\n\t *\n\t * This is to determine if we have unbalanced parenthesis in the URL, and to\n\t * drop the final parenthesis that was matched if so.\n\t *\n\t * Ex: The text \"(check out: wikipedia.com/something_(disambiguation))\"\n\t * should only autolink the inner \"wikipedia.com/something_(disambiguation)\"\n\t * part, so if we find that we have unbalanced parenthesis, we will drop the\n\t * last one for the match.\n\t *\n\t * @private\n\t * @property {RegExp}\n\t */\n\topenParensRe : /\\(/g,\n\n\t/**\n\t * The regular expression to match closing parenthesis in a URL match. See\n\t * {@link #openParensRe} for more information.\n\t *\n\t * @private\n\t * @property {RegExp}\n\t */\n\tcloseParensRe : /\\)/g,\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match instance,\n\t *   specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.matcher.Matcher.prototype.constructor.call( this, cfg );\n\n\t\tthis.stripPrefix = cfg.stripPrefix;\n\n\t\tif( this.stripPrefix == null ) throw new Error( '`stripPrefix` cfg required' );\n\t},\n\n\n\t/**\n\t * @inheritdoc\n\t */\n\tparseMatches : function( text ) {\n\t\tvar matcherRegex = this.matcherRegex,\n\t\t    stripPrefix = this.stripPrefix,\n\t\t    tagBuilder = this.tagBuilder,\n\t\t    matches = [],\n\t\t    match;\n\n\t\twhile( ( match = matcherRegex.exec( text ) ) !== null ) {\n\t\t\tvar matchStr = match[ 0 ],\n\t\t\t    schemeUrlMatch = match[ 1 ],\n\t\t\t    wwwUrlMatch = match[ 2 ],\n\t\t\t    wwwProtocolRelativeMatch = match[ 3 ],\n\t\t\t    //tldUrlMatch = match[ 4 ],  -- not needed at the moment\n\t\t\t    tldProtocolRelativeMatch = match[ 5 ],\n\t\t\t    offset = match.index,\n\t\t\t    protocolRelativeMatch = wwwProtocolRelativeMatch || tldProtocolRelativeMatch,\n\t\t\t\tprevChar = text.charAt( offset - 1 );\n\n\t\t\tif( !Autolinker.matcher.UrlMatchValidator.isValid( matchStr, schemeUrlMatch ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If the match is preceded by an '@' character, then it is either\n\t\t\t// an email address or a username. Skip these types of matches.\n\t\t\tif( offset > 0 && prevChar === '@' ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If it's a protocol-relative '//' match, but the character before the '//'\n\t\t\t// was a word character (i.e. a letter/number), then we found the '//' in the\n\t\t\t// middle of another word (such as \"asdf//asdf.com\"). In this case, skip the\n\t\t\t// match.\n\t\t\tif( offset > 0 && protocolRelativeMatch && this.wordCharRegExp.test( prevChar ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Handle a closing parenthesis at the end of the match, and exclude\n\t\t\t// it if there is not a matching open parenthesis in the match\n\t\t\t// itself.\n\t\t\tif( this.matchHasUnbalancedClosingParen( matchStr ) ) {\n\t\t\t\tmatchStr = matchStr.substr( 0, matchStr.length - 1 );  // remove the trailing \")\"\n\t\t\t} else {\n\t\t\t\t// Handle an invalid character after the TLD\n\t\t\t\tvar pos = this.matchHasInvalidCharAfterTld( matchStr, schemeUrlMatch );\n\t\t\t\tif( pos > -1 ) {\n\t\t\t\t\tmatchStr = matchStr.substr( 0, pos ); // remove the trailing invalid chars\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar urlMatchType = schemeUrlMatch ? 'scheme' : ( wwwUrlMatch ? 'www' : 'tld' ),\n\t\t\t    protocolUrlMatch = !!schemeUrlMatch;\n\n\t\t\tmatches.push( new Autolinker.match.Url( {\n\t\t\t\ttagBuilder            : tagBuilder,\n\t\t\t\tmatchedText           : matchStr,\n\t\t\t\toffset                : offset,\n\t\t\t\turlMatchType          : urlMatchType,\n\t\t\t\turl                   : matchStr,\n\t\t\t\tprotocolUrlMatch      : protocolUrlMatch,\n\t\t\t\tprotocolRelativeMatch : !!protocolRelativeMatch,\n\t\t\t\tstripPrefix           : stripPrefix\n\t\t\t} ) );\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\n\t/**\n\t * Determines if a match found has an unmatched closing parenthesis. If so,\n\t * this parenthesis will be removed from the match itself, and appended\n\t * after the generated anchor tag.\n\t *\n\t * A match may have an extra closing parenthesis at the end of the match\n\t * because the regular expression must include parenthesis for URLs such as\n\t * \"wikipedia.com/something_(disambiguation)\", which should be auto-linked.\n\t *\n\t * However, an extra parenthesis *will* be included when the URL itself is\n\t * wrapped in parenthesis, such as in the case of \"(wikipedia.com/something_(disambiguation))\".\n\t * In this case, the last closing parenthesis should *not* be part of the\n\t * URL itself, and this method will return `true`.\n\t *\n\t * @private\n\t * @param {String} matchStr The full match string from the {@link #matcherRegex}.\n\t * @return {Boolean} `true` if there is an unbalanced closing parenthesis at\n\t *   the end of the `matchStr`, `false` otherwise.\n\t */\n\tmatchHasUnbalancedClosingParen : function( matchStr ) {\n\t\tvar lastChar = matchStr.charAt( matchStr.length - 1 );\n\n\t\tif( lastChar === ')' ) {\n\t\t\tvar openParensMatch = matchStr.match( this.openParensRe ),\n\t\t\t    closeParensMatch = matchStr.match( this.closeParensRe ),\n\t\t\t    numOpenParens = ( openParensMatch && openParensMatch.length ) || 0,\n\t\t\t    numCloseParens = ( closeParensMatch && closeParensMatch.length ) || 0;\n\n\t\t\tif( numOpenParens < numCloseParens ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\n\t/**\n\t * Determine if there's an invalid character after the TLD in a URL. Valid\n\t * characters after TLD are ':/?#'. Exclude scheme matched URLs from this\n\t * check.\n\t *\n\t * @private\n\t * @param {String} urlMatch The matched URL, if there was one. Will be an\n\t *   empty string if the match is not a URL match.\n\t * @param {String} schemeUrlMatch The match URL string for a scheme\n\t *   match. Ex: 'http://yahoo.com'. This is used to match something like\n\t *   'http://localhost', where we won't double check that the domain name\n\t *   has at least one '.' in it.\n\t * @return {Number} the position where the invalid character was found. If\n\t *   no such character was found, returns -1\n\t */\n\tmatchHasInvalidCharAfterTld : function( urlMatch, schemeUrlMatch ) {\n\t\tif( !urlMatch ) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tvar offset = 0;\n\t\tif ( schemeUrlMatch ) {\n\t\t\toffset = urlMatch.indexOf(':');\n\t\t\turlMatch = urlMatch.slice(offset);\n\t\t}\n\n\t\tvar re = /^((.?\\/\\/)?[A-Za-z0-9\\u00C0-\\u017F\\.\\-]*[A-Za-z0-9\\u00C0-\\u017F\\-]\\.[A-Za-z]+)/;\n\t\tvar res = re.exec( urlMatch );\n\t\tif ( res === null ) {\n\t\t\treturn -1;\n\t\t}\n\n\t\toffset += res[1].length;\n\t\turlMatch = urlMatch.slice(res[1].length);\n\t\tif (/^[^.A-Za-z:\\/?#]/.test(urlMatch)) {\n\t\t\treturn offset;\n\t\t}\n\n\t\treturn -1;\n\t}\n\n} );\n/*global Autolinker */\n/*jshint scripturl:true */\n/**\n * @private\n * @class Autolinker.matcher.UrlMatchValidator\n * @singleton\n *\n * Used by Autolinker to filter out false URL positives from the\n * {@link Autolinker.matcher.Url UrlMatcher}.\n *\n * Due to the limitations of regular expressions (including the missing feature\n * of look-behinds in JS regular expressions), we cannot always determine the\n * validity of a given match. This class applies a bit of additional logic to\n * filter out any false positives that have been matched by the\n * {@link Autolinker.matcher.Url UrlMatcher}.\n */\nAutolinker.matcher.UrlMatchValidator = {\n\n\t/**\n\t * Regex to test for a full protocol, with the two trailing slashes. Ex: 'http://'\n\t *\n\t * @private\n\t * @property {RegExp} hasFullProtocolRegex\n\t */\n\thasFullProtocolRegex : /^[A-Za-z][-.+A-Za-z0-9]*:\\/\\//,\n\n\t/**\n\t * Regex to find the URI scheme, such as 'mailto:'.\n\t *\n\t * This is used to filter out 'javascript:' and 'vbscript:' schemes.\n\t *\n\t * @private\n\t * @property {RegExp} uriSchemeRegex\n\t */\n\turiSchemeRegex : /^[A-Za-z][-.+A-Za-z0-9]*:/,\n\n\t/**\n\t * Regex to determine if at least one word char exists after the protocol (i.e. after the ':')\n\t *\n\t * @private\n\t * @property {RegExp} hasWordCharAfterProtocolRegex\n\t */\n\thasWordCharAfterProtocolRegex : /:[^\\s]*?[A-Za-z\\u00C0-\\u017F]/,\n\n\t/**\n\t * Regex to determine if the string is a valid IP address\n\t *\n\t * @private\n\t * @property {RegExp} ipRegex\n\t */\n\tipRegex: /[0-9][0-9]?[0-9]?\\.[0-9][0-9]?[0-9]?\\.[0-9][0-9]?[0-9]?\\.[0-9][0-9]?[0-9]?(:[0-9]*)?\\/?$/,\n\n\t/**\n\t * Determines if a given URL match found by the {@link Autolinker.matcher.Url UrlMatcher}\n\t * is valid. Will return `false` for:\n\t *\n\t * 1) URL matches which do not have at least have one period ('.') in the\n\t *    domain name (effectively skipping over matches like \"abc:def\").\n\t *    However, URL matches with a protocol will be allowed (ex: 'http://localhost')\n\t * 2) URL matches which do not have at least one word character in the\n\t *    domain name (effectively skipping over matches like \"git:1.0\").\n\t * 3) A protocol-relative url match (a URL beginning with '//') whose\n\t *    previous character is a word character (effectively skipping over\n\t *    strings like \"abc//google.com\")\n\t *\n\t * Otherwise, returns `true`.\n\t *\n\t * @param {String} urlMatch The matched URL, if there was one. Will be an\n\t *   empty string if the match is not a URL match.\n\t * @param {String} protocolUrlMatch The match URL string for a protocol\n\t *   match. Ex: 'http://yahoo.com'. This is used to match something like\n\t *   'http://localhost', where we won't double check that the domain name\n\t *   has at least one '.' in it.\n\t * @return {Boolean} `true` if the match given is valid and should be\n\t *   processed, or `false` if the match is invalid and/or should just not be\n\t *   processed.\n\t */\n\tisValid : function( urlMatch, protocolUrlMatch ) {\n\t\tif(\n\t\t\t( protocolUrlMatch && !this.isValidUriScheme( protocolUrlMatch ) ) ||\n\t\t\tthis.urlMatchDoesNotHaveProtocolOrDot( urlMatch, protocolUrlMatch ) ||    // At least one period ('.') must exist in the URL match for us to consider it an actual URL, *unless* it was a full protocol match (like 'http://localhost')\n\t\t\t(this.urlMatchDoesNotHaveAtLeastOneWordChar( urlMatch, protocolUrlMatch ) && // At least one letter character must exist in the domain name after a protocol match. Ex: skip over something like \"git:1.0\"\n\t\t\t !this.isValidIpAddress( urlMatch ) // Except if it's an IP address\n\t\t\t)\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\n\tisValidIpAddress : function ( uriSchemeMatch ) {\n\t\tvar newRegex = new RegExp(this.hasFullProtocolRegex.source + this.ipRegex.source);\n\t\tvar uriScheme = uriSchemeMatch.match( newRegex );\n\n\t\treturn uriScheme !== null;\n\t},\n\n\t/**\n\t * Determines if the URI scheme is a valid scheme to be autolinked. Returns\n\t * `false` if the scheme is 'javascript:' or 'vbscript:'\n\t *\n\t * @private\n\t * @param {String} uriSchemeMatch The match URL string for a full URI scheme\n\t *   match. Ex: 'http://yahoo.com' or 'mailto:a@a.com'.\n\t * @return {Boolean} `true` if the scheme is a valid one, `false` otherwise.\n\t */\n\tisValidUriScheme : function( uriSchemeMatch ) {\n\t\tvar uriScheme = uriSchemeMatch.match( this.uriSchemeRegex )[ 0 ].toLowerCase();\n\n\t\treturn ( uriScheme !== 'javascript:' && uriScheme !== 'vbscript:' );\n\t},\n\n\n\t/**\n\t * Determines if a URL match does not have either:\n\t *\n\t * a) a full protocol (i.e. 'http://'), or\n\t * b) at least one dot ('.') in the domain name (for a non-full-protocol\n\t *    match).\n\t *\n\t * Either situation is considered an invalid URL (ex: 'git:d' does not have\n\t * either the '://' part, or at least one dot in the domain name. If the\n\t * match was 'git:abc.com', we would consider this valid.)\n\t *\n\t * @private\n\t * @param {String} urlMatch The matched URL, if there was one. Will be an\n\t *   empty string if the match is not a URL match.\n\t * @param {String} protocolUrlMatch The match URL string for a protocol\n\t *   match. Ex: 'http://yahoo.com'. This is used to match something like\n\t *   'http://localhost', where we won't double check that the domain name\n\t *   has at least one '.' in it.\n\t * @return {Boolean} `true` if the URL match does not have a full protocol,\n\t *   or at least one dot ('.') in a non-full-protocol match.\n\t */\n\turlMatchDoesNotHaveProtocolOrDot : function( urlMatch, protocolUrlMatch ) {\n\t\treturn ( !!urlMatch && ( !protocolUrlMatch || !this.hasFullProtocolRegex.test( protocolUrlMatch ) ) && urlMatch.indexOf( '.' ) === -1 );\n\t},\n\n\n\t/**\n\t * Determines if a URL match does not have at least one word character after\n\t * the protocol (i.e. in the domain name).\n\t *\n\t * At least one letter character must exist in the domain name after a\n\t * protocol match. Ex: skip over something like \"git:1.0\"\n\t *\n\t * @private\n\t * @param {String} urlMatch The matched URL, if there was one. Will be an\n\t *   empty string if the match is not a URL match.\n\t * @param {String} protocolUrlMatch The match URL string for a protocol\n\t *   match. Ex: 'http://yahoo.com'. This is used to know whether or not we\n\t *   have a protocol in the URL string, in order to check for a word\n\t *   character after the protocol separator (':').\n\t * @return {Boolean} `true` if the URL match does not have at least one word\n\t *   character in it after the protocol, `false` otherwise.\n\t */\n\turlMatchDoesNotHaveAtLeastOneWordChar : function( urlMatch, protocolUrlMatch ) {\n\t\tif( urlMatch && protocolUrlMatch ) {\n\t\t\treturn !this.hasWordCharAfterProtocolRegex.test( urlMatch );\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n};\n/*global Autolinker */\n/**\n * A truncation feature where the ellipsis will be placed at the end of the URL.\n *\n * @param {String} anchorText\n * @param {Number} truncateLen The maximum length of the truncated output URL string.\n * @param {String} ellipsisChars The characters to place within the url, e.g. \"..\".\n * @return {String} The truncated URL.\n */\nAutolinker.truncate.TruncateEnd = function(anchorText, truncateLen, ellipsisChars){\n\treturn Autolinker.Util.ellipsis( anchorText, truncateLen, ellipsisChars );\n};\n\n/*global Autolinker */\n/**\n * Date: 2015-10-05\n * Author: Kasper Sfren <soefritz@gmail.com> (https://github.com/kafoso)\n *\n * A truncation feature, where the ellipsis will be placed in the dead-center of the URL.\n *\n * @param {String} url             A URL.\n * @param {Number} truncateLen     The maximum length of the truncated output URL string.\n * @param {String} ellipsisChars   The characters to place within the url, e.g. \"..\".\n * @return {String} The truncated URL.\n */\nAutolinker.truncate.TruncateMiddle = function(url, truncateLen, ellipsisChars){\n  if (url.length <= truncateLen) {\n    return url;\n  }\n  var availableLength = truncateLen - ellipsisChars.length;\n  var end = \"\";\n  if (availableLength > 0) {\n    end = url.substr((-1)*Math.floor(availableLength/2));\n  }\n  return (url.substr(0, Math.ceil(availableLength/2)) + ellipsisChars + end).substr(0, truncateLen);\n};\n\n/*global Autolinker */\n/**\n * Date: 2015-10-05\n * Author: Kasper Sfren <soefritz@gmail.com> (https://github.com/kafoso)\n *\n * A truncation feature, where the ellipsis will be placed at a section within\n * the URL making it still somewhat human readable.\n *\n * @param {String} url\t\t\t\t\t\t A URL.\n * @param {Number} truncateLen\t\t The maximum length of the truncated output URL string.\n * @param {String} ellipsisChars\t The characters to place within the url, e.g. \"..\".\n * @return {String} The truncated URL.\n */\nAutolinker.truncate.TruncateSmart = function(url, truncateLen, ellipsisChars){\n\tvar parse_url = function(url){ // Functionality inspired by PHP function of same name\n\t\tvar urlObj = {};\n\t\tvar urlSub = url;\n\t\tvar match = urlSub.match(/^([a-z]+):\\/\\//i);\n\t\tif (match) {\n\t\t\turlObj.scheme = match[1];\n\t\t\turlSub = urlSub.substr(match[0].length);\n\t\t}\n\t\tmatch = urlSub.match(/^(.*?)(?=(\\?|#|\\/|$))/i);\n\t\tif (match) {\n\t\t\turlObj.host = match[1];\n\t\t\turlSub = urlSub.substr(match[0].length);\n\t\t}\n\t\tmatch = urlSub.match(/^\\/(.*?)(?=(\\?|#|$))/i);\n\t\tif (match) {\n\t\t\turlObj.path = match[1];\n\t\t\turlSub = urlSub.substr(match[0].length);\n\t\t}\n\t\tmatch = urlSub.match(/^\\?(.*?)(?=(#|$))/i);\n\t\tif (match) {\n\t\t\turlObj.query = match[1];\n\t\t\turlSub = urlSub.substr(match[0].length);\n\t\t}\n\t\tmatch = urlSub.match(/^#(.*?)$/i);\n\t\tif (match) {\n\t\t\turlObj.fragment = match[1];\n\t\t\t//urlSub = urlSub.substr(match[0].length);  -- not used. Uncomment if adding another block.\n\t\t}\n\t\treturn urlObj;\n\t};\n\n\tvar buildUrl = function(urlObj){\n\t\tvar url = \"\";\n\t\tif (urlObj.scheme && urlObj.host) {\n\t\t\turl += urlObj.scheme + \"://\";\n\t\t}\n\t\tif (urlObj.host) {\n\t\t\turl += urlObj.host;\n\t\t}\n\t\tif (urlObj.path) {\n\t\t\turl += \"/\" + urlObj.path;\n\t\t}\n\t\tif (urlObj.query) {\n\t\t\turl += \"?\" + urlObj.query;\n\t\t}\n\t\tif (urlObj.fragment) {\n\t\t\turl += \"#\" + urlObj.fragment;\n\t\t}\n\t\treturn url;\n\t};\n\n\tvar buildSegment = function(segment, remainingAvailableLength){\n\t\tvar remainingAvailableLengthHalf = remainingAvailableLength/ 2,\n\t\t\t\tstartOffset = Math.ceil(remainingAvailableLengthHalf),\n\t\t\t\tendOffset = (-1)*Math.floor(remainingAvailableLengthHalf),\n\t\t\t\tend = \"\";\n\t\tif (endOffset < 0) {\n\t\t\tend = segment.substr(endOffset);\n\t\t}\n\t\treturn segment.substr(0, startOffset) + ellipsisChars + end;\n\t};\n\tif (url.length <= truncateLen) {\n\t\treturn url;\n\t}\n\tvar availableLength = truncateLen - ellipsisChars.length;\n\tvar urlObj = parse_url(url);\n\t// Clean up the URL\n\tif (urlObj.query) {\n\t\tvar matchQuery = urlObj.query.match(/^(.*?)(?=(\\?|\\#))(.*?)$/i);\n\t\tif (matchQuery) {\n\t\t\t// Malformed URL; two or more \"?\". Removed any content behind the 2nd.\n\t\t\turlObj.query = urlObj.query.substr(0, matchQuery[1].length);\n\t\t\turl = buildUrl(urlObj);\n\t\t}\n\t}\n\tif (url.length <= truncateLen) {\n\t\treturn url;\n\t}\n\tif (urlObj.host) {\n\t\turlObj.host = urlObj.host.replace(/^www\\./, \"\");\n\t\turl = buildUrl(urlObj);\n\t}\n\tif (url.length <= truncateLen) {\n\t\treturn url;\n\t}\n\t// Process and build the URL\n\tvar str = \"\";\n\tif (urlObj.host) {\n\t\tstr += urlObj.host;\n\t}\n\tif (str.length >= availableLength) {\n\t\tif (urlObj.host.length == truncateLen) {\n\t\t\treturn (urlObj.host.substr(0, (truncateLen - ellipsisChars.length)) + ellipsisChars).substr(0, truncateLen);\n\t\t}\n\t\treturn buildSegment(str, availableLength).substr(0, truncateLen);\n\t}\n\tvar pathAndQuery = \"\";\n\tif (urlObj.path) {\n\t\tpathAndQuery += \"/\" + urlObj.path;\n\t}\n\tif (urlObj.query) {\n\t\tpathAndQuery += \"?\" + urlObj.query;\n\t}\n\tif (pathAndQuery) {\n\t\tif ((str+pathAndQuery).length >= availableLength) {\n\t\t\tif ((str+pathAndQuery).length == truncateLen) {\n\t\t\t\treturn (str + pathAndQuery).substr(0, truncateLen);\n\t\t\t}\n\t\t\tvar remainingAvailableLength = availableLength - str.length;\n\t\t\treturn (str + buildSegment(pathAndQuery, remainingAvailableLength)).substr(0, truncateLen);\n\t\t} else {\n\t\t\tstr += pathAndQuery;\n\t\t}\n\t}\n\tif (urlObj.fragment) {\n\t\tvar fragment = \"#\"+urlObj.fragment;\n\t\tif ((str+fragment).length >= availableLength) {\n\t\t\tif ((str+fragment).length == truncateLen) {\n\t\t\t\treturn (str + fragment).substr(0, truncateLen);\n\t\t\t}\n\t\t\tvar remainingAvailableLength2 = availableLength - str.length;\n\t\t\treturn (str + buildSegment(fragment, remainingAvailableLength2)).substr(0, truncateLen);\n\t\t} else {\n\t\t\tstr += fragment;\n\t\t}\n\t}\n\tif (urlObj.scheme && urlObj.host) {\n\t\tvar scheme = urlObj.scheme + \"://\";\n\t\tif ((str+scheme).length < availableLength) {\n\t\t\treturn (scheme + str).substr(0, truncateLen);\n\t\t}\n\t}\n\tif (str.length <= truncateLen) {\n\t\treturn str;\n\t}\n\tvar end = \"\";\n\tif (availableLength > 0) {\n\t\tend = str.substr((-1)*Math.floor(availableLength/2));\n\t}\n\treturn (str.substr(0, Math.ceil(availableLength/2)) + ellipsisChars + end).substr(0, truncateLen);\n};\n\nreturn Autolinker;\n}));\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../fonts/fontawesome-webfont.eot?v=4.7.0\");\nvar ___CSS_LOADER_URL_IMPORT_1___ = require(\"../fonts/fontawesome-webfont.eot\");\nvar ___CSS_LOADER_URL_IMPORT_2___ = require(\"../fonts/fontawesome-webfont.woff2?v=4.7.0\");\nvar ___CSS_LOADER_URL_IMPORT_3___ = require(\"../fonts/fontawesome-webfont.woff?v=4.7.0\");\nvar ___CSS_LOADER_URL_IMPORT_4___ = require(\"../fonts/fontawesome-webfont.ttf?v=4.7.0\");\nvar ___CSS_LOADER_URL_IMPORT_5___ = require(\"../fonts/fontawesome-webfont.svg?v=4.7.0\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___, { hash: \"?#iefix&v=4.7.0\" });\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___, { hash: \"#fontawesomeregular\" });\n// Module\nexports.push([module.id, \"/*!\\n *  Font Awesome 4.7.0 by @davegandy - http://fontawesome.io - @fontawesome\\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\\n */\\n/* FONT PATH\\n * -------------------------- */\\n@font-face {\\n  font-family: 'FontAwesome';\\n  src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\n  src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \") format('embedded-opentype'), url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \") format('woff2'), url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \") format('woff'), url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \") format('truetype'), url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \") format('svg');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n.fa {\\n  display: inline-block;\\n  font: normal normal normal 14px/1 FontAwesome;\\n  font-size: inherit;\\n  text-rendering: auto;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n/* makes the font 33% larger relative to the icon container */\\n.fa-lg {\\n  font-size: 1.33333333em;\\n  line-height: 0.75em;\\n  vertical-align: -15%;\\n}\\n.fa-2x {\\n  font-size: 2em;\\n}\\n.fa-3x {\\n  font-size: 3em;\\n}\\n.fa-4x {\\n  font-size: 4em;\\n}\\n.fa-5x {\\n  font-size: 5em;\\n}\\n.fa-fw {\\n  width: 1.28571429em;\\n  text-align: center;\\n}\\n.fa-ul {\\n  padding-left: 0;\\n  margin-left: 2.14285714em;\\n  list-style-type: none;\\n}\\n.fa-ul > li {\\n  position: relative;\\n}\\n.fa-li {\\n  position: absolute;\\n  left: -2.14285714em;\\n  width: 2.14285714em;\\n  top: 0.14285714em;\\n  text-align: center;\\n}\\n.fa-li.fa-lg {\\n  left: -1.85714286em;\\n}\\n.fa-border {\\n  padding: .2em .25em .15em;\\n  border: solid 0.08em #eeeeee;\\n  border-radius: .1em;\\n}\\n.fa-pull-left {\\n  float: left;\\n}\\n.fa-pull-right {\\n  float: right;\\n}\\n.fa.fa-pull-left {\\n  margin-right: .3em;\\n}\\n.fa.fa-pull-right {\\n  margin-left: .3em;\\n}\\n/* Deprecated as of 4.4.0 */\\n.pull-right {\\n  float: right;\\n}\\n.pull-left {\\n  float: left;\\n}\\n.fa.pull-left {\\n  margin-right: .3em;\\n}\\n.fa.pull-right {\\n  margin-left: .3em;\\n}\\n.fa-spin {\\n  -webkit-animation: fa-spin 2s infinite linear;\\n  animation: fa-spin 2s infinite linear;\\n}\\n.fa-pulse {\\n  -webkit-animation: fa-spin 1s infinite steps(8);\\n  animation: fa-spin 1s infinite steps(8);\\n}\\n@-webkit-keyframes fa-spin {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    -webkit-transform: rotate(359deg);\\n    transform: rotate(359deg);\\n  }\\n}\\n@keyframes fa-spin {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    -webkit-transform: rotate(359deg);\\n    transform: rotate(359deg);\\n  }\\n}\\n.fa-rotate-90 {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)\\\";\\n  -webkit-transform: rotate(90deg);\\n  -ms-transform: rotate(90deg);\\n  transform: rotate(90deg);\\n}\\n.fa-rotate-180 {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)\\\";\\n  -webkit-transform: rotate(180deg);\\n  -ms-transform: rotate(180deg);\\n  transform: rotate(180deg);\\n}\\n.fa-rotate-270 {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)\\\";\\n  -webkit-transform: rotate(270deg);\\n  -ms-transform: rotate(270deg);\\n  transform: rotate(270deg);\\n}\\n.fa-flip-horizontal {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)\\\";\\n  -webkit-transform: scale(-1, 1);\\n  -ms-transform: scale(-1, 1);\\n  transform: scale(-1, 1);\\n}\\n.fa-flip-vertical {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)\\\";\\n  -webkit-transform: scale(1, -1);\\n  -ms-transform: scale(1, -1);\\n  transform: scale(1, -1);\\n}\\n:root .fa-rotate-90,\\n:root .fa-rotate-180,\\n:root .fa-rotate-270,\\n:root .fa-flip-horizontal,\\n:root .fa-flip-vertical {\\n  filter: none;\\n}\\n.fa-stack {\\n  position: relative;\\n  display: inline-block;\\n  width: 2em;\\n  height: 2em;\\n  line-height: 2em;\\n  vertical-align: middle;\\n}\\n.fa-stack-1x,\\n.fa-stack-2x {\\n  position: absolute;\\n  left: 0;\\n  width: 100%;\\n  text-align: center;\\n}\\n.fa-stack-1x {\\n  line-height: inherit;\\n}\\n.fa-stack-2x {\\n  font-size: 2em;\\n}\\n.fa-inverse {\\n  color: #ffffff;\\n}\\n/* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen\\n   readers do not read off random characters that represent icons */\\n.fa-glass:before {\\n  content: \\\"\\\\f000\\\";\\n}\\n.fa-music:before {\\n  content: \\\"\\\\f001\\\";\\n}\\n.fa-search:before {\\n  content: \\\"\\\\f002\\\";\\n}\\n.fa-envelope-o:before {\\n  content: \\\"\\\\f003\\\";\\n}\\n.fa-heart:before {\\n  content: \\\"\\\\f004\\\";\\n}\\n.fa-star:before {\\n  content: \\\"\\\\f005\\\";\\n}\\n.fa-star-o:before {\\n  content: \\\"\\\\f006\\\";\\n}\\n.fa-user:before {\\n  content: \\\"\\\\f007\\\";\\n}\\n.fa-film:before {\\n  content: \\\"\\\\f008\\\";\\n}\\n.fa-th-large:before {\\n  content: \\\"\\\\f009\\\";\\n}\\n.fa-th:before {\\n  content: \\\"\\\\f00a\\\";\\n}\\n.fa-th-list:before {\\n  content: \\\"\\\\f00b\\\";\\n}\\n.fa-check:before {\\n  content: \\\"\\\\f00c\\\";\\n}\\n.fa-remove:before,\\n.fa-close:before,\\n.fa-times:before {\\n  content: \\\"\\\\f00d\\\";\\n}\\n.fa-search-plus:before {\\n  content: \\\"\\\\f00e\\\";\\n}\\n.fa-search-minus:before {\\n  content: \\\"\\\\f010\\\";\\n}\\n.fa-power-off:before {\\n  content: \\\"\\\\f011\\\";\\n}\\n.fa-signal:before {\\n  content: \\\"\\\\f012\\\";\\n}\\n.fa-gear:before,\\n.fa-cog:before {\\n  content: \\\"\\\\f013\\\";\\n}\\n.fa-trash-o:before {\\n  content: \\\"\\\\f014\\\";\\n}\\n.fa-home:before {\\n  content: \\\"\\\\f015\\\";\\n}\\n.fa-file-o:before {\\n  content: \\\"\\\\f016\\\";\\n}\\n.fa-clock-o:before {\\n  content: \\\"\\\\f017\\\";\\n}\\n.fa-road:before {\\n  content: \\\"\\\\f018\\\";\\n}\\n.fa-download:before {\\n  content: \\\"\\\\f019\\\";\\n}\\n.fa-arrow-circle-o-down:before {\\n  content: \\\"\\\\f01a\\\";\\n}\\n.fa-arrow-circle-o-up:before {\\n  content: \\\"\\\\f01b\\\";\\n}\\n.fa-inbox:before {\\n  content: \\\"\\\\f01c\\\";\\n}\\n.fa-play-circle-o:before {\\n  content: \\\"\\\\f01d\\\";\\n}\\n.fa-rotate-right:before,\\n.fa-repeat:before {\\n  content: \\\"\\\\f01e\\\";\\n}\\n.fa-refresh:before {\\n  content: \\\"\\\\f021\\\";\\n}\\n.fa-list-alt:before {\\n  content: \\\"\\\\f022\\\";\\n}\\n.fa-lock:before {\\n  content: \\\"\\\\f023\\\";\\n}\\n.fa-flag:before {\\n  content: \\\"\\\\f024\\\";\\n}\\n.fa-headphones:before {\\n  content: \\\"\\\\f025\\\";\\n}\\n.fa-volume-off:before {\\n  content: \\\"\\\\f026\\\";\\n}\\n.fa-volume-down:before {\\n  content: \\\"\\\\f027\\\";\\n}\\n.fa-volume-up:before {\\n  content: \\\"\\\\f028\\\";\\n}\\n.fa-qrcode:before {\\n  content: \\\"\\\\f029\\\";\\n}\\n.fa-barcode:before {\\n  content: \\\"\\\\f02a\\\";\\n}\\n.fa-tag:before {\\n  content: \\\"\\\\f02b\\\";\\n}\\n.fa-tags:before {\\n  content: \\\"\\\\f02c\\\";\\n}\\n.fa-book:before {\\n  content: \\\"\\\\f02d\\\";\\n}\\n.fa-bookmark:before {\\n  content: \\\"\\\\f02e\\\";\\n}\\n.fa-print:before {\\n  content: \\\"\\\\f02f\\\";\\n}\\n.fa-camera:before {\\n  content: \\\"\\\\f030\\\";\\n}\\n.fa-font:before {\\n  content: \\\"\\\\f031\\\";\\n}\\n.fa-bold:before {\\n  content: \\\"\\\\f032\\\";\\n}\\n.fa-italic:before {\\n  content: \\\"\\\\f033\\\";\\n}\\n.fa-text-height:before {\\n  content: \\\"\\\\f034\\\";\\n}\\n.fa-text-width:before {\\n  content: \\\"\\\\f035\\\";\\n}\\n.fa-align-left:before {\\n  content: \\\"\\\\f036\\\";\\n}\\n.fa-align-center:before {\\n  content: \\\"\\\\f037\\\";\\n}\\n.fa-align-right:before {\\n  content: \\\"\\\\f038\\\";\\n}\\n.fa-align-justify:before {\\n  content: \\\"\\\\f039\\\";\\n}\\n.fa-list:before {\\n  content: \\\"\\\\f03a\\\";\\n}\\n.fa-dedent:before,\\n.fa-outdent:before {\\n  content: \\\"\\\\f03b\\\";\\n}\\n.fa-indent:before {\\n  content: \\\"\\\\f03c\\\";\\n}\\n.fa-video-camera:before {\\n  content: \\\"\\\\f03d\\\";\\n}\\n.fa-photo:before,\\n.fa-image:before,\\n.fa-picture-o:before {\\n  content: \\\"\\\\f03e\\\";\\n}\\n.fa-pencil:before {\\n  content: \\\"\\\\f040\\\";\\n}\\n.fa-map-marker:before {\\n  content: \\\"\\\\f041\\\";\\n}\\n.fa-adjust:before {\\n  content: \\\"\\\\f042\\\";\\n}\\n.fa-tint:before {\\n  content: \\\"\\\\f043\\\";\\n}\\n.fa-edit:before,\\n.fa-pencil-square-o:before {\\n  content: \\\"\\\\f044\\\";\\n}\\n.fa-share-square-o:before {\\n  content: \\\"\\\\f045\\\";\\n}\\n.fa-check-square-o:before {\\n  content: \\\"\\\\f046\\\";\\n}\\n.fa-arrows:before {\\n  content: \\\"\\\\f047\\\";\\n}\\n.fa-step-backward:before {\\n  content: \\\"\\\\f048\\\";\\n}\\n.fa-fast-backward:before {\\n  content: \\\"\\\\f049\\\";\\n}\\n.fa-backward:before {\\n  content: \\\"\\\\f04a\\\";\\n}\\n.fa-play:before {\\n  content: \\\"\\\\f04b\\\";\\n}\\n.fa-pause:before {\\n  content: \\\"\\\\f04c\\\";\\n}\\n.fa-stop:before {\\n  content: \\\"\\\\f04d\\\";\\n}\\n.fa-forward:before {\\n  content: \\\"\\\\f04e\\\";\\n}\\n.fa-fast-forward:before {\\n  content: \\\"\\\\f050\\\";\\n}\\n.fa-step-forward:before {\\n  content: \\\"\\\\f051\\\";\\n}\\n.fa-eject:before {\\n  content: \\\"\\\\f052\\\";\\n}\\n.fa-chevron-left:before {\\n  content: \\\"\\\\f053\\\";\\n}\\n.fa-chevron-right:before {\\n  content: \\\"\\\\f054\\\";\\n}\\n.fa-plus-circle:before {\\n  content: \\\"\\\\f055\\\";\\n}\\n.fa-minus-circle:before {\\n  content: \\\"\\\\f056\\\";\\n}\\n.fa-times-circle:before {\\n  content: \\\"\\\\f057\\\";\\n}\\n.fa-check-circle:before {\\n  content: \\\"\\\\f058\\\";\\n}\\n.fa-question-circle:before {\\n  content: \\\"\\\\f059\\\";\\n}\\n.fa-info-circle:before {\\n  content: \\\"\\\\f05a\\\";\\n}\\n.fa-crosshairs:before {\\n  content: \\\"\\\\f05b\\\";\\n}\\n.fa-times-circle-o:before {\\n  content: \\\"\\\\f05c\\\";\\n}\\n.fa-check-circle-o:before {\\n  content: \\\"\\\\f05d\\\";\\n}\\n.fa-ban:before {\\n  content: \\\"\\\\f05e\\\";\\n}\\n.fa-arrow-left:before {\\n  content: \\\"\\\\f060\\\";\\n}\\n.fa-arrow-right:before {\\n  content: \\\"\\\\f061\\\";\\n}\\n.fa-arrow-up:before {\\n  content: \\\"\\\\f062\\\";\\n}\\n.fa-arrow-down:before {\\n  content: \\\"\\\\f063\\\";\\n}\\n.fa-mail-forward:before,\\n.fa-share:before {\\n  content: \\\"\\\\f064\\\";\\n}\\n.fa-expand:before {\\n  content: \\\"\\\\f065\\\";\\n}\\n.fa-compress:before {\\n  content: \\\"\\\\f066\\\";\\n}\\n.fa-plus:before {\\n  content: \\\"\\\\f067\\\";\\n}\\n.fa-minus:before {\\n  content: \\\"\\\\f068\\\";\\n}\\n.fa-asterisk:before {\\n  content: \\\"\\\\f069\\\";\\n}\\n.fa-exclamation-circle:before {\\n  content: \\\"\\\\f06a\\\";\\n}\\n.fa-gift:before {\\n  content: \\\"\\\\f06b\\\";\\n}\\n.fa-leaf:before {\\n  content: \\\"\\\\f06c\\\";\\n}\\n.fa-fire:before {\\n  content: \\\"\\\\f06d\\\";\\n}\\n.fa-eye:before {\\n  content: \\\"\\\\f06e\\\";\\n}\\n.fa-eye-slash:before {\\n  content: \\\"\\\\f070\\\";\\n}\\n.fa-warning:before,\\n.fa-exclamation-triangle:before {\\n  content: \\\"\\\\f071\\\";\\n}\\n.fa-plane:before {\\n  content: \\\"\\\\f072\\\";\\n}\\n.fa-calendar:before {\\n  content: \\\"\\\\f073\\\";\\n}\\n.fa-random:before {\\n  content: \\\"\\\\f074\\\";\\n}\\n.fa-comment:before {\\n  content: \\\"\\\\f075\\\";\\n}\\n.fa-magnet:before {\\n  content: \\\"\\\\f076\\\";\\n}\\n.fa-chevron-up:before {\\n  content: \\\"\\\\f077\\\";\\n}\\n.fa-chevron-down:before {\\n  content: \\\"\\\\f078\\\";\\n}\\n.fa-retweet:before {\\n  content: \\\"\\\\f079\\\";\\n}\\n.fa-shopping-cart:before {\\n  content: \\\"\\\\f07a\\\";\\n}\\n.fa-folder:before {\\n  content: \\\"\\\\f07b\\\";\\n}\\n.fa-folder-open:before {\\n  content: \\\"\\\\f07c\\\";\\n}\\n.fa-arrows-v:before {\\n  content: \\\"\\\\f07d\\\";\\n}\\n.fa-arrows-h:before {\\n  content: \\\"\\\\f07e\\\";\\n}\\n.fa-bar-chart-o:before,\\n.fa-bar-chart:before {\\n  content: \\\"\\\\f080\\\";\\n}\\n.fa-twitter-square:before {\\n  content: \\\"\\\\f081\\\";\\n}\\n.fa-facebook-square:before {\\n  content: \\\"\\\\f082\\\";\\n}\\n.fa-camera-retro:before {\\n  content: \\\"\\\\f083\\\";\\n}\\n.fa-key:before {\\n  content: \\\"\\\\f084\\\";\\n}\\n.fa-gears:before,\\n.fa-cogs:before {\\n  content: \\\"\\\\f085\\\";\\n}\\n.fa-comments:before {\\n  content: \\\"\\\\f086\\\";\\n}\\n.fa-thumbs-o-up:before {\\n  content: \\\"\\\\f087\\\";\\n}\\n.fa-thumbs-o-down:before {\\n  content: \\\"\\\\f088\\\";\\n}\\n.fa-star-half:before {\\n  content: \\\"\\\\f089\\\";\\n}\\n.fa-heart-o:before {\\n  content: \\\"\\\\f08a\\\";\\n}\\n.fa-sign-out:before {\\n  content: \\\"\\\\f08b\\\";\\n}\\n.fa-linkedin-square:before {\\n  content: \\\"\\\\f08c\\\";\\n}\\n.fa-thumb-tack:before {\\n  content: \\\"\\\\f08d\\\";\\n}\\n.fa-external-link:before {\\n  content: \\\"\\\\f08e\\\";\\n}\\n.fa-sign-in:before {\\n  content: \\\"\\\\f090\\\";\\n}\\n.fa-trophy:before {\\n  content: \\\"\\\\f091\\\";\\n}\\n.fa-github-square:before {\\n  content: \\\"\\\\f092\\\";\\n}\\n.fa-upload:before {\\n  content: \\\"\\\\f093\\\";\\n}\\n.fa-lemon-o:before {\\n  content: \\\"\\\\f094\\\";\\n}\\n.fa-phone:before {\\n  content: \\\"\\\\f095\\\";\\n}\\n.fa-square-o:before {\\n  content: \\\"\\\\f096\\\";\\n}\\n.fa-bookmark-o:before {\\n  content: \\\"\\\\f097\\\";\\n}\\n.fa-phone-square:before {\\n  content: \\\"\\\\f098\\\";\\n}\\n.fa-twitter:before {\\n  content: \\\"\\\\f099\\\";\\n}\\n.fa-facebook-f:before,\\n.fa-facebook:before {\\n  content: \\\"\\\\f09a\\\";\\n}\\n.fa-github:before {\\n  content: \\\"\\\\f09b\\\";\\n}\\n.fa-unlock:before {\\n  content: \\\"\\\\f09c\\\";\\n}\\n.fa-credit-card:before {\\n  content: \\\"\\\\f09d\\\";\\n}\\n.fa-feed:before,\\n.fa-rss:before {\\n  content: \\\"\\\\f09e\\\";\\n}\\n.fa-hdd-o:before {\\n  content: \\\"\\\\f0a0\\\";\\n}\\n.fa-bullhorn:before {\\n  content: \\\"\\\\f0a1\\\";\\n}\\n.fa-bell:before {\\n  content: \\\"\\\\f0f3\\\";\\n}\\n.fa-certificate:before {\\n  content: \\\"\\\\f0a3\\\";\\n}\\n.fa-hand-o-right:before {\\n  content: \\\"\\\\f0a4\\\";\\n}\\n.fa-hand-o-left:before {\\n  content: \\\"\\\\f0a5\\\";\\n}\\n.fa-hand-o-up:before {\\n  content: \\\"\\\\f0a6\\\";\\n}\\n.fa-hand-o-down:before {\\n  content: \\\"\\\\f0a7\\\";\\n}\\n.fa-arrow-circle-left:before {\\n  content: \\\"\\\\f0a8\\\";\\n}\\n.fa-arrow-circle-right:before {\\n  content: \\\"\\\\f0a9\\\";\\n}\\n.fa-arrow-circle-up:before {\\n  content: \\\"\\\\f0aa\\\";\\n}\\n.fa-arrow-circle-down:before {\\n  content: \\\"\\\\f0ab\\\";\\n}\\n.fa-globe:before {\\n  content: \\\"\\\\f0ac\\\";\\n}\\n.fa-wrench:before {\\n  content: \\\"\\\\f0ad\\\";\\n}\\n.fa-tasks:before {\\n  content: \\\"\\\\f0ae\\\";\\n}\\n.fa-filter:before {\\n  content: \\\"\\\\f0b0\\\";\\n}\\n.fa-briefcase:before {\\n  content: \\\"\\\\f0b1\\\";\\n}\\n.fa-arrows-alt:before {\\n  content: \\\"\\\\f0b2\\\";\\n}\\n.fa-group:before,\\n.fa-users:before {\\n  content: \\\"\\\\f0c0\\\";\\n}\\n.fa-chain:before,\\n.fa-link:before {\\n  content: \\\"\\\\f0c1\\\";\\n}\\n.fa-cloud:before {\\n  content: \\\"\\\\f0c2\\\";\\n}\\n.fa-flask:before {\\n  content: \\\"\\\\f0c3\\\";\\n}\\n.fa-cut:before,\\n.fa-scissors:before {\\n  content: \\\"\\\\f0c4\\\";\\n}\\n.fa-copy:before,\\n.fa-files-o:before {\\n  content: \\\"\\\\f0c5\\\";\\n}\\n.fa-paperclip:before {\\n  content: \\\"\\\\f0c6\\\";\\n}\\n.fa-save:before,\\n.fa-floppy-o:before {\\n  content: \\\"\\\\f0c7\\\";\\n}\\n.fa-square:before {\\n  content: \\\"\\\\f0c8\\\";\\n}\\n.fa-navicon:before,\\n.fa-reorder:before,\\n.fa-bars:before {\\n  content: \\\"\\\\f0c9\\\";\\n}\\n.fa-list-ul:before {\\n  content: \\\"\\\\f0ca\\\";\\n}\\n.fa-list-ol:before {\\n  content: \\\"\\\\f0cb\\\";\\n}\\n.fa-strikethrough:before {\\n  content: \\\"\\\\f0cc\\\";\\n}\\n.fa-underline:before {\\n  content: \\\"\\\\f0cd\\\";\\n}\\n.fa-table:before {\\n  content: \\\"\\\\f0ce\\\";\\n}\\n.fa-magic:before {\\n  content: \\\"\\\\f0d0\\\";\\n}\\n.fa-truck:before {\\n  content: \\\"\\\\f0d1\\\";\\n}\\n.fa-pinterest:before {\\n  content: \\\"\\\\f0d2\\\";\\n}\\n.fa-pinterest-square:before {\\n  content: \\\"\\\\f0d3\\\";\\n}\\n.fa-google-plus-square:before {\\n  content: \\\"\\\\f0d4\\\";\\n}\\n.fa-google-plus:before {\\n  content: \\\"\\\\f0d5\\\";\\n}\\n.fa-money:before {\\n  content: \\\"\\\\f0d6\\\";\\n}\\n.fa-caret-down:before {\\n  content: \\\"\\\\f0d7\\\";\\n}\\n.fa-caret-up:before {\\n  content: \\\"\\\\f0d8\\\";\\n}\\n.fa-caret-left:before {\\n  content: \\\"\\\\f0d9\\\";\\n}\\n.fa-caret-right:before {\\n  content: \\\"\\\\f0da\\\";\\n}\\n.fa-columns:before {\\n  content: \\\"\\\\f0db\\\";\\n}\\n.fa-unsorted:before,\\n.fa-sort:before {\\n  content: \\\"\\\\f0dc\\\";\\n}\\n.fa-sort-down:before,\\n.fa-sort-desc:before {\\n  content: \\\"\\\\f0dd\\\";\\n}\\n.fa-sort-up:before,\\n.fa-sort-asc:before {\\n  content: \\\"\\\\f0de\\\";\\n}\\n.fa-envelope:before {\\n  content: \\\"\\\\f0e0\\\";\\n}\\n.fa-linkedin:before {\\n  content: \\\"\\\\f0e1\\\";\\n}\\n.fa-rotate-left:before,\\n.fa-undo:before {\\n  content: \\\"\\\\f0e2\\\";\\n}\\n.fa-legal:before,\\n.fa-gavel:before {\\n  content: \\\"\\\\f0e3\\\";\\n}\\n.fa-dashboard:before,\\n.fa-tachometer:before {\\n  content: \\\"\\\\f0e4\\\";\\n}\\n.fa-comment-o:before {\\n  content: \\\"\\\\f0e5\\\";\\n}\\n.fa-comments-o:before {\\n  content: \\\"\\\\f0e6\\\";\\n}\\n.fa-flash:before,\\n.fa-bolt:before {\\n  content: \\\"\\\\f0e7\\\";\\n}\\n.fa-sitemap:before {\\n  content: \\\"\\\\f0e8\\\";\\n}\\n.fa-umbrella:before {\\n  content: \\\"\\\\f0e9\\\";\\n}\\n.fa-paste:before,\\n.fa-clipboard:before {\\n  content: \\\"\\\\f0ea\\\";\\n}\\n.fa-lightbulb-o:before {\\n  content: \\\"\\\\f0eb\\\";\\n}\\n.fa-exchange:before {\\n  content: \\\"\\\\f0ec\\\";\\n}\\n.fa-cloud-download:before {\\n  content: \\\"\\\\f0ed\\\";\\n}\\n.fa-cloud-upload:before {\\n  content: \\\"\\\\f0ee\\\";\\n}\\n.fa-user-md:before {\\n  content: \\\"\\\\f0f0\\\";\\n}\\n.fa-stethoscope:before {\\n  content: \\\"\\\\f0f1\\\";\\n}\\n.fa-suitcase:before {\\n  content: \\\"\\\\f0f2\\\";\\n}\\n.fa-bell-o:before {\\n  content: \\\"\\\\f0a2\\\";\\n}\\n.fa-coffee:before {\\n  content: \\\"\\\\f0f4\\\";\\n}\\n.fa-cutlery:before {\\n  content: \\\"\\\\f0f5\\\";\\n}\\n.fa-file-text-o:before {\\n  content: \\\"\\\\f0f6\\\";\\n}\\n.fa-building-o:before {\\n  content: \\\"\\\\f0f7\\\";\\n}\\n.fa-hospital-o:before {\\n  content: \\\"\\\\f0f8\\\";\\n}\\n.fa-ambulance:before {\\n  content: \\\"\\\\f0f9\\\";\\n}\\n.fa-medkit:before {\\n  content: \\\"\\\\f0fa\\\";\\n}\\n.fa-fighter-jet:before {\\n  content: \\\"\\\\f0fb\\\";\\n}\\n.fa-beer:before {\\n  content: \\\"\\\\f0fc\\\";\\n}\\n.fa-h-square:before {\\n  content: \\\"\\\\f0fd\\\";\\n}\\n.fa-plus-square:before {\\n  content: \\\"\\\\f0fe\\\";\\n}\\n.fa-angle-double-left:before {\\n  content: \\\"\\\\f100\\\";\\n}\\n.fa-angle-double-right:before {\\n  content: \\\"\\\\f101\\\";\\n}\\n.fa-angle-double-up:before {\\n  content: \\\"\\\\f102\\\";\\n}\\n.fa-angle-double-down:before {\\n  content: \\\"\\\\f103\\\";\\n}\\n.fa-angle-left:before {\\n  content: \\\"\\\\f104\\\";\\n}\\n.fa-angle-right:before {\\n  content: \\\"\\\\f105\\\";\\n}\\n.fa-angle-up:before {\\n  content: \\\"\\\\f106\\\";\\n}\\n.fa-angle-down:before {\\n  content: \\\"\\\\f107\\\";\\n}\\n.fa-desktop:before {\\n  content: \\\"\\\\f108\\\";\\n}\\n.fa-laptop:before {\\n  content: \\\"\\\\f109\\\";\\n}\\n.fa-tablet:before {\\n  content: \\\"\\\\f10a\\\";\\n}\\n.fa-mobile-phone:before,\\n.fa-mobile:before {\\n  content: \\\"\\\\f10b\\\";\\n}\\n.fa-circle-o:before {\\n  content: \\\"\\\\f10c\\\";\\n}\\n.fa-quote-left:before {\\n  content: \\\"\\\\f10d\\\";\\n}\\n.fa-quote-right:before {\\n  content: \\\"\\\\f10e\\\";\\n}\\n.fa-spinner:before {\\n  content: \\\"\\\\f110\\\";\\n}\\n.fa-circle:before {\\n  content: \\\"\\\\f111\\\";\\n}\\n.fa-mail-reply:before,\\n.fa-reply:before {\\n  content: \\\"\\\\f112\\\";\\n}\\n.fa-github-alt:before {\\n  content: \\\"\\\\f113\\\";\\n}\\n.fa-folder-o:before {\\n  content: \\\"\\\\f114\\\";\\n}\\n.fa-folder-open-o:before {\\n  content: \\\"\\\\f115\\\";\\n}\\n.fa-smile-o:before {\\n  content: \\\"\\\\f118\\\";\\n}\\n.fa-frown-o:before {\\n  content: \\\"\\\\f119\\\";\\n}\\n.fa-meh-o:before {\\n  content: \\\"\\\\f11a\\\";\\n}\\n.fa-gamepad:before {\\n  content: \\\"\\\\f11b\\\";\\n}\\n.fa-keyboard-o:before {\\n  content: \\\"\\\\f11c\\\";\\n}\\n.fa-flag-o:before {\\n  content: \\\"\\\\f11d\\\";\\n}\\n.fa-flag-checkered:before {\\n  content: \\\"\\\\f11e\\\";\\n}\\n.fa-terminal:before {\\n  content: \\\"\\\\f120\\\";\\n}\\n.fa-code:before {\\n  content: \\\"\\\\f121\\\";\\n}\\n.fa-mail-reply-all:before,\\n.fa-reply-all:before {\\n  content: \\\"\\\\f122\\\";\\n}\\n.fa-star-half-empty:before,\\n.fa-star-half-full:before,\\n.fa-star-half-o:before {\\n  content: \\\"\\\\f123\\\";\\n}\\n.fa-location-arrow:before {\\n  content: \\\"\\\\f124\\\";\\n}\\n.fa-crop:before {\\n  content: \\\"\\\\f125\\\";\\n}\\n.fa-code-fork:before {\\n  content: \\\"\\\\f126\\\";\\n}\\n.fa-unlink:before,\\n.fa-chain-broken:before {\\n  content: \\\"\\\\f127\\\";\\n}\\n.fa-question:before {\\n  content: \\\"\\\\f128\\\";\\n}\\n.fa-info:before {\\n  content: \\\"\\\\f129\\\";\\n}\\n.fa-exclamation:before {\\n  content: \\\"\\\\f12a\\\";\\n}\\n.fa-superscript:before {\\n  content: \\\"\\\\f12b\\\";\\n}\\n.fa-subscript:before {\\n  content: \\\"\\\\f12c\\\";\\n}\\n.fa-eraser:before {\\n  content: \\\"\\\\f12d\\\";\\n}\\n.fa-puzzle-piece:before {\\n  content: \\\"\\\\f12e\\\";\\n}\\n.fa-microphone:before {\\n  content: \\\"\\\\f130\\\";\\n}\\n.fa-microphone-slash:before {\\n  content: \\\"\\\\f131\\\";\\n}\\n.fa-shield:before {\\n  content: \\\"\\\\f132\\\";\\n}\\n.fa-calendar-o:before {\\n  content: \\\"\\\\f133\\\";\\n}\\n.fa-fire-extinguisher:before {\\n  content: \\\"\\\\f134\\\";\\n}\\n.fa-rocket:before {\\n  content: \\\"\\\\f135\\\";\\n}\\n.fa-maxcdn:before {\\n  content: \\\"\\\\f136\\\";\\n}\\n.fa-chevron-circle-left:before {\\n  content: \\\"\\\\f137\\\";\\n}\\n.fa-chevron-circle-right:before {\\n  content: \\\"\\\\f138\\\";\\n}\\n.fa-chevron-circle-up:before {\\n  content: \\\"\\\\f139\\\";\\n}\\n.fa-chevron-circle-down:before {\\n  content: \\\"\\\\f13a\\\";\\n}\\n.fa-html5:before {\\n  content: \\\"\\\\f13b\\\";\\n}\\n.fa-css3:before {\\n  content: \\\"\\\\f13c\\\";\\n}\\n.fa-anchor:before {\\n  content: \\\"\\\\f13d\\\";\\n}\\n.fa-unlock-alt:before {\\n  content: \\\"\\\\f13e\\\";\\n}\\n.fa-bullseye:before {\\n  content: \\\"\\\\f140\\\";\\n}\\n.fa-ellipsis-h:before {\\n  content: \\\"\\\\f141\\\";\\n}\\n.fa-ellipsis-v:before {\\n  content: \\\"\\\\f142\\\";\\n}\\n.fa-rss-square:before {\\n  content: \\\"\\\\f143\\\";\\n}\\n.fa-play-circle:before {\\n  content: \\\"\\\\f144\\\";\\n}\\n.fa-ticket:before {\\n  content: \\\"\\\\f145\\\";\\n}\\n.fa-minus-square:before {\\n  content: \\\"\\\\f146\\\";\\n}\\n.fa-minus-square-o:before {\\n  content: \\\"\\\\f147\\\";\\n}\\n.fa-level-up:before {\\n  content: \\\"\\\\f148\\\";\\n}\\n.fa-level-down:before {\\n  content: \\\"\\\\f149\\\";\\n}\\n.fa-check-square:before {\\n  content: \\\"\\\\f14a\\\";\\n}\\n.fa-pencil-square:before {\\n  content: \\\"\\\\f14b\\\";\\n}\\n.fa-external-link-square:before {\\n  content: \\\"\\\\f14c\\\";\\n}\\n.fa-share-square:before {\\n  content: \\\"\\\\f14d\\\";\\n}\\n.fa-compass:before {\\n  content: \\\"\\\\f14e\\\";\\n}\\n.fa-toggle-down:before,\\n.fa-caret-square-o-down:before {\\n  content: \\\"\\\\f150\\\";\\n}\\n.fa-toggle-up:before,\\n.fa-caret-square-o-up:before {\\n  content: \\\"\\\\f151\\\";\\n}\\n.fa-toggle-right:before,\\n.fa-caret-square-o-right:before {\\n  content: \\\"\\\\f152\\\";\\n}\\n.fa-euro:before,\\n.fa-eur:before {\\n  content: \\\"\\\\f153\\\";\\n}\\n.fa-gbp:before {\\n  content: \\\"\\\\f154\\\";\\n}\\n.fa-dollar:before,\\n.fa-usd:before {\\n  content: \\\"\\\\f155\\\";\\n}\\n.fa-rupee:before,\\n.fa-inr:before {\\n  content: \\\"\\\\f156\\\";\\n}\\n.fa-cny:before,\\n.fa-rmb:before,\\n.fa-yen:before,\\n.fa-jpy:before {\\n  content: \\\"\\\\f157\\\";\\n}\\n.fa-ruble:before,\\n.fa-rouble:before,\\n.fa-rub:before {\\n  content: \\\"\\\\f158\\\";\\n}\\n.fa-won:before,\\n.fa-krw:before {\\n  content: \\\"\\\\f159\\\";\\n}\\n.fa-bitcoin:before,\\n.fa-btc:before {\\n  content: \\\"\\\\f15a\\\";\\n}\\n.fa-file:before {\\n  content: \\\"\\\\f15b\\\";\\n}\\n.fa-file-text:before {\\n  content: \\\"\\\\f15c\\\";\\n}\\n.fa-sort-alpha-asc:before {\\n  content: \\\"\\\\f15d\\\";\\n}\\n.fa-sort-alpha-desc:before {\\n  content: \\\"\\\\f15e\\\";\\n}\\n.fa-sort-amount-asc:before {\\n  content: \\\"\\\\f160\\\";\\n}\\n.fa-sort-amount-desc:before {\\n  content: \\\"\\\\f161\\\";\\n}\\n.fa-sort-numeric-asc:before {\\n  content: \\\"\\\\f162\\\";\\n}\\n.fa-sort-numeric-desc:before {\\n  content: \\\"\\\\f163\\\";\\n}\\n.fa-thumbs-up:before {\\n  content: \\\"\\\\f164\\\";\\n}\\n.fa-thumbs-down:before {\\n  content: \\\"\\\\f165\\\";\\n}\\n.fa-youtube-square:before {\\n  content: \\\"\\\\f166\\\";\\n}\\n.fa-youtube:before {\\n  content: \\\"\\\\f167\\\";\\n}\\n.fa-xing:before {\\n  content: \\\"\\\\f168\\\";\\n}\\n.fa-xing-square:before {\\n  content: \\\"\\\\f169\\\";\\n}\\n.fa-youtube-play:before {\\n  content: \\\"\\\\f16a\\\";\\n}\\n.fa-dropbox:before {\\n  content: \\\"\\\\f16b\\\";\\n}\\n.fa-stack-overflow:before {\\n  content: \\\"\\\\f16c\\\";\\n}\\n.fa-instagram:before {\\n  content: \\\"\\\\f16d\\\";\\n}\\n.fa-flickr:before {\\n  content: \\\"\\\\f16e\\\";\\n}\\n.fa-adn:before {\\n  content: \\\"\\\\f170\\\";\\n}\\n.fa-bitbucket:before {\\n  content: \\\"\\\\f171\\\";\\n}\\n.fa-bitbucket-square:before {\\n  content: \\\"\\\\f172\\\";\\n}\\n.fa-tumblr:before {\\n  content: \\\"\\\\f173\\\";\\n}\\n.fa-tumblr-square:before {\\n  content: \\\"\\\\f174\\\";\\n}\\n.fa-long-arrow-down:before {\\n  content: \\\"\\\\f175\\\";\\n}\\n.fa-long-arrow-up:before {\\n  content: \\\"\\\\f176\\\";\\n}\\n.fa-long-arrow-left:before {\\n  content: \\\"\\\\f177\\\";\\n}\\n.fa-long-arrow-right:before {\\n  content: \\\"\\\\f178\\\";\\n}\\n.fa-apple:before {\\n  content: \\\"\\\\f179\\\";\\n}\\n.fa-windows:before {\\n  content: \\\"\\\\f17a\\\";\\n}\\n.fa-android:before {\\n  content: \\\"\\\\f17b\\\";\\n}\\n.fa-linux:before {\\n  content: \\\"\\\\f17c\\\";\\n}\\n.fa-dribbble:before {\\n  content: \\\"\\\\f17d\\\";\\n}\\n.fa-skype:before {\\n  content: \\\"\\\\f17e\\\";\\n}\\n.fa-foursquare:before {\\n  content: \\\"\\\\f180\\\";\\n}\\n.fa-trello:before {\\n  content: \\\"\\\\f181\\\";\\n}\\n.fa-female:before {\\n  content: \\\"\\\\f182\\\";\\n}\\n.fa-male:before {\\n  content: \\\"\\\\f183\\\";\\n}\\n.fa-gittip:before,\\n.fa-gratipay:before {\\n  content: \\\"\\\\f184\\\";\\n}\\n.fa-sun-o:before {\\n  content: \\\"\\\\f185\\\";\\n}\\n.fa-moon-o:before {\\n  content: \\\"\\\\f186\\\";\\n}\\n.fa-archive:before {\\n  content: \\\"\\\\f187\\\";\\n}\\n.fa-bug:before {\\n  content: \\\"\\\\f188\\\";\\n}\\n.fa-vk:before {\\n  content: \\\"\\\\f189\\\";\\n}\\n.fa-weibo:before {\\n  content: \\\"\\\\f18a\\\";\\n}\\n.fa-renren:before {\\n  content: \\\"\\\\f18b\\\";\\n}\\n.fa-pagelines:before {\\n  content: \\\"\\\\f18c\\\";\\n}\\n.fa-stack-exchange:before {\\n  content: \\\"\\\\f18d\\\";\\n}\\n.fa-arrow-circle-o-right:before {\\n  content: \\\"\\\\f18e\\\";\\n}\\n.fa-arrow-circle-o-left:before {\\n  content: \\\"\\\\f190\\\";\\n}\\n.fa-toggle-left:before,\\n.fa-caret-square-o-left:before {\\n  content: \\\"\\\\f191\\\";\\n}\\n.fa-dot-circle-o:before {\\n  content: \\\"\\\\f192\\\";\\n}\\n.fa-wheelchair:before {\\n  content: \\\"\\\\f193\\\";\\n}\\n.fa-vimeo-square:before {\\n  content: \\\"\\\\f194\\\";\\n}\\n.fa-turkish-lira:before,\\n.fa-try:before {\\n  content: \\\"\\\\f195\\\";\\n}\\n.fa-plus-square-o:before {\\n  content: \\\"\\\\f196\\\";\\n}\\n.fa-space-shuttle:before {\\n  content: \\\"\\\\f197\\\";\\n}\\n.fa-slack:before {\\n  content: \\\"\\\\f198\\\";\\n}\\n.fa-envelope-square:before {\\n  content: \\\"\\\\f199\\\";\\n}\\n.fa-wordpress:before {\\n  content: \\\"\\\\f19a\\\";\\n}\\n.fa-openid:before {\\n  content: \\\"\\\\f19b\\\";\\n}\\n.fa-institution:before,\\n.fa-bank:before,\\n.fa-university:before {\\n  content: \\\"\\\\f19c\\\";\\n}\\n.fa-mortar-board:before,\\n.fa-graduation-cap:before {\\n  content: \\\"\\\\f19d\\\";\\n}\\n.fa-yahoo:before {\\n  content: \\\"\\\\f19e\\\";\\n}\\n.fa-google:before {\\n  content: \\\"\\\\f1a0\\\";\\n}\\n.fa-reddit:before {\\n  content: \\\"\\\\f1a1\\\";\\n}\\n.fa-reddit-square:before {\\n  content: \\\"\\\\f1a2\\\";\\n}\\n.fa-stumbleupon-circle:before {\\n  content: \\\"\\\\f1a3\\\";\\n}\\n.fa-stumbleupon:before {\\n  content: \\\"\\\\f1a4\\\";\\n}\\n.fa-delicious:before {\\n  content: \\\"\\\\f1a5\\\";\\n}\\n.fa-digg:before {\\n  content: \\\"\\\\f1a6\\\";\\n}\\n.fa-pied-piper-pp:before {\\n  content: \\\"\\\\f1a7\\\";\\n}\\n.fa-pied-piper-alt:before {\\n  content: \\\"\\\\f1a8\\\";\\n}\\n.fa-drupal:before {\\n  content: \\\"\\\\f1a9\\\";\\n}\\n.fa-joomla:before {\\n  content: \\\"\\\\f1aa\\\";\\n}\\n.fa-language:before {\\n  content: \\\"\\\\f1ab\\\";\\n}\\n.fa-fax:before {\\n  content: \\\"\\\\f1ac\\\";\\n}\\n.fa-building:before {\\n  content: \\\"\\\\f1ad\\\";\\n}\\n.fa-child:before {\\n  content: \\\"\\\\f1ae\\\";\\n}\\n.fa-paw:before {\\n  content: \\\"\\\\f1b0\\\";\\n}\\n.fa-spoon:before {\\n  content: \\\"\\\\f1b1\\\";\\n}\\n.fa-cube:before {\\n  content: \\\"\\\\f1b2\\\";\\n}\\n.fa-cubes:before {\\n  content: \\\"\\\\f1b3\\\";\\n}\\n.fa-behance:before {\\n  content: \\\"\\\\f1b4\\\";\\n}\\n.fa-behance-square:before {\\n  content: \\\"\\\\f1b5\\\";\\n}\\n.fa-steam:before {\\n  content: \\\"\\\\f1b6\\\";\\n}\\n.fa-steam-square:before {\\n  content: \\\"\\\\f1b7\\\";\\n}\\n.fa-recycle:before {\\n  content: \\\"\\\\f1b8\\\";\\n}\\n.fa-automobile:before,\\n.fa-car:before {\\n  content: \\\"\\\\f1b9\\\";\\n}\\n.fa-cab:before,\\n.fa-taxi:before {\\n  content: \\\"\\\\f1ba\\\";\\n}\\n.fa-tree:before {\\n  content: \\\"\\\\f1bb\\\";\\n}\\n.fa-spotify:before {\\n  content: \\\"\\\\f1bc\\\";\\n}\\n.fa-deviantart:before {\\n  content: \\\"\\\\f1bd\\\";\\n}\\n.fa-soundcloud:before {\\n  content: \\\"\\\\f1be\\\";\\n}\\n.fa-database:before {\\n  content: \\\"\\\\f1c0\\\";\\n}\\n.fa-file-pdf-o:before {\\n  content: \\\"\\\\f1c1\\\";\\n}\\n.fa-file-word-o:before {\\n  content: \\\"\\\\f1c2\\\";\\n}\\n.fa-file-excel-o:before {\\n  content: \\\"\\\\f1c3\\\";\\n}\\n.fa-file-powerpoint-o:before {\\n  content: \\\"\\\\f1c4\\\";\\n}\\n.fa-file-photo-o:before,\\n.fa-file-picture-o:before,\\n.fa-file-image-o:before {\\n  content: \\\"\\\\f1c5\\\";\\n}\\n.fa-file-zip-o:before,\\n.fa-file-archive-o:before {\\n  content: \\\"\\\\f1c6\\\";\\n}\\n.fa-file-sound-o:before,\\n.fa-file-audio-o:before {\\n  content: \\\"\\\\f1c7\\\";\\n}\\n.fa-file-movie-o:before,\\n.fa-file-video-o:before {\\n  content: \\\"\\\\f1c8\\\";\\n}\\n.fa-file-code-o:before {\\n  content: \\\"\\\\f1c9\\\";\\n}\\n.fa-vine:before {\\n  content: \\\"\\\\f1ca\\\";\\n}\\n.fa-codepen:before {\\n  content: \\\"\\\\f1cb\\\";\\n}\\n.fa-jsfiddle:before {\\n  content: \\\"\\\\f1cc\\\";\\n}\\n.fa-life-bouy:before,\\n.fa-life-buoy:before,\\n.fa-life-saver:before,\\n.fa-support:before,\\n.fa-life-ring:before {\\n  content: \\\"\\\\f1cd\\\";\\n}\\n.fa-circle-o-notch:before {\\n  content: \\\"\\\\f1ce\\\";\\n}\\n.fa-ra:before,\\n.fa-resistance:before,\\n.fa-rebel:before {\\n  content: \\\"\\\\f1d0\\\";\\n}\\n.fa-ge:before,\\n.fa-empire:before {\\n  content: \\\"\\\\f1d1\\\";\\n}\\n.fa-git-square:before {\\n  content: \\\"\\\\f1d2\\\";\\n}\\n.fa-git:before {\\n  content: \\\"\\\\f1d3\\\";\\n}\\n.fa-y-combinator-square:before,\\n.fa-yc-square:before,\\n.fa-hacker-news:before {\\n  content: \\\"\\\\f1d4\\\";\\n}\\n.fa-tencent-weibo:before {\\n  content: \\\"\\\\f1d5\\\";\\n}\\n.fa-qq:before {\\n  content: \\\"\\\\f1d6\\\";\\n}\\n.fa-wechat:before,\\n.fa-weixin:before {\\n  content: \\\"\\\\f1d7\\\";\\n}\\n.fa-send:before,\\n.fa-paper-plane:before {\\n  content: \\\"\\\\f1d8\\\";\\n}\\n.fa-send-o:before,\\n.fa-paper-plane-o:before {\\n  content: \\\"\\\\f1d9\\\";\\n}\\n.fa-history:before {\\n  content: \\\"\\\\f1da\\\";\\n}\\n.fa-circle-thin:before {\\n  content: \\\"\\\\f1db\\\";\\n}\\n.fa-header:before {\\n  content: \\\"\\\\f1dc\\\";\\n}\\n.fa-paragraph:before {\\n  content: \\\"\\\\f1dd\\\";\\n}\\n.fa-sliders:before {\\n  content: \\\"\\\\f1de\\\";\\n}\\n.fa-share-alt:before {\\n  content: \\\"\\\\f1e0\\\";\\n}\\n.fa-share-alt-square:before {\\n  content: \\\"\\\\f1e1\\\";\\n}\\n.fa-bomb:before {\\n  content: \\\"\\\\f1e2\\\";\\n}\\n.fa-soccer-ball-o:before,\\n.fa-futbol-o:before {\\n  content: \\\"\\\\f1e3\\\";\\n}\\n.fa-tty:before {\\n  content: \\\"\\\\f1e4\\\";\\n}\\n.fa-binoculars:before {\\n  content: \\\"\\\\f1e5\\\";\\n}\\n.fa-plug:before {\\n  content: \\\"\\\\f1e6\\\";\\n}\\n.fa-slideshare:before {\\n  content: \\\"\\\\f1e7\\\";\\n}\\n.fa-twitch:before {\\n  content: \\\"\\\\f1e8\\\";\\n}\\n.fa-yelp:before {\\n  content: \\\"\\\\f1e9\\\";\\n}\\n.fa-newspaper-o:before {\\n  content: \\\"\\\\f1ea\\\";\\n}\\n.fa-wifi:before {\\n  content: \\\"\\\\f1eb\\\";\\n}\\n.fa-calculator:before {\\n  content: \\\"\\\\f1ec\\\";\\n}\\n.fa-paypal:before {\\n  content: \\\"\\\\f1ed\\\";\\n}\\n.fa-google-wallet:before {\\n  content: \\\"\\\\f1ee\\\";\\n}\\n.fa-cc-visa:before {\\n  content: \\\"\\\\f1f0\\\";\\n}\\n.fa-cc-mastercard:before {\\n  content: \\\"\\\\f1f1\\\";\\n}\\n.fa-cc-discover:before {\\n  content: \\\"\\\\f1f2\\\";\\n}\\n.fa-cc-amex:before {\\n  content: \\\"\\\\f1f3\\\";\\n}\\n.fa-cc-paypal:before {\\n  content: \\\"\\\\f1f4\\\";\\n}\\n.fa-cc-stripe:before {\\n  content: \\\"\\\\f1f5\\\";\\n}\\n.fa-bell-slash:before {\\n  content: \\\"\\\\f1f6\\\";\\n}\\n.fa-bell-slash-o:before {\\n  content: \\\"\\\\f1f7\\\";\\n}\\n.fa-trash:before {\\n  content: \\\"\\\\f1f8\\\";\\n}\\n.fa-copyright:before {\\n  content: \\\"\\\\f1f9\\\";\\n}\\n.fa-at:before {\\n  content: \\\"\\\\f1fa\\\";\\n}\\n.fa-eyedropper:before {\\n  content: \\\"\\\\f1fb\\\";\\n}\\n.fa-paint-brush:before {\\n  content: \\\"\\\\f1fc\\\";\\n}\\n.fa-birthday-cake:before {\\n  content: \\\"\\\\f1fd\\\";\\n}\\n.fa-area-chart:before {\\n  content: \\\"\\\\f1fe\\\";\\n}\\n.fa-pie-chart:before {\\n  content: \\\"\\\\f200\\\";\\n}\\n.fa-line-chart:before {\\n  content: \\\"\\\\f201\\\";\\n}\\n.fa-lastfm:before {\\n  content: \\\"\\\\f202\\\";\\n}\\n.fa-lastfm-square:before {\\n  content: \\\"\\\\f203\\\";\\n}\\n.fa-toggle-off:before {\\n  content: \\\"\\\\f204\\\";\\n}\\n.fa-toggle-on:before {\\n  content: \\\"\\\\f205\\\";\\n}\\n.fa-bicycle:before {\\n  content: \\\"\\\\f206\\\";\\n}\\n.fa-bus:before {\\n  content: \\\"\\\\f207\\\";\\n}\\n.fa-ioxhost:before {\\n  content: \\\"\\\\f208\\\";\\n}\\n.fa-angellist:before {\\n  content: \\\"\\\\f209\\\";\\n}\\n.fa-cc:before {\\n  content: \\\"\\\\f20a\\\";\\n}\\n.fa-shekel:before,\\n.fa-sheqel:before,\\n.fa-ils:before {\\n  content: \\\"\\\\f20b\\\";\\n}\\n.fa-meanpath:before {\\n  content: \\\"\\\\f20c\\\";\\n}\\n.fa-buysellads:before {\\n  content: \\\"\\\\f20d\\\";\\n}\\n.fa-connectdevelop:before {\\n  content: \\\"\\\\f20e\\\";\\n}\\n.fa-dashcube:before {\\n  content: \\\"\\\\f210\\\";\\n}\\n.fa-forumbee:before {\\n  content: \\\"\\\\f211\\\";\\n}\\n.fa-leanpub:before {\\n  content: \\\"\\\\f212\\\";\\n}\\n.fa-sellsy:before {\\n  content: \\\"\\\\f213\\\";\\n}\\n.fa-shirtsinbulk:before {\\n  content: \\\"\\\\f214\\\";\\n}\\n.fa-simplybuilt:before {\\n  content: \\\"\\\\f215\\\";\\n}\\n.fa-skyatlas:before {\\n  content: \\\"\\\\f216\\\";\\n}\\n.fa-cart-plus:before {\\n  content: \\\"\\\\f217\\\";\\n}\\n.fa-cart-arrow-down:before {\\n  content: \\\"\\\\f218\\\";\\n}\\n.fa-diamond:before {\\n  content: \\\"\\\\f219\\\";\\n}\\n.fa-ship:before {\\n  content: \\\"\\\\f21a\\\";\\n}\\n.fa-user-secret:before {\\n  content: \\\"\\\\f21b\\\";\\n}\\n.fa-motorcycle:before {\\n  content: \\\"\\\\f21c\\\";\\n}\\n.fa-street-view:before {\\n  content: \\\"\\\\f21d\\\";\\n}\\n.fa-heartbeat:before {\\n  content: \\\"\\\\f21e\\\";\\n}\\n.fa-venus:before {\\n  content: \\\"\\\\f221\\\";\\n}\\n.fa-mars:before {\\n  content: \\\"\\\\f222\\\";\\n}\\n.fa-mercury:before {\\n  content: \\\"\\\\f223\\\";\\n}\\n.fa-intersex:before,\\n.fa-transgender:before {\\n  content: \\\"\\\\f224\\\";\\n}\\n.fa-transgender-alt:before {\\n  content: \\\"\\\\f225\\\";\\n}\\n.fa-venus-double:before {\\n  content: \\\"\\\\f226\\\";\\n}\\n.fa-mars-double:before {\\n  content: \\\"\\\\f227\\\";\\n}\\n.fa-venus-mars:before {\\n  content: \\\"\\\\f228\\\";\\n}\\n.fa-mars-stroke:before {\\n  content: \\\"\\\\f229\\\";\\n}\\n.fa-mars-stroke-v:before {\\n  content: \\\"\\\\f22a\\\";\\n}\\n.fa-mars-stroke-h:before {\\n  content: \\\"\\\\f22b\\\";\\n}\\n.fa-neuter:before {\\n  content: \\\"\\\\f22c\\\";\\n}\\n.fa-genderless:before {\\n  content: \\\"\\\\f22d\\\";\\n}\\n.fa-facebook-official:before {\\n  content: \\\"\\\\f230\\\";\\n}\\n.fa-pinterest-p:before {\\n  content: \\\"\\\\f231\\\";\\n}\\n.fa-whatsapp:before {\\n  content: \\\"\\\\f232\\\";\\n}\\n.fa-server:before {\\n  content: \\\"\\\\f233\\\";\\n}\\n.fa-user-plus:before {\\n  content: \\\"\\\\f234\\\";\\n}\\n.fa-user-times:before {\\n  content: \\\"\\\\f235\\\";\\n}\\n.fa-hotel:before,\\n.fa-bed:before {\\n  content: \\\"\\\\f236\\\";\\n}\\n.fa-viacoin:before {\\n  content: \\\"\\\\f237\\\";\\n}\\n.fa-train:before {\\n  content: \\\"\\\\f238\\\";\\n}\\n.fa-subway:before {\\n  content: \\\"\\\\f239\\\";\\n}\\n.fa-medium:before {\\n  content: \\\"\\\\f23a\\\";\\n}\\n.fa-yc:before,\\n.fa-y-combinator:before {\\n  content: \\\"\\\\f23b\\\";\\n}\\n.fa-optin-monster:before {\\n  content: \\\"\\\\f23c\\\";\\n}\\n.fa-opencart:before {\\n  content: \\\"\\\\f23d\\\";\\n}\\n.fa-expeditedssl:before {\\n  content: \\\"\\\\f23e\\\";\\n}\\n.fa-battery-4:before,\\n.fa-battery:before,\\n.fa-battery-full:before {\\n  content: \\\"\\\\f240\\\";\\n}\\n.fa-battery-3:before,\\n.fa-battery-three-quarters:before {\\n  content: \\\"\\\\f241\\\";\\n}\\n.fa-battery-2:before,\\n.fa-battery-half:before {\\n  content: \\\"\\\\f242\\\";\\n}\\n.fa-battery-1:before,\\n.fa-battery-quarter:before {\\n  content: \\\"\\\\f243\\\";\\n}\\n.fa-battery-0:before,\\n.fa-battery-empty:before {\\n  content: \\\"\\\\f244\\\";\\n}\\n.fa-mouse-pointer:before {\\n  content: \\\"\\\\f245\\\";\\n}\\n.fa-i-cursor:before {\\n  content: \\\"\\\\f246\\\";\\n}\\n.fa-object-group:before {\\n  content: \\\"\\\\f247\\\";\\n}\\n.fa-object-ungroup:before {\\n  content: \\\"\\\\f248\\\";\\n}\\n.fa-sticky-note:before {\\n  content: \\\"\\\\f249\\\";\\n}\\n.fa-sticky-note-o:before {\\n  content: \\\"\\\\f24a\\\";\\n}\\n.fa-cc-jcb:before {\\n  content: \\\"\\\\f24b\\\";\\n}\\n.fa-cc-diners-club:before {\\n  content: \\\"\\\\f24c\\\";\\n}\\n.fa-clone:before {\\n  content: \\\"\\\\f24d\\\";\\n}\\n.fa-balance-scale:before {\\n  content: \\\"\\\\f24e\\\";\\n}\\n.fa-hourglass-o:before {\\n  content: \\\"\\\\f250\\\";\\n}\\n.fa-hourglass-1:before,\\n.fa-hourglass-start:before {\\n  content: \\\"\\\\f251\\\";\\n}\\n.fa-hourglass-2:before,\\n.fa-hourglass-half:before {\\n  content: \\\"\\\\f252\\\";\\n}\\n.fa-hourglass-3:before,\\n.fa-hourglass-end:before {\\n  content: \\\"\\\\f253\\\";\\n}\\n.fa-hourglass:before {\\n  content: \\\"\\\\f254\\\";\\n}\\n.fa-hand-grab-o:before,\\n.fa-hand-rock-o:before {\\n  content: \\\"\\\\f255\\\";\\n}\\n.fa-hand-stop-o:before,\\n.fa-hand-paper-o:before {\\n  content: \\\"\\\\f256\\\";\\n}\\n.fa-hand-scissors-o:before {\\n  content: \\\"\\\\f257\\\";\\n}\\n.fa-hand-lizard-o:before {\\n  content: \\\"\\\\f258\\\";\\n}\\n.fa-hand-spock-o:before {\\n  content: \\\"\\\\f259\\\";\\n}\\n.fa-hand-pointer-o:before {\\n  content: \\\"\\\\f25a\\\";\\n}\\n.fa-hand-peace-o:before {\\n  content: \\\"\\\\f25b\\\";\\n}\\n.fa-trademark:before {\\n  content: \\\"\\\\f25c\\\";\\n}\\n.fa-registered:before {\\n  content: \\\"\\\\f25d\\\";\\n}\\n.fa-creative-commons:before {\\n  content: \\\"\\\\f25e\\\";\\n}\\n.fa-gg:before {\\n  content: \\\"\\\\f260\\\";\\n}\\n.fa-gg-circle:before {\\n  content: \\\"\\\\f261\\\";\\n}\\n.fa-tripadvisor:before {\\n  content: \\\"\\\\f262\\\";\\n}\\n.fa-odnoklassniki:before {\\n  content: \\\"\\\\f263\\\";\\n}\\n.fa-odnoklassniki-square:before {\\n  content: \\\"\\\\f264\\\";\\n}\\n.fa-get-pocket:before {\\n  content: \\\"\\\\f265\\\";\\n}\\n.fa-wikipedia-w:before {\\n  content: \\\"\\\\f266\\\";\\n}\\n.fa-safari:before {\\n  content: \\\"\\\\f267\\\";\\n}\\n.fa-chrome:before {\\n  content: \\\"\\\\f268\\\";\\n}\\n.fa-firefox:before {\\n  content: \\\"\\\\f269\\\";\\n}\\n.fa-opera:before {\\n  content: \\\"\\\\f26a\\\";\\n}\\n.fa-internet-explorer:before {\\n  content: \\\"\\\\f26b\\\";\\n}\\n.fa-tv:before,\\n.fa-television:before {\\n  content: \\\"\\\\f26c\\\";\\n}\\n.fa-contao:before {\\n  content: \\\"\\\\f26d\\\";\\n}\\n.fa-500px:before {\\n  content: \\\"\\\\f26e\\\";\\n}\\n.fa-amazon:before {\\n  content: \\\"\\\\f270\\\";\\n}\\n.fa-calendar-plus-o:before {\\n  content: \\\"\\\\f271\\\";\\n}\\n.fa-calendar-minus-o:before {\\n  content: \\\"\\\\f272\\\";\\n}\\n.fa-calendar-times-o:before {\\n  content: \\\"\\\\f273\\\";\\n}\\n.fa-calendar-check-o:before {\\n  content: \\\"\\\\f274\\\";\\n}\\n.fa-industry:before {\\n  content: \\\"\\\\f275\\\";\\n}\\n.fa-map-pin:before {\\n  content: \\\"\\\\f276\\\";\\n}\\n.fa-map-signs:before {\\n  content: \\\"\\\\f277\\\";\\n}\\n.fa-map-o:before {\\n  content: \\\"\\\\f278\\\";\\n}\\n.fa-map:before {\\n  content: \\\"\\\\f279\\\";\\n}\\n.fa-commenting:before {\\n  content: \\\"\\\\f27a\\\";\\n}\\n.fa-commenting-o:before {\\n  content: \\\"\\\\f27b\\\";\\n}\\n.fa-houzz:before {\\n  content: \\\"\\\\f27c\\\";\\n}\\n.fa-vimeo:before {\\n  content: \\\"\\\\f27d\\\";\\n}\\n.fa-black-tie:before {\\n  content: \\\"\\\\f27e\\\";\\n}\\n.fa-fonticons:before {\\n  content: \\\"\\\\f280\\\";\\n}\\n.fa-reddit-alien:before {\\n  content: \\\"\\\\f281\\\";\\n}\\n.fa-edge:before {\\n  content: \\\"\\\\f282\\\";\\n}\\n.fa-credit-card-alt:before {\\n  content: \\\"\\\\f283\\\";\\n}\\n.fa-codiepie:before {\\n  content: \\\"\\\\f284\\\";\\n}\\n.fa-modx:before {\\n  content: \\\"\\\\f285\\\";\\n}\\n.fa-fort-awesome:before {\\n  content: \\\"\\\\f286\\\";\\n}\\n.fa-usb:before {\\n  content: \\\"\\\\f287\\\";\\n}\\n.fa-product-hunt:before {\\n  content: \\\"\\\\f288\\\";\\n}\\n.fa-mixcloud:before {\\n  content: \\\"\\\\f289\\\";\\n}\\n.fa-scribd:before {\\n  content: \\\"\\\\f28a\\\";\\n}\\n.fa-pause-circle:before {\\n  content: \\\"\\\\f28b\\\";\\n}\\n.fa-pause-circle-o:before {\\n  content: \\\"\\\\f28c\\\";\\n}\\n.fa-stop-circle:before {\\n  content: \\\"\\\\f28d\\\";\\n}\\n.fa-stop-circle-o:before {\\n  content: \\\"\\\\f28e\\\";\\n}\\n.fa-shopping-bag:before {\\n  content: \\\"\\\\f290\\\";\\n}\\n.fa-shopping-basket:before {\\n  content: \\\"\\\\f291\\\";\\n}\\n.fa-hashtag:before {\\n  content: \\\"\\\\f292\\\";\\n}\\n.fa-bluetooth:before {\\n  content: \\\"\\\\f293\\\";\\n}\\n.fa-bluetooth-b:before {\\n  content: \\\"\\\\f294\\\";\\n}\\n.fa-percent:before {\\n  content: \\\"\\\\f295\\\";\\n}\\n.fa-gitlab:before {\\n  content: \\\"\\\\f296\\\";\\n}\\n.fa-wpbeginner:before {\\n  content: \\\"\\\\f297\\\";\\n}\\n.fa-wpforms:before {\\n  content: \\\"\\\\f298\\\";\\n}\\n.fa-envira:before {\\n  content: \\\"\\\\f299\\\";\\n}\\n.fa-universal-access:before {\\n  content: \\\"\\\\f29a\\\";\\n}\\n.fa-wheelchair-alt:before {\\n  content: \\\"\\\\f29b\\\";\\n}\\n.fa-question-circle-o:before {\\n  content: \\\"\\\\f29c\\\";\\n}\\n.fa-blind:before {\\n  content: \\\"\\\\f29d\\\";\\n}\\n.fa-audio-description:before {\\n  content: \\\"\\\\f29e\\\";\\n}\\n.fa-volume-control-phone:before {\\n  content: \\\"\\\\f2a0\\\";\\n}\\n.fa-braille:before {\\n  content: \\\"\\\\f2a1\\\";\\n}\\n.fa-assistive-listening-systems:before {\\n  content: \\\"\\\\f2a2\\\";\\n}\\n.fa-asl-interpreting:before,\\n.fa-american-sign-language-interpreting:before {\\n  content: \\\"\\\\f2a3\\\";\\n}\\n.fa-deafness:before,\\n.fa-hard-of-hearing:before,\\n.fa-deaf:before {\\n  content: \\\"\\\\f2a4\\\";\\n}\\n.fa-glide:before {\\n  content: \\\"\\\\f2a5\\\";\\n}\\n.fa-glide-g:before {\\n  content: \\\"\\\\f2a6\\\";\\n}\\n.fa-signing:before,\\n.fa-sign-language:before {\\n  content: \\\"\\\\f2a7\\\";\\n}\\n.fa-low-vision:before {\\n  content: \\\"\\\\f2a8\\\";\\n}\\n.fa-viadeo:before {\\n  content: \\\"\\\\f2a9\\\";\\n}\\n.fa-viadeo-square:before {\\n  content: \\\"\\\\f2aa\\\";\\n}\\n.fa-snapchat:before {\\n  content: \\\"\\\\f2ab\\\";\\n}\\n.fa-snapchat-ghost:before {\\n  content: \\\"\\\\f2ac\\\";\\n}\\n.fa-snapchat-square:before {\\n  content: \\\"\\\\f2ad\\\";\\n}\\n.fa-pied-piper:before {\\n  content: \\\"\\\\f2ae\\\";\\n}\\n.fa-first-order:before {\\n  content: \\\"\\\\f2b0\\\";\\n}\\n.fa-yoast:before {\\n  content: \\\"\\\\f2b1\\\";\\n}\\n.fa-themeisle:before {\\n  content: \\\"\\\\f2b2\\\";\\n}\\n.fa-google-plus-circle:before,\\n.fa-google-plus-official:before {\\n  content: \\\"\\\\f2b3\\\";\\n}\\n.fa-fa:before,\\n.fa-font-awesome:before {\\n  content: \\\"\\\\f2b4\\\";\\n}\\n.fa-handshake-o:before {\\n  content: \\\"\\\\f2b5\\\";\\n}\\n.fa-envelope-open:before {\\n  content: \\\"\\\\f2b6\\\";\\n}\\n.fa-envelope-open-o:before {\\n  content: \\\"\\\\f2b7\\\";\\n}\\n.fa-linode:before {\\n  content: \\\"\\\\f2b8\\\";\\n}\\n.fa-address-book:before {\\n  content: \\\"\\\\f2b9\\\";\\n}\\n.fa-address-book-o:before {\\n  content: \\\"\\\\f2ba\\\";\\n}\\n.fa-vcard:before,\\n.fa-address-card:before {\\n  content: \\\"\\\\f2bb\\\";\\n}\\n.fa-vcard-o:before,\\n.fa-address-card-o:before {\\n  content: \\\"\\\\f2bc\\\";\\n}\\n.fa-user-circle:before {\\n  content: \\\"\\\\f2bd\\\";\\n}\\n.fa-user-circle-o:before {\\n  content: \\\"\\\\f2be\\\";\\n}\\n.fa-user-o:before {\\n  content: \\\"\\\\f2c0\\\";\\n}\\n.fa-id-badge:before {\\n  content: \\\"\\\\f2c1\\\";\\n}\\n.fa-drivers-license:before,\\n.fa-id-card:before {\\n  content: \\\"\\\\f2c2\\\";\\n}\\n.fa-drivers-license-o:before,\\n.fa-id-card-o:before {\\n  content: \\\"\\\\f2c3\\\";\\n}\\n.fa-quora:before {\\n  content: \\\"\\\\f2c4\\\";\\n}\\n.fa-free-code-camp:before {\\n  content: \\\"\\\\f2c5\\\";\\n}\\n.fa-telegram:before {\\n  content: \\\"\\\\f2c6\\\";\\n}\\n.fa-thermometer-4:before,\\n.fa-thermometer:before,\\n.fa-thermometer-full:before {\\n  content: \\\"\\\\f2c7\\\";\\n}\\n.fa-thermometer-3:before,\\n.fa-thermometer-three-quarters:before {\\n  content: \\\"\\\\f2c8\\\";\\n}\\n.fa-thermometer-2:before,\\n.fa-thermometer-half:before {\\n  content: \\\"\\\\f2c9\\\";\\n}\\n.fa-thermometer-1:before,\\n.fa-thermometer-quarter:before {\\n  content: \\\"\\\\f2ca\\\";\\n}\\n.fa-thermometer-0:before,\\n.fa-thermometer-empty:before {\\n  content: \\\"\\\\f2cb\\\";\\n}\\n.fa-shower:before {\\n  content: \\\"\\\\f2cc\\\";\\n}\\n.fa-bathtub:before,\\n.fa-s15:before,\\n.fa-bath:before {\\n  content: \\\"\\\\f2cd\\\";\\n}\\n.fa-podcast:before {\\n  content: \\\"\\\\f2ce\\\";\\n}\\n.fa-window-maximize:before {\\n  content: \\\"\\\\f2d0\\\";\\n}\\n.fa-window-minimize:before {\\n  content: \\\"\\\\f2d1\\\";\\n}\\n.fa-window-restore:before {\\n  content: \\\"\\\\f2d2\\\";\\n}\\n.fa-times-rectangle:before,\\n.fa-window-close:before {\\n  content: \\\"\\\\f2d3\\\";\\n}\\n.fa-times-rectangle-o:before,\\n.fa-window-close-o:before {\\n  content: \\\"\\\\f2d4\\\";\\n}\\n.fa-bandcamp:before {\\n  content: \\\"\\\\f2d5\\\";\\n}\\n.fa-grav:before {\\n  content: \\\"\\\\f2d6\\\";\\n}\\n.fa-etsy:before {\\n  content: \\\"\\\\f2d7\\\";\\n}\\n.fa-imdb:before {\\n  content: \\\"\\\\f2d8\\\";\\n}\\n.fa-ravelry:before {\\n  content: \\\"\\\\f2d9\\\";\\n}\\n.fa-eercast:before {\\n  content: \\\"\\\\f2da\\\";\\n}\\n.fa-microchip:before {\\n  content: \\\"\\\\f2db\\\";\\n}\\n.fa-snowflake-o:before {\\n  content: \\\"\\\\f2dc\\\";\\n}\\n.fa-superpowers:before {\\n  content: \\\"\\\\f2dd\\\";\\n}\\n.fa-wpexplorer:before {\\n  content: \\\"\\\\f2de\\\";\\n}\\n.fa-meetup:before {\\n  content: \\\"\\\\f2e0\\\";\\n}\\n.sr-only {\\n  position: absolute;\\n  width: 1px;\\n  height: 1px;\\n  padding: 0;\\n  margin: -1px;\\n  overflow: hidden;\\n  clip: rect(0, 0, 0, 0);\\n  border: 0;\\n}\\n.sr-only-focusable:active,\\n.sr-only-focusable:focus {\\n  position: static;\\n  width: auto;\\n  height: auto;\\n  margin: 0;\\n  overflow: visible;\\n  clip: auto;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../images/layer_line.svg\");\nvar ___CSS_LOADER_URL_IMPORT_1___ = require(\"../images/layer_rect.svg\");\nvar ___CSS_LOADER_URL_IMPORT_2___ = require(\"../images/layer_circle.svg\");\nvar ___CSS_LOADER_URL_IMPORT_3___ = require(\"../images/layer_text.svg\");\nvar ___CSS_LOADER_URL_IMPORT_4___ = require(\"../images/layer_port.svg\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\n// Module\nexports.push([module.id, \".toolbar {\\n  margin: 0;\\n  padding-top: 0;\\n  padding-right: 10px;\\n  top: 0;\\n  right: 0;\\n  left: 220px;\\n  height: 60px;\\n  overflow: visible;\\n  z-index: 1000 !important;\\n  position: absolute;\\n  background-color: #ebf0f5;\\n  border: none !important;\\n}\\n.toolbar * {\\n  outline: none;\\n}\\n.toolbar .group {\\n  padding-right: 20px;\\n  display: inline-block;\\n  vertical-align: top;\\n}\\n.toolbar .group .image-button {\\n  display: inline-block;\\n}\\n.toolbar .group .image-button img {\\n  margin: 5px;\\n  margin-bottom: 0;\\n  padding: 0;\\n  width: 40px;\\n  height: 40px;\\n  position: relative;\\n  display: inline-block;\\n  text-align: center;\\n  color: #777;\\n  font-size: 45px;\\n  transition: all 0.5s;\\n}\\n.toolbar .group .image-button .img_span {\\n  margin: 5px;\\n  margin-bottom: 0;\\n  padding: 0;\\n  width: 40px;\\n  height: 40px;\\n  position: relative;\\n  display: inline-block;\\n  text-align: center;\\n  color: #777;\\n  font-size: 45px;\\n  transition: all 0.5s;\\n}\\n.toolbar .group .image-button div {\\n  color: rgba(0, 0, 0, 0.5);\\n  text-align: center;\\n  font-size: 10px;\\n}\\n.toolbar .group .image-button.disabled {\\n  opacity: 0.2;\\n}\\n.toolbar .group .image-button:not(.disabled) img {\\n  cursor: pointer;\\n}\\n.toolbar .group .image-button:not(.disabled) img:hover {\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\\n}\\n.modal-backdrop.in {\\n  opacity: 0.7;\\n  background-color: black;\\n  transition: opacity 0.4s linear;\\n}\\n.genericDialog .modal-content {\\n  border-radius: 4px;\\n  box-shadow: 0 19px 38px rgba(0, 0, 0, 0.3), 0 15px 12px rgba(0, 0, 0, 0.22);\\n  background-color: #ffffff;\\n}\\n.genericDialog .modal-content .modal-header {\\n  border-bottom: 0;\\n  font-weight: 400;\\n  box-shadow: 0 3px 5px rgba(57, 63, 72, 0.3);\\n}\\n.genericDialog .modal-content .modal-body {\\n  padding: 1px;\\n  min-height: 120px;\\n}\\n.genericDialog .modal-content .modal-body .form-control {\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n  appearance: none;\\n  box-sizing: border-box;\\n  border-radius: 4px;\\n  margin: 0;\\n  padding: 0;\\n  color: #4D4D4D;\\n  display: inline-block;\\n  font: inherit;\\n  border: 1px solid #DFDFDF;\\n  box-shadow: none;\\n  height: 24px;\\n  padding: 0 3px;\\n}\\n.genericDialog .modal-content .modal-body .form-control:focus {\\n  background-color: #f5f5f5;\\n}\\n.genericDialog .modal-content .modal-body .list-group {\\n  overflow-y: auto;\\n  overflow-x: auto;\\n}\\n.genericDialog .modal-content .modal-body .list-group *[data-draw2d=\\\"true\\\"] {\\n  font-weight: bold;\\n  color: #41aaaa;\\n}\\n.genericDialog .modal-content .modal-body .list-group .glyphicon,\\n.genericDialog .modal-content .modal-body .list-group .fa {\\n  font-size: 20px;\\n  padding-right: 10px;\\n  color: #41aaaa;\\n}\\n.genericDialog .modal-content .modal-body .list-group .list-group-item {\\n  background-color: transparent;\\n  font-weight: 300;\\n}\\n.genericDialog .modal-content .modal-body .list-group .list-group-item:hover {\\n  text-decoration: underline;\\n}\\n.genericDialog .modal-content .modal-body .list-group *[data-draw2d=\\\"false\\\"][data-type=\\\"file\\\"] {\\n  color: gray;\\n  cursor: default;\\n  text-decoration: none !important;\\n}\\n.genericDialog .modal-content .modal-body .list-group *[data-draw2d=\\\"false\\\"][data-type=\\\"file\\\"] .fa {\\n  color: gray;\\n}\\n.genericDialog .modal-content .modal-footer {\\n  background-color: transparent;\\n  border-top: 0;\\n}\\n.genericDialog .modal-content .modal-footer .btn {\\n  border: 0;\\n  text-transform: uppercase;\\n  background-color: transparent;\\n  color: #41aaaa;\\n  transition: all 0.5s;\\n}\\n.genericDialog .modal-content .modal-footer .btn:hover {\\n  background-color: rgba(65, 170, 170, 0.04);\\n  transition: all 0.5s;\\n}\\n.genericDialog .modal-content .modal-footer .btn-primary {\\n  font-weight: bold;\\n}\\n#fileOpenDialog .list-group {\\n  height: 60%;\\n}\\n#fileSaveDialog .filePreview {\\n  max-width: 200px;\\n  max-height: 200px;\\n}\\n#fileSaveDialog .modal-body .media {\\n  padding: 20px;\\n}\\n#githubFileSaveAsDialog .filePreview {\\n  max-width: 200px;\\n  max-height: 200px;\\n}\\n#githubFileSaveAsDialog .list-group {\\n  height: 250px;\\n}\\n#canvas_zoom {\\n  position: fixed;\\n  bottom: 20px;\\n  right: 270px;\\n  background-color: rgba(235, 240, 245, 0.3);\\n  border-radius: 5px;\\n}\\n#canvas_zoom button {\\n  background-color: transparent;\\n  font-weight: 300;\\n  padding: 5px;\\n  padding-left: 10px;\\n  padding-right: 10px;\\n  border: 1px solid transparent;\\n  outline: none;\\n  transition: all 0.5s;\\n}\\n#canvas_zoom button:hover {\\n  border: 1px solid #41aaaa;\\n}\\n/***BOOTSTRAP****/\\n.btn {\\n  border-radius: 0 !important;\\n}\\n.tooltip-inner {\\n  border-radius: 0 !important;\\n  padding: 10px !important;\\n  padding-top: 5px !important;\\n  padding-bottom: 5px !important;\\n  font-family: 'Roboto', sans-serif !important;\\n  font-weight: 300 !important;\\n  font-size: 14px !important;\\n  color: #b0b0b0 !important;\\n}\\n/********/\\nbody {\\n  overflow: hidden;\\n  font-family: 'Roboto', sans-serif !important;\\n  font-weight: 300;\\n}\\ninput {\\n  background: none repeat scroll 0 0 #f8f8f8;\\n  border-color: #C6C6C6 #DADADA #EAEAEA;\\n  border-radius: 4px 4px 4px 4px;\\n  -moz-box-sizing: border-box;\\n  padding-left: 7px;\\n  border-style: solid ;\\n  border-width: 1px;\\n  vertical-align: middle;\\n  height: 25px;\\n  font-size: 14px;\\n  line-height: 25px;\\n}\\n.input-block-level {\\n  display: block;\\n  width: 100%;\\n  min-height: 28px;\\n}\\n.control-label {\\n  font-family: 'Roboto', sans-serif;\\n  font-weight: 300;\\n}\\n/******************************************************************\\n * Einstellungen der PropertyViews im Editmodus der \\\"Form\\\".\\n ******************************************************************/\\n.palette_node_element {\\n  width: 48px;\\n  height: 48px;\\n  cursor: move;\\n  margin: 10px auto 10px auto;\\n}\\n.tooltip {\\n  z-index: 1000000;\\n}\\n/* Effects */\\n.overlay-scale {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 10000;\\n  visibility: hidden;\\n  opacity: 0;\\n  -webkit-transform: scale(0.9);\\n  transform: scale(0.9);\\n  -webkit-transition: all 0.4s;\\n  transition: all 0.4s;\\n}\\n.overlay-scale.open {\\n  visibility: visible;\\n  opacity: 1;\\n  -webkit-transform: scale(1);\\n  transform: scale(1);\\n  -webkit-transition: all 0.4s;\\n  transition: all 0.4s;\\n}\\n.readonly-highlight {\\n  background-color: rgba(50, 43, 168, 0.5);\\n  opacity: 0.2;\\n  color: darkblue;\\n  position: absolute;\\n}\\n#canvas {\\n  padding: 0;\\n  margin: 0;\\n  border: 0;\\n  position: absolute;\\n  top: 60px;\\n  right: 250px;\\n  left: 220px;\\n  bottom: 0;\\n  overflow: scroll;\\n  background-color: #FFFFFF;\\n}\\n#canvas_config {\\n  position: fixed;\\n  width: 40px;\\n  top: 65px;\\n  left: 225px;\\n  cursor: pointer;\\n  border: 1px solid transparent;\\n  background-color: rgba(235, 240, 245, 0.3);\\n}\\n#canvas_config:hover {\\n  border: 1px solid #41aaaa !important;\\n}\\n#canvas_config:hover {\\n  color: #41aaaa;\\n}\\n#canvas_config_items {\\n  position: fixed;\\n  top: 90px;\\n  left: 225px;\\n  cursor: pointer;\\n  padding: 10px;\\n  white-space: nowrap;\\n  min-width: 250px;\\n}\\n.layer-name-prompt .modal-title {\\n  font-weight: 100;\\n}\\n.layer-name-prompt .modal-footer {\\n  border: 0;\\n}\\n.layer-name-prompt .modal-header {\\n  border-bottom: 3px solid #41aaaa;\\n}\\n.layer-name-prompt input {\\n  outline: none !important;\\n  -webkit-box-shadow: inset !important;\\n  box-shadow: inset !important;\\n  background-color: rgba(0, 0, 0, 0.02) !important;\\n  border-radius: 1px !important;\\n}\\n.layer-name-prompt input:focus {\\n  border: 1px solid #41aaaa;\\n}\\n.layer-name-prompt .btn-primary {\\n  background-color: #41aaaa;\\n  border: 0;\\n}\\n.layer-name-prompt .btn-primary:hover {\\n  background-color: #338585;\\n}\\n#layer {\\n  padding: 0;\\n  margin: 0;\\n  border: 0;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  bottom: 0;\\n  width: 220px;\\n  background-color: #ffffff;\\n  text-align: center;\\n  box-shadow: 5px 0 20px -3px rgba(31, 73, 125, 0.3);\\n  z-index: 1;\\n}\\n#layer .title {\\n  left: 10px;\\n  right: 0px;\\n  top: 10px;\\n  position: absolute;\\n}\\n#layer .title img {\\n  padding-right: 20px;\\n  position: absolute;\\n  left: 10px;\\n  max-height: 28px;\\n}\\n#layer .title div {\\n  position: absolute;\\n  left: 90px;\\n}\\n#layer .title div h1 {\\n  font-size: 25px;\\n  font-weight: 200;\\n  line-height: 45px;\\n  margin: 0;\\n  padding: 0;\\n  text-align: left;\\n}\\n#layer .title div h2 {\\n  font-size: 15px;\\n  font-weight: 200;\\n  margin: 0;\\n  padding: 0;\\n  text-align: left;\\n}\\n#layer .panetitle {\\n  position: fixed;\\n  height: 30px;\\n  width: 220px;\\n  top: 60px;\\n  border-bottom: 1px solid #222222;\\n  font-weight: 500;\\n  font-size: 12px;\\n  padding: 4px 4px 4px 20px;\\n  letter-spacing: 5px;\\n  text-align: left;\\n  color: #41aaaa;\\n  box-shadow: 0 4px 2px -2px rgba(31, 73, 125, 0.3);\\n}\\n#layer #layer_elements {\\n  padding: 0;\\n  margin: 0;\\n  border: 0;\\n  position: fixed;\\n  top: 90px;\\n  left: 0;\\n  bottom: 0;\\n  width: 220px;\\n  overflow: auto;\\n}\\n#layer #layer_elements .layerElement {\\n  background-color: #fafafa;\\n  color: black;\\n  cursor: move;\\n  font-weight: 400;\\n  font-size: 12px;\\n  letter-spacing: 1px;\\n  padding: 4px 4px 4px 5px;\\n  text-align: left;\\n  border: 1px solid transparent;\\n  border-bottom: 1px solid #222222;\\n}\\n#layer #layer_elements .layerElement::before {\\n  content: \\\"\\\";\\n  display: block;\\n  width: 20px;\\n  height: 20px;\\n  float: left;\\n  margin-right: 5px;\\n}\\n#layer #layer_elements .layerElement.ExtLine::before {\\n  background: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") no-repeat;\\n  background-size: cover;\\n}\\n#layer #layer_elements .layerElement.PolyRect::before {\\n  background: url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \") no-repeat;\\n  background-size: cover;\\n}\\n#layer #layer_elements .layerElement.PolyCircle::before {\\n  background: url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \") no-repeat;\\n  background-size: cover;\\n}\\n#layer #layer_elements .layerElement.ExtLabel::before {\\n  background: url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \") no-repeat;\\n  background-size: cover;\\n}\\n#layer #layer_elements .layerElement.ExtPort::before {\\n  background: url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \") no-repeat;\\n  background-size: cover;\\n}\\n#layer #layer_elements .layerElement[data-visibility=\\\"false\\\"] {\\n  opacity: 0.5;\\n  font-style: italic;\\n}\\n#layer #layer_elements .layerElement .icon {\\n  cursor: pointer;\\n  padding-right: 4px;\\n  width: 20px;\\n  height: 20px;\\n}\\n#layer #layer_elements .layerElement .icon * {\\n  stroke: black !important;\\n}\\n#layer #layer_elements .layerElement .icon:hover * {\\n  stroke: #41aaaa !important;\\n}\\n#layer #layer_elements .layerSelectedElement {\\n  background-color: #f5f5f5;\\n  color: black;\\n  border-style: dotted;\\n  border-width: 1px;\\n  border-color: #41aaaa;\\n  font-weight: 600;\\n}\\n#code_overlay {\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  width: 100%;\\n  height: 100%;\\n  background-color: white;\\n  z-index: 10000;\\n}\\n#code_close {\\n  position: fixed;\\n  right: 40px;\\n  top: 10px;\\n  width: 32px;\\n  height: 32px;\\n  z-index: 10000;\\n  cursor: pointer;\\n  font-size: 50px;\\n}\\n#code_close:hover {\\n  color: #41aaaa;\\n}\\n#test_run {\\n  position: fixed;\\n  right: 90px;\\n  top: 10px;\\n  width: 32px;\\n  height: 32px;\\n  z-index: 10000;\\n  cursor: pointer;\\n  font-size: 50px;\\n}\\n#test_run:hover {\\n  color: #41aaaa;\\n}\\n#test_info {\\n  position: absolute;\\n  color: black;\\n  z-index: 20000;\\n  top: 20px;\\n  left: 20px;\\n  border: 1px solid lightgray;\\n  padding: 7px;\\n  background-color: white;\\n  border-radius: 2px;\\n}\\n#test_canvas {\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  width: 100%;\\n  height: 100%;\\n  background-color: white;\\n  z-index: 10000;\\n}\\n#test_close {\\n  position: fixed;\\n  right: 40px;\\n  top: 10px;\\n  width: 32px;\\n  height: 32px;\\n  z-index: 10000;\\n  cursor: pointer;\\n  font-size: 50px;\\n}\\n#test_close:hover {\\n  color: #41aaaa;\\n}\\n#test_clipboard {\\n  position: fixed;\\n  right: 100px;\\n  top: 10px;\\n  width: 32px;\\n  height: 32px;\\n  z-index: 10000;\\n  cursor: pointer;\\n  font-size: 50px;\\n}\\n#test_clipboard:hover {\\n  color: #41aaaa;\\n}\\n.portDirectionOption {\\n  height: 60px;\\n  text-align: center;\\n}\\n.portDirectionOption label > input {\\n  /* HIDE RADIO */\\n  display: none;\\n}\\n.portDirectionOption label > input + span {\\n  /* IMAGE STYLES */\\n  cursor: pointer;\\n  color: gray !important;\\n  padding-right: 5px;\\n}\\n.portDirectionOption label > input:checked + span {\\n  /* (CHECKED) IMAGE STYLES */\\n  color: #41aaaa !important;\\n}\\n.portTypeOption {\\n  height: 65px;\\n  padding-left: 60px;\\n}\\n.portTypeOption label > input {\\n  /* HIDE RADIO */\\n  display: none;\\n}\\n.portTypeOption label > input + span {\\n  /* IMAGE STYLES */\\n  cursor: pointer;\\n  color: gray !important;\\n  padding-right: 5px;\\n  font-weight: 100;\\n  font-size: 14px;\\n}\\n.portTypeOption label > input + span:before {\\n  padding-right: 10px;\\n}\\n.portTypeOption label > input:checked + span {\\n  /* (CHECKED) IMAGE STYLES */\\n  color: #41aaaa !important;\\n}\\n#filter {\\n  position: absolute;\\n  top: 60px;\\n  right: 0;\\n  bottom: 0;\\n  width: 250px;\\n  padding: 0;\\n  margin: 0;\\n  border-radius: 0;\\n  border: 0;\\n  background-color: #282a30;\\n}\\n#filter .filter_header {\\n  background: none repeat scroll 0 0 #303030;\\n  position: fixed;\\n  height: 30px;\\n  width: 250px;\\n  top: 60px;\\n  border-bottom: 1px solid #222222;\\n  border-top: 1px solid #111111;\\n  font-weight: 500;\\n  font-size: 12px;\\n  padding-top: 5px;\\n  letter-spacing: 5px;\\n  text-align: center;\\n  color: #41aaaa;\\n}\\n#filter .filter_toolbar {\\n  overflow: visible;\\n  border: 0;\\n  padding: 3px;\\n  padding-left: 10px;\\n  position: absolute;\\n  bottom: 0;\\n  right: 0;\\n  width: 250px;\\n  height: 30px;\\n  background: none repeat scroll 0 0 #303030;\\n}\\n#filter .filter_actions {\\n  position: fixed;\\n  top: 90px;\\n  bottom: 30px;\\n  width: 250px;\\n  border: 0;\\n  padding: 0;\\n  overflow-y: auto;\\n}\\n#filter .filter_actions .panel-body {\\n  padding: 7px;\\n  padding-top: 0;\\n}\\n#filter .filter_actions .form-group {\\n  margin-bottom: 2px !important;\\n}\\n#filter .filter_actions .form-group > .input-group {\\n  margin-bottom: 10px;\\n}\\n#filter .filter_actions .form-group > .input-group:last-child {\\n  margin-bottom: 0px;\\n}\\n#filter .filter_actions .icon {\\n  color: #26B4A8;\\n  padding: 0;\\n  top: -4px;\\n  color: rgba(255, 255, 255, 0.25);\\n}\\n#filter .filter_actions .icon:hover {\\n  color: #41aaaa;\\n}\\n#filter .filter_actions .filter-heading {\\n  color: #DDDDDD !important;\\n  font-size: 12px;\\n  padding-right: 10px !important;\\n  padding-top: 1px !important;\\n  padding-bottom: 0 !important;\\n  background-color: transparent !important;\\n  background-image: none !important;\\n  border: 0 !important;\\n  margin-top: 4px;\\n  cursor: pointer;\\n  font-weight: 300;\\n}\\n#filter .filter_actions .filter-heading .icon {\\n  width: 15px;\\n}\\n#filter .filter_actions .filter-heading .icon * {\\n  stroke: white !important;\\n}\\n#filter .form-control {\\n  height: 25px;\\n}\\n#filter .btn {\\n  padding-left: 5px;\\n  padding-right: 5px;\\n  padding-top: 1px;\\n  padding-bottom: 2px;\\n}\\n#filter .input-group-addon {\\n  padding: 0;\\n  padding-left: 5px;\\n  padding-right: 5px;\\n  color: rgba(0, 0, 0, 0.3);\\n  background-color: white;\\n  border-left: 0;\\n  border-radius: 0;\\n  font-weight: 100;\\n  text-transform: lowercase;\\n  font-size: 12px;\\n}\\n#filter .panel-default {\\n  margin: 0;\\n  border-radius: 0;\\n  background-color: rgba(65, 170, 170, 0.02);\\n  border: 0;\\n  border-top: 1px solid #303030;\\n  border-bottom: 1px solid #202525;\\n  margin-top: 3px;\\n}\\n#FigureMarkdownEdit .header {\\n  width: 100%;\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  display: inline-block;\\n  height: 60px;\\n  background-color: white;\\n  overflow: hidden;\\n}\\n#FigureMarkdownEdit .header .left {\\n  width: 50%;\\n  display: inline-block;\\n  height: 60px;\\n  font-size: 20px;\\n  padding: 6px;\\n  color: #CC4F5A;\\n  background-color: rgba(0, 0, 0, 0.1);\\n  vertical-align: top;\\n}\\n#FigureMarkdownEdit .header .left small {\\n  font-size: 16px;\\n}\\n#FigureMarkdownEdit .header .right {\\n  width: 50%;\\n  display: inline-block;\\n  height: 60px;\\n  font-size: 20px;\\n  padding: 6px;\\n  color: #CC4F5A;\\n  background-color: rgba(0, 0, 0, 0.05);\\n  vertical-align: top;\\n}\\n#FigureMarkdownEdit .source {\\n  width: 50%;\\n  display: inline-block;\\n  font-family: Menlo, Monaco, Consolas, \\\"Courier New\\\", monospace;\\n  font-size: 13px;\\n  padding: 2px;\\n  top: 60px;\\n  bottom: 0px;\\n  position: absolute;\\n}\\n#FigureMarkdownEdit .preview {\\n  width: 50%;\\n  display: inline-block;\\n  top: 0px;\\n  left: 50%;\\n  position: absolute;\\n  background-color: white;\\n  padding: 30px;\\n  overflow: auto;\\n  top: 60px;\\n  bottom: 0px;\\n}\\n#FigureMarkdownEdit .preview img {\\n  max-width: 35%;\\n}\\n#FigureMarkdownEdit .preview table {\\n  font-family: Arial, Helvetica, sans-serif;\\n  color: #666;\\n  font-size: 12px;\\n  text-shadow: 1px 1px 0px #fff;\\n  background: #eaebec;\\n  margin: 20px;\\n  margin-left: 0;\\n  border: #ccc 1px solid;\\n  -moz-border-radius: 3px;\\n  -webkit-border-radius: 3px;\\n  border-radius: 3px;\\n  -moz-box-shadow: 0 1px 2px #d1d1d1;\\n  -webkit-box-shadow: 0 1px 2px #d1d1d1;\\n  box-shadow: 0 1px 2px #d1d1d1;\\n}\\n#FigureMarkdownEdit .preview table th {\\n  padding: 21px 25px 22px 25px;\\n  border-top: 1px solid #fafafa;\\n  border-bottom: 1px solid #e0e0e0;\\n}\\n#FigureMarkdownEdit .preview table th:first-child {\\n  text-align: left;\\n  padding-left: 20px;\\n}\\n#FigureMarkdownEdit .preview table tr:first-child th:first-child {\\n  -moz-border-radius-topleft: 3px;\\n  -webkit-border-top-left-radius: 3px;\\n  border-top-left-radius: 3px;\\n}\\n#FigureMarkdownEdit .preview table tr:first-child th:last-child {\\n  -moz-border-radius-topright: 3px;\\n  -webkit-border-top-right-radius: 3px;\\n  border-top-right-radius: 3px;\\n}\\n#FigureMarkdownEdit .preview table tr {\\n  text-align: center;\\n  padding-left: 20px;\\n}\\n#FigureMarkdownEdit .preview table tr td:first-child {\\n  text-align: left;\\n  padding-left: 20px;\\n  border-left: 0;\\n}\\n#FigureMarkdownEdit .preview table tr td {\\n  padding: 18px;\\n  border-top: 1px solid #ffffff;\\n  border-bottom: 1px solid #e0e0e0;\\n  border-left: 1px solid #e0e0e0;\\n}\\n#FigureMarkdownEdit .preview tbody tr:nth-child(odd) {\\n  background: #fafafa;\\n}\\n#FigureMarkdownEdit .preview tbody tr:nth-child(even) {\\n  background: #f3f3f3;\\n}\\n#FigureMarkdownEdit .preview table tr:last-child td {\\n  border-bottom: 0;\\n}\\n#FigureMarkdownEdit .preview table tr:last-child td:first-child {\\n  -moz-border-radius-bottomleft: 3px;\\n  -webkit-border-bottom-left-radius: 3px;\\n  border-bottom-left-radius: 3px;\\n}\\n#FigureMarkdownEdit .preview table tr:last-child td:last-child {\\n  -moz-border-radius-bottomright: 3px;\\n  -webkit-border-bottom-right-radius: 3px;\\n  border-bottom-right-radius: 3px;\\n}\\n.ui-anglepicker {\\n  width: 52px;\\n  height: 52px;\\n  background: #dbdbdb;\\n  background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2RiZGJkYiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjIwJSIgc3RvcC1jb2xvcj0iI2UxZTFkZSIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmOGY4ZjMiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);\\n  background: -moz-linear-gradient(top, #dbdbdb 0%, #e1e1de 20%, #f8f8f3 100%);\\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #dbdbdb), color-stop(20%, #e1e1de), color-stop(100%, #f8f8f3));\\n  background: -webkit-linear-gradient(top, #dbdbdb 0%, #e1e1de 20%, #f8f8f3 100%);\\n  background: -o-linear-gradient(top, #dbdbdb 0%, #e1e1de 20%, #f8f8f3 100%);\\n  background: -ms-linear-gradient(top, #dbdbdb 0%, #e1e1de 20%, #f8f8f3 100%);\\n  background: linear-gradient(to bottom, #dbdbdb 0%, #e1e1de 20%, #f8f8f3 100%);\\n  border: 2px solid #666;\\n  -moz-box-shadow: inset 0 2px 3px white, inset 0 -1px 2px #fffef8;\\n  -webkit-box-shadow: inset 0 2px 3px white, inset 0 -1px 2px #fffef8;\\n  box-shadow: inset 0 2px 3px white, inset 0 -1px 2px #fffef8;\\n  -moz-border-radius: 50%;\\n  -webkit-border-radius: 50%;\\n  border-radius: 50%;\\n  position: relative;\\n  display: inline-block;\\n}\\n.ui-anglepicker-pointer {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  width: 50%;\\n  margin: -2px 0 0 -2px;\\n  -moz-transform-origin: 2px 2px;\\n  -webkit-transform-origin: 2px 2px;\\n  -ms-transform-origin: 2px 2px;\\n  -o-transform-origin: 2px 2px;\\n  transform-origin: 2px 2px;\\n}\\n.ui-anglepicker:hover,\\n.ui-anglepicker.ui-anglepicker-dragging {\\n  border-color: #494949;\\n}\\n.ui-anglepicker-dragging .ui-anglepicker-dot,\\n.ui-anglepicker-dragging .ui-anglepicker-line,\\n.ui-anglepicker:hover .ui-anglepicker-dot,\\n.ui-anglepicker:hover .ui-anglepicker-line {\\n  background: #494949;\\n}\\n.ui-anglepicker-dot {\\n  height: 4px;\\n  width: 4px;\\n  position: absolute;\\n  background: #838383;\\n  -moz-border-radius: 50%;\\n  -webkit-border-radius: 50%;\\n  border-radius: 50%;\\n}\\n.ui-anglepicker-line {\\n  margin-top: 1.5px;\\n  margin-right: -2px;\\n  height: 1px;\\n  background: #838383;\\n}\\n#tool_shape.open .dropdown-menu {\\n  -webkit-transform: scale(1, 1);\\n  opacity: 1;\\n  transform: scale(1, 1);\\n}\\n#tool_shape .dropdown-menu {\\n  opacity: 0.1;\\n  animation-fill-mode: forwards;\\n  transform: scale(1, 0);\\n  transform-origin: 0 0 ;\\n  display: block;\\n  transition: all 0.2s ease;\\n}\\n#tool_shape .tool_shape_entry {\\n  text-align: left;\\n}\\n#tool_shape .tool_shape_entry img {\\n  height: 30px;\\n  padding-right: 20px;\\n}\\n#tool_shape .tool_shape_entry .tool_label {\\n  min-width: 95px;\\n  display: inline-block;\\n}\\n#tool_shape .tool_shape_entry .tool_shortcut {\\n  color: rgba(0, 0, 0, 0.5);\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = url && url.__esModule ? url.default : url;\n\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};","\nvar content = require(\"!!../../css-loader/dist/cjs.js!./font-awesome.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../css-loader/dist/cjs.js!./font-awesome.css\", function() {\n\t\tvar newContent = require(\"!!../../css-loader/dist/cjs.js!./font-awesome.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","module.exports = \"js/webpack/674f50d287a8c48dc19ba404d20fe713.eot\";","module.exports = \"js/webpack/674f50d287a8c48dc19ba404d20fe713.eot\";","module.exports = \"js/webpack/912ec66d7572ff821749319396470bde.svg\";","module.exports = \"js/webpack/b06871f281fee6b241d60582ae9369b9.ttf\";","module.exports = \"js/webpack/af7ae505a9eed503f8b8e6982036873e.woff2\";","module.exports = \"js/webpack/fee66e712a8a08eef5805a46892932ad.woff\";","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n(function (Hogan) {\n  // Setup regex  assignments\n  // remove whitespace according to Mustache spec\n  var rIsWhitespace = /\\S/,\n      rQuot = /\\\"/g,\n      rNewline =  /\\n/g,\n      rCr = /\\r/g,\n      rSlash = /\\\\/g,\n      rLineSep = /\\u2028/,\n      rParagraphSep = /\\u2029/;\n\n  Hogan.tags = {\n    '#': 1, '^': 2, '<': 3, '$': 4,\n    '/': 5, '!': 6, '>': 7, '=': 8, '_v': 9,\n    '{': 10, '&': 11, '_t': 12\n  };\n\n  Hogan.scan = function scan(text, delimiters) {\n    var len = text.length,\n        IN_TEXT = 0,\n        IN_TAG_TYPE = 1,\n        IN_TAG = 2,\n        state = IN_TEXT,\n        tagType = null,\n        tag = null,\n        buf = '',\n        tokens = [],\n        seenTag = false,\n        i = 0,\n        lineStart = 0,\n        otag = '{{',\n        ctag = '}}';\n\n    function addBuf() {\n      if (buf.length > 0) {\n        tokens.push({tag: '_t', text: new String(buf)});\n        buf = '';\n      }\n    }\n\n    function lineIsWhitespace() {\n      var isAllWhitespace = true;\n      for (var j = lineStart; j < tokens.length; j++) {\n        isAllWhitespace =\n          (Hogan.tags[tokens[j].tag] < Hogan.tags['_v']) ||\n          (tokens[j].tag == '_t' && tokens[j].text.match(rIsWhitespace) === null);\n        if (!isAllWhitespace) {\n          return false;\n        }\n      }\n\n      return isAllWhitespace;\n    }\n\n    function filterLine(haveSeenTag, noNewLine) {\n      addBuf();\n\n      if (haveSeenTag && lineIsWhitespace()) {\n        for (var j = lineStart, next; j < tokens.length; j++) {\n          if (tokens[j].text) {\n            if ((next = tokens[j+1]) && next.tag == '>') {\n              // set indent to token value\n              next.indent = tokens[j].text.toString()\n            }\n            tokens.splice(j, 1);\n          }\n        }\n      } else if (!noNewLine) {\n        tokens.push({tag:'\\n'});\n      }\n\n      seenTag = false;\n      lineStart = tokens.length;\n    }\n\n    function changeDelimiters(text, index) {\n      var close = '=' + ctag,\n          closeIndex = text.indexOf(close, index),\n          delimiters = trim(\n            text.substring(text.indexOf('=', index) + 1, closeIndex)\n          ).split(' ');\n\n      otag = delimiters[0];\n      ctag = delimiters[delimiters.length - 1];\n\n      return closeIndex + close.length - 1;\n    }\n\n    if (delimiters) {\n      delimiters = delimiters.split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[1];\n    }\n\n    for (i = 0; i < len; i++) {\n      if (state == IN_TEXT) {\n        if (tagChange(otag, text, i)) {\n          --i;\n          addBuf();\n          state = IN_TAG_TYPE;\n        } else {\n          if (text.charAt(i) == '\\n') {\n            filterLine(seenTag);\n          } else {\n            buf += text.charAt(i);\n          }\n        }\n      } else if (state == IN_TAG_TYPE) {\n        i += otag.length - 1;\n        tag = Hogan.tags[text.charAt(i + 1)];\n        tagType = tag ? text.charAt(i + 1) : '_v';\n        if (tagType == '=') {\n          i = changeDelimiters(text, i);\n          state = IN_TEXT;\n        } else {\n          if (tag) {\n            i++;\n          }\n          state = IN_TAG;\n        }\n        seenTag = i;\n      } else {\n        if (tagChange(ctag, text, i)) {\n          tokens.push({tag: tagType, n: trim(buf), otag: otag, ctag: ctag,\n                       i: (tagType == '/') ? seenTag - otag.length : i + ctag.length});\n          buf = '';\n          i += ctag.length - 1;\n          state = IN_TEXT;\n          if (tagType == '{') {\n            if (ctag == '}}') {\n              i++;\n            } else {\n              cleanTripleStache(tokens[tokens.length - 1]);\n            }\n          }\n        } else {\n          buf += text.charAt(i);\n        }\n      }\n    }\n\n    filterLine(seenTag, true);\n\n    return tokens;\n  }\n\n  function cleanTripleStache(token) {\n    if (token.n.substr(token.n.length - 1) === '}') {\n      token.n = token.n.substring(0, token.n.length - 1);\n    }\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  function tagChange(tag, text, index) {\n    if (text.charAt(index) != tag.charAt(0)) {\n      return false;\n    }\n\n    for (var i = 1, l = tag.length; i < l; i++) {\n      if (text.charAt(index + i) != tag.charAt(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  // the tags allowed inside super templates\n  var allowedInSuper = {'_t': true, '\\n': true, '$': true, '/': true};\n\n  function buildTree(tokens, kind, stack, customTags) {\n    var instructions = [],\n        opener = null,\n        tail = null,\n        token = null;\n\n    tail = stack[stack.length - 1];\n\n    while (tokens.length > 0) {\n      token = tokens.shift();\n\n      if (tail && tail.tag == '<' && !(token.tag in allowedInSuper)) {\n        throw new Error('Illegal content in < super tag.');\n      }\n\n      if (Hogan.tags[token.tag] <= Hogan.tags['$'] || isOpener(token, customTags)) {\n        stack.push(token);\n        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n      } else if (token.tag == '/') {\n        if (stack.length === 0) {\n          throw new Error('Closing tag without opener: /' + token.n);\n        }\n        opener = stack.pop();\n        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n        }\n        opener.end = token.i;\n        return instructions;\n      } else if (token.tag == '\\n') {\n        token.last = (tokens.length == 0) || (tokens[0].tag == '\\n');\n      }\n\n      instructions.push(token);\n    }\n\n    if (stack.length > 0) {\n      throw new Error('missing closing tag: ' + stack.pop().n);\n    }\n\n    return instructions;\n  }\n\n  function isOpener(token, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].o == token.n) {\n        token.tag = '#';\n        return true;\n      }\n    }\n  }\n\n  function isCloser(close, open, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].c == close && tags[i].o == open) {\n        return true;\n      }\n    }\n  }\n\n  function stringifySubstitutions(obj) {\n    var items = [];\n    for (var key in obj) {\n      items.push('\"' + esc(key) + '\": function(c,p,t,i) {' + obj[key] + '}');\n    }\n    return \"{ \" + items.join(\",\") + \" }\";\n  }\n\n  function stringifyPartials(codeObj) {\n    var partials = [];\n    for (var key in codeObj.partials) {\n      partials.push('\"' + esc(key) + '\":{name:\"' + esc(codeObj.partials[key].name) + '\", ' + stringifyPartials(codeObj.partials[key]) + \"}\");\n    }\n    return \"partials: {\" + partials.join(\",\") + \"}, subs: \" + stringifySubstitutions(codeObj.subs);\n  }\n\n  Hogan.stringify = function(codeObj, text, options) {\n    return \"{code: function (c,p,i) { \" + Hogan.wrapMain(codeObj.code) + \" },\" + stringifyPartials(codeObj) +  \"}\";\n  }\n\n  var serialNo = 0;\n  Hogan.generate = function(tree, text, options) {\n    serialNo = 0;\n    var context = { code: '', subs: {}, partials: {} };\n    Hogan.walk(tree, context);\n\n    if (options.asString) {\n      return this.stringify(context, text, options);\n    }\n\n    return this.makeTemplate(context, text, options);\n  }\n\n  Hogan.wrapMain = function(code) {\n    return 'var t=this;t.b(i=i||\"\");' + code + 'return t.fl();';\n  }\n\n  Hogan.template = Hogan.Template;\n\n  Hogan.makeTemplate = function(codeObj, text, options) {\n    var template = this.makePartials(codeObj);\n    template.code = new Function('c', 'p', 'i', this.wrapMain(codeObj.code));\n    return new this.template(template, text, this, options);\n  }\n\n  Hogan.makePartials = function(codeObj) {\n    var key, template = {subs: {}, partials: codeObj.partials, name: codeObj.name};\n    for (key in template.partials) {\n      template.partials[key] = this.makePartials(template.partials[key]);\n    }\n    for (key in codeObj.subs) {\n      template.subs[key] = new Function('c', 'p', 't', 'i', codeObj.subs[key]);\n    }\n    return template;\n  }\n\n  function esc(s) {\n    return s.replace(rSlash, '\\\\\\\\')\n            .replace(rQuot, '\\\\\\\"')\n            .replace(rNewline, '\\\\n')\n            .replace(rCr, '\\\\r')\n            .replace(rLineSep, '\\\\u2028')\n            .replace(rParagraphSep, '\\\\u2029');\n  }\n\n  function chooseMethod(s) {\n    return (~s.indexOf('.')) ? 'd' : 'f';\n  }\n\n  function createPartial(node, context) {\n    var prefix = \"<\" + (context.prefix || \"\");\n    var sym = prefix + node.n + serialNo++;\n    context.partials[sym] = {name: node.n, partials: {}};\n    context.code += 't.b(t.rp(\"' +  esc(sym) + '\",c,p,\"' + (node.indent || '') + '\"));';\n    return sym;\n  }\n\n  Hogan.codegen = {\n    '#': function(node, context) {\n      context.code += 'if(t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),' +\n                      'c,p,0,' + node.i + ',' + node.end + ',\"' + node.otag + \" \" + node.ctag + '\")){' +\n                      't.rs(c,p,' + 'function(c,p,t){';\n      Hogan.walk(node.nodes, context);\n      context.code += '});c.pop();}';\n    },\n\n    '^': function(node, context) {\n      context.code += 'if(!t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),c,p,1,0,0,\"\")){';\n      Hogan.walk(node.nodes, context);\n      context.code += '};';\n    },\n\n    '>': createPartial,\n    '<': function(node, context) {\n      var ctx = {partials: {}, code: '', subs: {}, inPartial: true};\n      Hogan.walk(node.nodes, ctx);\n      var template = context.partials[createPartial(node, context)];\n      template.subs = ctx.subs;\n      template.partials = ctx.partials;\n    },\n\n    '$': function(node, context) {\n      var ctx = {subs: {}, code: '', partials: context.partials, prefix: node.n};\n      Hogan.walk(node.nodes, ctx);\n      context.subs[node.n] = ctx.code;\n      if (!context.inPartial) {\n        context.code += 't.sub(\"' + esc(node.n) + '\",c,p,i);';\n      }\n    },\n\n    '\\n': function(node, context) {\n      context.code += write('\"\\\\n\"' + (node.last ? '' : ' + i'));\n    },\n\n    '_v': function(node, context) {\n      context.code += 't.b(t.v(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n    },\n\n    '_t': function(node, context) {\n      context.code += write('\"' + esc(node.text) + '\"');\n    },\n\n    '{': tripleStache,\n\n    '&': tripleStache\n  }\n\n  function tripleStache(node, context) {\n    context.code += 't.b(t.t(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n  }\n\n  function write(s) {\n    return 't.b(' + s + ');';\n  }\n\n  Hogan.walk = function(nodelist, context) {\n    var func;\n    for (var i = 0, l = nodelist.length; i < l; i++) {\n      func = Hogan.codegen[nodelist[i].tag];\n      func && func(nodelist[i], context);\n    }\n    return context;\n  }\n\n  Hogan.parse = function(tokens, text, options) {\n    options = options || {};\n    return buildTree(tokens, '', [], options.sectionTags || []);\n  }\n\n  Hogan.cache = {};\n\n  Hogan.cacheKey = function(text, options) {\n    return [text, !!options.asString, !!options.disableLambda, options.delimiters, !!options.modelGet].join('||');\n  }\n\n  Hogan.compile = function(text, options) {\n    options = options || {};\n    var key = Hogan.cacheKey(text, options);\n    var template = this.cache[key];\n\n    if (template) {\n      var partials = template.partials;\n      for (var name in partials) {\n        delete partials[name].instance;\n      }\n      return template;\n    }\n\n    template = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n    return this.cache[key] = template;\n  }\n})(typeof exports !== 'undefined' ? exports : Hogan);\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n// This file is for use with Node.js. See dist/ for browser files.\n\nvar Hogan = require('./compiler');\nHogan.Template = require('./template').Template;\nHogan.template = Hogan.Template;\nmodule.exports = Hogan;\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\nvar Hogan = {};\n\n(function (Hogan) {\n  Hogan.Template = function (codeObj, text, compiler, options) {\n    codeObj = codeObj || {};\n    this.r = codeObj.code || this.r;\n    this.c = compiler;\n    this.options = options || {};\n    this.text = text || '';\n    this.partials = codeObj.partials || {};\n    this.subs = codeObj.subs || {};\n    this.buf = '';\n  }\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function (context, partials, indent) { return ''; },\n\n    // variable escaping\n    v: hoganEscape,\n\n    // triple stache\n    t: coerceToString,\n\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n\n    // render internal -- a hook for overrides that catches partials too\n    ri: function (context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n\n    // ensurePartial\n    ep: function(symbol, partials) {\n      var partial = this.partials[symbol];\n\n      // check to see that if we've instantiated this partial before\n      var template = partials[partial.name];\n      if (partial.instance && partial.base == template) {\n        return partial.instance;\n      }\n\n      if (typeof template == 'string') {\n        if (!this.c) {\n          throw new Error(\"No compiler available.\");\n        }\n        template = this.c.compile(template, this.options);\n      }\n\n      if (!template) {\n        return null;\n      }\n\n      // We use this to check whether the partials dictionary has changed\n      this.partials[symbol].base = template;\n\n      if (partial.subs) {\n        // Make sure we consider parent template now\n        if (!partials.stackText) partials.stackText = {};\n        for (key in partial.subs) {\n          if (!partials.stackText[key]) {\n            partials.stackText[key] = (this.activeSub !== undefined && partials.stackText[this.activeSub]) ? partials.stackText[this.activeSub] : this.text;\n          }\n        }\n        template = createSpecializedPartial(template, partial.subs, partial.partials,\n          this.stackSubs, this.stackPartials, partials.stackText);\n      }\n      this.partials[symbol].instance = template;\n\n      return template;\n    },\n\n    // tries to find a partial in the current scope and render it\n    rp: function(symbol, context, partials, indent) {\n      var partial = this.ep(symbol, partials);\n      if (!partial) {\n        return '';\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n\n    // render a section\n    rs: function(context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n\n    // maybe start a section\n    s: function(val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n\n    // find values with dotted names\n    d: function(key, ctx, partials, returnFound) {\n      var found,\n          names = key.split('.'),\n          val = this.f(names[0], ctx, partials, returnFound),\n          doModelGet = this.options.modelGet,\n          cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        val = ctx[ctx.length - 1];\n      } else {\n        for (var i = 1; i < names.length; i++) {\n          found = findInScope(names[i], val, doModelGet);\n          if (found !== undefined) {\n            cx = val;\n            val = found;\n          } else {\n            val = '';\n          }\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.mv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n\n    // find values with normal names\n    f: function(key, ctx, partials, returnFound) {\n      var val = false,\n          v = null,\n          found = false,\n          doModelGet = this.options.modelGet;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        val = findInScope(key, v, doModelGet);\n        if (val !== undefined) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return (returnFound) ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.mv(val, ctx, partials);\n      }\n\n      return val;\n    },\n\n    // higher order templates\n    ls: function(func, cx, partials, text, tags) {\n      var oldTags = this.options.delimiters;\n\n      this.options.delimiters = tags;\n      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n      this.options.delimiters = oldTags;\n\n      return false;\n    },\n\n    // compile text\n    ct: function(text, cx, partials) {\n      if (this.options.disableLambda) {\n        throw new Error('Lambda features disabled.');\n      }\n      return this.c.compile(text, this.options).render(cx, partials);\n    },\n\n    // template result buffering\n    b: function(s) { this.buf += s; },\n\n    fl: function() { var r = this.buf; this.buf = ''; return r; },\n\n    // method replace section\n    ms: function(func, ctx, partials, inverted, start, end, tags) {\n      var textSource,\n          cx = ctx[ctx.length - 1],\n          result = func.call(cx);\n\n      if (typeof result == 'function') {\n        if (inverted) {\n          return true;\n        } else {\n          textSource = (this.activeSub && this.subsText && this.subsText[this.activeSub]) ? this.subsText[this.activeSub] : this.text;\n          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n        }\n      }\n\n      return result;\n    },\n\n    // method replace variable\n    mv: function(func, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = func.call(cx);\n\n      if (typeof result == 'function') {\n        return this.ct(coerceToString(result.call(cx)), cx, partials);\n      }\n\n      return result;\n    },\n\n    sub: function(name, context, partials, indent) {\n      var f = this.subs[name];\n      if (f) {\n        this.activeSub = name;\n        f(context, partials, this, indent);\n        this.activeSub = false;\n      }\n    }\n\n  };\n\n  //Find a key in an object\n  function findInScope(key, scope, doModelGet) {\n    var val;\n\n    if (scope && typeof scope == 'object') {\n\n      if (scope[key] !== undefined) {\n        val = scope[key];\n\n      // try lookup with get for backbone or similar model data\n      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n        val = scope.get(key);\n      }\n    }\n\n    return val;\n  }\n\n  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n    function PartialTemplate() {};\n    PartialTemplate.prototype = instance;\n    function Substitutions() {};\n    Substitutions.prototype = instance.subs;\n    var key;\n    var partial = new PartialTemplate();\n    partial.subs = new Substitutions();\n    partial.subsText = {};  //hehe. substext.\n    partial.buf = '';\n\n    stackSubs = stackSubs || {};\n    partial.stackSubs = stackSubs;\n    partial.subsText = stackText;\n    for (key in subs) {\n      if (!stackSubs[key]) stackSubs[key] = subs[key];\n    }\n    for (key in stackSubs) {\n      partial.subs[key] = stackSubs[key];\n    }\n\n    stackPartials = stackPartials || {};\n    partial.stackPartials = stackPartials;\n    for (key in partials) {\n      if (!stackPartials[key]) stackPartials[key] = partials[key];\n    }\n    for (key in stackPartials) {\n      partial.partials[key] = stackPartials[key];\n    }\n\n    return partial;\n  }\n\n  var rAmp = /&/g,\n      rLt = /</g,\n      rGt = />/g,\n      rApos = /\\'/g,\n      rQuot = /\\\"/g,\n      hChars = /[&<>\\\"\\']/;\n\n  function coerceToString(val) {\n    return String((val === null || val === undefined) ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ?\n      str\n        .replace(rAmp, '&amp;')\n        .replace(rLt, '&lt;')\n        .replace(rGt, '&gt;')\n        .replace(rApos, '&#39;')\n        .replace(rQuot, '&quot;') :\n      str;\n  }\n\n  var isArray = Array.isArray || function(a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n\n})(typeof exports !== 'undefined' ? exports : Hogan);\n","/**\n * JSTS. See https://github.com/bjornharrtell/jsts\n * https://github.com/bjornharrtell/jsts/blob/master/LICENSE_EDLv1.txt\n * https://github.com/bjornharrtell/jsts/blob/master/LICENSE_EPLv1.txt\n * https://github.com/bjornharrtell/jsts/blob/master/LICENSE_LICENSE_ES6_COLLECTIONS.txt\n * @license\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.jsts = {})));\n}(this, (function (exports) { 'use strict';\n\n  /* Polyfill service v3.13.0\n   * For detailed credits and licence information see http://github.com/financial-times/polyfill-service\n   *\n   * - Array.prototype.fill, License: CC0 */\n  if (!('fill' in Array.prototype)) {\n    Object.defineProperty(Array.prototype, 'fill', {\n      configurable: true,\n      value: function fill(value) {\n        if (this === undefined || this === null) {\n          throw new TypeError(this + ' is not an object');\n        }\n\n        var arrayLike = Object(this);\n        var length = Math.max(Math.min(arrayLike.length, 9007199254740991), 0) || 0;\n        var relativeStart = 1 in arguments ? parseInt(Number(arguments[1]), 10) || 0 : 0;\n        relativeStart = relativeStart < 0 ? Math.max(length + relativeStart, 0) : Math.min(relativeStart, length);\n        var relativeEnd = 2 in arguments && arguments[2] !== undefined ? parseInt(Number(arguments[2]), 10) || 0 : length;\n        relativeEnd = relativeEnd < 0 ? Math.max(length + arguments[2], 0) : Math.min(relativeEnd, length);\n\n        while (relativeStart < relativeEnd) {\n          arrayLike[relativeStart] = value;\n          ++relativeStart;\n        }\n\n        return arrayLike;\n      },\n      writable: true\n    });\n  }\n\n  Number.isFinite = Number.isFinite || function (value) {\n    return typeof value === 'number' && isFinite(value);\n  };\n\n  Number.isInteger = Number.isInteger || function (val) {\n    return typeof val === 'number' && isFinite(val) && Math.floor(val) === val;\n  };\n\n  Number.parseFloat = Number.parseFloat || parseFloat;\n\n  Number.isNaN = Number.isNaN || function (value) {\n    return value !== value; // eslint-disable-line\n  };\n\n  Math.trunc = Math.trunc || function (x) {\n    return x < 0 ? Math.ceil(x) : Math.floor(x);\n  };\n\n  Math.log2 = Math.log2 || function (x) {\n    return Math.log(x) * Math.LOG2E;\n  };\n\n  function extend (target, source) {\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) target[key] = source[key];\n    }\n  }\n\n  function NumberUtil() {}\n  extend(NumberUtil.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return NumberUtil;\n    }\n  });\n\n  NumberUtil.equalsWithTolerance = function (x1, x2, tolerance) {\n    return Math.abs(x1 - x2) <= tolerance;\n  };\n\n  function IllegalArgumentException() {}\n\n  function Long(high, low) {\n    this.low = low | 0;\n    this.high = high | 0;\n  }\n\n  Long.toBinaryString = function (i) {\n    var result = '';\n\n    for (var mask = 0x80000000; mask > 0; mask >>>= 1) {\n      result += (i.high & mask) === mask ? '1' : '0';\n    }\n\n    for (var mask = 0x80000000; mask > 0; mask >>>= 1) {\n      result += (i.low & mask) === mask ? '1' : '0';\n    }\n\n    return result;\n  };\n\n  function Double() {}\n\n  Double.isNaN = function (n) {\n    return Number.isNaN(n);\n  };\n\n  Double.isInfinite = function (n) {\n    return !Number.isFinite(n);\n  };\n\n  Double.MAX_VALUE = Number.MAX_VALUE;\n\n  if (typeof Float64Array == 'function' && typeof Int32Array == 'function') {\n    // Simple and fast conversion between double and long bits\n    // using TypedArrays and ArrayViewBuffers.\n    (function () {\n      var EXP_BIT_MASK = 0x7ff00000;\n      var SIGNIF_BIT_MASK = 0xFFFFF;\n      var f64buf = new Float64Array(1);\n      var i32buf = new Int32Array(f64buf.buffer);\n\n      Double.doubleToLongBits = function (value) {\n        f64buf[0] = value;\n        var low = i32buf[0] | 0;\n        var high = i32buf[1] | 0; // Check for NaN based on values of bit fields, maximum\n        // exponent and nonzero significand.\n\n        if ((high & EXP_BIT_MASK) === EXP_BIT_MASK && (high & SIGNIF_BIT_MASK) !== 0 && low !== 0) {\n          low = 0 | 0;\n          high = 0x7ff80000 | 0;\n        }\n\n        return new Long(high, low);\n      };\n\n      Double.longBitsToDouble = function (bits) {\n        i32buf[0] = bits.low;\n        i32buf[1] = bits.high;\n        return f64buf[0];\n      };\n    })();\n  } else {\n    // More complex and slower fallback implementation using \n    // math and the divide-by-two and multiply-by-two algorithms.\n    (function () {\n      var BIAS = 1023;\n      var log2 = Math.log2;\n      var floor = Math.floor;\n      var pow = Math.pow;\n\n      var MAX_REL_BITS_INTEGER = function () {\n        for (var i = 53; i > 0; i--) {\n          var bits = pow(2, i) - 1;\n\n          if (floor(log2(bits)) + 1 === i) {\n            return bits;\n          }\n        }\n\n        return 0;\n      }();\n\n      Double.doubleToLongBits = function (value) {\n        var x, y, f, bits, skip;\n        var sign, exp, high, low; // Get the sign bit and absolute value.\n\n        if (value < 0 || 1 / value === Number.NEGATIVE_INFINITY) {\n          sign = 1 << 31;\n          value = -value;\n        } else {\n          sign = 0;\n        } // Handle some special values.\n\n\n        if (value === 0) {\n          // Handle zeros (+/-0).\n          low = 0 | 0;\n          high = sign; // exponent: 00..00, significand: 00..00\n\n          return new Long(high, low);\n        }\n\n        if (value === Infinity) {\n          // Handle infinity (only positive values for value possible).\n          low = 0 | 0;\n          high = sign | 0x7ff00000; // exponent: 11..11, significand: 00..00\n\n          return new Long(high, low);\n        }\n\n        if (value !== value) {\n          // Handle NaNs (boiled down to only one distinct NaN).\n          low = 0 | 0;\n          high = 0x7ff80000; // exponent: 11..11, significand: 10..00\n\n          return new Long(high, low);\n        } // Preinitialize variables, that are not neccessarily set by\n        // the algorithm.\n\n\n        bits = 0;\n        low = 0 | 0; // Get the (always positive) integer part of value.\n\n        x = floor(value); // Process the integer part if it's greater than 1. Zero requires\n        // no bits at all, 1 represents the implicit (hidden) leading bit,\n        // which must not be written as well.\n\n        if (x > 1) {\n          // If we can reliably determine the number of bits required for\n          // the integer part,\n          if (x <= MAX_REL_BITS_INTEGER) {\n            // get the number of bits required to represent it minus 1\n            bits = floor(log2(x))\n            /* + 1 - 1*/\n            ; // and simply copy/shift the integer bits into low and high.\n            // That's much faster than the divide-by-two algorithm (saves\n            // up to ~60%).\n            // We always need to mask out the most significant bit, which\n            // is the implicit (aka hidden) bit.\n\n            if (bits <= 20) {\n              // The simple case in which the integer fits into the\n              // lower 20 bits of the high word is worth to be handled\n              // separately (saves ~25%).\n              low = 0 | 0;\n              high = x << 20 - bits & 0xfffff;\n            } else {\n              // Here, the integer part is split into low and high.\n              // Since its value may require more than 32 bits, we\n              // cannot use bitwise operators (which implicitly cast\n              // to Int32), but use arithmetic operators % and / to\n              // get low and high parts. The uppper 20 bits go to high,\n              // the remaining bits (in f) to low.\n              f = bits - 20; // Like (1 << f) but safe with even more than 32 bits.\n\n              y = pow(2, f);\n              low = x % y << 32 - f;\n              high = x / y & 0xfffff;\n            }\n          } else {\n            // For greater values, we must use the much slower divide-by-two\n            // algorithm. Bits are generated from right to left, that is from\n            // least to most significant bit. For each bit, we left-shift both\n            // low and high by one and carry bit #0 from high to #31 in low.\n            // The next bit is then copied into bit #19 in high, the leftmost\n            // bit of the double's significand.\n            // Preserve x for later user, so work with f.\n            f = x;\n            low = 0 | 0;\n\n            while (true) {\n              y = f / 2;\n              f = floor(y);\n\n              if (f === 0) {\n                // We just found the most signigicant (1-)bit, which\n                // is the implicit bit and so, not stored in the double\n                // value. So, it's time to leave the loop.\n                break;\n              } // Count this bit, shift low and carry bit #0 from high.\n\n\n              bits++;\n              low >>>= 1;\n              low |= (high & 0x1) << 31; // Shift high.\n\n              high >>>= 1;\n\n              if (y !== f) {\n                // Copy the new bit into bit #19 in high (only required if 1).\n                high |= 0x80000;\n              }\n            }\n          }\n        } // Bias the exponent.\n\n\n        exp = bits + BIAS; // If the integer part is zero, we've not yet seen the implicit\n        // leading bit. Variable skip is later used while processing the \n        // fractional part (if any).\n\n        skip = x === 0; // Get fraction only into x.\n\n        x = value - x; // If some significand bits are still left to be filled and\n        // the fractional part is not zero, convert the fraction using\n        // the multiply-by-2 algorithm.\n\n        if (bits < 52 && x !== 0) {\n          // Initialize 'buffer' f, into which newly created bits get\n          // shifted from right to left.\n          f = 0;\n\n          while (true) {\n            y = x * 2;\n\n            if (y >= 1) {\n              // This is a new 1-bit. Add and count this bit, if not\n              // prohibited by skip.\n              x = y - 1;\n\n              if (!skip) {\n                f <<= 1;\n                f |= 1;\n                bits++;\n              } else {\n                // Otherwise, decrement the exponent and unset\n                // skip, so that all following bits get written.\n                exp--;\n                skip = false;\n              }\n            } else {\n              // This is a new 0-bit. Add and count this bit, if not\n              // prohibited by skip.\n              x = y;\n\n              if (!skip) {\n                f <<= 1;\n                bits++;\n              } else if (--exp === 0) {\n                // Otherwise we've just decremented the exponent. If the\n                // biased exponent is zero now (-1023), we process a\n                // subnormal number, which has no impled leading 1-bit.\n                // So, count this 0-bit and unset skip to write out\n                // all the following bits.\n                bits++;\n                skip = false;\n              }\n            }\n\n            if (bits === 20) {\n              // When 20 bits have been created in total, we're done with\n              // the high word. Copy the bits from 'buffer' f into high\n              // and reset 'buffer' f. Following bits will end up in the\n              // low word.\n              high |= f;\n              f = 0;\n            } else if (bits === 52) {\n              // When 52 bits have been created in total, we're done with\n              // low word as well. Copy the bits from 'buffer' f into low\n              // and exit the loop.\n              low |= f;\n              break;\n            }\n\n            if (y === 1) {\n              // When y is exactly 1, there is no remainder and the process\n              // is complete (the number is finite). Copy the bits from\n              // 'buffer' f into either low or high and exit the loop.\n              if (bits < 20) {\n                high |= f << 20 - bits;\n              } else if (bits < 52) {\n                low |= f << 52 - bits;\n              }\n\n              break;\n            }\n          }\n        } // Copy/shift the exponent and sign bits into the high word.\n\n\n        high |= exp << 20;\n        high |= sign;\n        return new Long(high, low);\n      };\n\n      Double.longBitsToDouble = function (bits) {\n        var x, sign, exp, fract;\n        var high = bits.high;\n        var low = bits.low; // Extract the sign.\n\n        sign = high & 1 << 31 ? -1 : 1; // Extract the unbiased exponent.\n\n        exp = ((high & 0x7ff00000) >> 20) - BIAS; // Calculate the fraction from left to right. Start\n        // off with the 20 lower bits from the high word.\n\n        fract = 0;\n        x = 1 << 19;\n\n        for (var i = 1; i <= 20; i++) {\n          if (high & x) {\n            fract += pow(2, -i);\n          }\n\n          x >>>= 1;\n        } // Continue with all 32 bits from the low word.\n\n\n        x = 1 << 31;\n\n        for (var i = 21; i <= 52; i++) {\n          if (low & x) {\n            fract += pow(2, -i);\n          }\n\n          x >>>= 1;\n        } // Handle special values.\n        // Check for zero and subnormal values.\n\n\n        if (exp === -BIAS) {\n          if (fract === 0) {\n            // +/-1.0 * 0.0 => +/-0.0\n            return sign * 0;\n          }\n\n          exp = -1022;\n        } // Check for +/-Infinity or NaN.\n        else if (exp === BIAS + 1) {\n            if (fract === 0) {\n              // +/-1.0 / 0.0 => +/-Infinity\n              return sign / 0;\n            }\n\n            return NaN;\n          } // Nothing special? Seems to be a normal number.\n          else {\n              // Add the implicit leading bit (1*2^0).\n              fract += 1;\n            }\n\n        return sign * fract * pow(2, exp);\n      };\n    })();\n  }\n\n  function Comparable() {}\n\n  function Clonable() {}\n\n  function Comparator() {}\n\n  function Serializable() {}\n\n  function RuntimeException(message) {\n    this.name = 'RuntimeException';\n    this.message = message;\n    this.stack = new Error().stack;\n    Error.call(this, message);\n  }\n  RuntimeException.prototype = Object.create(Error.prototype);\n  RuntimeException.prototype.constructor = Error;\n\n  function inherits (c, p) {\n    c.prototype = Object.create(p.prototype);\n    c.prototype.constructor = c;\n  }\n\n  function AssertionFailedException() {\n    if (arguments.length === 0) {\n      RuntimeException.call(this);\n    } else if (arguments.length === 1) {\n      var message = arguments[0];\n      RuntimeException.call(this, message);\n    }\n  }\n  inherits(AssertionFailedException, RuntimeException);\n  extend(AssertionFailedException.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return AssertionFailedException;\n    }\n  });\n\n  function Assert() {}\n  extend(Assert.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Assert;\n    }\n  });\n\n  Assert.shouldNeverReachHere = function () {\n    if (arguments.length === 0) {\n      Assert.shouldNeverReachHere(null);\n    } else if (arguments.length === 1) {\n      var message = arguments[0];\n      throw new AssertionFailedException(\"Should never reach here\" + (message !== null ? \": \" + message : \"\"));\n    }\n  };\n\n  Assert.isTrue = function () {\n    if (arguments.length === 1) {\n      var assertion = arguments[0];\n      Assert.isTrue(assertion, null);\n    } else if (arguments.length === 2) {\n      var _assertion = arguments[0],\n          message = arguments[1];\n\n      if (!_assertion) {\n        if (message === null) {\n          throw new AssertionFailedException();\n        } else {\n          throw new AssertionFailedException(message);\n        }\n      }\n    }\n  };\n\n  Assert.equals = function () {\n    if (arguments.length === 2) {\n      var expectedValue = arguments[0],\n          actualValue = arguments[1];\n      Assert.equals(expectedValue, actualValue, null);\n    } else if (arguments.length === 3) {\n      var _expectedValue = arguments[0],\n          _actualValue = arguments[1],\n          message = arguments[2];\n\n      if (!_actualValue.equals(_expectedValue)) {\n        throw new AssertionFailedException(\"Expected \" + _expectedValue + \" but encountered \" + _actualValue + (message !== null ? \": \" + message : \"\"));\n      }\n    }\n  };\n\n  function Coordinate() {\n    this.x = null;\n    this.y = null;\n    this.z = null;\n\n    if (arguments.length === 0) {\n      Coordinate.call(this, 0.0, 0.0);\n    } else if (arguments.length === 1) {\n      var c = arguments[0];\n      Coordinate.call(this, c.x, c.y, c.z);\n    } else if (arguments.length === 2) {\n      var x = arguments[0],\n          y = arguments[1];\n      Coordinate.call(this, x, y, Coordinate.NULL_ORDINATE);\n    } else if (arguments.length === 3) {\n      var _x = arguments[0],\n          _y = arguments[1],\n          z = arguments[2];\n      this.x = _x;\n      this.y = _y;\n      this.z = z;\n    }\n  }\n  extend(Coordinate.prototype, {\n    setOrdinate: function setOrdinate(ordinateIndex, value) {\n      switch (ordinateIndex) {\n        case Coordinate.X:\n          this.x = value;\n          break;\n\n        case Coordinate.Y:\n          this.y = value;\n          break;\n\n        case Coordinate.Z:\n          this.z = value;\n          break;\n\n        default:\n          throw new IllegalArgumentException(\"Invalid ordinate index: \" + ordinateIndex);\n      }\n    },\n    equals2D: function equals2D() {\n      if (arguments.length === 1) {\n        var other = arguments[0];\n\n        if (this.x !== other.x) {\n          return false;\n        }\n\n        if (this.y !== other.y) {\n          return false;\n        }\n\n        return true;\n      } else if (arguments.length === 2) {\n        var c = arguments[0],\n            tolerance = arguments[1];\n\n        if (!NumberUtil.equalsWithTolerance(this.x, c.x, tolerance)) {\n          return false;\n        }\n\n        if (!NumberUtil.equalsWithTolerance(this.y, c.y, tolerance)) {\n          return false;\n        }\n\n        return true;\n      }\n    },\n    getOrdinate: function getOrdinate(ordinateIndex) {\n      switch (ordinateIndex) {\n        case Coordinate.X:\n          return this.x;\n\n        case Coordinate.Y:\n          return this.y;\n\n        case Coordinate.Z:\n          return this.z;\n      }\n\n      throw new IllegalArgumentException(\"Invalid ordinate index: \" + ordinateIndex);\n    },\n    equals3D: function equals3D(other) {\n      return this.x === other.x && this.y === other.y && (this.z === other.z || Double.isNaN(this.z) && Double.isNaN(other.z));\n    },\n    equals: function equals(other) {\n      if (!(other instanceof Coordinate)) {\n        return false;\n      }\n\n      return this.equals2D(other);\n    },\n    equalInZ: function equalInZ(c, tolerance) {\n      return NumberUtil.equalsWithTolerance(this.z, c.z, tolerance);\n    },\n    compareTo: function compareTo(o) {\n      var other = o;\n      if (this.x < other.x) return -1;\n      if (this.x > other.x) return 1;\n      if (this.y < other.y) return -1;\n      if (this.y > other.y) return 1;\n      return 0;\n    },\n    clone: function clone() {\n      try {\n        var coord = null;\n        return coord;\n      } catch (e) {\n        if (e instanceof CloneNotSupportedException) {\n          Assert.shouldNeverReachHere(\"this shouldn't happen because this class is Cloneable\");\n          return null;\n        } else throw e;\n      } finally {}\n    },\n    copy: function copy() {\n      return new Coordinate(this);\n    },\n    toString: function toString() {\n      return \"(\" + this.x + \", \" + this.y + \", \" + this.z + \")\";\n    },\n    distance3D: function distance3D(c) {\n      var dx = this.x - c.x;\n      var dy = this.y - c.y;\n      var dz = this.z - c.z;\n      return Math.sqrt(dx * dx + dy * dy + dz * dz);\n    },\n    distance: function distance(c) {\n      var dx = this.x - c.x;\n      var dy = this.y - c.y;\n      return Math.sqrt(dx * dx + dy * dy);\n    },\n    hashCode: function hashCode() {\n      var result = 17;\n      result = 37 * result + Coordinate.hashCode(this.x);\n      result = 37 * result + Coordinate.hashCode(this.y);\n      return result;\n    },\n    setCoordinate: function setCoordinate(other) {\n      this.x = other.x;\n      this.y = other.y;\n      this.z = other.z;\n    },\n    interfaces_: function interfaces_() {\n      return [Comparable, Clonable, Serializable];\n    },\n    getClass: function getClass() {\n      return Coordinate;\n    }\n  });\n\n  Coordinate.hashCode = function () {\n    if (arguments.length === 1 && typeof arguments[0] === \"number\") {\n      var x = arguments[0];\n      var f = Double.doubleToLongBits(x);\n      return Math.trunc(f ^ f >>> 32);\n    }\n  };\n\n  function DimensionalComparator() {\n    this._dimensionsToTest = 2;\n\n    if (arguments.length === 0) {\n      DimensionalComparator.call(this, 2);\n    } else if (arguments.length === 1) {\n      var dimensionsToTest = arguments[0];\n      if (dimensionsToTest !== 2 && dimensionsToTest !== 3) throw new IllegalArgumentException(\"only 2 or 3 dimensions may be specified\");\n      this._dimensionsToTest = dimensionsToTest;\n    }\n  }\n\n  extend(DimensionalComparator.prototype, {\n    compare: function compare(o1, o2) {\n      var c1 = o1;\n      var c2 = o2;\n      var compX = DimensionalComparator.compare(c1.x, c2.x);\n      if (compX !== 0) return compX;\n      var compY = DimensionalComparator.compare(c1.y, c2.y);\n      if (compY !== 0) return compY;\n      if (this._dimensionsToTest <= 2) return 0;\n      var compZ = DimensionalComparator.compare(c1.z, c2.z);\n      return compZ;\n    },\n    interfaces_: function interfaces_() {\n      return [Comparator];\n    },\n    getClass: function getClass() {\n      return DimensionalComparator;\n    }\n  });\n\n  DimensionalComparator.compare = function (a, b) {\n    if (a < b) return -1;\n    if (a > b) return 1;\n\n    if (Double.isNaN(a)) {\n      if (Double.isNaN(b)) return 0;\n      return -1;\n    }\n\n    if (Double.isNaN(b)) return 1;\n    return 0;\n  };\n\n  Coordinate.DimensionalComparator = DimensionalComparator;\n  Coordinate.serialVersionUID = 6683108902428366910;\n  Coordinate.NULL_ORDINATE = Double.NaN;\n  Coordinate.X = 0;\n  Coordinate.Y = 1;\n  Coordinate.Z = 2;\n\n  function hasInterface (o, i) {\n    return o.interfaces_ && o.interfaces_().indexOf(i) > -1;\n  }\n\n  /**\n   * @see http://download.oracle.com/javase/6/docs/api/java/util/Iterator.html\n   * @constructor\n   * @private\n   */\n  function Iterator() {}\n  /**\n   * Returns true if the iteration has more elements.\n   * @return {boolean}\n   */\n\n  Iterator.prototype.hasNext = function () {};\n  /**\n   * Returns the next element in the iteration.\n   * @return {Object}\n   */\n\n\n  Iterator.prototype.next = function () {};\n  /**\n   * Removes from the underlying collection the last element returned by the\n   * iterator (optional operation).\n   */\n\n\n  Iterator.prototype.remove = function () {};\n\n  /**\n   * @see http://download.oracle.com/javase/6/docs/api/java/util/Collection.html\n   *\n   * @constructor\n   * @private\n   */\n\n  function Collection() {}\n  /**\n   * Ensures that this collection contains the specified element (optional\n   * operation).\n   * @param {Object} e\n   * @return {boolean}\n   */\n\n  Collection.prototype.add = function () {};\n  /**\n   * Appends all of the elements in the specified collection to the end of this\n   * list, in the order that they are returned by the specified collection's\n   * iterator (optional operation).\n   * @param {javascript.util.Collection} c\n   * @return {boolean}\n   */\n\n\n  Collection.prototype.addAll = function () {};\n  /**\n   * Returns true if this collection contains no elements.\n   * @return {boolean}\n   */\n\n\n  Collection.prototype.isEmpty = function () {};\n  /**\n   * Returns an iterator over the elements in this collection.\n   * @return {javascript.util.Iterator}\n   */\n\n\n  Collection.prototype.iterator = function () {};\n  /**\n   * Returns an iterator over the elements in this collection.\n   * @return {number}\n   */\n\n\n  Collection.prototype.size = function () {};\n  /**\n   * Returns an array containing all of the elements in this collection.\n   * @return {Array}\n   */\n\n\n  Collection.prototype.toArray = function () {};\n  /**\n   * Removes a single instance of the specified element from this collection if it\n   * is present. (optional)\n   * @param {Object} e\n   * @return {boolean}\n   */\n\n\n  Collection.prototype.remove = function () {};\n\n  /**\n   * @param {string=} message Optional message\n   * @extends {Error}\n   * @constructor\n   * @private\n   */\n  function IndexOutOfBoundsException$1(message) {\n    this.message = message || '';\n  }\n  IndexOutOfBoundsException$1.prototype = new Error();\n  /**\n   * @type {string}\n   */\n\n  IndexOutOfBoundsException$1.prototype.name = 'IndexOutOfBoundsException';\n\n  /**\n   * @see http://download.oracle.com/javase/6/docs/api/java/util/List.html\n   *\n   * @extends {javascript.util.Collection}\n   * @constructor\n   * @private\n   */\n\n  function List() {}\n  List.prototype = Object.create(Collection.prototype);\n  List.prototype.constructor = List;\n  /**\n   * Returns the element at the specified position in this list.\n   * @param {number} index\n   * @return {Object}\n   */\n\n  List.prototype.get = function () {};\n  /**\n   * Replaces the element at the specified position in this list with the\n   * specified element (optional operation).\n   * @param {number} index\n   * @param {Object} e\n   * @return {Object}\n   */\n\n\n  List.prototype.set = function () {};\n  /**\n   * Returns true if this collection contains no elements.\n   * @return {boolean}\n   */\n\n\n  List.prototype.isEmpty = function () {};\n\n  /**\n   * @param {string=} message Optional message\n   * @extends {Error}\n   * @constructor\n   * @private\n   */\n  function NoSuchElementException(message) {\n    this.message = message || '';\n  }\n  NoSuchElementException.prototype = new Error();\n  /**\n   * @type {string}\n   */\n\n  NoSuchElementException.prototype.name = 'NoSuchElementException';\n\n  /**\n   * @param {string=} message Optional message\n   * @extends {Error}\n   * @constructor\n   * @private\n   */\n  function OperationNotSupported(message) {\n    this.message = message || '';\n  }\n  OperationNotSupported.prototype = new Error();\n  /**\n   * @type {string}\n   */\n\n  OperationNotSupported.prototype.name = 'OperationNotSupported';\n\n  /**\n   * @see http://download.oracle.com/javase/6/docs/api/java/util/ArrayList.html\n   *\n   * @extends List\n   * @private\n   */\n\n  function ArrayList() {\n    /**\n     * @type {Array}\n     * @private\n    */\n    this.array_ = [];\n\n    if (arguments[0] instanceof Collection) {\n      this.addAll(arguments[0]);\n    }\n  }\n  ArrayList.prototype = Object.create(List.prototype);\n  ArrayList.prototype.constructor = ArrayList;\n\n  ArrayList.prototype.ensureCapacity = function () {};\n\n  ArrayList.prototype.interfaces_ = function () {\n    return [List, Collection];\n  };\n  /**\n   * @override\n   */\n\n\n  ArrayList.prototype.add = function (e) {\n    if (arguments.length === 1) {\n      this.array_.push(e);\n    } else {\n      this.array_.splice(arguments[0], 0, arguments[1]);\n    }\n\n    return true;\n  };\n\n  ArrayList.prototype.clear = function () {\n    this.array_ = [];\n  };\n  /**\n   * @override\n   */\n\n\n  ArrayList.prototype.addAll = function (c) {\n    for (var i = c.iterator(); i.hasNext();) {\n      this.add(i.next());\n    }\n\n    return true;\n  };\n  /**\n   * @override\n   */\n\n\n  ArrayList.prototype.set = function (index, element) {\n    var oldElement = this.array_[index];\n    this.array_[index] = element;\n    return oldElement;\n  };\n  /**\n   * @override\n   */\n\n\n  ArrayList.prototype.iterator = function () {\n    return new Iterator_(this);\n  };\n  /**\n   * @override\n   */\n\n\n  ArrayList.prototype.get = function (index) {\n    if (index < 0 || index >= this.size()) {\n      throw new IndexOutOfBoundsException$1();\n    }\n\n    return this.array_[index];\n  };\n  /**\n   * @override\n   */\n\n\n  ArrayList.prototype.isEmpty = function () {\n    return this.array_.length === 0;\n  };\n  /**\n   * @override\n   */\n\n\n  ArrayList.prototype.size = function () {\n    return this.array_.length;\n  };\n  /**\n   * @override\n   */\n\n\n  ArrayList.prototype.toArray = function () {\n    var array = [];\n\n    for (var i = 0, len = this.array_.length; i < len; i++) {\n      array.push(this.array_[i]);\n    }\n\n    return array;\n  };\n  /**\n   * @override\n   */\n\n\n  ArrayList.prototype.remove = function (o) {\n    var found = false;\n\n    for (var i = 0, len = this.array_.length; i < len; i++) {\n      if (this.array_[i] === o) {\n        this.array_.splice(i, 1);\n        found = true;\n        break;\n      }\n    }\n\n    return found;\n  };\n\n  ArrayList.prototype.removeAll = function (c) {\n    for (var i = c.iterator(); i.hasNext();) {\n      this.remove(i.next());\n    }\n\n    return true;\n  };\n  /**\n   * @extends {Iterator}\n   * @param {ArrayList} arrayList\n   * @constructor\n   * @private\n   */\n\n\n  var Iterator_ = function Iterator_(arrayList) {\n    /**\n     * @type {ArrayList}\n     * @private\n    */\n    this.arrayList_ = arrayList;\n    /**\n     * @type {number}\n     * @private\n    */\n\n    this.position_ = 0;\n  };\n  /**\n   * @override\n   */\n\n\n  Iterator_.prototype.next = function () {\n    if (this.position_ === this.arrayList_.size()) {\n      throw new NoSuchElementException();\n    }\n\n    return this.arrayList_.get(this.position_++);\n  };\n  /**\n   * @override\n   */\n\n\n  Iterator_.prototype.hasNext = function () {\n    if (this.position_ < this.arrayList_.size()) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  /**\n   * TODO: should be in ListIterator\n   * @override\n   */\n\n\n  Iterator_.prototype.set = function (element) {\n    return this.arrayList_.set(this.position_ - 1, element);\n  };\n  /**\n   * @override\n   */\n\n\n  Iterator_.prototype.remove = function () {\n    this.arrayList_.remove(this.arrayList_.get(this.position_));\n  };\n\n  function CoordinateList() {\n    ArrayList.apply(this);\n\n    if (arguments.length === 0) ; else if (arguments.length === 1) {\n      var coord = arguments[0];\n      this.ensureCapacity(coord.length);\n      this.add(coord, true);\n    } else if (arguments.length === 2) {\n      var _coord = arguments[0],\n          allowRepeated = arguments[1];\n      this.ensureCapacity(_coord.length);\n      this.add(_coord, allowRepeated);\n    }\n  }\n  inherits(CoordinateList, ArrayList);\n  extend(CoordinateList.prototype, {\n    getCoordinate: function getCoordinate(i) {\n      return this.get(i);\n    },\n    addAll: function addAll() {\n      if (arguments.length === 2 && typeof arguments[1] === \"boolean\" && hasInterface(arguments[0], Collection)) {\n        var coll = arguments[0],\n            allowRepeated = arguments[1];\n        var isChanged = false;\n\n        for (var i = coll.iterator(); i.hasNext();) {\n          this.add(i.next(), allowRepeated);\n          isChanged = true;\n        }\n\n        return isChanged;\n      } else return ArrayList.prototype.addAll.apply(this, arguments);\n    },\n    clone: function clone() {\n      var clone = ArrayList.prototype.clone.call(this);\n\n      for (var i = 0; i < this.size(); i++) {\n        clone.add(i, this.get(i).clone());\n      }\n\n      return clone;\n    },\n    toCoordinateArray: function toCoordinateArray() {\n      return this.toArray(CoordinateList.coordArrayType);\n    },\n    add: function add() {\n      if (arguments.length === 1) {\n        var coord = arguments[0];\n        ArrayList.prototype.add.call(this, coord);\n      } else if (arguments.length === 2) {\n        if (arguments[0] instanceof Array && typeof arguments[1] === \"boolean\") {\n          var _coord2 = arguments[0],\n              allowRepeated = arguments[1];\n          this.add(_coord2, allowRepeated, true);\n          return true;\n        } else if (arguments[0] instanceof Coordinate && typeof arguments[1] === \"boolean\") {\n          var _coord3 = arguments[0],\n              _allowRepeated = arguments[1];\n\n          if (!_allowRepeated) {\n            if (this.size() >= 1) {\n              var last = this.get(this.size() - 1);\n              if (last.equals2D(_coord3)) return null;\n            }\n          }\n\n          ArrayList.prototype.add.call(this, _coord3);\n        } else if (arguments[0] instanceof Object && typeof arguments[1] === \"boolean\") {\n          var obj = arguments[0],\n              _allowRepeated2 = arguments[1];\n          this.add(obj, _allowRepeated2);\n          return true;\n        }\n      } else if (arguments.length === 3) {\n        if (typeof arguments[2] === \"boolean\" && arguments[0] instanceof Array && typeof arguments[1] === \"boolean\") {\n          var _coord4 = arguments[0],\n              _allowRepeated3 = arguments[1],\n              direction = arguments[2];\n\n          if (direction) {\n            for (var i = 0; i < _coord4.length; i++) {\n              this.add(_coord4[i], _allowRepeated3);\n            }\n          } else {\n            for (var i = _coord4.length - 1; i >= 0; i--) {\n              this.add(_coord4[i], _allowRepeated3);\n            }\n          }\n\n          return true;\n        } else if (typeof arguments[2] === \"boolean\" && Number.isInteger(arguments[0]) && arguments[1] instanceof Coordinate) {\n          var _i = arguments[0],\n              _coord5 = arguments[1],\n              _allowRepeated4 = arguments[2];\n\n          if (!_allowRepeated4) {\n            var size = this.size();\n\n            if (size > 0) {\n              if (_i > 0) {\n                var prev = this.get(_i - 1);\n                if (prev.equals2D(_coord5)) return null;\n              }\n\n              if (_i < size) {\n                var next = this.get(_i);\n                if (next.equals2D(_coord5)) return null;\n              }\n            }\n          }\n\n          ArrayList.prototype.add.call(this, _i, _coord5);\n        }\n      } else if (arguments.length === 4) {\n        var _coord6 = arguments[0],\n            _allowRepeated5 = arguments[1],\n            start = arguments[2],\n            end = arguments[3];\n        var inc = 1;\n        if (start > end) inc = -1;\n\n        for (var i = start; i !== end; i += inc) {\n          this.add(_coord6[i], _allowRepeated5);\n        }\n\n        return true;\n      }\n    },\n    closeRing: function closeRing() {\n      if (this.size() > 0) this.add(new Coordinate(this.get(0)), false);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return CoordinateList;\n    }\n  });\n  CoordinateList.coordArrayType = new Array(0).fill(null);\n\n  function Envelope() {\n    this._minx = null;\n    this._maxx = null;\n    this._miny = null;\n    this._maxy = null;\n\n    if (arguments.length === 0) {\n      this.init();\n    } else if (arguments.length === 1) {\n      if (arguments[0] instanceof Coordinate) {\n        var p = arguments[0];\n        this.init(p.x, p.x, p.y, p.y);\n      } else if (arguments[0] instanceof Envelope) {\n        var env = arguments[0];\n        this.init(env);\n      }\n    } else if (arguments.length === 2) {\n      var p1 = arguments[0],\n          p2 = arguments[1];\n      this.init(p1.x, p2.x, p1.y, p2.y);\n    } else if (arguments.length === 4) {\n      var x1 = arguments[0],\n          x2 = arguments[1],\n          y1 = arguments[2],\n          y2 = arguments[3];\n      this.init(x1, x2, y1, y2);\n    }\n  }\n  extend(Envelope.prototype, {\n    getArea: function getArea() {\n      return this.getWidth() * this.getHeight();\n    },\n    equals: function equals(other) {\n      if (!(other instanceof Envelope)) {\n        return false;\n      }\n\n      var otherEnvelope = other;\n\n      if (this.isNull()) {\n        return otherEnvelope.isNull();\n      }\n\n      return this._maxx === otherEnvelope.getMaxX() && this._maxy === otherEnvelope.getMaxY() && this._minx === otherEnvelope.getMinX() && this._miny === otherEnvelope.getMinY();\n    },\n    intersection: function intersection(env) {\n      if (this.isNull() || env.isNull() || !this.intersects(env)) return new Envelope();\n      var intMinX = this._minx > env._minx ? this._minx : env._minx;\n      var intMinY = this._miny > env._miny ? this._miny : env._miny;\n      var intMaxX = this._maxx < env._maxx ? this._maxx : env._maxx;\n      var intMaxY = this._maxy < env._maxy ? this._maxy : env._maxy;\n      return new Envelope(intMinX, intMaxX, intMinY, intMaxY);\n    },\n    isNull: function isNull() {\n      return this._maxx < this._minx;\n    },\n    getMaxX: function getMaxX() {\n      return this._maxx;\n    },\n    covers: function covers() {\n      if (arguments.length === 1) {\n        if (arguments[0] instanceof Coordinate) {\n          var p = arguments[0];\n          return this.covers(p.x, p.y);\n        } else if (arguments[0] instanceof Envelope) {\n          var other = arguments[0];\n\n          if (this.isNull() || other.isNull()) {\n            return false;\n          }\n\n          return other.getMinX() >= this._minx && other.getMaxX() <= this._maxx && other.getMinY() >= this._miny && other.getMaxY() <= this._maxy;\n        }\n      } else if (arguments.length === 2) {\n        var x = arguments[0],\n            y = arguments[1];\n        if (this.isNull()) return false;\n        return x >= this._minx && x <= this._maxx && y >= this._miny && y <= this._maxy;\n      }\n    },\n    intersects: function intersects() {\n      if (arguments.length === 1) {\n        if (arguments[0] instanceof Envelope) {\n          var other = arguments[0];\n\n          if (this.isNull() || other.isNull()) {\n            return false;\n          }\n\n          return !(other._minx > this._maxx || other._maxx < this._minx || other._miny > this._maxy || other._maxy < this._miny);\n        } else if (arguments[0] instanceof Coordinate) {\n          var p = arguments[0];\n          return this.intersects(p.x, p.y);\n        }\n      } else if (arguments.length === 2) {\n        if (arguments[0] instanceof Coordinate && arguments[1] instanceof Coordinate) {\n          var a = arguments[0],\n              b = arguments[1];\n\n          if (this.isNull()) {\n            return false;\n          }\n\n          var envminx = a.x < b.x ? a.x : b.x;\n          if (envminx > this._maxx) return false;\n          var envmaxx = a.x > b.x ? a.x : b.x;\n          if (envmaxx < this._minx) return false;\n          var envminy = a.y < b.y ? a.y : b.y;\n          if (envminy > this._maxy) return false;\n          var envmaxy = a.y > b.y ? a.y : b.y;\n          if (envmaxy < this._miny) return false;\n          return true;\n        } else if (typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\") {\n          var x = arguments[0],\n              y = arguments[1];\n          if (this.isNull()) return false;\n          return !(x > this._maxx || x < this._minx || y > this._maxy || y < this._miny);\n        }\n      }\n    },\n    getMinY: function getMinY() {\n      return this._miny;\n    },\n    getMinX: function getMinX() {\n      return this._minx;\n    },\n    expandToInclude: function expandToInclude() {\n      if (arguments.length === 1) {\n        if (arguments[0] instanceof Coordinate) {\n          var p = arguments[0];\n          this.expandToInclude(p.x, p.y);\n        } else if (arguments[0] instanceof Envelope) {\n          var other = arguments[0];\n\n          if (other.isNull()) {\n            return null;\n          }\n\n          if (this.isNull()) {\n            this._minx = other.getMinX();\n            this._maxx = other.getMaxX();\n            this._miny = other.getMinY();\n            this._maxy = other.getMaxY();\n          } else {\n            if (other._minx < this._minx) {\n              this._minx = other._minx;\n            }\n\n            if (other._maxx > this._maxx) {\n              this._maxx = other._maxx;\n            }\n\n            if (other._miny < this._miny) {\n              this._miny = other._miny;\n            }\n\n            if (other._maxy > this._maxy) {\n              this._maxy = other._maxy;\n            }\n          }\n        }\n      } else if (arguments.length === 2) {\n        var x = arguments[0],\n            y = arguments[1];\n\n        if (this.isNull()) {\n          this._minx = x;\n          this._maxx = x;\n          this._miny = y;\n          this._maxy = y;\n        } else {\n          if (x < this._minx) {\n            this._minx = x;\n          }\n\n          if (x > this._maxx) {\n            this._maxx = x;\n          }\n\n          if (y < this._miny) {\n            this._miny = y;\n          }\n\n          if (y > this._maxy) {\n            this._maxy = y;\n          }\n        }\n      }\n    },\n    minExtent: function minExtent() {\n      if (this.isNull()) return 0.0;\n      var w = this.getWidth();\n      var h = this.getHeight();\n      if (w < h) return w;\n      return h;\n    },\n    getWidth: function getWidth() {\n      if (this.isNull()) {\n        return 0;\n      }\n\n      return this._maxx - this._minx;\n    },\n    compareTo: function compareTo(o) {\n      var env = o;\n\n      if (this.isNull()) {\n        if (env.isNull()) return 0;\n        return -1;\n      } else {\n        if (env.isNull()) return 1;\n      }\n\n      if (this._minx < env._minx) return -1;\n      if (this._minx > env._minx) return 1;\n      if (this._miny < env._miny) return -1;\n      if (this._miny > env._miny) return 1;\n      if (this._maxx < env._maxx) return -1;\n      if (this._maxx > env._maxx) return 1;\n      if (this._maxy < env._maxy) return -1;\n      if (this._maxy > env._maxy) return 1;\n      return 0;\n    },\n    translate: function translate(transX, transY) {\n      if (this.isNull()) {\n        return null;\n      }\n\n      this.init(this.getMinX() + transX, this.getMaxX() + transX, this.getMinY() + transY, this.getMaxY() + transY);\n    },\n    toString: function toString() {\n      return \"Env[\" + this._minx + \" : \" + this._maxx + \", \" + this._miny + \" : \" + this._maxy + \"]\";\n    },\n    setToNull: function setToNull() {\n      this._minx = 0;\n      this._maxx = -1;\n      this._miny = 0;\n      this._maxy = -1;\n    },\n    getHeight: function getHeight() {\n      if (this.isNull()) {\n        return 0;\n      }\n\n      return this._maxy - this._miny;\n    },\n    maxExtent: function maxExtent() {\n      if (this.isNull()) return 0.0;\n      var w = this.getWidth();\n      var h = this.getHeight();\n      if (w > h) return w;\n      return h;\n    },\n    expandBy: function expandBy() {\n      if (arguments.length === 1) {\n        var distance = arguments[0];\n        this.expandBy(distance, distance);\n      } else if (arguments.length === 2) {\n        var deltaX = arguments[0],\n            deltaY = arguments[1];\n        if (this.isNull()) return null;\n        this._minx -= deltaX;\n        this._maxx += deltaX;\n        this._miny -= deltaY;\n        this._maxy += deltaY;\n        if (this._minx > this._maxx || this._miny > this._maxy) this.setToNull();\n      }\n    },\n    contains: function contains() {\n      if (arguments.length === 1) {\n        if (arguments[0] instanceof Envelope) {\n          var other = arguments[0];\n          return this.covers(other);\n        } else if (arguments[0] instanceof Coordinate) {\n          var p = arguments[0];\n          return this.covers(p);\n        }\n      } else if (arguments.length === 2) {\n        var x = arguments[0],\n            y = arguments[1];\n        return this.covers(x, y);\n      }\n    },\n    centre: function centre() {\n      if (this.isNull()) return null;\n      return new Coordinate((this.getMinX() + this.getMaxX()) / 2.0, (this.getMinY() + this.getMaxY()) / 2.0);\n    },\n    init: function init() {\n      if (arguments.length === 0) {\n        this.setToNull();\n      } else if (arguments.length === 1) {\n        if (arguments[0] instanceof Coordinate) {\n          var p = arguments[0];\n          this.init(p.x, p.x, p.y, p.y);\n        } else if (arguments[0] instanceof Envelope) {\n          var env = arguments[0];\n          this._minx = env._minx;\n          this._maxx = env._maxx;\n          this._miny = env._miny;\n          this._maxy = env._maxy;\n        }\n      } else if (arguments.length === 2) {\n        var p1 = arguments[0],\n            p2 = arguments[1];\n        this.init(p1.x, p2.x, p1.y, p2.y);\n      } else if (arguments.length === 4) {\n        var x1 = arguments[0],\n            x2 = arguments[1],\n            y1 = arguments[2],\n            y2 = arguments[3];\n\n        if (x1 < x2) {\n          this._minx = x1;\n          this._maxx = x2;\n        } else {\n          this._minx = x2;\n          this._maxx = x1;\n        }\n\n        if (y1 < y2) {\n          this._miny = y1;\n          this._maxy = y2;\n        } else {\n          this._miny = y2;\n          this._maxy = y1;\n        }\n      }\n    },\n    getMaxY: function getMaxY() {\n      return this._maxy;\n    },\n    distance: function distance(env) {\n      if (this.intersects(env)) return 0;\n      var dx = 0.0;\n      if (this._maxx < env._minx) dx = env._minx - this._maxx;else if (this._minx > env._maxx) dx = this._minx - env._maxx;\n      var dy = 0.0;\n      if (this._maxy < env._miny) dy = env._miny - this._maxy;else if (this._miny > env._maxy) dy = this._miny - env._maxy;\n      if (dx === 0.0) return dy;\n      if (dy === 0.0) return dx;\n      return Math.sqrt(dx * dx + dy * dy);\n    },\n    hashCode: function hashCode() {\n      var result = 17;\n      result = 37 * result + Coordinate.hashCode(this._minx);\n      result = 37 * result + Coordinate.hashCode(this._maxx);\n      result = 37 * result + Coordinate.hashCode(this._miny);\n      result = 37 * result + Coordinate.hashCode(this._maxy);\n      return result;\n    },\n    interfaces_: function interfaces_() {\n      return [Comparable, Serializable];\n    },\n    getClass: function getClass() {\n      return Envelope;\n    }\n  });\n\n  Envelope.intersects = function () {\n    if (arguments.length === 3) {\n      var p1 = arguments[0],\n          p2 = arguments[1],\n          q = arguments[2];\n\n      if (q.x >= (p1.x < p2.x ? p1.x : p2.x) && q.x <= (p1.x > p2.x ? p1.x : p2.x) && q.y >= (p1.y < p2.y ? p1.y : p2.y) && q.y <= (p1.y > p2.y ? p1.y : p2.y)) {\n        return true;\n      }\n\n      return false;\n    } else if (arguments.length === 4) {\n      var _p = arguments[0],\n          _p2 = arguments[1],\n          q1 = arguments[2],\n          q2 = arguments[3];\n      var minq = Math.min(q1.x, q2.x);\n      var maxq = Math.max(q1.x, q2.x);\n      var minp = Math.min(_p.x, _p2.x);\n      var maxp = Math.max(_p.x, _p2.x);\n      if (minp > maxq) return false;\n      if (maxp < minq) return false;\n      minq = Math.min(q1.y, q2.y);\n      maxq = Math.max(q1.y, q2.y);\n      minp = Math.min(_p.y, _p2.y);\n      maxp = Math.max(_p.y, _p2.y);\n      if (minp > maxq) return false;\n      if (maxp < minq) return false;\n      return true;\n    }\n  };\n\n  Envelope.serialVersionUID = 5873921885273102420;\n\n  function Exception() {}\n\n  function NotRepresentableException() {\n    Exception.call(this, \"Projective point not representable on the Cartesian plane.\");\n  }\n  inherits(NotRepresentableException, Exception);\n  extend(NotRepresentableException.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return NotRepresentableException;\n    }\n  });\n\n  function StringBuffer(str) {\n    this.str = str;\n  }\n\n  StringBuffer.prototype.append = function (e) {\n    this.str += e;\n  };\n\n  StringBuffer.prototype.setCharAt = function (i, c) {\n    this.str = this.str.substr(0, i) + c + this.str.substr(i + 1);\n  };\n\n  StringBuffer.prototype.toString = function (e) {\n    return this.str;\n  };\n\n  function Integer(value) {\n    this.value = value;\n  }\n\n  Integer.prototype.intValue = function () {\n    return this.value;\n  };\n\n  Integer.prototype.compareTo = function (o) {\n    if (this.value < o) return -1;\n    if (this.value > o) return 1;\n    return 0;\n  };\n\n  Integer.isNaN = function (n) {\n    return Number.isNaN(n);\n  };\n\n  function Character() {}\n\n  Character.isWhitespace = function (c) {\n    return c <= 32 && c >= 0 || c == 127;\n  };\n\n  Character.toUpperCase = function (c) {\n    return c.toUpperCase();\n  };\n\n  function DD() {\n    this._hi = 0.0;\n    this._lo = 0.0;\n\n    if (arguments.length === 0) {\n      this.init(0.0);\n    } else if (arguments.length === 1) {\n      if (typeof arguments[0] === \"number\") {\n        var x = arguments[0];\n        this.init(x);\n      } else if (arguments[0] instanceof DD) {\n        var dd = arguments[0];\n        this.init(dd);\n      } else if (typeof arguments[0] === \"string\") {\n        var str = arguments[0];\n        DD.call(this, DD.parse(str));\n      }\n    } else if (arguments.length === 2) {\n      var hi = arguments[0],\n          lo = arguments[1];\n      this.init(hi, lo);\n    }\n  }\n  extend(DD.prototype, {\n    le: function le(y) {\n      return this._hi < y._hi || this._hi === y._hi && this._lo <= y._lo;\n    },\n    extractSignificantDigits: function extractSignificantDigits(insertDecimalPoint, magnitude) {\n      var y = this.abs();\n      var mag = DD.magnitude(y._hi);\n      var scale = DD.TEN.pow(mag);\n      y = y.divide(scale);\n\n      if (y.gt(DD.TEN)) {\n        y = y.divide(DD.TEN);\n        mag += 1;\n      } else if (y.lt(DD.ONE)) {\n        y = y.multiply(DD.TEN);\n        mag -= 1;\n      }\n\n      var decimalPointPos = mag + 1;\n      var buf = new StringBuffer();\n      var numDigits = DD.MAX_PRINT_DIGITS - 1;\n\n      for (var i = 0; i <= numDigits; i++) {\n        if (insertDecimalPoint && i === decimalPointPos) {\n          buf.append('.');\n        }\n\n        var digit = Math.trunc(y._hi);\n\n        if (digit < 0) {\n          break;\n        }\n\n        var rebiasBy10 = false;\n        var digitChar = 0;\n\n        if (digit > 9) {\n          rebiasBy10 = true;\n          digitChar = '9';\n        } else {\n          digitChar = '0' + digit;\n        }\n\n        buf.append(digitChar);\n        y = y.subtract(DD.valueOf(digit)).multiply(DD.TEN);\n        if (rebiasBy10) y.selfAdd(DD.TEN);\n        var continueExtractingDigits = true;\n        var remMag = DD.magnitude(y._hi);\n        if (remMag < 0 && Math.abs(remMag) >= numDigits - i) continueExtractingDigits = false;\n        if (!continueExtractingDigits) break;\n      }\n\n      magnitude[0] = mag;\n      return buf.toString();\n    },\n    sqr: function sqr() {\n      return this.multiply(this);\n    },\n    doubleValue: function doubleValue() {\n      return this._hi + this._lo;\n    },\n    subtract: function subtract() {\n      if (arguments[0] instanceof DD) {\n        var y = arguments[0];\n        return this.add(y.negate());\n      } else if (typeof arguments[0] === \"number\") {\n        var _y = arguments[0];\n        return this.add(-_y);\n      }\n    },\n    equals: function equals() {\n      if (arguments.length === 1 && arguments[0] instanceof DD) {\n        var y = arguments[0];\n        return this._hi === y._hi && this._lo === y._lo;\n      }\n    },\n    isZero: function isZero() {\n      return this._hi === 0.0 && this._lo === 0.0;\n    },\n    selfSubtract: function selfSubtract() {\n      if (arguments[0] instanceof DD) {\n        var y = arguments[0];\n        if (this.isNaN()) return this;\n        return this.selfAdd(-y._hi, -y._lo);\n      } else if (typeof arguments[0] === \"number\") {\n        var _y2 = arguments[0];\n        if (this.isNaN()) return this;\n        return this.selfAdd(-_y2, 0.0);\n      }\n    },\n    getSpecialNumberString: function getSpecialNumberString() {\n      if (this.isZero()) return \"0.0\";\n      if (this.isNaN()) return \"NaN \";\n      return null;\n    },\n    min: function min(x) {\n      if (this.le(x)) {\n        return this;\n      } else {\n        return x;\n      }\n    },\n    selfDivide: function selfDivide() {\n      if (arguments.length === 1) {\n        if (arguments[0] instanceof DD) {\n          var y = arguments[0];\n          return this.selfDivide(y._hi, y._lo);\n        } else if (typeof arguments[0] === \"number\") {\n          var _y3 = arguments[0];\n          return this.selfDivide(_y3, 0.0);\n        }\n      } else if (arguments.length === 2) {\n        var yhi = arguments[0],\n            ylo = arguments[1];\n        var hc = null,\n            tc = null,\n            hy = null,\n            ty = null,\n            C = null,\n            c = null,\n            U = null,\n            u = null;\n        C = this._hi / yhi;\n        c = DD.SPLIT * C;\n        hc = c - C;\n        u = DD.SPLIT * yhi;\n        hc = c - hc;\n        tc = C - hc;\n        hy = u - yhi;\n        U = C * yhi;\n        hy = u - hy;\n        ty = yhi - hy;\n        u = hc * hy - U + hc * ty + tc * hy + tc * ty;\n        c = (this._hi - U - u + this._lo - C * ylo) / yhi;\n        u = C + c;\n        this._hi = u;\n        this._lo = C - u + c;\n        return this;\n      }\n    },\n    dump: function dump() {\n      return \"DD<\" + this._hi + \", \" + this._lo + \">\";\n    },\n    divide: function divide() {\n      if (arguments[0] instanceof DD) {\n        var y = arguments[0];\n        var hc = null,\n            tc = null,\n            hy = null,\n            ty = null,\n            C = null,\n            c = null,\n            U = null,\n            u = null;\n        C = this._hi / y._hi;\n        c = DD.SPLIT * C;\n        hc = c - C;\n        u = DD.SPLIT * y._hi;\n        hc = c - hc;\n        tc = C - hc;\n        hy = u - y._hi;\n        U = C * y._hi;\n        hy = u - hy;\n        ty = y._hi - hy;\n        u = hc * hy - U + hc * ty + tc * hy + tc * ty;\n        c = (this._hi - U - u + this._lo - C * y._lo) / y._hi;\n        u = C + c;\n        var zhi = u;\n        var zlo = C - u + c;\n        return new DD(zhi, zlo);\n      } else if (typeof arguments[0] === \"number\") {\n        var _y4 = arguments[0];\n        if (Double.isNaN(_y4)) return DD.createNaN();\n        return DD.copy(this).selfDivide(_y4, 0.0);\n      }\n    },\n    ge: function ge(y) {\n      return this._hi > y._hi || this._hi === y._hi && this._lo >= y._lo;\n    },\n    pow: function pow(exp) {\n      if (exp === 0.0) return DD.valueOf(1.0);\n      var r = new DD(this);\n      var s = DD.valueOf(1.0);\n      var n = Math.abs(exp);\n\n      if (n > 1) {\n        while (n > 0) {\n          if (n % 2 === 1) {\n            s.selfMultiply(r);\n          }\n\n          n /= 2;\n          if (n > 0) r = r.sqr();\n        }\n      } else {\n        s = r;\n      }\n\n      if (exp < 0) return s.reciprocal();\n      return s;\n    },\n    ceil: function ceil() {\n      if (this.isNaN()) return DD.NaN;\n      var fhi = Math.ceil(this._hi);\n      var flo = 0.0;\n\n      if (fhi === this._hi) {\n        flo = Math.ceil(this._lo);\n      }\n\n      return new DD(fhi, flo);\n    },\n    compareTo: function compareTo(o) {\n      var other = o;\n      if (this._hi < other._hi) return -1;\n      if (this._hi > other._hi) return 1;\n      if (this._lo < other._lo) return -1;\n      if (this._lo > other._lo) return 1;\n      return 0;\n    },\n    rint: function rint() {\n      if (this.isNaN()) return this;\n      var plus5 = this.add(0.5);\n      return plus5.floor();\n    },\n    setValue: function setValue() {\n      if (arguments[0] instanceof DD) {\n        var value = arguments[0];\n        this.init(value);\n        return this;\n      } else if (typeof arguments[0] === \"number\") {\n        var _value = arguments[0];\n        this.init(_value);\n        return this;\n      }\n    },\n    max: function max(x) {\n      if (this.ge(x)) {\n        return this;\n      } else {\n        return x;\n      }\n    },\n    sqrt: function sqrt() {\n      if (this.isZero()) return DD.valueOf(0.0);\n\n      if (this.isNegative()) {\n        return DD.NaN;\n      }\n\n      var x = 1.0 / Math.sqrt(this._hi);\n      var ax = this._hi * x;\n      var axdd = DD.valueOf(ax);\n      var diffSq = this.subtract(axdd.sqr());\n      var d2 = diffSq._hi * (x * 0.5);\n      return axdd.add(d2);\n    },\n    selfAdd: function selfAdd() {\n      if (arguments.length === 1) {\n        if (arguments[0] instanceof DD) {\n          var y = arguments[0];\n          return this.selfAdd(y._hi, y._lo);\n        } else if (typeof arguments[0] === \"number\") {\n          var _y5 = arguments[0];\n          var H = null,\n              h = null,\n              S = null,\n              s = null,\n              e = null,\n              f = null;\n          S = this._hi + _y5;\n          e = S - this._hi;\n          s = S - e;\n          s = _y5 - e + (this._hi - s);\n          f = s + this._lo;\n          H = S + f;\n          h = f + (S - H);\n          this._hi = H + h;\n          this._lo = h + (H - this._hi);\n          return this;\n        }\n      } else if (arguments.length === 2) {\n        var yhi = arguments[0],\n            ylo = arguments[1];\n        var H = null,\n            h = null,\n            T = null,\n            t = null,\n            S = null,\n            s = null,\n            e = null,\n            f = null;\n        S = this._hi + yhi;\n        T = this._lo + ylo;\n        e = S - this._hi;\n        f = T - this._lo;\n        s = S - e;\n        t = T - f;\n        s = yhi - e + (this._hi - s);\n        t = ylo - f + (this._lo - t);\n        e = s + T;\n        H = S + e;\n        h = e + (S - H);\n        e = t + h;\n        var zhi = H + e;\n        var zlo = e + (H - zhi);\n        this._hi = zhi;\n        this._lo = zlo;\n        return this;\n      }\n    },\n    selfMultiply: function selfMultiply() {\n      if (arguments.length === 1) {\n        if (arguments[0] instanceof DD) {\n          var y = arguments[0];\n          return this.selfMultiply(y._hi, y._lo);\n        } else if (typeof arguments[0] === \"number\") {\n          var _y6 = arguments[0];\n          return this.selfMultiply(_y6, 0.0);\n        }\n      } else if (arguments.length === 2) {\n        var yhi = arguments[0],\n            ylo = arguments[1];\n        var hx = null,\n            tx = null,\n            hy = null,\n            ty = null,\n            C = null,\n            c = null;\n        C = DD.SPLIT * this._hi;\n        hx = C - this._hi;\n        c = DD.SPLIT * yhi;\n        hx = C - hx;\n        tx = this._hi - hx;\n        hy = c - yhi;\n        C = this._hi * yhi;\n        hy = c - hy;\n        ty = yhi - hy;\n        c = hx * hy - C + hx * ty + tx * hy + tx * ty + (this._hi * ylo + this._lo * yhi);\n        var zhi = C + c;\n        hx = C - zhi;\n        var zlo = c + hx;\n        this._hi = zhi;\n        this._lo = zlo;\n        return this;\n      }\n    },\n    selfSqr: function selfSqr() {\n      return this.selfMultiply(this);\n    },\n    floor: function floor() {\n      if (this.isNaN()) return DD.NaN;\n      var fhi = Math.floor(this._hi);\n      var flo = 0.0;\n\n      if (fhi === this._hi) {\n        flo = Math.floor(this._lo);\n      }\n\n      return new DD(fhi, flo);\n    },\n    negate: function negate() {\n      if (this.isNaN()) return this;\n      return new DD(-this._hi, -this._lo);\n    },\n    clone: function clone() {\n      try {\n        return null;\n      } catch (ex) {\n        if (ex instanceof CloneNotSupportedException) {\n          return null;\n        } else throw ex;\n      } finally {}\n    },\n    multiply: function multiply() {\n      if (arguments[0] instanceof DD) {\n        var y = arguments[0];\n        if (y.isNaN()) return DD.createNaN();\n        return DD.copy(this).selfMultiply(y);\n      } else if (typeof arguments[0] === \"number\") {\n        var _y7 = arguments[0];\n        if (Double.isNaN(_y7)) return DD.createNaN();\n        return DD.copy(this).selfMultiply(_y7, 0.0);\n      }\n    },\n    isNaN: function isNaN() {\n      return Double.isNaN(this._hi);\n    },\n    intValue: function intValue() {\n      return Math.trunc(this._hi);\n    },\n    toString: function toString() {\n      var mag = DD.magnitude(this._hi);\n      if (mag >= -3 && mag <= 20) return this.toStandardNotation();\n      return this.toSciNotation();\n    },\n    toStandardNotation: function toStandardNotation() {\n      var specialStr = this.getSpecialNumberString();\n      if (specialStr !== null) return specialStr;\n      var magnitude = new Array(1).fill(null);\n      var sigDigits = this.extractSignificantDigits(true, magnitude);\n      var decimalPointPos = magnitude[0] + 1;\n      var num = sigDigits;\n\n      if (sigDigits.charAt(0) === '.') {\n        num = \"0\" + sigDigits;\n      } else if (decimalPointPos < 0) {\n        num = \"0.\" + DD.stringOfChar('0', -decimalPointPos) + sigDigits;\n      } else if (sigDigits.indexOf('.') === -1) {\n        var numZeroes = decimalPointPos - sigDigits.length;\n        var zeroes = DD.stringOfChar('0', numZeroes);\n        num = sigDigits + zeroes + \".0\";\n      }\n\n      if (this.isNegative()) return \"-\" + num;\n      return num;\n    },\n    reciprocal: function reciprocal() {\n      var hc = null,\n          tc = null,\n          hy = null,\n          ty = null,\n          C = null,\n          c = null,\n          U = null,\n          u = null;\n      C = 1.0 / this._hi;\n      c = DD.SPLIT * C;\n      hc = c - C;\n      u = DD.SPLIT * this._hi;\n      hc = c - hc;\n      tc = C - hc;\n      hy = u - this._hi;\n      U = C * this._hi;\n      hy = u - hy;\n      ty = this._hi - hy;\n      u = hc * hy - U + hc * ty + tc * hy + tc * ty;\n      c = (1.0 - U - u - C * this._lo) / this._hi;\n      var zhi = C + c;\n      var zlo = C - zhi + c;\n      return new DD(zhi, zlo);\n    },\n    toSciNotation: function toSciNotation() {\n      if (this.isZero()) return DD.SCI_NOT_ZERO;\n      var specialStr = this.getSpecialNumberString();\n      if (specialStr !== null) return specialStr;\n      var magnitude = new Array(1).fill(null);\n      var digits = this.extractSignificantDigits(false, magnitude);\n      var expStr = DD.SCI_NOT_EXPONENT_CHAR + magnitude[0];\n\n      if (digits.charAt(0) === '0') {\n        throw new IllegalStateException(\"Found leading zero: \" + digits);\n      }\n\n      var trailingDigits = \"\";\n      if (digits.length > 1) trailingDigits = digits.substring(1);\n      var digitsWithDecimal = digits.charAt(0) + \".\" + trailingDigits;\n      if (this.isNegative()) return \"-\" + digitsWithDecimal + expStr;\n      return digitsWithDecimal + expStr;\n    },\n    abs: function abs() {\n      if (this.isNaN()) return DD.NaN;\n      if (this.isNegative()) return this.negate();\n      return new DD(this);\n    },\n    isPositive: function isPositive() {\n      return this._hi > 0.0 || this._hi === 0.0 && this._lo > 0.0;\n    },\n    lt: function lt(y) {\n      return this._hi < y._hi || this._hi === y._hi && this._lo < y._lo;\n    },\n    add: function add() {\n      if (arguments[0] instanceof DD) {\n        var y = arguments[0];\n        return DD.copy(this).selfAdd(y);\n      } else if (typeof arguments[0] === \"number\") {\n        var _y8 = arguments[0];\n        return DD.copy(this).selfAdd(_y8);\n      }\n    },\n    init: function init() {\n      if (arguments.length === 1) {\n        if (typeof arguments[0] === \"number\") {\n          var x = arguments[0];\n          this._hi = x;\n          this._lo = 0.0;\n        } else if (arguments[0] instanceof DD) {\n          var dd = arguments[0];\n          this._hi = dd._hi;\n          this._lo = dd._lo;\n        }\n      } else if (arguments.length === 2) {\n        var hi = arguments[0],\n            lo = arguments[1];\n        this._hi = hi;\n        this._lo = lo;\n      }\n    },\n    gt: function gt(y) {\n      return this._hi > y._hi || this._hi === y._hi && this._lo > y._lo;\n    },\n    isNegative: function isNegative() {\n      return this._hi < 0.0 || this._hi === 0.0 && this._lo < 0.0;\n    },\n    trunc: function trunc() {\n      if (this.isNaN()) return DD.NaN;\n      if (this.isPositive()) return this.floor();else return this.ceil();\n    },\n    signum: function signum() {\n      if (this._hi > 0) return 1;\n      if (this._hi < 0) return -1;\n      if (this._lo > 0) return 1;\n      if (this._lo < 0) return -1;\n      return 0;\n    },\n    interfaces_: function interfaces_() {\n      return [Serializable, Comparable, Clonable];\n    },\n    getClass: function getClass() {\n      return DD;\n    }\n  });\n\n  DD.sqr = function (x) {\n    return DD.valueOf(x).selfMultiply(x);\n  };\n\n  DD.valueOf = function () {\n    if (typeof arguments[0] === \"string\") {\n      var str = arguments[0];\n      return DD.parse(str);\n    } else if (typeof arguments[0] === \"number\") {\n      var x = arguments[0];\n      return new DD(x);\n    }\n  };\n\n  DD.sqrt = function (x) {\n    return DD.valueOf(x).sqrt();\n  };\n\n  DD.parse = function (str) {\n    var i = 0;\n    var strlen = str.length;\n\n    while (Character.isWhitespace(str.charAt(i))) {\n      i++;\n    }\n\n    var isNegative = false;\n\n    if (i < strlen) {\n      var signCh = str.charAt(i);\n\n      if (signCh === '-' || signCh === '+') {\n        i++;\n        if (signCh === '-') isNegative = true;\n      }\n    }\n\n    var val = new DD();\n    var numDigits = 0;\n    var numBeforeDec = 0;\n    var exp = 0;\n\n    while (true) {\n      if (i >= strlen) break;\n      var ch = str.charAt(i);\n      i++;\n\n      if (Character.isDigit(ch)) {\n        var d = ch - '0';\n        val.selfMultiply(DD.TEN);\n        val.selfAdd(d);\n        numDigits++;\n        continue;\n      }\n\n      if (ch === '.') {\n        numBeforeDec = numDigits;\n        continue;\n      }\n\n      if (ch === 'e' || ch === 'E') {\n        var expStr = str.substring(i);\n\n        try {\n          exp = Integer.parseInt(expStr);\n        } catch (ex) {\n          if (ex instanceof NumberFormatException) {\n            throw new NumberFormatException(\"Invalid exponent \" + expStr + \" in string \" + str);\n          } else throw ex;\n        } finally {}\n\n        break;\n      }\n\n      throw new NumberFormatException(\"Unexpected character '\" + ch + \"' at position \" + i + \" in string \" + str);\n    }\n\n    var val2 = val;\n    var numDecPlaces = numDigits - numBeforeDec - exp;\n\n    if (numDecPlaces === 0) {\n      val2 = val;\n    } else if (numDecPlaces > 0) {\n      var scale = DD.TEN.pow(numDecPlaces);\n      val2 = val.divide(scale);\n    } else if (numDecPlaces < 0) {\n      var scale = DD.TEN.pow(-numDecPlaces);\n      val2 = val.multiply(scale);\n    }\n\n    if (isNegative) {\n      return val2.negate();\n    }\n\n    return val2;\n  };\n\n  DD.createNaN = function () {\n    return new DD(Double.NaN, Double.NaN);\n  };\n\n  DD.copy = function (dd) {\n    return new DD(dd);\n  };\n\n  DD.magnitude = function (x) {\n    var xAbs = Math.abs(x);\n    var xLog10 = Math.log(xAbs) / Math.log(10);\n    var xMag = Math.trunc(Math.floor(xLog10));\n    var xApprox = Math.pow(10, xMag);\n    if (xApprox * 10 <= xAbs) xMag += 1;\n    return xMag;\n  };\n\n  DD.stringOfChar = function (ch, len) {\n    var buf = new StringBuffer();\n\n    for (var i = 0; i < len; i++) {\n      buf.append(ch);\n    }\n\n    return buf.toString();\n  };\n\n  DD.PI = new DD(3.141592653589793116e+00, 1.224646799147353207e-16);\n  DD.TWO_PI = new DD(6.283185307179586232e+00, 2.449293598294706414e-16);\n  DD.PI_2 = new DD(1.570796326794896558e+00, 6.123233995736766036e-17);\n  DD.E = new DD(2.718281828459045091e+00, 1.445646891729250158e-16);\n  DD.NaN = new DD(Double.NaN, Double.NaN);\n  DD.EPS = 1.23259516440783e-32;\n  DD.SPLIT = 134217729.0;\n  DD.MAX_PRINT_DIGITS = 32;\n  DD.TEN = DD.valueOf(10.0);\n  DD.ONE = DD.valueOf(1.0);\n  DD.SCI_NOT_EXPONENT_CHAR = \"E\";\n  DD.SCI_NOT_ZERO = \"0.0E0\";\n\n  function CGAlgorithmsDD() {}\n  extend(CGAlgorithmsDD.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return CGAlgorithmsDD;\n    }\n  });\n\n  CGAlgorithmsDD.orientationIndex = function (p1, p2, q) {\n    var index = CGAlgorithmsDD.orientationIndexFilter(p1, p2, q);\n    if (index <= 1) return index;\n    var dx1 = DD.valueOf(p2.x).selfAdd(-p1.x);\n    var dy1 = DD.valueOf(p2.y).selfAdd(-p1.y);\n    var dx2 = DD.valueOf(q.x).selfAdd(-p2.x);\n    var dy2 = DD.valueOf(q.y).selfAdd(-p2.y);\n    return dx1.selfMultiply(dy2).selfSubtract(dy1.selfMultiply(dx2)).signum();\n  };\n\n  CGAlgorithmsDD.signOfDet2x2 = function () {\n    if (arguments[0] instanceof DD) {\n      var _x = arguments[0],\n          _y = arguments[1],\n          _x2 = arguments[2],\n          _y2 = arguments[3];\n\n      var det = _x.multiply(_y2).selfSubtract(_y.multiply(_x2));\n\n      return det.signum();\n    } else if (typeof arguments[0] === \"number\") {\n      var dx1 = arguments[0],\n          dy1 = arguments[1],\n          dx2 = arguments[2],\n          dy2 = arguments[3];\n      var x1 = DD.valueOf(dx1);\n      var y1 = DD.valueOf(dy1);\n      var x2 = DD.valueOf(dx2);\n      var y2 = DD.valueOf(dy2);\n      var det = x1.multiply(y2).selfSubtract(y1.multiply(x2));\n      return det.signum();\n    }\n  };\n\n  CGAlgorithmsDD.intersection = function (p1, p2, q1, q2) {\n    var denom1 = DD.valueOf(q2.y).selfSubtract(q1.y).selfMultiply(DD.valueOf(p2.x).selfSubtract(p1.x));\n    var denom2 = DD.valueOf(q2.x).selfSubtract(q1.x).selfMultiply(DD.valueOf(p2.y).selfSubtract(p1.y));\n    var denom = denom1.subtract(denom2);\n    var numx1 = DD.valueOf(q2.x).selfSubtract(q1.x).selfMultiply(DD.valueOf(p1.y).selfSubtract(q1.y));\n    var numx2 = DD.valueOf(q2.y).selfSubtract(q1.y).selfMultiply(DD.valueOf(p1.x).selfSubtract(q1.x));\n    var numx = numx1.subtract(numx2);\n    var fracP = numx.selfDivide(denom).doubleValue();\n    var x = DD.valueOf(p1.x).selfAdd(DD.valueOf(p2.x).selfSubtract(p1.x).selfMultiply(fracP)).doubleValue();\n    var numy1 = DD.valueOf(p2.x).selfSubtract(p1.x).selfMultiply(DD.valueOf(p1.y).selfSubtract(q1.y));\n    var numy2 = DD.valueOf(p2.y).selfSubtract(p1.y).selfMultiply(DD.valueOf(p1.x).selfSubtract(q1.x));\n    var numy = numy1.subtract(numy2);\n    var fracQ = numy.selfDivide(denom).doubleValue();\n    var y = DD.valueOf(q1.y).selfAdd(DD.valueOf(q2.y).selfSubtract(q1.y).selfMultiply(fracQ)).doubleValue();\n    return new Coordinate(x, y);\n  };\n\n  CGAlgorithmsDD.orientationIndexFilter = function (pa, pb, pc) {\n    var detsum = null;\n    var detleft = (pa.x - pc.x) * (pb.y - pc.y);\n    var detright = (pa.y - pc.y) * (pb.x - pc.x);\n    var det = detleft - detright;\n\n    if (detleft > 0.0) {\n      if (detright <= 0.0) {\n        return CGAlgorithmsDD.signum(det);\n      } else {\n        detsum = detleft + detright;\n      }\n    } else if (detleft < 0.0) {\n      if (detright >= 0.0) {\n        return CGAlgorithmsDD.signum(det);\n      } else {\n        detsum = -detleft - detright;\n      }\n    } else {\n      return CGAlgorithmsDD.signum(det);\n    }\n\n    var errbound = CGAlgorithmsDD.DP_SAFE_EPSILON * detsum;\n\n    if (det >= errbound || -det >= errbound) {\n      return CGAlgorithmsDD.signum(det);\n    }\n\n    return 2;\n  };\n\n  CGAlgorithmsDD.signum = function (x) {\n    if (x > 0) return 1;\n    if (x < 0) return -1;\n    return 0;\n  };\n\n  CGAlgorithmsDD.DP_SAFE_EPSILON = 1e-15;\n\n  function Orientation() {}\n  extend(Orientation.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Orientation;\n    }\n  });\n\n  Orientation.index = function (p1, p2, q) {\n    return CGAlgorithmsDD.orientationIndex(p1, p2, q);\n  };\n\n  Orientation.isCCW = function (ring) {\n    var nPts = ring.length - 1;\n    if (nPts < 3) throw new IllegalArgumentException(\"Ring has fewer than 4 points, so orientation cannot be determined\");\n    var hiPt = ring[0];\n    var hiIndex = 0;\n\n    for (var i = 1; i <= nPts; i++) {\n      var p = ring[i];\n\n      if (p.y > hiPt.y) {\n        hiPt = p;\n        hiIndex = i;\n      }\n    }\n\n    var iPrev = hiIndex;\n\n    do {\n      iPrev = iPrev - 1;\n      if (iPrev < 0) iPrev = nPts;\n    } while (ring[iPrev].equals2D(hiPt) && iPrev !== hiIndex);\n\n    var iNext = hiIndex;\n\n    do {\n      iNext = (iNext + 1) % nPts;\n    } while (ring[iNext].equals2D(hiPt) && iNext !== hiIndex);\n\n    var prev = ring[iPrev];\n    var next = ring[iNext];\n    if (prev.equals2D(hiPt) || next.equals2D(hiPt) || prev.equals2D(next)) return false;\n    var disc = Orientation.index(prev, hiPt, next);\n    var isCCW = null;\n\n    if (disc === 0) {\n      isCCW = prev.x > next.x;\n    } else {\n      isCCW = disc > 0;\n    }\n\n    return isCCW;\n  };\n\n  Orientation.CLOCKWISE = -1;\n  Orientation.RIGHT = Orientation.CLOCKWISE;\n  Orientation.COUNTERCLOCKWISE = 1;\n  Orientation.LEFT = Orientation.COUNTERCLOCKWISE;\n  Orientation.COLLINEAR = 0;\n  Orientation.STRAIGHT = Orientation.COLLINEAR;\n\n  function System() {}\n\n  System.arraycopy = function (src, srcPos, dest, destPos, len) {\n    var c = 0;\n\n    for (var i = srcPos; i < srcPos + len; i++) {\n      dest[destPos + c] = src[i];\n      c++;\n    }\n  };\n\n  System.getProperty = function (name) {\n    return {\n      'line.separator': '\\n'\n    }[name];\n  };\n\n  function HCoordinate() {\n    this.x = null;\n    this.y = null;\n    this.w = null;\n\n    if (arguments.length === 0) {\n      this.x = 0.0;\n      this.y = 0.0;\n      this.w = 1.0;\n    } else if (arguments.length === 1) {\n      var p = arguments[0];\n      this.x = p.x;\n      this.y = p.y;\n      this.w = 1.0;\n    } else if (arguments.length === 2) {\n      if (typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\") {\n        var _x = arguments[0],\n            _y = arguments[1];\n        this.x = _x;\n        this.y = _y;\n        this.w = 1.0;\n      } else if (arguments[0] instanceof HCoordinate && arguments[1] instanceof HCoordinate) {\n        var p1 = arguments[0],\n            p2 = arguments[1];\n        this.x = p1.y * p2.w - p2.y * p1.w;\n        this.y = p2.x * p1.w - p1.x * p2.w;\n        this.w = p1.x * p2.y - p2.x * p1.y;\n      } else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Coordinate) {\n        var _p = arguments[0],\n            _p2 = arguments[1];\n        this.x = _p.y - _p2.y;\n        this.y = _p2.x - _p.x;\n        this.w = _p.x * _p2.y - _p2.x * _p.y;\n      }\n    } else if (arguments.length === 3) {\n      var _x2 = arguments[0],\n          _y2 = arguments[1],\n          _w = arguments[2];\n      this.x = _x2;\n      this.y = _y2;\n      this.w = _w;\n    } else if (arguments.length === 4) {\n      var _p3 = arguments[0],\n          _p4 = arguments[1],\n          q1 = arguments[2],\n          q2 = arguments[3];\n      var px = _p3.y - _p4.y;\n      var py = _p4.x - _p3.x;\n      var pw = _p3.x * _p4.y - _p4.x * _p3.y;\n      var qx = q1.y - q2.y;\n      var qy = q2.x - q1.x;\n      var qw = q1.x * q2.y - q2.x * q1.y;\n      this.x = py * qw - qy * pw;\n      this.y = qx * pw - px * qw;\n      this.w = px * qy - qx * py;\n    }\n  }\n  extend(HCoordinate.prototype, {\n    getY: function getY() {\n      var a = this.y / this.w;\n\n      if (Double.isNaN(a) || Double.isInfinite(a)) {\n        throw new NotRepresentableException();\n      }\n\n      return a;\n    },\n    getX: function getX() {\n      var a = this.x / this.w;\n\n      if (Double.isNaN(a) || Double.isInfinite(a)) {\n        throw new NotRepresentableException();\n      }\n\n      return a;\n    },\n    getCoordinate: function getCoordinate() {\n      var p = new Coordinate();\n      p.x = this.getX();\n      p.y = this.getY();\n      return p;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return HCoordinate;\n    }\n  });\n\n  HCoordinate.intersection = function (p1, p2, q1, q2) {\n    var px = p1.y - p2.y;\n    var py = p2.x - p1.x;\n    var pw = p1.x * p2.y - p2.x * p1.y;\n    var qx = q1.y - q2.y;\n    var qy = q2.x - q1.x;\n    var qw = q1.x * q2.y - q2.x * q1.y;\n    var x = py * qw - qy * pw;\n    var y = qx * pw - px * qw;\n    var w = px * qy - qx * py;\n    var xInt = x / w;\n    var yInt = y / w;\n\n    if (Double.isNaN(xInt) || Double.isInfinite(xInt) || Double.isNaN(yInt) || Double.isInfinite(yInt)) {\n      throw new NotRepresentableException();\n    }\n\n    return new Coordinate(xInt, yInt);\n  };\n\n  function MathUtil() {}\n  extend(MathUtil.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return MathUtil;\n    }\n  });\n\n  MathUtil.log10 = function (x) {\n    var ln = Math.log(x);\n    if (Double.isInfinite(ln)) return ln;\n    if (Double.isNaN(ln)) return ln;\n    return ln / MathUtil.LOG_10;\n  };\n\n  MathUtil.min = function (v1, v2, v3, v4) {\n    var min = v1;\n    if (v2 < min) min = v2;\n    if (v3 < min) min = v3;\n    if (v4 < min) min = v4;\n    return min;\n  };\n\n  MathUtil.clamp = function () {\n    if (typeof arguments[2] === \"number\" && typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\") {\n      var x = arguments[0],\n          min = arguments[1],\n          max = arguments[2];\n      if (x < min) return min;\n      if (x > max) return max;\n      return x;\n    } else if (Number.isInteger(arguments[2]) && Number.isInteger(arguments[0]) && Number.isInteger(arguments[1])) {\n      var _x = arguments[0],\n          _min = arguments[1],\n          _max = arguments[2];\n      if (_x < _min) return _min;\n      if (_x > _max) return _max;\n      return _x;\n    }\n  };\n\n  MathUtil.wrap = function (index, max) {\n    if (index < 0) {\n      return max - -index % max;\n    }\n\n    return index % max;\n  };\n\n  MathUtil.max = function () {\n    if (arguments.length === 3) {\n      var v1 = arguments[0],\n          v2 = arguments[1],\n          v3 = arguments[2];\n      var max = v1;\n      if (v2 > max) max = v2;\n      if (v3 > max) max = v3;\n      return max;\n    } else if (arguments.length === 4) {\n      var _v = arguments[0],\n          _v2 = arguments[1],\n          _v3 = arguments[2],\n          v4 = arguments[3];\n      var max = _v;\n      if (_v2 > max) max = _v2;\n      if (_v3 > max) max = _v3;\n      if (v4 > max) max = v4;\n      return max;\n    }\n  };\n\n  MathUtil.average = function (x1, x2) {\n    return (x1 + x2) / 2.0;\n  };\n\n  MathUtil.LOG_10 = Math.log(10);\n\n  function Distance() {}\n  extend(Distance.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Distance;\n    }\n  });\n\n  Distance.segmentToSegment = function (A, B, C, D) {\n    if (A.equals(B)) return Distance.pointToSegment(A, C, D);\n    if (C.equals(D)) return Distance.pointToSegment(D, A, B);\n    var noIntersection = false;\n\n    if (!Envelope.intersects(A, B, C, D)) {\n      noIntersection = true;\n    } else {\n      var denom = (B.x - A.x) * (D.y - C.y) - (B.y - A.y) * (D.x - C.x);\n\n      if (denom === 0) {\n        noIntersection = true;\n      } else {\n        var r_num = (A.y - C.y) * (D.x - C.x) - (A.x - C.x) * (D.y - C.y);\n        var s_num = (A.y - C.y) * (B.x - A.x) - (A.x - C.x) * (B.y - A.y);\n        var s = s_num / denom;\n        var r = r_num / denom;\n\n        if (r < 0 || r > 1 || s < 0 || s > 1) {\n          noIntersection = true;\n        }\n      }\n    }\n\n    if (noIntersection) {\n      return MathUtil.min(Distance.pointToSegment(A, C, D), Distance.pointToSegment(B, C, D), Distance.pointToSegment(C, A, B), Distance.pointToSegment(D, A, B));\n    }\n\n    return 0.0;\n  };\n\n  Distance.pointToSegment = function (p, A, B) {\n    if (A.x === B.x && A.y === B.y) return p.distance(A);\n    var len2 = (B.x - A.x) * (B.x - A.x) + (B.y - A.y) * (B.y - A.y);\n    var r = ((p.x - A.x) * (B.x - A.x) + (p.y - A.y) * (B.y - A.y)) / len2;\n    if (r <= 0.0) return p.distance(A);\n    if (r >= 1.0) return p.distance(B);\n    var s = ((A.y - p.y) * (B.x - A.x) - (A.x - p.x) * (B.y - A.y)) / len2;\n    return Math.abs(s) * Math.sqrt(len2);\n  };\n\n  Distance.pointToLinePerpendicular = function (p, A, B) {\n    var len2 = (B.x - A.x) * (B.x - A.x) + (B.y - A.y) * (B.y - A.y);\n    var s = ((A.y - p.y) * (B.x - A.x) - (A.x - p.x) * (B.y - A.y)) / len2;\n    return Math.abs(s) * Math.sqrt(len2);\n  };\n\n  Distance.pointToSegmentString = function (p, line) {\n    if (line.length === 0) throw new IllegalArgumentException(\"Line array must contain at least one vertex\");\n    var minDistance = p.distance(line[0]);\n\n    for (var i = 0; i < line.length - 1; i++) {\n      var dist = Distance.pointToSegment(p, line[i], line[i + 1]);\n\n      if (dist < minDistance) {\n        minDistance = dist;\n      }\n    }\n\n    return minDistance;\n  };\n\n  function CoordinateSequence() {}\n  extend(CoordinateSequence.prototype, {\n    setOrdinate: function setOrdinate(index, ordinateIndex, value) {},\n    size: function size() {},\n    getOrdinate: function getOrdinate(index, ordinateIndex) {},\n    getCoordinate: function getCoordinate() {\n    },\n    getCoordinateCopy: function getCoordinateCopy(i) {},\n    getDimension: function getDimension() {},\n    getX: function getX(index) {},\n    expandEnvelope: function expandEnvelope(env) {},\n    copy: function copy() {},\n    getY: function getY(index) {},\n    toCoordinateArray: function toCoordinateArray() {},\n    interfaces_: function interfaces_() {\n      return [Clonable];\n    },\n    getClass: function getClass() {\n      return CoordinateSequence;\n    }\n  });\n  CoordinateSequence.X = 0;\n  CoordinateSequence.Y = 1;\n  CoordinateSequence.Z = 2;\n  CoordinateSequence.M = 3;\n\n  function CoordinateSequenceFactory() {}\n  extend(CoordinateSequenceFactory.prototype, {\n    create: function create() {\n      if (arguments.length === 1) {\n        if (arguments[0] instanceof Array) ; else if (hasInterface(arguments[0], CoordinateSequence)) ;\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return CoordinateSequenceFactory;\n    }\n  });\n\n  function GeometryComponentFilter() {}\n  extend(GeometryComponentFilter.prototype, {\n    filter: function filter(geom) {},\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return GeometryComponentFilter;\n    }\n  });\n\n  function Geometry() {\n    this._envelope = null;\n    this._factory = null;\n    this._SRID = null;\n    this._userData = null;\n    var factory = arguments[0];\n    this._factory = factory;\n    this._SRID = factory.getSRID();\n  }\n  extend(Geometry.prototype, {\n    isGeometryCollection: function isGeometryCollection() {\n      return this.getTypeCode() === Geometry.TYPECODE_GEOMETRYCOLLECTION;\n    },\n    getFactory: function getFactory() {\n      return this._factory;\n    },\n    getGeometryN: function getGeometryN(n) {\n      return this;\n    },\n    getArea: function getArea() {\n      return 0.0;\n    },\n    isRectangle: function isRectangle() {\n      return false;\n    },\n    equals: function equals() {\n      if (arguments[0] instanceof Geometry) {\n        var _g = arguments[0];\n        if (_g === null) return false;\n        return this.equalsTopo(_g);\n      } else if (arguments[0] instanceof Object) {\n        var o = arguments[0];\n        if (!(o instanceof Geometry)) return false;\n        var g = o;\n        return this.equalsExact(g);\n      }\n    },\n    equalsExact: function equalsExact(other) {\n      return this === other || this.equalsExact(other, 0);\n    },\n    geometryChanged: function geometryChanged() {\n      this.apply(Geometry.geometryChangedFilter);\n    },\n    geometryChangedAction: function geometryChangedAction() {\n      this._envelope = null;\n    },\n    equalsNorm: function equalsNorm(g) {\n      if (g === null) return false;\n      return this.norm().equalsExact(g.norm());\n    },\n    getLength: function getLength() {\n      return 0.0;\n    },\n    getNumGeometries: function getNumGeometries() {\n      return 1;\n    },\n    compareTo: function compareTo() {\n      if (arguments.length === 1) {\n        var o = arguments[0];\n        var other = o;\n\n        if (this.getTypeCode() !== other.getTypeCode()) {\n          return this.getTypeCode() - other.getTypeCode();\n        }\n\n        if (this.isEmpty() && other.isEmpty()) {\n          return 0;\n        }\n\n        if (this.isEmpty()) {\n          return -1;\n        }\n\n        if (other.isEmpty()) {\n          return 1;\n        }\n\n        return this.compareToSameClass(o);\n      } else if (arguments.length === 2) {\n        var _o = arguments[0],\n            comp = arguments[1];\n        var other = _o;\n\n        if (this.getTypeCode() !== other.getTypeCode()) {\n          return this.getTypeCode() - other.getTypeCode();\n        }\n\n        if (this.isEmpty() && other.isEmpty()) {\n          return 0;\n        }\n\n        if (this.isEmpty()) {\n          return -1;\n        }\n\n        if (other.isEmpty()) {\n          return 1;\n        }\n\n        return this.compareToSameClass(_o, comp);\n      }\n    },\n    getUserData: function getUserData() {\n      return this._userData;\n    },\n    getSRID: function getSRID() {\n      return this._SRID;\n    },\n    getEnvelope: function getEnvelope() {\n      return this.getFactory().toGeometry(this.getEnvelopeInternal());\n    },\n    checkNotGeometryCollection: function checkNotGeometryCollection(g) {\n      if (g.getTypeCode() === Geometry.TYPECODE_GEOMETRYCOLLECTION) {\n        throw new IllegalArgumentException(\"This method does not support GeometryCollection arguments\");\n      }\n    },\n    equal: function equal(a, b, tolerance) {\n      if (tolerance === 0) {\n        return a.equals(b);\n      }\n\n      return a.distance(b) <= tolerance;\n    },\n    norm: function norm() {\n      var copy = this.copy();\n      copy.normalize();\n      return copy;\n    },\n    getPrecisionModel: function getPrecisionModel() {\n      return this._factory.getPrecisionModel();\n    },\n    getEnvelopeInternal: function getEnvelopeInternal() {\n      if (this._envelope === null) {\n        this._envelope = this.computeEnvelopeInternal();\n      }\n\n      return new Envelope(this._envelope);\n    },\n    setSRID: function setSRID(SRID) {\n      this._SRID = SRID;\n    },\n    setUserData: function setUserData(userData) {\n      this._userData = userData;\n    },\n    compare: function compare(a, b) {\n      var i = a.iterator();\n      var j = b.iterator();\n\n      while (i.hasNext() && j.hasNext()) {\n        var aElement = i.next();\n        var bElement = j.next();\n        var comparison = aElement.compareTo(bElement);\n\n        if (comparison !== 0) {\n          return comparison;\n        }\n      }\n\n      if (i.hasNext()) {\n        return 1;\n      }\n\n      if (j.hasNext()) {\n        return -1;\n      }\n\n      return 0;\n    },\n    hashCode: function hashCode() {\n      return this.getEnvelopeInternal().hashCode();\n    },\n    isGeometryCollectionOrDerived: function isGeometryCollectionOrDerived() {\n      if (this.getTypeCode() === Geometry.TYPECODE_GEOMETRYCOLLECTION || this.getTypeCode() === Geometry.TYPECODE_MULTIPOINT || this.getTypeCode() === Geometry.TYPECODE_MULTILINESTRING || this.getTypeCode() === Geometry.TYPECODE_MULTIPOLYGON) {\n        return true;\n      }\n\n      return false;\n    },\n    interfaces_: function interfaces_() {\n      return [Clonable, Comparable, Serializable];\n    },\n    getClass: function getClass() {\n      return Geometry;\n    }\n  });\n\n  Geometry.hasNonEmptyElements = function (geometries) {\n    for (var i = 0; i < geometries.length; i++) {\n      if (!geometries[i].isEmpty()) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  Geometry.hasNullElements = function (array) {\n    for (var i = 0; i < array.length; i++) {\n      if (array[i] === null) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  Geometry.serialVersionUID = 8763622679187376702;\n  Geometry.TYPECODE_POINT = 0;\n  Geometry.TYPECODE_MULTIPOINT = 1;\n  Geometry.TYPECODE_LINESTRING = 2;\n  Geometry.TYPECODE_LINEARRING = 3;\n  Geometry.TYPECODE_MULTILINESTRING = 4;\n  Geometry.TYPECODE_POLYGON = 5;\n  Geometry.TYPECODE_MULTIPOLYGON = 6;\n  Geometry.TYPECODE_GEOMETRYCOLLECTION = 7;\n  Geometry.TYPENAME_POINT = \"Point\";\n  Geometry.TYPENAME_MULTIPOINT = \"MultiPoint\";\n  Geometry.TYPENAME_LINESTRING = \"LineString\";\n  Geometry.TYPENAME_LINEARRING = \"LinearRing\";\n  Geometry.TYPENAME_MULTILINESTRING = \"MultiLineString\";\n  Geometry.TYPENAME_POLYGON = \"Polygon\";\n  Geometry.TYPENAME_MULTIPOLYGON = \"MultiPolygon\";\n  Geometry.TYPENAME_GEOMETRYCOLLECTION = \"GeometryCollection\";\n  Geometry.geometryChangedFilter = {\n    interfaces_: function interfaces_() {\n      return [GeometryComponentFilter];\n    },\n    filter: function filter(geom) {\n      geom.geometryChangedAction();\n    }\n  };\n\n  function CoordinateFilter() {}\n  extend(CoordinateFilter.prototype, {\n    filter: function filter(coord) {},\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return CoordinateFilter;\n    }\n  });\n\n  function BoundaryNodeRule() {}\n  extend(BoundaryNodeRule.prototype, {\n    isInBoundary: function isInBoundary(boundaryCount) {},\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return BoundaryNodeRule;\n    }\n  });\n\n  function Mod2BoundaryNodeRule() {}\n\n  extend(Mod2BoundaryNodeRule.prototype, {\n    isInBoundary: function isInBoundary(boundaryCount) {\n      return boundaryCount % 2 === 1;\n    },\n    interfaces_: function interfaces_() {\n      return [BoundaryNodeRule];\n    },\n    getClass: function getClass() {\n      return Mod2BoundaryNodeRule;\n    }\n  });\n\n  function EndPointBoundaryNodeRule() {}\n\n  extend(EndPointBoundaryNodeRule.prototype, {\n    isInBoundary: function isInBoundary(boundaryCount) {\n      return boundaryCount > 0;\n    },\n    interfaces_: function interfaces_() {\n      return [BoundaryNodeRule];\n    },\n    getClass: function getClass() {\n      return EndPointBoundaryNodeRule;\n    }\n  });\n\n  function MultiValentEndPointBoundaryNodeRule() {}\n\n  extend(MultiValentEndPointBoundaryNodeRule.prototype, {\n    isInBoundary: function isInBoundary(boundaryCount) {\n      return boundaryCount > 1;\n    },\n    interfaces_: function interfaces_() {\n      return [BoundaryNodeRule];\n    },\n    getClass: function getClass() {\n      return MultiValentEndPointBoundaryNodeRule;\n    }\n  });\n\n  function MonoValentEndPointBoundaryNodeRule() {}\n\n  extend(MonoValentEndPointBoundaryNodeRule.prototype, {\n    isInBoundary: function isInBoundary(boundaryCount) {\n      return boundaryCount === 1;\n    },\n    interfaces_: function interfaces_() {\n      return [BoundaryNodeRule];\n    },\n    getClass: function getClass() {\n      return MonoValentEndPointBoundaryNodeRule;\n    }\n  });\n  BoundaryNodeRule.Mod2BoundaryNodeRule = Mod2BoundaryNodeRule;\n  BoundaryNodeRule.EndPointBoundaryNodeRule = EndPointBoundaryNodeRule;\n  BoundaryNodeRule.MultiValentEndPointBoundaryNodeRule = MultiValentEndPointBoundaryNodeRule;\n  BoundaryNodeRule.MonoValentEndPointBoundaryNodeRule = MonoValentEndPointBoundaryNodeRule;\n  BoundaryNodeRule.MOD2_BOUNDARY_RULE = new Mod2BoundaryNodeRule();\n  BoundaryNodeRule.ENDPOINT_BOUNDARY_RULE = new EndPointBoundaryNodeRule();\n  BoundaryNodeRule.MULTIVALENT_ENDPOINT_BOUNDARY_RULE = new MultiValentEndPointBoundaryNodeRule();\n  BoundaryNodeRule.MONOVALENT_ENDPOINT_BOUNDARY_RULE = new MonoValentEndPointBoundaryNodeRule();\n  BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE = BoundaryNodeRule.MOD2_BOUNDARY_RULE;\n\n  function CoordinateArrays() {}\n  extend(CoordinateArrays.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return CoordinateArrays;\n    }\n  });\n\n  CoordinateArrays.isRing = function (pts) {\n    if (pts.length < 4) return false;\n    if (!pts[0].equals2D(pts[pts.length - 1])) return false;\n    return true;\n  };\n\n  CoordinateArrays.ptNotInList = function (testPts, pts) {\n    for (var i = 0; i < testPts.length; i++) {\n      var testPt = testPts[i];\n      if (CoordinateArrays.indexOf(testPt, pts) < 0) return testPt;\n    }\n\n    return null;\n  };\n\n  CoordinateArrays.scroll = function (coordinates, firstCoordinate) {\n    var i = CoordinateArrays.indexOf(firstCoordinate, coordinates);\n    if (i < 0) return null;\n    var newCoordinates = new Array(coordinates.length).fill(null);\n    System.arraycopy(coordinates, i, newCoordinates, 0, coordinates.length - i);\n    System.arraycopy(coordinates, 0, newCoordinates, coordinates.length - i, i);\n    System.arraycopy(newCoordinates, 0, coordinates, 0, coordinates.length);\n  };\n\n  CoordinateArrays.equals = function () {\n    if (arguments.length === 2) {\n      var coord1 = arguments[0],\n          coord2 = arguments[1];\n      if (coord1 === coord2) return true;\n      if (coord1 === null || coord2 === null) return false;\n      if (coord1.length !== coord2.length) return false;\n\n      for (var i = 0; i < coord1.length; i++) {\n        if (!coord1[i].equals(coord2[i])) return false;\n      }\n\n      return true;\n    } else if (arguments.length === 3) {\n      var _coord = arguments[0],\n          _coord2 = arguments[1],\n          coordinateComparator = arguments[2];\n      if (_coord === _coord2) return true;\n      if (_coord === null || _coord2 === null) return false;\n      if (_coord.length !== _coord2.length) return false;\n\n      for (var i = 0; i < _coord.length; i++) {\n        if (coordinateComparator.compare(_coord[i], _coord2[i]) !== 0) return false;\n      }\n\n      return true;\n    }\n  };\n\n  CoordinateArrays.intersection = function (coordinates, env) {\n    var coordList = new CoordinateList();\n\n    for (var i = 0; i < coordinates.length; i++) {\n      if (env.intersects(coordinates[i])) coordList.add(coordinates[i], true);\n    }\n\n    return coordList.toCoordinateArray();\n  };\n\n  CoordinateArrays.hasRepeatedPoints = function (coord) {\n    for (var i = 1; i < coord.length; i++) {\n      if (coord[i - 1].equals(coord[i])) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  CoordinateArrays.removeRepeatedPoints = function (coord) {\n    if (!CoordinateArrays.hasRepeatedPoints(coord)) return coord;\n    var coordList = new CoordinateList(coord, false);\n    return coordList.toCoordinateArray();\n  };\n\n  CoordinateArrays.reverse = function (coord) {\n    var last = coord.length - 1;\n    var mid = Math.trunc(last / 2);\n\n    for (var i = 0; i <= mid; i++) {\n      var tmp = coord[i];\n      coord[i] = coord[last - i];\n      coord[last - i] = tmp;\n    }\n  };\n\n  CoordinateArrays.removeNull = function (coord) {\n    var nonNull = 0;\n\n    for (var i = 0; i < coord.length; i++) {\n      if (coord[i] !== null) nonNull++;\n    }\n\n    var newCoord = new Array(nonNull).fill(null);\n    if (nonNull === 0) return newCoord;\n    var j = 0;\n\n    for (var i = 0; i < coord.length; i++) {\n      if (coord[i] !== null) newCoord[j++] = coord[i];\n    }\n\n    return newCoord;\n  };\n\n  CoordinateArrays.copyDeep = function () {\n    if (arguments.length === 1) {\n      var coordinates = arguments[0];\n      var copy = new Array(coordinates.length).fill(null);\n\n      for (var i = 0; i < coordinates.length; i++) {\n        copy[i] = new Coordinate(coordinates[i]);\n      }\n\n      return copy;\n    } else if (arguments.length === 5) {\n      var src = arguments[0],\n          srcStart = arguments[1],\n          dest = arguments[2],\n          destStart = arguments[3],\n          length = arguments[4];\n\n      for (var i = 0; i < length; i++) {\n        dest[destStart + i] = new Coordinate(src[srcStart + i]);\n      }\n    }\n  };\n\n  CoordinateArrays.isEqualReversed = function (pts1, pts2) {\n    for (var i = 0; i < pts1.length; i++) {\n      var p1 = pts1[i];\n      var p2 = pts2[pts1.length - i - 1];\n      if (p1.compareTo(p2) !== 0) return false;\n    }\n\n    return true;\n  };\n\n  CoordinateArrays.envelope = function (coordinates) {\n    var env = new Envelope();\n\n    for (var i = 0; i < coordinates.length; i++) {\n      env.expandToInclude(coordinates[i]);\n    }\n\n    return env;\n  };\n\n  CoordinateArrays.toCoordinateArray = function (coordList) {\n    return coordList.toArray(CoordinateArrays.coordArrayType);\n  };\n\n  CoordinateArrays.atLeastNCoordinatesOrNothing = function (n, c) {\n    return c.length >= n ? c : [];\n  };\n\n  CoordinateArrays.indexOf = function (coordinate, coordinates) {\n    for (var i = 0; i < coordinates.length; i++) {\n      if (coordinate.equals(coordinates[i])) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  CoordinateArrays.increasingDirection = function (pts) {\n    for (var i = 0; i < Math.trunc(pts.length / 2); i++) {\n      var j = pts.length - 1 - i;\n      var comp = pts[i].compareTo(pts[j]);\n      if (comp !== 0) return comp;\n    }\n\n    return 1;\n  };\n\n  CoordinateArrays.compare = function (pts1, pts2) {\n    var i = 0;\n\n    while (i < pts1.length && i < pts2.length) {\n      var compare = pts1[i].compareTo(pts2[i]);\n      if (compare !== 0) return compare;\n      i++;\n    }\n\n    if (i < pts2.length) return -1;\n    if (i < pts1.length) return 1;\n    return 0;\n  };\n\n  CoordinateArrays.minCoordinate = function (coordinates) {\n    var minCoord = null;\n\n    for (var i = 0; i < coordinates.length; i++) {\n      if (minCoord === null || minCoord.compareTo(coordinates[i]) > 0) {\n        minCoord = coordinates[i];\n      }\n    }\n\n    return minCoord;\n  };\n\n  CoordinateArrays.extract = function (pts, start, end) {\n    start = MathUtil.clamp(start, 0, pts.length);\n    end = MathUtil.clamp(end, -1, pts.length);\n    var npts = end - start + 1;\n    if (end < 0) npts = 0;\n    if (start >= pts.length) npts = 0;\n    if (end < start) npts = 0;\n    var extractPts = new Array(npts).fill(null);\n    if (npts === 0) return extractPts;\n    var iPts = 0;\n\n    for (var i = start; i <= end; i++) {\n      extractPts[iPts++] = pts[i];\n    }\n\n    return extractPts;\n  };\n\n  function ForwardComparator() {}\n\n  extend(ForwardComparator.prototype, {\n    compare: function compare(o1, o2) {\n      var pts1 = o1;\n      var pts2 = o2;\n      return CoordinateArrays.compare(pts1, pts2);\n    },\n    interfaces_: function interfaces_() {\n      return [Comparator];\n    },\n    getClass: function getClass() {\n      return ForwardComparator;\n    }\n  });\n\n  function BidirectionalComparator() {}\n\n  extend(BidirectionalComparator.prototype, {\n    compare: function compare(o1, o2) {\n      var pts1 = o1;\n      var pts2 = o2;\n      if (pts1.length < pts2.length) return -1;\n      if (pts1.length > pts2.length) return 1;\n      if (pts1.length === 0) return 0;\n      var forwardComp = CoordinateArrays.compare(pts1, pts2);\n      var isEqualRev = CoordinateArrays.isEqualReversed(pts1, pts2);\n      if (isEqualRev) return 0;\n      return forwardComp;\n    },\n    OLDcompare: function OLDcompare(o1, o2) {\n      var pts1 = o1;\n      var pts2 = o2;\n      if (pts1.length < pts2.length) return -1;\n      if (pts1.length > pts2.length) return 1;\n      if (pts1.length === 0) return 0;\n      var dir1 = CoordinateArrays.increasingDirection(pts1);\n      var dir2 = CoordinateArrays.increasingDirection(pts2);\n      var i1 = dir1 > 0 ? 0 : pts1.length - 1;\n      var i2 = dir2 > 0 ? 0 : pts1.length - 1;\n\n      for (var i = 0; i < pts1.length; i++) {\n        var comparePt = pts1[i1].compareTo(pts2[i2]);\n        if (comparePt !== 0) return comparePt;\n        i1 += dir1;\n        i2 += dir2;\n      }\n\n      return 0;\n    },\n    interfaces_: function interfaces_() {\n      return [Comparator];\n    },\n    getClass: function getClass() {\n      return BidirectionalComparator;\n    }\n  });\n  CoordinateArrays.ForwardComparator = ForwardComparator;\n  CoordinateArrays.BidirectionalComparator = BidirectionalComparator;\n  CoordinateArrays.coordArrayType = new Array(0).fill(null);\n\n  /**\n   * @see http://download.oracle.com/javase/6/docs/api/java/util/Map.html\n   *\n   * @constructor\n   * @private\n   */\n  function Map$1() {}\n  /**\n   * Returns the value to which the specified key is mapped, or null if this map\n   * contains no mapping for the key.\n   * @param {Object} key\n   * @return {Object}\n   */\n\n  Map$1.prototype.get = function () {};\n  /**\n   * Associates the specified value with the specified key in this map (optional\n   * operation).\n   * @param {Object} key\n   * @param {Object} value\n   * @return {Object}\n   */\n\n\n  Map$1.prototype.put = function () {};\n  /**\n   * Returns the number of key-value mappings in this map.\n   * @return {number}\n   */\n\n\n  Map$1.prototype.size = function () {};\n  /**\n   * Returns a Collection view of the values contained in this map.\n   * @return {javascript.util.Collection}\n   */\n\n\n  Map$1.prototype.values = function () {};\n  /**\n   * Returns a {@link Set} view of the mappings contained in this map.\n   * The set is backed by the map, so changes to the map are\n   * reflected in the set, and vice-versa.  If the map is modified\n   * while an iteration over the set is in progress (except through\n   * the iterator's own <tt>remove</tt> operation, or through the\n   * <tt>setValue</tt> operation on a map entry returned by the\n   * iterator) the results of the iteration are undefined.  The set\n   * supports element removal, which removes the corresponding\n   * mapping from the map, via the <tt>Iterator.remove</tt>,\n   * <tt>Set.remove</tt>, <tt>removeAll</tt>, <tt>retainAll</tt> and\n   * <tt>clear</tt> operations.  It does not support the\n   * <tt>add</tt> or <tt>addAll</tt> operations.\n   *\n   * @return {Set} a set view of the mappings contained in this map\n   */\n\n\n  Map$1.prototype.entrySet = function () {};\n\n  /**\n   * @see http://download.oracle.com/javase/6/docs/api/java/util/SortedMap.html\n   *\n   * @extends {Map}\n   * @constructor\n   * @private\n   */\n\n  function SortedMap() {}\n  SortedMap.prototype = new Map$1();\n\n  /**\n   * @see http://download.oracle.com/javase/6/docs/api/java/util/Set.html\n   *\n   * @extends {Collection}\n   * @constructor\n   * @private\n   */\n\n  function Set() {}\n  Set.prototype = new Collection();\n  /**\n   * Returns true if this set contains the specified element. More formally,\n   * returns true if and only if this set contains an element e such that (o==null ?\n   * e==null : o.equals(e)).\n   * @param {Object} e\n   * @return {boolean}\n   */\n\n  Set.prototype.contains = function () {};\n\n  /**\n   * @see http://docs.oracle.com/javase/6/docs/api/java/util/HashSet.html\n   *\n   * @extends {javascript.util.Set}\n   * @constructor\n   * @private\n   */\n\n  function HashSet() {\n    /**\n     * @type {Array}\n     * @private\n    */\n    this.array_ = [];\n\n    if (arguments[0] instanceof Collection) {\n      this.addAll(arguments[0]);\n    }\n  }\n  HashSet.prototype = new Set();\n  /**\n   * @override\n   */\n\n  HashSet.prototype.contains = function (o) {\n    for (var i = 0, len = this.array_.length; i < len; i++) {\n      var e = this.array_[i];\n\n      if (e === o) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n  /**\n   * @override\n   */\n\n\n  HashSet.prototype.add = function (o) {\n    if (this.contains(o)) {\n      return false;\n    }\n\n    this.array_.push(o);\n    return true;\n  };\n  /**\n   * @override\n   */\n\n\n  HashSet.prototype.addAll = function (c) {\n    for (var i = c.iterator(); i.hasNext();) {\n      this.add(i.next());\n    }\n\n    return true;\n  };\n  /**\n   * @override\n   */\n\n\n  HashSet.prototype.remove = function (o) {\n    throw new javascript.util.OperationNotSupported();\n  };\n  /**\n   * @override\n   */\n\n\n  HashSet.prototype.size = function () {\n    return this.array_.length;\n  };\n  /**\n   * @override\n   */\n\n\n  HashSet.prototype.isEmpty = function () {\n    return this.array_.length === 0;\n  };\n  /**\n   * @override\n   */\n\n\n  HashSet.prototype.toArray = function () {\n    var array = [];\n\n    for (var i = 0, len = this.array_.length; i < len; i++) {\n      array.push(this.array_[i]);\n    }\n\n    return array;\n  };\n  /**\n   * @override\n   */\n\n\n  HashSet.prototype.iterator = function () {\n    return new Iterator_$1(this);\n  };\n  /**\n   * @extends {Iterator}\n   * @param {HashSet} hashSet\n   * @constructor\n   * @private\n   */\n\n\n  var Iterator_$1 = function Iterator_(hashSet) {\n    /**\n     * @type {HashSet}\n     * @private\n     */\n    this.hashSet_ = hashSet;\n    /**\n     * @type {number}\n     * @private\n     */\n\n    this.position_ = 0;\n  };\n  /**\n   * @override\n   */\n\n\n  Iterator_$1.prototype.next = function () {\n    if (this.position_ === this.hashSet_.size()) {\n      throw new NoSuchElementException();\n    }\n\n    return this.hashSet_.array_[this.position_++];\n  };\n  /**\n   * @override\n   */\n\n\n  Iterator_$1.prototype.hasNext = function () {\n    if (this.position_ < this.hashSet_.size()) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  /**\n   * @override\n   */\n\n\n  Iterator_$1.prototype.remove = function () {\n    throw new OperationNotSupported();\n  };\n\n  var BLACK = 0;\n  var RED = 1;\n\n  function colorOf(p) {\n    return p == null ? BLACK : p.color;\n  }\n\n  function parentOf(p) {\n    return p == null ? null : p.parent;\n  }\n\n  function setColor(p, c) {\n    if (p !== null) p.color = c;\n  }\n\n  function leftOf(p) {\n    return p == null ? null : p.left;\n  }\n\n  function rightOf(p) {\n    return p == null ? null : p.right;\n  }\n  /**\n   * @see http://download.oracle.com/javase/6/docs/api/java/util/TreeMap.html\n   *\n   * @extends {SortedMap}\n   * @constructor\n   * @private\n   */\n\n\n  function TreeMap() {\n    /**\n     * @type {Object}\n     * @private\n     */\n    this.root_ = null;\n    /**\n     * @type {number}\n     * @private\n    */\n\n    this.size_ = 0;\n  }\n  TreeMap.prototype = new SortedMap();\n  /**\n   * @override\n   */\n\n  TreeMap.prototype.get = function (key) {\n    var p = this.root_;\n\n    while (p !== null) {\n      var cmp = key['compareTo'](p.key);\n\n      if (cmp < 0) {\n        p = p.left;\n      } else if (cmp > 0) {\n        p = p.right;\n      } else {\n        return p.value;\n      }\n    }\n\n    return null;\n  };\n  /**\n   * @override\n   */\n\n\n  TreeMap.prototype.put = function (key, value) {\n    if (this.root_ === null) {\n      this.root_ = {\n        key: key,\n        value: value,\n        left: null,\n        right: null,\n        parent: null,\n        color: BLACK,\n        getValue: function getValue() {\n          return this.value;\n        },\n        getKey: function getKey() {\n          return this.key;\n        }\n      };\n      this.size_ = 1;\n      return null;\n    }\n\n    var t = this.root_,\n        parent,\n        cmp;\n\n    do {\n      parent = t;\n      cmp = key['compareTo'](t.key);\n\n      if (cmp < 0) {\n        t = t.left;\n      } else if (cmp > 0) {\n        t = t.right;\n      } else {\n        var oldValue = t.value;\n        t.value = value;\n        return oldValue;\n      }\n    } while (t !== null);\n\n    var e = {\n      key: key,\n      left: null,\n      right: null,\n      value: value,\n      parent: parent,\n      color: BLACK,\n      getValue: function getValue() {\n        return this.value;\n      },\n      getKey: function getKey() {\n        return this.key;\n      }\n    };\n\n    if (cmp < 0) {\n      parent.left = e;\n    } else {\n      parent.right = e;\n    }\n\n    this.fixAfterInsertion(e);\n    this.size_++;\n    return null;\n  };\n  /**\n   * @param {Object} x\n   */\n\n\n  TreeMap.prototype.fixAfterInsertion = function (x) {\n    x.color = RED;\n\n    while (x != null && x != this.root_ && x.parent.color == RED) {\n      if (parentOf(x) == leftOf(parentOf(parentOf(x)))) {\n        var y = rightOf(parentOf(parentOf(x)));\n\n        if (colorOf(y) == RED) {\n          setColor(parentOf(x), BLACK);\n          setColor(y, BLACK);\n          setColor(parentOf(parentOf(x)), RED);\n          x = parentOf(parentOf(x));\n        } else {\n          if (x == rightOf(parentOf(x))) {\n            x = parentOf(x);\n            this.rotateLeft(x);\n          }\n\n          setColor(parentOf(x), BLACK);\n          setColor(parentOf(parentOf(x)), RED);\n          this.rotateRight(parentOf(parentOf(x)));\n        }\n      } else {\n        var y = leftOf(parentOf(parentOf(x)));\n\n        if (colorOf(y) == RED) {\n          setColor(parentOf(x), BLACK);\n          setColor(y, BLACK);\n          setColor(parentOf(parentOf(x)), RED);\n          x = parentOf(parentOf(x));\n        } else {\n          if (x == leftOf(parentOf(x))) {\n            x = parentOf(x);\n            this.rotateRight(x);\n          }\n\n          setColor(parentOf(x), BLACK);\n          setColor(parentOf(parentOf(x)), RED);\n          this.rotateLeft(parentOf(parentOf(x)));\n        }\n      }\n    }\n\n    this.root_.color = BLACK;\n  };\n  /**\n   * @override\n   */\n\n\n  TreeMap.prototype.values = function () {\n    var arrayList = new ArrayList();\n    var p = this.getFirstEntry();\n\n    if (p !== null) {\n      arrayList.add(p.value);\n\n      while ((p = TreeMap.successor(p)) !== null) {\n        arrayList.add(p.value);\n      }\n    }\n\n    return arrayList;\n  };\n  /**\n   * @override\n   */\n\n\n  TreeMap.prototype.entrySet = function () {\n    var hashSet = new HashSet();\n    var p = this.getFirstEntry();\n\n    if (p !== null) {\n      hashSet.add(p);\n\n      while ((p = TreeMap.successor(p)) !== null) {\n        hashSet.add(p);\n      }\n    }\n\n    return hashSet;\n  };\n  /**\n   * @param {Object} p\n   */\n\n\n  TreeMap.prototype.rotateLeft = function (p) {\n    if (p != null) {\n      var r = p.right;\n      p.right = r.left;\n      if (r.left != null) r.left.parent = p;\n      r.parent = p.parent;\n      if (p.parent == null) this.root_ = r;else if (p.parent.left == p) p.parent.left = r;else p.parent.right = r;\n      r.left = p;\n      p.parent = r;\n    }\n  };\n  /**\n   * @param {Object} p\n   */\n\n\n  TreeMap.prototype.rotateRight = function (p) {\n    if (p != null) {\n      var l = p.left;\n      p.left = l.right;\n      if (l.right != null) l.right.parent = p;\n      l.parent = p.parent;\n      if (p.parent == null) this.root_ = l;else if (p.parent.right == p) p.parent.right = l;else p.parent.left = l;\n      l.right = p;\n      p.parent = l;\n    }\n  };\n  /**\n   * @return {Object}\n   */\n\n\n  TreeMap.prototype.getFirstEntry = function () {\n    var p = this.root_;\n\n    if (p != null) {\n      while (p.left != null) {\n        p = p.left;\n      }\n    }\n\n    return p;\n  };\n  /**\n   * @param {Object} t\n   * @return {Object}\n   * @private\n   */\n\n\n  TreeMap.successor = function (t) {\n    if (t === null) return null;else if (t.right !== null) {\n      var p = t.right;\n\n      while (p.left !== null) {\n        p = p.left;\n      }\n\n      return p;\n    } else {\n      var p = t.parent;\n      var ch = t;\n\n      while (p !== null && ch === p.right) {\n        ch = p;\n        p = p.parent;\n      }\n\n      return p;\n    }\n  };\n  /**\n   * @override\n   */\n\n\n  TreeMap.prototype.size = function () {\n    return this.size_;\n  };\n\n  TreeMap.prototype.containsKey = function (key) {\n    var p = this.root_;\n\n    while (p !== null) {\n      var cmp = key['compareTo'](p.key);\n\n      if (cmp < 0) {\n        p = p.left;\n      } else if (cmp > 0) {\n        p = p.right;\n      } else {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  function Lineal() {}\n  extend(Lineal.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Lineal;\n    }\n  });\n\n  /**\n   * @see http://download.oracle.com/javase/6/docs/api/java/util/SortedSet.html\n   *\n   * @extends {Set}\n   * @constructor\n   * @private\n   */\n\n  function SortedSet() {}\n  SortedSet.prototype = new Set();\n\n  /**\n   * @see http://download.oracle.com/javase/6/docs/api/java/util/TreeSet.html\n   *\n   * @extends {SortedSet}\n   * @constructor\n   * @private\n   */\n\n  function TreeSet() {\n    /**\n     * @type {Array}\n     * @private\n    */\n    this.array_ = [];\n\n    if (arguments[0] instanceof Collection) {\n      this.addAll(arguments[0]);\n    }\n  }\n  TreeSet.prototype = new SortedSet();\n  /**\n   * @override\n   */\n\n  TreeSet.prototype.contains = function (o) {\n    for (var i = 0, len = this.array_.length; i < len; i++) {\n      var e = this.array_[i];\n\n      if (e['compareTo'](o) === 0) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n  /**\n   * @override\n   */\n\n\n  TreeSet.prototype.add = function (o) {\n    if (this.contains(o)) {\n      return false;\n    }\n\n    for (var i = 0, len = this.array_.length; i < len; i++) {\n      var e = this.array_[i];\n\n      if (e['compareTo'](o) === 1) {\n        this.array_.splice(i, 0, o);\n        return true;\n      }\n    }\n\n    this.array_.push(o);\n    return true;\n  };\n  /**\n   * @override\n   */\n\n\n  TreeSet.prototype.addAll = function (c) {\n    for (var i = c.iterator(); i.hasNext();) {\n      this.add(i.next());\n    }\n\n    return true;\n  };\n  /**\n   * @override\n   */\n\n\n  TreeSet.prototype.remove = function (e) {\n    throw new OperationNotSupported();\n  };\n  /**\n   * @override\n   */\n\n\n  TreeSet.prototype.size = function () {\n    return this.array_.length;\n  };\n  /**\n   * @override\n   */\n\n\n  TreeSet.prototype.isEmpty = function () {\n    return this.array_.length === 0;\n  };\n  /**\n   * @override\n   */\n\n\n  TreeSet.prototype.toArray = function () {\n    var array = [];\n\n    for (var i = 0, len = this.array_.length; i < len; i++) {\n      array.push(this.array_[i]);\n    }\n\n    return array;\n  };\n  /**\n   * @override\n   */\n\n\n  TreeSet.prototype.iterator = function () {\n    return new Iterator_$2(this);\n  };\n  /**\n   * @extends {javascript.util.Iterator}\n   * @param {javascript.util.TreeSet} treeSet\n   * @constructor\n   * @private\n   */\n\n\n  var Iterator_$2 = function Iterator_(treeSet) {\n    /**\n     * @type {javascript.util.TreeSet}\n     * @private\n     */\n    this.treeSet_ = treeSet;\n    /**\n     * @type {number}\n     * @private\n     */\n\n    this.position_ = 0;\n  };\n  /**\n   * @override\n   */\n\n\n  Iterator_$2.prototype.next = function () {\n    if (this.position_ === this.treeSet_.size()) {\n      throw new NoSuchElementException();\n    }\n\n    return this.treeSet_.array_[this.position_++];\n  };\n  /**\n   * @override\n   */\n\n\n  Iterator_$2.prototype.hasNext = function () {\n    if (this.position_ < this.treeSet_.size()) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  /**\n   * @override\n   */\n\n\n  Iterator_$2.prototype.remove = function () {\n    throw new OperationNotSupported();\n  };\n\n  /**\n   * @see http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html\n   *\n   * @constructor\n   * @private\n   */\n\n  function Arrays() {}\n  /**\n   */\n\n  Arrays.sort = function () {\n    var a = arguments[0],\n        i,\n        t,\n        comparator,\n        compare;\n\n    if (arguments.length === 1) {\n      compare = function compare(a, b) {\n        return a.compareTo(b);\n      };\n\n      a.sort(compare);\n      return;\n    } else if (arguments.length === 2) {\n      comparator = arguments[1];\n\n      compare = function compare(a, b) {\n        return comparator['compare'](a, b);\n      };\n\n      a.sort(compare);\n    } else if (arguments.length === 3) {\n      t = a.slice(arguments[1], arguments[2]);\n      t.sort();\n      var r = a.slice(0, arguments[1]).concat(t, a.slice(arguments[2], a.length));\n      a.splice(0, a.length);\n\n      for (i = 0; i < r.length; i++) {\n        a.push(r[i]);\n      }\n\n      return;\n    } else if (arguments.length === 4) {\n      t = a.slice(arguments[1], arguments[2]);\n      comparator = arguments[3];\n\n      compare = function compare(a, b) {\n        return comparator['compare'](a, b);\n      };\n\n      t.sort(compare);\n      r = a.slice(0, arguments[1]).concat(t, a.slice(arguments[2], a.length));\n      a.splice(0, a.length);\n\n      for (i = 0; i < r.length; i++) {\n        a.push(r[i]);\n      }\n\n      return;\n    }\n  };\n  /**\n   * @param {Array} array\n   * @return {ArrayList}\n   */\n\n\n  Arrays.asList = function (array) {\n    var arrayList = new ArrayList();\n\n    for (var i = 0, len = array.length; i < len; i++) {\n      arrayList.add(array[i]);\n    }\n\n    return arrayList;\n  };\n\n  function Dimension() {}\n  extend(Dimension.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Dimension;\n    }\n  });\n\n  Dimension.toDimensionSymbol = function (dimensionValue) {\n    switch (dimensionValue) {\n      case Dimension.FALSE:\n        return Dimension.SYM_FALSE;\n\n      case Dimension.TRUE:\n        return Dimension.SYM_TRUE;\n\n      case Dimension.DONTCARE:\n        return Dimension.SYM_DONTCARE;\n\n      case Dimension.P:\n        return Dimension.SYM_P;\n\n      case Dimension.L:\n        return Dimension.SYM_L;\n\n      case Dimension.A:\n        return Dimension.SYM_A;\n    }\n\n    throw new IllegalArgumentException(\"Unknown dimension value: \" + dimensionValue);\n  };\n\n  Dimension.toDimensionValue = function (dimensionSymbol) {\n    switch (Character.toUpperCase(dimensionSymbol)) {\n      case Dimension.SYM_FALSE:\n        return Dimension.FALSE;\n\n      case Dimension.SYM_TRUE:\n        return Dimension.TRUE;\n\n      case Dimension.SYM_DONTCARE:\n        return Dimension.DONTCARE;\n\n      case Dimension.SYM_P:\n        return Dimension.P;\n\n      case Dimension.SYM_L:\n        return Dimension.L;\n\n      case Dimension.SYM_A:\n        return Dimension.A;\n    }\n\n    throw new IllegalArgumentException(\"Unknown dimension symbol: \" + dimensionSymbol);\n  };\n\n  Dimension.P = 0;\n  Dimension.L = 1;\n  Dimension.A = 2;\n  Dimension.FALSE = -1;\n  Dimension.TRUE = -2;\n  Dimension.DONTCARE = -3;\n  Dimension.SYM_FALSE = 'F';\n  Dimension.SYM_TRUE = 'T';\n  Dimension.SYM_DONTCARE = '*';\n  Dimension.SYM_P = '0';\n  Dimension.SYM_L = '1';\n  Dimension.SYM_A = '2';\n\n  function GeometryFilter() {}\n  extend(GeometryFilter.prototype, {\n    filter: function filter(geom) {},\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return GeometryFilter;\n    }\n  });\n\n  function CoordinateSequenceFilter() {}\n  extend(CoordinateSequenceFilter.prototype, {\n    filter: function filter(seq, i) {},\n    isDone: function isDone() {},\n    isGeometryChanged: function isGeometryChanged() {},\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return CoordinateSequenceFilter;\n    }\n  });\n\n  function GeometryCollection() {\n    this._geometries = null;\n    var geometries = arguments[0],\n        factory = arguments[1];\n    Geometry.call(this, factory);\n\n    if (geometries === null) {\n      geometries = [];\n    }\n\n    if (Geometry.hasNullElements(geometries)) {\n      throw new IllegalArgumentException(\"geometries must not contain null elements\");\n    }\n\n    this._geometries = geometries;\n  }\n  inherits(GeometryCollection, Geometry);\n  extend(GeometryCollection.prototype, {\n    computeEnvelopeInternal: function computeEnvelopeInternal() {\n      var envelope = new Envelope();\n\n      for (var i = 0; i < this._geometries.length; i++) {\n        envelope.expandToInclude(this._geometries[i].getEnvelopeInternal());\n      }\n\n      return envelope;\n    },\n    getGeometryN: function getGeometryN(n) {\n      return this._geometries[n];\n    },\n    getCoordinates: function getCoordinates() {\n      var coordinates = new Array(this.getNumPoints()).fill(null);\n      var k = -1;\n\n      for (var i = 0; i < this._geometries.length; i++) {\n        var childCoordinates = this._geometries[i].getCoordinates();\n\n        for (var j = 0; j < childCoordinates.length; j++) {\n          k++;\n          coordinates[k] = childCoordinates[j];\n        }\n      }\n\n      return coordinates;\n    },\n    getArea: function getArea() {\n      var area = 0.0;\n\n      for (var i = 0; i < this._geometries.length; i++) {\n        area += this._geometries[i].getArea();\n      }\n\n      return area;\n    },\n    equalsExact: function equalsExact() {\n      if (arguments.length === 2 && typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry) {\n        var other = arguments[0],\n            tolerance = arguments[1];\n\n        if (!this.isEquivalentClass(other)) {\n          return false;\n        }\n\n        var otherCollection = other;\n\n        if (this._geometries.length !== otherCollection._geometries.length) {\n          return false;\n        }\n\n        for (var i = 0; i < this._geometries.length; i++) {\n          if (!this._geometries[i].equalsExact(otherCollection._geometries[i], tolerance)) {\n            return false;\n          }\n        }\n\n        return true;\n      } else return Geometry.prototype.equalsExact.apply(this, arguments);\n    },\n    normalize: function normalize() {\n      for (var i = 0; i < this._geometries.length; i++) {\n        this._geometries[i].normalize();\n      }\n\n      Arrays.sort(this._geometries);\n    },\n    getCoordinate: function getCoordinate() {\n      if (this.isEmpty()) return null;\n      return this._geometries[0].getCoordinate();\n    },\n    getBoundaryDimension: function getBoundaryDimension() {\n      var dimension = Dimension.FALSE;\n\n      for (var i = 0; i < this._geometries.length; i++) {\n        dimension = Math.max(dimension, this._geometries[i].getBoundaryDimension());\n      }\n\n      return dimension;\n    },\n    getTypeCode: function getTypeCode() {\n      return Geometry.TYPECODE_GEOMETRYCOLLECTION;\n    },\n    getDimension: function getDimension() {\n      var dimension = Dimension.FALSE;\n\n      for (var i = 0; i < this._geometries.length; i++) {\n        dimension = Math.max(dimension, this._geometries[i].getDimension());\n      }\n\n      return dimension;\n    },\n    getLength: function getLength() {\n      var sum = 0.0;\n\n      for (var i = 0; i < this._geometries.length; i++) {\n        sum += this._geometries[i].getLength();\n      }\n\n      return sum;\n    },\n    getNumPoints: function getNumPoints() {\n      var numPoints = 0;\n\n      for (var i = 0; i < this._geometries.length; i++) {\n        numPoints += this._geometries[i].getNumPoints();\n      }\n\n      return numPoints;\n    },\n    getNumGeometries: function getNumGeometries() {\n      return this._geometries.length;\n    },\n    reverse: function reverse() {\n      var n = this._geometries.length;\n      var revGeoms = new Array(n).fill(null);\n\n      for (var i = 0; i < this._geometries.length; i++) {\n        revGeoms[i] = this._geometries[i].reverse();\n      }\n\n      return this.getFactory().createGeometryCollection(revGeoms);\n    },\n    compareToSameClass: function compareToSameClass() {\n      if (arguments.length === 1) {\n        var o = arguments[0];\n        var theseElements = new TreeSet(Arrays.asList(this._geometries));\n        var otherElements = new TreeSet(Arrays.asList(o._geometries));\n        return this.compare(theseElements, otherElements);\n      } else if (arguments.length === 2) {\n        var _o = arguments[0],\n            comp = arguments[1];\n        var gc = _o;\n        var n1 = this.getNumGeometries();\n        var n2 = gc.getNumGeometries();\n        var i = 0;\n\n        while (i < n1 && i < n2) {\n          var thisGeom = this.getGeometryN(i);\n          var otherGeom = gc.getGeometryN(i);\n          var holeComp = thisGeom.compareToSameClass(otherGeom, comp);\n          if (holeComp !== 0) return holeComp;\n          i++;\n        }\n\n        if (i < n1) return 1;\n        if (i < n2) return -1;\n        return 0;\n      }\n    },\n    apply: function apply() {\n      if (hasInterface(arguments[0], CoordinateFilter)) {\n        var filter = arguments[0];\n\n        for (var i = 0; i < this._geometries.length; i++) {\n          this._geometries[i].apply(filter);\n        }\n      } else if (hasInterface(arguments[0], CoordinateSequenceFilter)) {\n        var _filter = arguments[0];\n        if (this._geometries.length === 0) return null;\n\n        for (var i = 0; i < this._geometries.length; i++) {\n          this._geometries[i].apply(_filter);\n\n          if (_filter.isDone()) {\n            break;\n          }\n        }\n\n        if (_filter.isGeometryChanged()) this.geometryChanged();\n      } else if (hasInterface(arguments[0], GeometryFilter)) {\n        var _filter2 = arguments[0];\n\n        _filter2.filter(this);\n\n        for (var i = 0; i < this._geometries.length; i++) {\n          this._geometries[i].apply(_filter2);\n        }\n      } else if (hasInterface(arguments[0], GeometryComponentFilter)) {\n        var _filter3 = arguments[0];\n\n        _filter3.filter(this);\n\n        for (var i = 0; i < this._geometries.length; i++) {\n          this._geometries[i].apply(_filter3);\n        }\n      }\n    },\n    getBoundary: function getBoundary() {\n      this.checkNotGeometryCollection(this);\n      Assert.shouldNeverReachHere();\n      return null;\n    },\n    getGeometryType: function getGeometryType() {\n      return Geometry.TYPENAME_GEOMETRYCOLLECTION;\n    },\n    copy: function copy() {\n      var geometries = new Array(this._geometries.length).fill(null);\n\n      for (var i = 0; i < geometries.length; i++) {\n        geometries[i] = this._geometries[i].copy();\n      }\n\n      return new GeometryCollection(geometries, this._factory);\n    },\n    isEmpty: function isEmpty() {\n      for (var i = 0; i < this._geometries.length; i++) {\n        if (!this._geometries[i].isEmpty()) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return GeometryCollection;\n    }\n  });\n  GeometryCollection.serialVersionUID = -5694727726395021467;\n\n  function MultiLineString() {\n    var lineStrings = arguments[0],\n        factory = arguments[1];\n    GeometryCollection.call(this, lineStrings, factory);\n  }\n  inherits(MultiLineString, GeometryCollection);\n  extend(MultiLineString.prototype, {\n    equalsExact: function equalsExact() {\n      if (arguments.length === 2 && typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry) {\n        var other = arguments[0],\n            tolerance = arguments[1];\n\n        if (!this.isEquivalentClass(other)) {\n          return false;\n        }\n\n        return GeometryCollection.prototype.equalsExact.call(this, other, tolerance);\n      } else return GeometryCollection.prototype.equalsExact.apply(this, arguments);\n    },\n    getBoundaryDimension: function getBoundaryDimension() {\n      if (this.isClosed()) {\n        return Dimension.FALSE;\n      }\n\n      return 0;\n    },\n    isClosed: function isClosed() {\n      if (this.isEmpty()) {\n        return false;\n      }\n\n      for (var i = 0; i < this._geometries.length; i++) {\n        if (!this._geometries[i].isClosed()) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n    getTypeCode: function getTypeCode() {\n      return Geometry.TYPECODE_MULTILINESTRING;\n    },\n    getDimension: function getDimension() {\n      return 1;\n    },\n    reverse: function reverse() {\n      var nLines = this._geometries.length;\n      var revLines = new Array(nLines).fill(null);\n\n      for (var i = 0; i < this._geometries.length; i++) {\n        revLines[nLines - 1 - i] = this._geometries[i].reverse();\n      }\n\n      return this.getFactory().createMultiLineString(revLines);\n    },\n    getBoundary: function getBoundary() {\n      return new BoundaryOp(this).getBoundary();\n    },\n    getGeometryType: function getGeometryType() {\n      return Geometry.TYPENAME_MULTILINESTRING;\n    },\n    copy: function copy() {\n      var lineStrings = new Array(this._geometries.length).fill(null);\n\n      for (var i = 0; i < lineStrings.length; i++) {\n        lineStrings[i] = this._geometries[i].copy();\n      }\n\n      return new MultiLineString(lineStrings, this._factory);\n    },\n    interfaces_: function interfaces_() {\n      return [Lineal];\n    },\n    getClass: function getClass() {\n      return MultiLineString;\n    }\n  });\n  MultiLineString.serialVersionUID = 8166665132445433741;\n\n  function BoundaryOp() {\n    this._geom = null;\n    this._geomFact = null;\n    this._bnRule = null;\n    this._endpointMap = null;\n\n    if (arguments.length === 1) {\n      var geom = arguments[0];\n      BoundaryOp.call(this, geom, BoundaryNodeRule.MOD2_BOUNDARY_RULE);\n    } else if (arguments.length === 2) {\n      var _geom = arguments[0],\n          bnRule = arguments[1];\n      this._geom = _geom;\n      this._geomFact = _geom.getFactory();\n      this._bnRule = bnRule;\n    }\n  }\n  extend(BoundaryOp.prototype, {\n    boundaryMultiLineString: function boundaryMultiLineString(mLine) {\n      if (this._geom.isEmpty()) {\n        return this.getEmptyMultiPoint();\n      }\n\n      var bdyPts = this.computeBoundaryCoordinates(mLine);\n\n      if (bdyPts.length === 1) {\n        return this._geomFact.createPoint(bdyPts[0]);\n      }\n\n      return this._geomFact.createMultiPointFromCoords(bdyPts);\n    },\n    getBoundary: function getBoundary() {\n      if (this._geom instanceof LineString) return this.boundaryLineString(this._geom);\n      if (this._geom instanceof MultiLineString) return this.boundaryMultiLineString(this._geom);\n      return this._geom.getBoundary();\n    },\n    boundaryLineString: function boundaryLineString(line) {\n      if (this._geom.isEmpty()) {\n        return this.getEmptyMultiPoint();\n      }\n\n      if (line.isClosed()) {\n        var closedEndpointOnBoundary = this._bnRule.isInBoundary(2);\n\n        if (closedEndpointOnBoundary) {\n          return line.getStartPoint();\n        } else {\n          return this._geomFact.createMultiPoint();\n        }\n      }\n\n      return this._geomFact.createMultiPoint([line.getStartPoint(), line.getEndPoint()]);\n    },\n    getEmptyMultiPoint: function getEmptyMultiPoint() {\n      return this._geomFact.createMultiPoint();\n    },\n    computeBoundaryCoordinates: function computeBoundaryCoordinates(mLine) {\n      var bdyPts = new ArrayList();\n      this._endpointMap = new TreeMap();\n\n      for (var i = 0; i < mLine.getNumGeometries(); i++) {\n        var line = mLine.getGeometryN(i);\n        if (line.getNumPoints() === 0) continue;\n        this.addEndpoint(line.getCoordinateN(0));\n        this.addEndpoint(line.getCoordinateN(line.getNumPoints() - 1));\n      }\n\n      for (var it = this._endpointMap.entrySet().iterator(); it.hasNext();) {\n        var entry = it.next();\n        var counter = entry.getValue();\n        var valence = counter.count;\n\n        if (this._bnRule.isInBoundary(valence)) {\n          bdyPts.add(entry.getKey());\n        }\n      }\n\n      return CoordinateArrays.toCoordinateArray(bdyPts);\n    },\n    addEndpoint: function addEndpoint(pt) {\n      var counter = this._endpointMap.get(pt);\n\n      if (counter === null) {\n        counter = new Counter();\n\n        this._endpointMap.put(pt, counter);\n      }\n\n      counter.count++;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return BoundaryOp;\n    }\n  });\n\n  BoundaryOp.getBoundary = function () {\n    if (arguments.length === 1) {\n      var g = arguments[0];\n      var bop = new BoundaryOp(g);\n      return bop.getBoundary();\n    } else if (arguments.length === 2) {\n      var _g = arguments[0],\n          bnRule = arguments[1];\n      var bop = new BoundaryOp(_g, bnRule);\n      return bop.getBoundary();\n    }\n  };\n\n  function Counter() {\n    this.count = null;\n  }\n\n  extend(Counter.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Counter;\n    }\n  });\n\n  function Length() {}\n  extend(Length.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Length;\n    }\n  });\n\n  Length.ofLine = function (pts) {\n    var n = pts.size();\n    if (n <= 1) return 0.0;\n    var len = 0.0;\n    var p = new Coordinate();\n    pts.getCoordinate(0, p);\n    var x0 = p.x;\n    var y0 = p.y;\n\n    for (var i = 1; i < n; i++) {\n      pts.getCoordinate(i, p);\n      var x1 = p.x;\n      var y1 = p.y;\n      var dx = x1 - x0;\n      var dy = y1 - y0;\n      len += Math.sqrt(dx * dx + dy * dy);\n      x0 = x1;\n      y0 = y1;\n    }\n\n    return len;\n  };\n\n  function PrintStream() {}\n\n  function StringReader() {}\n\n  function DecimalFormat() {}\n\n  function ByteArrayOutputStream() {}\n\n  function IOException() {}\n\n  function LineNumberReader() {}\n\n  function StringUtil() {}\n  extend(StringUtil.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return StringUtil;\n    }\n  });\n\n  StringUtil.chars = function (c, n) {\n    var ch = new Array(n).fill(null);\n\n    for (var i = 0; i < n; i++) {\n      ch[i] = c;\n    }\n\n    return new String(ch);\n  };\n\n  StringUtil.getStackTrace = function () {\n    if (arguments.length === 1) {\n      var t = arguments[0];\n      var os = new ByteArrayOutputStream();\n      var ps = new PrintStream(os);\n      t.printStackTrace(ps);\n      return os.toString();\n    } else if (arguments.length === 2) {\n      var _t = arguments[0],\n          depth = arguments[1];\n      var stackTrace = \"\";\n      var stringReader = new StringReader(StringUtil.getStackTrace(_t));\n      var lineNumberReader = new LineNumberReader(stringReader);\n\n      for (var i = 0; i < depth; i++) {\n        try {\n          stackTrace += lineNumberReader.readLine() + StringUtil.NEWLINE;\n        } catch (e) {\n          if (e instanceof IOException) {\n            Assert.shouldNeverReachHere();\n          } else throw e;\n        } finally {}\n      }\n\n      return stackTrace;\n    }\n  };\n\n  StringUtil.split = function (s, separator) {\n    var separatorlen = separator.length;\n    var tokenList = new ArrayList();\n    var tmpString = \"\" + s;\n    var pos = tmpString.indexOf(separator);\n\n    while (pos >= 0) {\n      var token = tmpString.substring(0, pos);\n      tokenList.add(token);\n      tmpString = tmpString.substring(pos + separatorlen);\n      pos = tmpString.indexOf(separator);\n    }\n\n    if (tmpString.length > 0) tokenList.add(tmpString);\n    var res = new Array(tokenList.size()).fill(null);\n\n    for (var i = 0; i < res.length; i++) {\n      res[i] = tokenList.get(i);\n    }\n\n    return res;\n  };\n\n  StringUtil.toString = function () {\n    if (arguments.length === 1 && typeof arguments[0] === \"number\") {\n      var d = arguments[0];\n      return StringUtil.SIMPLE_ORDINATE_FORMAT.format(d);\n    }\n  };\n\n  StringUtil.spaces = function (n) {\n    return StringUtil.chars(' ', n);\n  };\n\n  StringUtil.NEWLINE = System.getProperty(\"line.separator\");\n  StringUtil.SIMPLE_ORDINATE_FORMAT = new DecimalFormat(\"0.#\");\n\n  function StringBuilder(str) {\n    this.str = str;\n  }\n\n  StringBuilder.prototype.append = function (e) {\n    this.str += e;\n  };\n\n  StringBuilder.prototype.setCharAt = function (i, c) {\n    this.str = this.str.substr(0, i) + c + this.str.substr(i + 1);\n  };\n\n  StringBuilder.prototype.toString = function (e) {\n    return this.str;\n  };\n\n  function CoordinateSequences() {}\n  extend(CoordinateSequences.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return CoordinateSequences;\n    }\n  });\n\n  CoordinateSequences.copyCoord = function (src, srcPos, dest, destPos) {\n    var minDim = Math.min(src.getDimension(), dest.getDimension());\n\n    for (var dim = 0; dim < minDim; dim++) {\n      dest.setOrdinate(destPos, dim, src.getOrdinate(srcPos, dim));\n    }\n  };\n\n  CoordinateSequences.isRing = function (seq) {\n    var n = seq.size();\n    if (n === 0) return true;\n    if (n <= 3) return false;\n    return seq.getOrdinate(0, CoordinateSequence.X) === seq.getOrdinate(n - 1, CoordinateSequence.X) && seq.getOrdinate(0, CoordinateSequence.Y) === seq.getOrdinate(n - 1, CoordinateSequence.Y);\n  };\n\n  CoordinateSequences.isEqual = function (cs1, cs2) {\n    var cs1Size = cs1.size();\n    var cs2Size = cs2.size();\n    if (cs1Size !== cs2Size) return false;\n    var dim = Math.min(cs1.getDimension(), cs2.getDimension());\n\n    for (var i = 0; i < cs1Size; i++) {\n      for (var d = 0; d < dim; d++) {\n        var v1 = cs1.getOrdinate(i, d);\n        var v2 = cs2.getOrdinate(i, d);\n        if (cs1.getOrdinate(i, d) === cs2.getOrdinate(i, d)) continue;\n        if (Double.isNaN(v1) && Double.isNaN(v2)) continue;\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  CoordinateSequences.extend = function (fact, seq, size) {\n    var newseq = fact.create(size, seq.getDimension());\n    var n = seq.size();\n    CoordinateSequences.copy(seq, 0, newseq, 0, n);\n\n    if (n > 0) {\n      for (var i = n; i < size; i++) {\n        CoordinateSequences.copy(seq, n - 1, newseq, i, 1);\n      }\n    }\n\n    return newseq;\n  };\n\n  CoordinateSequences.reverse = function (seq) {\n    var last = seq.size() - 1;\n    var mid = Math.trunc(last / 2);\n\n    for (var i = 0; i <= mid; i++) {\n      CoordinateSequences.swap(seq, i, last - i);\n    }\n  };\n\n  CoordinateSequences.swap = function (seq, i, j) {\n    if (i === j) return null;\n\n    for (var dim = 0; dim < seq.getDimension(); dim++) {\n      var tmp = seq.getOrdinate(i, dim);\n      seq.setOrdinate(i, dim, seq.getOrdinate(j, dim));\n      seq.setOrdinate(j, dim, tmp);\n    }\n  };\n\n  CoordinateSequences.copy = function (src, srcPos, dest, destPos, length) {\n    for (var i = 0; i < length; i++) {\n      CoordinateSequences.copyCoord(src, srcPos + i, dest, destPos + i);\n    }\n  };\n\n  CoordinateSequences.toString = function () {\n    if (arguments.length === 1 && hasInterface(arguments[0], CoordinateSequence)) {\n      var cs = arguments[0];\n      var size = cs.size();\n      if (size === 0) return \"()\";\n      var dim = cs.getDimension();\n      var builder = new StringBuilder();\n      builder.append('(');\n\n      for (var i = 0; i < size; i++) {\n        if (i > 0) builder.append(\" \");\n\n        for (var d = 0; d < dim; d++) {\n          if (d > 0) builder.append(\",\");\n          builder.append(StringUtil.toString(cs.getOrdinate(i, d)));\n        }\n      }\n\n      builder.append(')');\n      return builder.toString();\n    }\n  };\n\n  CoordinateSequences.ensureValidRing = function (fact, seq) {\n    var n = seq.size();\n    if (n === 0) return seq;\n    if (n <= 3) return CoordinateSequences.createClosedRing(fact, seq, 4);\n    var isClosed = seq.getOrdinate(0, CoordinateSequence.X) === seq.getOrdinate(n - 1, CoordinateSequence.X) && seq.getOrdinate(0, CoordinateSequence.Y) === seq.getOrdinate(n - 1, CoordinateSequence.Y);\n    if (isClosed) return seq;\n    return CoordinateSequences.createClosedRing(fact, seq, n + 1);\n  };\n\n  CoordinateSequences.createClosedRing = function (fact, seq, size) {\n    var newseq = fact.create(size, seq.getDimension());\n    var n = seq.size();\n    CoordinateSequences.copy(seq, 0, newseq, 0, n);\n\n    for (var i = n; i < size; i++) {\n      CoordinateSequences.copy(seq, 0, newseq, i, 1);\n    }\n\n    return newseq;\n  };\n\n  function LineString() {\n    this._points = null;\n    var points = arguments[0],\n        factory = arguments[1];\n    Geometry.call(this, factory);\n    this.init(points);\n  }\n  inherits(LineString, Geometry);\n  extend(LineString.prototype, {\n    computeEnvelopeInternal: function computeEnvelopeInternal() {\n      if (this.isEmpty()) {\n        return new Envelope();\n      }\n\n      return this._points.expandEnvelope(new Envelope());\n    },\n    isRing: function isRing() {\n      return this.isClosed() && this.isSimple();\n    },\n    getCoordinates: function getCoordinates() {\n      return this._points.toCoordinateArray();\n    },\n    equalsExact: function equalsExact() {\n      if (arguments.length === 2 && typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry) {\n        var other = arguments[0],\n            tolerance = arguments[1];\n\n        if (!this.isEquivalentClass(other)) {\n          return false;\n        }\n\n        var otherLineString = other;\n\n        if (this._points.size() !== otherLineString._points.size()) {\n          return false;\n        }\n\n        for (var i = 0; i < this._points.size(); i++) {\n          if (!this.equal(this._points.getCoordinate(i), otherLineString._points.getCoordinate(i), tolerance)) {\n            return false;\n          }\n        }\n\n        return true;\n      } else return Geometry.prototype.equalsExact.apply(this, arguments);\n    },\n    normalize: function normalize() {\n      for (var i = 0; i < Math.trunc(this._points.size() / 2); i++) {\n        var j = this._points.size() - 1 - i;\n\n        if (!this._points.getCoordinate(i).equals(this._points.getCoordinate(j))) {\n          if (this._points.getCoordinate(i).compareTo(this._points.getCoordinate(j)) > 0) {\n            var copy = this._points.copy();\n\n            CoordinateSequences.reverse(copy);\n            this._points = copy;\n          }\n\n          return null;\n        }\n      }\n    },\n    getCoordinate: function getCoordinate() {\n      if (this.isEmpty()) return null;\n      return this._points.getCoordinate(0);\n    },\n    getBoundaryDimension: function getBoundaryDimension() {\n      if (this.isClosed()) {\n        return Dimension.FALSE;\n      }\n\n      return 0;\n    },\n    isClosed: function isClosed() {\n      if (this.isEmpty()) {\n        return false;\n      }\n\n      return this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints() - 1));\n    },\n    getEndPoint: function getEndPoint() {\n      if (this.isEmpty()) {\n        return null;\n      }\n\n      return this.getPointN(this.getNumPoints() - 1);\n    },\n    getTypeCode: function getTypeCode() {\n      return Geometry.TYPECODE_LINESTRING;\n    },\n    getDimension: function getDimension() {\n      return 1;\n    },\n    getLength: function getLength() {\n      return Length.ofLine(this._points);\n    },\n    getNumPoints: function getNumPoints() {\n      return this._points.size();\n    },\n    reverse: function reverse() {\n      var seq = this._points.copy();\n\n      CoordinateSequences.reverse(seq);\n      var revLine = this.getFactory().createLineString(seq);\n      return revLine;\n    },\n    compareToSameClass: function compareToSameClass() {\n      if (arguments.length === 1) {\n        var o = arguments[0];\n        var line = o;\n        var i = 0;\n        var j = 0;\n\n        while (i < this._points.size() && j < line._points.size()) {\n          var comparison = this._points.getCoordinate(i).compareTo(line._points.getCoordinate(j));\n\n          if (comparison !== 0) {\n            return comparison;\n          }\n\n          i++;\n          j++;\n        }\n\n        if (i < this._points.size()) {\n          return 1;\n        }\n\n        if (j < line._points.size()) {\n          return -1;\n        }\n\n        return 0;\n      } else if (arguments.length === 2) {\n        var _o = arguments[0],\n            comp = arguments[1];\n        var line = _o;\n        return comp.compare(this._points, line._points);\n      }\n    },\n    apply: function apply() {\n      if (hasInterface(arguments[0], CoordinateFilter)) {\n        var filter = arguments[0];\n\n        for (var i = 0; i < this._points.size(); i++) {\n          filter.filter(this._points.getCoordinate(i));\n        }\n      } else if (hasInterface(arguments[0], CoordinateSequenceFilter)) {\n        var _filter = arguments[0];\n        if (this._points.size() === 0) return null;\n\n        for (var i = 0; i < this._points.size(); i++) {\n          _filter.filter(this._points, i);\n\n          if (_filter.isDone()) break;\n        }\n\n        if (_filter.isGeometryChanged()) this.geometryChanged();\n      } else if (hasInterface(arguments[0], GeometryFilter)) {\n        var _filter2 = arguments[0];\n\n        _filter2.filter(this);\n      } else if (hasInterface(arguments[0], GeometryComponentFilter)) {\n        var _filter3 = arguments[0];\n\n        _filter3.filter(this);\n      }\n    },\n    getBoundary: function getBoundary() {\n      return new BoundaryOp(this).getBoundary();\n    },\n    isEquivalentClass: function isEquivalentClass(other) {\n      return other instanceof LineString;\n    },\n    getCoordinateN: function getCoordinateN(n) {\n      return this._points.getCoordinate(n);\n    },\n    getGeometryType: function getGeometryType() {\n      return Geometry.TYPENAME_LINESTRING;\n    },\n    copy: function copy() {\n      return new LineString(this._points.copy(), this._factory);\n    },\n    getCoordinateSequence: function getCoordinateSequence() {\n      return this._points;\n    },\n    isEmpty: function isEmpty() {\n      return this._points.size() === 0;\n    },\n    init: function init(points) {\n      if (points === null) {\n        points = this.getFactory().getCoordinateSequenceFactory().create([]);\n      }\n\n      if (points.size() === 1) {\n        throw new IllegalArgumentException(\"Invalid number of points in LineString (found \" + points.size() + \" - must be 0 or >= 2)\");\n      }\n\n      this._points = points;\n    },\n    isCoordinate: function isCoordinate(pt) {\n      for (var i = 0; i < this._points.size(); i++) {\n        if (this._points.getCoordinate(i).equals(pt)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    getStartPoint: function getStartPoint() {\n      if (this.isEmpty()) {\n        return null;\n      }\n\n      return this.getPointN(0);\n    },\n    getPointN: function getPointN(n) {\n      return this.getFactory().createPoint(this._points.getCoordinate(n));\n    },\n    interfaces_: function interfaces_() {\n      return [Lineal];\n    },\n    getClass: function getClass() {\n      return LineString;\n    }\n  });\n  LineString.serialVersionUID = 3110669828065365560;\n\n  function Puntal() {}\n  extend(Puntal.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Puntal;\n    }\n  });\n\n  function Point() {\n    this._coordinates = null;\n    var coordinates = arguments[0],\n        factory = arguments[1];\n    Geometry.call(this, factory);\n    this.init(coordinates);\n  }\n  inherits(Point, Geometry);\n  extend(Point.prototype, {\n    computeEnvelopeInternal: function computeEnvelopeInternal() {\n      if (this.isEmpty()) {\n        return new Envelope();\n      }\n\n      var env = new Envelope();\n      env.expandToInclude(this._coordinates.getX(0), this._coordinates.getY(0));\n      return env;\n    },\n    getCoordinates: function getCoordinates() {\n      return this.isEmpty() ? [] : [this.getCoordinate()];\n    },\n    equalsExact: function equalsExact() {\n      if (arguments.length === 2 && typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry) {\n        var other = arguments[0],\n            tolerance = arguments[1];\n\n        if (!this.isEquivalentClass(other)) {\n          return false;\n        }\n\n        if (this.isEmpty() && other.isEmpty()) {\n          return true;\n        }\n\n        if (this.isEmpty() !== other.isEmpty()) {\n          return false;\n        }\n\n        return this.equal(other.getCoordinate(), this.getCoordinate(), tolerance);\n      } else return Geometry.prototype.equalsExact.apply(this, arguments);\n    },\n    normalize: function normalize() {},\n    getCoordinate: function getCoordinate() {\n      return this._coordinates.size() !== 0 ? this._coordinates.getCoordinate(0) : null;\n    },\n    getBoundaryDimension: function getBoundaryDimension() {\n      return Dimension.FALSE;\n    },\n    getTypeCode: function getTypeCode() {\n      return Geometry.TYPECODE_POINT;\n    },\n    getDimension: function getDimension() {\n      return 0;\n    },\n    getNumPoints: function getNumPoints() {\n      return this.isEmpty() ? 0 : 1;\n    },\n    reverse: function reverse() {\n      return this.copy();\n    },\n    getX: function getX() {\n      if (this.getCoordinate() === null) {\n        throw new IllegalStateException(\"getX called on empty Point\");\n      }\n\n      return this.getCoordinate().x;\n    },\n    compareToSameClass: function compareToSameClass() {\n      if (arguments.length === 1) {\n        var other = arguments[0];\n        var point = other;\n        return this.getCoordinate().compareTo(point.getCoordinate());\n      } else if (arguments.length === 2) {\n        var _other = arguments[0],\n            comp = arguments[1];\n        var point = _other;\n        return comp.compare(this._coordinates, point._coordinates);\n      }\n    },\n    apply: function apply() {\n      if (hasInterface(arguments[0], CoordinateFilter)) {\n        var filter = arguments[0];\n\n        if (this.isEmpty()) {\n          return null;\n        }\n\n        filter.filter(this.getCoordinate());\n      } else if (hasInterface(arguments[0], CoordinateSequenceFilter)) {\n        var _filter = arguments[0];\n        if (this.isEmpty()) return null;\n\n        _filter.filter(this._coordinates, 0);\n\n        if (_filter.isGeometryChanged()) this.geometryChanged();\n      } else if (hasInterface(arguments[0], GeometryFilter)) {\n        var _filter2 = arguments[0];\n\n        _filter2.filter(this);\n      } else if (hasInterface(arguments[0], GeometryComponentFilter)) {\n        var _filter3 = arguments[0];\n\n        _filter3.filter(this);\n      }\n    },\n    getBoundary: function getBoundary() {\n      return this.getFactory().createGeometryCollection();\n    },\n    getGeometryType: function getGeometryType() {\n      return Geometry.TYPENAME_POINT;\n    },\n    copy: function copy() {\n      return new Point(this._coordinates.copy(), this._factory);\n    },\n    getCoordinateSequence: function getCoordinateSequence() {\n      return this._coordinates;\n    },\n    getY: function getY() {\n      if (this.getCoordinate() === null) {\n        throw new IllegalStateException(\"getY called on empty Point\");\n      }\n\n      return this.getCoordinate().y;\n    },\n    isEmpty: function isEmpty() {\n      return this._coordinates.size() === 0;\n    },\n    init: function init(coordinates) {\n      if (coordinates === null) {\n        coordinates = this.getFactory().getCoordinateSequenceFactory().create([]);\n      }\n\n      Assert.isTrue(coordinates.size() <= 1);\n      this._coordinates = coordinates;\n    },\n    isSimple: function isSimple() {\n      return true;\n    },\n    interfaces_: function interfaces_() {\n      return [Puntal];\n    },\n    getClass: function getClass() {\n      return Point;\n    }\n  });\n  Point.serialVersionUID = 4902022702746614570;\n\n  function Area() {}\n  extend(Area.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Area;\n    }\n  });\n\n  Area.ofRing = function () {\n    if (arguments[0] instanceof Array) {\n      var ring = arguments[0];\n      return Math.abs(Area.ofRingSigned(ring));\n    } else if (hasInterface(arguments[0], CoordinateSequence)) {\n      var _ring = arguments[0];\n      return Math.abs(Area.ofRingSigned(_ring));\n    }\n  };\n\n  Area.ofRingSigned = function () {\n    if (arguments[0] instanceof Array) {\n      var ring = arguments[0];\n      if (ring.length < 3) return 0.0;\n      var sum = 0.0;\n      var x0 = ring[0].x;\n\n      for (var i = 1; i < ring.length - 1; i++) {\n        var x = ring[i].x - x0;\n        var y1 = ring[i + 1].y;\n        var y2 = ring[i - 1].y;\n        sum += x * (y2 - y1);\n      }\n\n      return sum / 2.0;\n    } else if (hasInterface(arguments[0], CoordinateSequence)) {\n      var _ring2 = arguments[0];\n\n      var n = _ring2.size();\n\n      if (n < 3) return 0.0;\n      var p0 = new Coordinate();\n      var p1 = new Coordinate();\n      var p2 = new Coordinate();\n\n      _ring2.getCoordinate(0, p1);\n\n      _ring2.getCoordinate(1, p2);\n\n      var x0 = p1.x;\n      p2.x -= x0;\n      var sum = 0.0;\n\n      for (var i = 1; i < n - 1; i++) {\n        p0.y = p1.y;\n        p1.x = p2.x;\n        p1.y = p2.y;\n\n        _ring2.getCoordinate(i + 1, p2);\n\n        p2.x -= x0;\n        sum += p1.x * (p0.y - p2.y);\n      }\n\n      return sum / 2.0;\n    }\n  };\n\n  function Polygonal() {}\n  extend(Polygonal.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Polygonal;\n    }\n  });\n\n  function Polygon() {\n    this._shell = null;\n    this._holes = null;\n    var shell = arguments[0],\n        holes = arguments[1],\n        factory = arguments[2];\n    Geometry.call(this, factory);\n\n    if (shell === null) {\n      shell = this.getFactory().createLinearRing();\n    }\n\n    if (holes === null) {\n      holes = [];\n    }\n\n    if (Geometry.hasNullElements(holes)) {\n      throw new IllegalArgumentException(\"holes must not contain null elements\");\n    }\n\n    if (shell.isEmpty() && Geometry.hasNonEmptyElements(holes)) {\n      throw new IllegalArgumentException(\"shell is empty but holes are not\");\n    }\n\n    this._shell = shell;\n    this._holes = holes;\n  }\n  inherits(Polygon, Geometry);\n  extend(Polygon.prototype, {\n    computeEnvelopeInternal: function computeEnvelopeInternal() {\n      return this._shell.getEnvelopeInternal();\n    },\n    getCoordinates: function getCoordinates() {\n      if (this.isEmpty()) {\n        return [];\n      }\n\n      var coordinates = new Array(this.getNumPoints()).fill(null);\n      var k = -1;\n\n      var shellCoordinates = this._shell.getCoordinates();\n\n      for (var x = 0; x < shellCoordinates.length; x++) {\n        k++;\n        coordinates[k] = shellCoordinates[x];\n      }\n\n      for (var i = 0; i < this._holes.length; i++) {\n        var childCoordinates = this._holes[i].getCoordinates();\n\n        for (var j = 0; j < childCoordinates.length; j++) {\n          k++;\n          coordinates[k] = childCoordinates[j];\n        }\n      }\n\n      return coordinates;\n    },\n    getArea: function getArea() {\n      var area = 0.0;\n      area += Area.ofRing(this._shell.getCoordinateSequence());\n\n      for (var i = 0; i < this._holes.length; i++) {\n        area -= Area.ofRing(this._holes[i].getCoordinateSequence());\n      }\n\n      return area;\n    },\n    isRectangle: function isRectangle() {\n      if (this.getNumInteriorRing() !== 0) return false;\n      if (this._shell === null) return false;\n      if (this._shell.getNumPoints() !== 5) return false;\n\n      var seq = this._shell.getCoordinateSequence();\n\n      var env = this.getEnvelopeInternal();\n\n      for (var i = 0; i < 5; i++) {\n        var x = seq.getX(i);\n        if (!(x === env.getMinX() || x === env.getMaxX())) return false;\n        var y = seq.getY(i);\n        if (!(y === env.getMinY() || y === env.getMaxY())) return false;\n      }\n\n      var prevX = seq.getX(0);\n      var prevY = seq.getY(0);\n\n      for (var i = 1; i <= 4; i++) {\n        var x = seq.getX(i);\n        var y = seq.getY(i);\n        var xChanged = x !== prevX;\n        var yChanged = y !== prevY;\n        if (xChanged === yChanged) return false;\n        prevX = x;\n        prevY = y;\n      }\n\n      return true;\n    },\n    equalsExact: function equalsExact() {\n      if (arguments.length === 2 && typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry) {\n        var other = arguments[0],\n            tolerance = arguments[1];\n\n        if (!this.isEquivalentClass(other)) {\n          return false;\n        }\n\n        var otherPolygon = other;\n        var thisShell = this._shell;\n        var otherPolygonShell = otherPolygon._shell;\n\n        if (!thisShell.equalsExact(otherPolygonShell, tolerance)) {\n          return false;\n        }\n\n        if (this._holes.length !== otherPolygon._holes.length) {\n          return false;\n        }\n\n        for (var i = 0; i < this._holes.length; i++) {\n          if (!this._holes[i].equalsExact(otherPolygon._holes[i], tolerance)) {\n            return false;\n          }\n        }\n\n        return true;\n      } else return Geometry.prototype.equalsExact.apply(this, arguments);\n    },\n    normalize: function normalize() {\n      if (arguments.length === 0) {\n        this.normalize(this._shell, true);\n\n        for (var i = 0; i < this._holes.length; i++) {\n          this.normalize(this._holes[i], false);\n        }\n\n        Arrays.sort(this._holes);\n      } else if (arguments.length === 2) {\n        var ring = arguments[0],\n            clockwise = arguments[1];\n\n        if (ring.isEmpty()) {\n          return null;\n        }\n\n        var uniqueCoordinates = new Array(ring.getCoordinates().length - 1).fill(null);\n        System.arraycopy(ring.getCoordinates(), 0, uniqueCoordinates, 0, uniqueCoordinates.length);\n        var minCoordinate = CoordinateArrays.minCoordinate(ring.getCoordinates());\n        CoordinateArrays.scroll(uniqueCoordinates, minCoordinate);\n        System.arraycopy(uniqueCoordinates, 0, ring.getCoordinates(), 0, uniqueCoordinates.length);\n        ring.getCoordinates()[uniqueCoordinates.length] = uniqueCoordinates[0];\n\n        if (Orientation.isCCW(ring.getCoordinates()) === clockwise) {\n          CoordinateArrays.reverse(ring.getCoordinates());\n        }\n      }\n    },\n    getCoordinate: function getCoordinate() {\n      return this._shell.getCoordinate();\n    },\n    getNumInteriorRing: function getNumInteriorRing() {\n      return this._holes.length;\n    },\n    getBoundaryDimension: function getBoundaryDimension() {\n      return 1;\n    },\n    getTypeCode: function getTypeCode() {\n      return Geometry.TYPECODE_POLYGON;\n    },\n    getDimension: function getDimension() {\n      return 2;\n    },\n    getLength: function getLength() {\n      var len = 0.0;\n      len += this._shell.getLength();\n\n      for (var i = 0; i < this._holes.length; i++) {\n        len += this._holes[i].getLength();\n      }\n\n      return len;\n    },\n    getNumPoints: function getNumPoints() {\n      var numPoints = this._shell.getNumPoints();\n\n      for (var i = 0; i < this._holes.length; i++) {\n        numPoints += this._holes[i].getNumPoints();\n      }\n\n      return numPoints;\n    },\n    reverse: function reverse() {\n      var poly = this.copy();\n      poly._shell = this._shell.copy().reverse();\n      poly._holes = new Array(this._holes.length).fill(null);\n\n      for (var i = 0; i < this._holes.length; i++) {\n        poly._holes[i] = this._holes[i].copy().reverse();\n      }\n\n      return poly;\n    },\n    convexHull: function convexHull() {\n      return this.getExteriorRing().convexHull();\n    },\n    compareToSameClass: function compareToSameClass() {\n      if (arguments.length === 1) {\n        var o = arguments[0];\n        var thisShell = this._shell;\n        var otherShell = o._shell;\n        return thisShell.compareToSameClass(otherShell);\n      } else if (arguments.length === 2) {\n        var _o = arguments[0],\n            comp = arguments[1];\n        var poly = _o;\n        var thisShell = this._shell;\n        var otherShell = poly._shell;\n        var shellComp = thisShell.compareToSameClass(otherShell, comp);\n        if (shellComp !== 0) return shellComp;\n        var nHole1 = this.getNumInteriorRing();\n        var nHole2 = poly.getNumInteriorRing();\n        var i = 0;\n\n        while (i < nHole1 && i < nHole2) {\n          var thisHole = this.getInteriorRingN(i);\n          var otherHole = poly.getInteriorRingN(i);\n          var holeComp = thisHole.compareToSameClass(otherHole, comp);\n          if (holeComp !== 0) return holeComp;\n          i++;\n        }\n\n        if (i < nHole1) return 1;\n        if (i < nHole2) return -1;\n        return 0;\n      }\n    },\n    apply: function apply() {\n      if (hasInterface(arguments[0], CoordinateFilter)) {\n        var filter = arguments[0];\n\n        this._shell.apply(filter);\n\n        for (var i = 0; i < this._holes.length; i++) {\n          this._holes[i].apply(filter);\n        }\n      } else if (hasInterface(arguments[0], CoordinateSequenceFilter)) {\n        var _filter = arguments[0];\n\n        this._shell.apply(_filter);\n\n        if (!_filter.isDone()) {\n          for (var i = 0; i < this._holes.length; i++) {\n            this._holes[i].apply(_filter);\n\n            if (_filter.isDone()) break;\n          }\n        }\n\n        if (_filter.isGeometryChanged()) this.geometryChanged();\n      } else if (hasInterface(arguments[0], GeometryFilter)) {\n        var _filter2 = arguments[0];\n\n        _filter2.filter(this);\n      } else if (hasInterface(arguments[0], GeometryComponentFilter)) {\n        var _filter3 = arguments[0];\n\n        _filter3.filter(this);\n\n        this._shell.apply(_filter3);\n\n        for (var i = 0; i < this._holes.length; i++) {\n          this._holes[i].apply(_filter3);\n        }\n      }\n    },\n    getBoundary: function getBoundary() {\n      if (this.isEmpty()) {\n        return this.getFactory().createMultiLineString();\n      }\n\n      var rings = new Array(this._holes.length + 1).fill(null);\n      rings[0] = this._shell;\n\n      for (var i = 0; i < this._holes.length; i++) {\n        rings[i + 1] = this._holes[i];\n      }\n\n      if (rings.length <= 1) return this.getFactory().createLinearRing(rings[0].getCoordinateSequence());\n      return this.getFactory().createMultiLineString(rings);\n    },\n    getGeometryType: function getGeometryType() {\n      return Geometry.TYPENAME_POLYGON;\n    },\n    copy: function copy() {\n      var shellCopy = this._shell.copy();\n\n      var holeCopies = new Array(this._holes.length).fill(null);\n\n      for (var i = 0; i < this._holes.length; i++) {\n        holeCopies[i] = this._holes[i].copy();\n      }\n\n      return new Polygon(shellCopy, holeCopies, this._factory);\n    },\n    getExteriorRing: function getExteriorRing() {\n      return this._shell;\n    },\n    isEmpty: function isEmpty() {\n      return this._shell.isEmpty();\n    },\n    getInteriorRingN: function getInteriorRingN(n) {\n      return this._holes[n];\n    },\n    interfaces_: function interfaces_() {\n      return [Polygonal];\n    },\n    getClass: function getClass() {\n      return Polygon;\n    }\n  });\n  Polygon.serialVersionUID = -3494792200821764533;\n\n  function MultiPoint() {\n    var points = arguments[0],\n        factory = arguments[1];\n    GeometryCollection.call(this, points, factory);\n  }\n  inherits(MultiPoint, GeometryCollection);\n  extend(MultiPoint.prototype, {\n    isValid: function isValid() {\n      return true;\n    },\n    equalsExact: function equalsExact() {\n      if (arguments.length === 2 && typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry) {\n        var other = arguments[0],\n            tolerance = arguments[1];\n\n        if (!this.isEquivalentClass(other)) {\n          return false;\n        }\n\n        return GeometryCollection.prototype.equalsExact.call(this, other, tolerance);\n      } else return GeometryCollection.prototype.equalsExact.apply(this, arguments);\n    },\n    getCoordinate: function getCoordinate() {\n      if (arguments.length === 1 && Number.isInteger(arguments[0])) {\n        var n = arguments[0];\n        return this._geometries[n].getCoordinate();\n      } else return GeometryCollection.prototype.getCoordinate.apply(this, arguments);\n    },\n    getBoundaryDimension: function getBoundaryDimension() {\n      return Dimension.FALSE;\n    },\n    getTypeCode: function getTypeCode() {\n      return Geometry.TYPECODE_MULTIPOINT;\n    },\n    getDimension: function getDimension() {\n      return 0;\n    },\n    getBoundary: function getBoundary() {\n      return this.getFactory().createGeometryCollection();\n    },\n    getGeometryType: function getGeometryType() {\n      return Geometry.TYPENAME_MULTIPOINT;\n    },\n    copy: function copy() {\n      var points = new Array(this._geometries.length).fill(null);\n\n      for (var i = 0; i < points.length; i++) {\n        points[i] = this._geometries[i].copy();\n      }\n\n      return new MultiPoint(points, this._factory);\n    },\n    interfaces_: function interfaces_() {\n      return [Puntal];\n    },\n    getClass: function getClass() {\n      return MultiPoint;\n    }\n  });\n  MultiPoint.serialVersionUID = -8048474874175355449;\n\n  function LinearRing() {\n    if (arguments[0] instanceof Array && arguments[1] instanceof GeometryFactory) {\n      var points = arguments[0],\n          factory = arguments[1];\n      LinearRing.call(this, factory.getCoordinateSequenceFactory().create(points), factory);\n    } else if (hasInterface(arguments[0], CoordinateSequence) && arguments[1] instanceof GeometryFactory) {\n      var _points = arguments[0],\n          _factory = arguments[1];\n      LineString.call(this, _points, _factory);\n      this.validateConstruction();\n    }\n  }\n  inherits(LinearRing, LineString);\n  extend(LinearRing.prototype, {\n    getBoundaryDimension: function getBoundaryDimension() {\n      return Dimension.FALSE;\n    },\n    isClosed: function isClosed() {\n      if (this.isEmpty()) {\n        return true;\n      }\n\n      return LineString.prototype.isClosed.call(this);\n    },\n    getTypeCode: function getTypeCode() {\n      return Geometry.TYPECODE_LINEARRING;\n    },\n    reverse: function reverse() {\n      var seq = this._points.copy();\n\n      CoordinateSequences.reverse(seq);\n      var rev = this.getFactory().createLinearRing(seq);\n      return rev;\n    },\n    validateConstruction: function validateConstruction() {\n      if (!this.isEmpty() && !LineString.prototype.isClosed.call(this)) {\n        throw new IllegalArgumentException(\"Points of LinearRing do not form a closed linestring\");\n      }\n\n      if (this.getCoordinateSequence().size() >= 1 && this.getCoordinateSequence().size() < LinearRing.MINIMUM_VALID_SIZE) {\n        throw new IllegalArgumentException(\"Invalid number of points in LinearRing (found \" + this.getCoordinateSequence().size() + \" - must be 0 or >= 4)\");\n      }\n    },\n    getGeometryType: function getGeometryType() {\n      return Geometry.TYPENAME_LINEARRING;\n    },\n    copy: function copy() {\n      return new LinearRing(this._points.copy(), this._factory);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LinearRing;\n    }\n  });\n  LinearRing.MINIMUM_VALID_SIZE = 4;\n  LinearRing.serialVersionUID = -4261142084085851829;\n\n  function MultiPolygon() {\n    var polygons = arguments[0],\n        factory = arguments[1];\n    GeometryCollection.call(this, polygons, factory);\n  }\n  inherits(MultiPolygon, GeometryCollection);\n  extend(MultiPolygon.prototype, {\n    equalsExact: function equalsExact() {\n      if (arguments.length === 2 && typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry) {\n        var other = arguments[0],\n            tolerance = arguments[1];\n\n        if (!this.isEquivalentClass(other)) {\n          return false;\n        }\n\n        return GeometryCollection.prototype.equalsExact.call(this, other, tolerance);\n      } else return GeometryCollection.prototype.equalsExact.apply(this, arguments);\n    },\n    getBoundaryDimension: function getBoundaryDimension() {\n      return 1;\n    },\n    getTypeCode: function getTypeCode() {\n      return Geometry.TYPECODE_MULTIPOLYGON;\n    },\n    getDimension: function getDimension() {\n      return 2;\n    },\n    reverse: function reverse() {\n      var n = this._geometries.length;\n      var revGeoms = new Array(n).fill(null);\n\n      for (var i = 0; i < this._geometries.length; i++) {\n        revGeoms[i] = this._geometries[i].reverse();\n      }\n\n      return this.getFactory().createMultiPolygon(revGeoms);\n    },\n    getBoundary: function getBoundary() {\n      if (this.isEmpty()) {\n        return this.getFactory().createMultiLineString();\n      }\n\n      var allRings = new ArrayList();\n\n      for (var i = 0; i < this._geometries.length; i++) {\n        var polygon = this._geometries[i];\n        var rings = polygon.getBoundary();\n\n        for (var j = 0; j < rings.getNumGeometries(); j++) {\n          allRings.add(rings.getGeometryN(j));\n        }\n      }\n\n      var allRingsArray = new Array(allRings.size()).fill(null);\n      return this.getFactory().createMultiLineString(allRings.toArray(allRingsArray));\n    },\n    getGeometryType: function getGeometryType() {\n      return Geometry.TYPENAME_MULTIPOLYGON;\n    },\n    copy: function copy() {\n      var polygons = new Array(this._geometries.length).fill(null);\n\n      for (var i = 0; i < polygons.length; i++) {\n        polygons[i] = this._geometries[i].copy();\n      }\n\n      return new MultiPolygon(polygons, this._factory);\n    },\n    interfaces_: function interfaces_() {\n      return [Polygonal];\n    },\n    getClass: function getClass() {\n      return MultiPolygon;\n    }\n  });\n  MultiPolygon.serialVersionUID = -551033529766975875;\n\n  function GeometryEditor() {\n    this._factory = null;\n    this._isUserDataCopied = false;\n\n    if (arguments.length === 0) ; else if (arguments.length === 1) {\n      var factory = arguments[0];\n      this._factory = factory;\n    }\n  }\n  extend(GeometryEditor.prototype, {\n    setCopyUserData: function setCopyUserData(isUserDataCopied) {\n      this._isUserDataCopied = isUserDataCopied;\n    },\n    edit: function edit(geometry, operation) {\n      if (geometry === null) return null;\n      var result = this.editInternal(geometry, operation);\n\n      if (this._isUserDataCopied) {\n        result.setUserData(geometry.getUserData());\n      }\n\n      return result;\n    },\n    editInternal: function editInternal(geometry, operation) {\n      if (this._factory === null) this._factory = geometry.getFactory();\n\n      if (geometry instanceof GeometryCollection) {\n        return this.editGeometryCollection(geometry, operation);\n      }\n\n      if (geometry instanceof Polygon) {\n        return this.editPolygon(geometry, operation);\n      }\n\n      if (geometry instanceof Point) {\n        return operation.edit(geometry, this._factory);\n      }\n\n      if (geometry instanceof LineString) {\n        return operation.edit(geometry, this._factory);\n      }\n\n      Assert.shouldNeverReachHere(\"Unsupported Geometry class: \" + geometry.getClass().getName());\n      return null;\n    },\n    editGeometryCollection: function editGeometryCollection(collection, operation) {\n      var collectionForType = operation.edit(collection, this._factory);\n      var geometries = new ArrayList();\n\n      for (var i = 0; i < collectionForType.getNumGeometries(); i++) {\n        var geometry = this.edit(collectionForType.getGeometryN(i), operation);\n\n        if (geometry === null || geometry.isEmpty()) {\n          continue;\n        }\n\n        geometries.add(geometry);\n      }\n\n      if (collectionForType.getClass() === MultiPoint) {\n        return this._factory.createMultiPoint(geometries.toArray([]));\n      }\n\n      if (collectionForType.getClass() === MultiLineString) {\n        return this._factory.createMultiLineString(geometries.toArray([]));\n      }\n\n      if (collectionForType.getClass() === MultiPolygon) {\n        return this._factory.createMultiPolygon(geometries.toArray([]));\n      }\n\n      return this._factory.createGeometryCollection(geometries.toArray([]));\n    },\n    editPolygon: function editPolygon(polygon, operation) {\n      var newPolygon = operation.edit(polygon, this._factory);\n      if (newPolygon === null) newPolygon = this._factory.createPolygon();\n\n      if (newPolygon.isEmpty()) {\n        return newPolygon;\n      }\n\n      var shell = this.edit(newPolygon.getExteriorRing(), operation);\n\n      if (shell === null || shell.isEmpty()) {\n        return this._factory.createPolygon();\n      }\n\n      var holes = new ArrayList();\n\n      for (var i = 0; i < newPolygon.getNumInteriorRing(); i++) {\n        var hole = this.edit(newPolygon.getInteriorRingN(i), operation);\n\n        if (hole === null || hole.isEmpty()) {\n          continue;\n        }\n\n        holes.add(hole);\n      }\n\n      return this._factory.createPolygon(shell, holes.toArray([]));\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return GeometryEditor;\n    }\n  });\n\n  function GeometryEditorOperation() {}\n\n  GeometryEditor.GeometryEditorOperation = GeometryEditorOperation;\n\n  function NoOpGeometryOperation() {}\n\n  extend(NoOpGeometryOperation.prototype, {\n    edit: function edit(geometry, factory) {\n      return geometry;\n    },\n    interfaces_: function interfaces_() {\n      return [GeometryEditorOperation];\n    },\n    getClass: function getClass() {\n      return NoOpGeometryOperation;\n    }\n  });\n\n  function CoordinateOperation() {}\n\n  extend(CoordinateOperation.prototype, {\n    edit: function edit(geometry, factory) {\n      var coordinates = this.edit(geometry.getCoordinates(), geometry);\n\n      if (geometry instanceof LinearRing) {\n        if (coordinates === null) return factory.createLinearRing();else return factory.createLinearRing(coordinates);\n      }\n\n      if (geometry instanceof LineString) {\n        if (coordinates === null) return factory.createLineString();else return factory.createLineString(coordinates);\n      }\n\n      if (geometry instanceof Point) {\n        if (coordinates === null || coordinates.length === 0) return factory.createPoint();else return factory.createPoint(coordinates[0]);\n      }\n\n      return geometry;\n    },\n    interfaces_: function interfaces_() {\n      return [GeometryEditorOperation];\n    },\n    getClass: function getClass() {\n      return CoordinateOperation;\n    }\n  });\n\n  function CoordinateSequenceOperation() {}\n\n  extend(CoordinateSequenceOperation.prototype, {\n    edit: function edit(geometry, factory) {\n      if (geometry instanceof LinearRing) {\n        return factory.createLinearRing(this.edit(geometry.getCoordinateSequence(), geometry));\n      }\n\n      if (geometry instanceof LineString) {\n        return factory.createLineString(this.edit(geometry.getCoordinateSequence(), geometry));\n      }\n\n      if (geometry instanceof Point) {\n        return factory.createPoint(this.edit(geometry.getCoordinateSequence(), geometry));\n      }\n\n      return geometry;\n    },\n    interfaces_: function interfaces_() {\n      return [GeometryEditorOperation];\n    },\n    getClass: function getClass() {\n      return CoordinateSequenceOperation;\n    }\n  });\n  GeometryEditor.NoOpGeometryOperation = NoOpGeometryOperation;\n  GeometryEditor.CoordinateOperation = CoordinateOperation;\n  GeometryEditor.CoordinateSequenceOperation = CoordinateSequenceOperation;\n\n  function CoordinateArraySequence() {\n    this._dimension = 3;\n    this._coordinates = null;\n\n    if (arguments.length === 1) {\n      if (arguments[0] instanceof Array) {\n        var coordinates = arguments[0];\n        CoordinateArraySequence.call(this, coordinates, 3);\n      } else if (Number.isInteger(arguments[0])) {\n        var size = arguments[0];\n        this._coordinates = new Array(size).fill(null);\n\n        for (var i = 0; i < size; i++) {\n          this._coordinates[i] = new Coordinate();\n        }\n      } else if (hasInterface(arguments[0], CoordinateSequence)) {\n        var coordSeq = arguments[0];\n\n        if (coordSeq === null) {\n          this._coordinates = new Array(0).fill(null);\n          return null;\n        }\n\n        this._dimension = coordSeq.getDimension();\n        this._coordinates = new Array(coordSeq.size()).fill(null);\n\n        for (var i = 0; i < this._coordinates.length; i++) {\n          this._coordinates[i] = coordSeq.getCoordinateCopy(i);\n        }\n      }\n    } else if (arguments.length === 2) {\n      if (arguments[0] instanceof Array && Number.isInteger(arguments[1])) {\n        var _coordinates = arguments[0],\n            dimension = arguments[1];\n        this._coordinates = _coordinates;\n        this._dimension = dimension;\n        if (_coordinates === null) this._coordinates = new Array(0).fill(null);\n      } else if (Number.isInteger(arguments[0]) && Number.isInteger(arguments[1])) {\n        var _size = arguments[0],\n            _dimension = arguments[1];\n        this._coordinates = new Array(_size).fill(null);\n        this._dimension = _dimension;\n\n        for (var i = 0; i < _size; i++) {\n          this._coordinates[i] = new Coordinate();\n        }\n      }\n    }\n  }\n  extend(CoordinateArraySequence.prototype, {\n    setOrdinate: function setOrdinate(index, ordinateIndex, value) {\n      switch (ordinateIndex) {\n        case CoordinateSequence.X:\n          this._coordinates[index].x = value;\n          break;\n\n        case CoordinateSequence.Y:\n          this._coordinates[index].y = value;\n          break;\n\n        case CoordinateSequence.Z:\n          this._coordinates[index].z = value;\n          break;\n\n        default:\n          throw new IllegalArgumentException(\"invalid ordinateIndex\");\n      }\n    },\n    size: function size() {\n      return this._coordinates.length;\n    },\n    getOrdinate: function getOrdinate(index, ordinateIndex) {\n      switch (ordinateIndex) {\n        case CoordinateSequence.X:\n          return this._coordinates[index].x;\n\n        case CoordinateSequence.Y:\n          return this._coordinates[index].y;\n\n        case CoordinateSequence.Z:\n          return this._coordinates[index].z;\n      }\n\n      return Double.NaN;\n    },\n    getCoordinate: function getCoordinate() {\n      if (arguments.length === 1) {\n        var i = arguments[0];\n        return this._coordinates[i];\n      } else if (arguments.length === 2) {\n        var index = arguments[0],\n            coord = arguments[1];\n        coord.x = this._coordinates[index].x;\n        coord.y = this._coordinates[index].y;\n        coord.z = this._coordinates[index].z;\n      }\n    },\n    getCoordinateCopy: function getCoordinateCopy(i) {\n      return new Coordinate(this._coordinates[i]);\n    },\n    getDimension: function getDimension() {\n      return this._dimension;\n    },\n    getX: function getX(index) {\n      return this._coordinates[index].x;\n    },\n    expandEnvelope: function expandEnvelope(env) {\n      for (var i = 0; i < this._coordinates.length; i++) {\n        env.expandToInclude(this._coordinates[i]);\n      }\n\n      return env;\n    },\n    copy: function copy() {\n      var cloneCoordinates = new Array(this.size()).fill(null);\n\n      for (var i = 0; i < this._coordinates.length; i++) {\n        cloneCoordinates[i] = this._coordinates[i].copy();\n      }\n\n      return new CoordinateArraySequence(cloneCoordinates, this._dimension);\n    },\n    toString: function toString() {\n      if (this._coordinates.length > 0) {\n        var strBuilder = new StringBuilder(17 * this._coordinates.length);\n        strBuilder.append('(');\n        strBuilder.append(this._coordinates[0]);\n\n        for (var i = 1; i < this._coordinates.length; i++) {\n          strBuilder.append(\", \");\n          strBuilder.append(this._coordinates[i]);\n        }\n\n        strBuilder.append(')');\n        return strBuilder.toString();\n      } else {\n        return \"()\";\n      }\n    },\n    getY: function getY(index) {\n      return this._coordinates[index].y;\n    },\n    toCoordinateArray: function toCoordinateArray() {\n      return this._coordinates;\n    },\n    interfaces_: function interfaces_() {\n      return [CoordinateSequence, Serializable];\n    },\n    getClass: function getClass() {\n      return CoordinateArraySequence;\n    }\n  });\n  CoordinateArraySequence.serialVersionUID = -915438501601840650;\n\n  function CoordinateArraySequenceFactory() {}\n  extend(CoordinateArraySequenceFactory.prototype, {\n    readResolve: function readResolve() {\n      return CoordinateArraySequenceFactory.instance();\n    },\n    create: function create() {\n      if (arguments.length === 1) {\n        if (arguments[0] instanceof Array) {\n          var coordinates = arguments[0];\n          return new CoordinateArraySequence(coordinates);\n        } else if (hasInterface(arguments[0], CoordinateSequence)) {\n          var coordSeq = arguments[0];\n          return new CoordinateArraySequence(coordSeq);\n        }\n      } else if (arguments.length === 2) {\n        var size = arguments[0],\n            dimension = arguments[1];\n        if (dimension > 3) dimension = 3;\n        if (dimension < 2) return new CoordinateArraySequence(size);\n        return new CoordinateArraySequence(size, dimension);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [CoordinateSequenceFactory, Serializable];\n    },\n    getClass: function getClass() {\n      return CoordinateArraySequenceFactory;\n    }\n  });\n\n  CoordinateArraySequenceFactory.instance = function () {\n    return CoordinateArraySequenceFactory.instanceObject;\n  };\n\n  CoordinateArraySequenceFactory.serialVersionUID = -4099577099607551657;\n  CoordinateArraySequenceFactory.instanceObject = new CoordinateArraySequenceFactory();\n\n  // shared pointer\n  var i; // shortcuts\n\n  var defineProperty = Object.defineProperty;\n\n  function is(a, b) {\n    return a === b || a !== a && b !== b;\n  } // eslint-disable-line\n\n\n  var MapPolyfill = createCollection({\n    // WeakMap#delete(key:void*):boolean\n    'delete': sharedDelete,\n    // :was Map#get(key:void*[, d3fault:void*]):void*\n    // Map#has(key:void*):boolean\n    has: mapHas,\n    // Map#get(key:void*):boolean\n    get: sharedGet,\n    // Map#set(key:void*, value:void*):void\n    set: sharedSet,\n    // Map#keys(void):Iterator\n    keys: sharedKeys,\n    // Map#values(void):Iterator\n    values: sharedValues,\n    // Map#entries(void):Iterator\n    entries: mapEntries,\n    // Map#forEach(callback:Function, context:void*):void ==> callback.call(context, key, value, mapObject) === not in specs`\n    forEach: sharedForEach,\n    // Map#clear():\n    clear: sharedClear\n  });\n\n  function createCollection(proto, objectOnly) {\n    function Collection(a) {\n      if (!this || this.constructor !== Collection) return new Collection(a);\n      this._keys = [];\n      this._values = [];\n      this._itp = []; // iteration pointers\n\n      this.objectOnly = objectOnly; // parse initial iterable argument passed\n\n      if (a) init.call(this, a);\n    } // define size for non object-only collections\n\n\n    if (!objectOnly) {\n      defineProperty(proto, 'size', {\n        get: sharedSize\n      });\n    } // set prototype\n\n\n    proto.constructor = Collection;\n    Collection.prototype = proto;\n    return Collection;\n  }\n\n  function init(a) {\n    // init Set argument, like `[1,2,3,{}]`\n    if (this.add) a.forEach(this.add, this); // init Map argument like `[[1,2], [{}, 4]]`\n    else a.forEach(function (a) {\n        this.set(a[0], a[1]);\n      }, this);\n  }\n\n  function sharedDelete(key) {\n    if (this.has(key)) {\n      this._keys.splice(i, 1);\n\n      this._values.splice(i, 1); // update iteration pointers\n\n\n      this._itp.forEach(function (p) {\n        if (i < p[0]) p[0]--;\n      });\n    } // Aurora here does it while Canary doesn't\n\n\n    return i > -1;\n  }\n\n  function sharedGet(key) {\n    return this.has(key) ? this._values[i] : undefined;\n  }\n\n  function has(list, key) {\n    if (this.objectOnly && key !== Object(key)) throw new TypeError('Invalid value used as weak collection key'); // NaN or 0 passed\n\n    if (key !== key || key === 0) for (i = list.length; i-- && !is(list[i], key);) {} // eslint-disable-line\n    else i = list.indexOf(key);\n    return i > -1;\n  }\n\n  function mapHas(value) {\n    return has.call(this, this._keys, value);\n  }\n\n  function sharedSet(key, value) {\n    this.has(key) ? this._values[i] = value : this._values[this._keys.push(key) - 1] = value;\n    return this;\n  }\n\n  function sharedClear() {\n    (this._keys || 0).length = this._values.length = 0;\n  }\n\n  function sharedKeys() {\n    return sharedIterator(this._itp, this._keys);\n  }\n\n  function sharedValues() {\n    return sharedIterator(this._itp, this._values);\n  }\n\n  function mapEntries() {\n    return sharedIterator(this._itp, this._keys, this._values);\n  }\n\n  function sharedIterator(itp, array, array2) {\n    var p = [0];\n    var done = false;\n    itp.push(p);\n    return {\n      next: function next() {\n        var v;\n        var k = p[0];\n\n        if (!done && k < array.length) {\n          v = array2 ? [array[k], array2[k]] : array[k];\n          p[0]++;\n        } else {\n          done = true;\n          itp.splice(itp.indexOf(p), 1);\n        }\n\n        return {\n          done: done,\n          value: v\n        };\n      }\n    };\n  }\n\n  function sharedSize() {\n    return this._values.length;\n  }\n\n  function sharedForEach(callback, context) {\n    var it = this.entries();\n\n    for (;;) {\n      var r = it.next();\n      if (r.done) break;\n      callback.call(context, r.value[1], r.value[0], this);\n    }\n  }\n\n  var MapImpl = typeof Map === 'undefined' || !Map.prototype.values ? MapPolyfill : Map;\n  /**\n   * @see http://download.oracle.com/javase/6/docs/api/java/util/HashMap.html\n   *\n   * @extends {javascript.util.Map}\n   * @constructor\n   * @private\n   */\n\n  function HashMap() {\n    /**\n     * @type {Object}\n     * @private\n    */\n    this.map_ = new MapImpl();\n  }\n  HashMap.prototype = new Map$1();\n  /**\n   * @override\n   */\n\n  HashMap.prototype.get = function (key) {\n    return this.map_.get(key) || null;\n  };\n  /**\n   * @override\n   */\n\n\n  HashMap.prototype.put = function (key, value) {\n    this.map_.set(key, value);\n    return value;\n  };\n  /**\n   * @override\n   */\n\n\n  HashMap.prototype.values = function () {\n    var arrayList = new ArrayList();\n    var it = this.map_.values();\n    var o = it.next();\n\n    while (!o.done) {\n      arrayList.add(o.value);\n      o = it.next();\n    }\n\n    return arrayList;\n  };\n  /**\n   * @override\n   */\n\n\n  HashMap.prototype.entrySet = function () {\n    var hashSet = new HashSet();\n    this.map_.entries().forEach(function (entry) {\n      return hashSet.add(entry);\n    });\n    return hashSet;\n  };\n  /**\n   * @override\n   */\n\n\n  HashMap.prototype.size = function () {\n    return this.map_.size();\n  };\n\n  function PrecisionModel() {\n    this._modelType = null;\n    this._scale = null;\n\n    if (arguments.length === 0) {\n      this._modelType = PrecisionModel.FLOATING;\n    } else if (arguments.length === 1) {\n      if (arguments[0] instanceof Type) {\n        var modelType = arguments[0];\n        this._modelType = modelType;\n\n        if (modelType === PrecisionModel.FIXED) {\n          this.setScale(1.0);\n        }\n      } else if (typeof arguments[0] === \"number\") {\n        var scale = arguments[0];\n        this._modelType = PrecisionModel.FIXED;\n        this.setScale(scale);\n      } else if (arguments[0] instanceof PrecisionModel) {\n        var pm = arguments[0];\n        this._modelType = pm._modelType;\n        this._scale = pm._scale;\n      }\n    }\n  }\n  extend(PrecisionModel.prototype, {\n    equals: function equals(other) {\n      if (!(other instanceof PrecisionModel)) {\n        return false;\n      }\n\n      var otherPrecisionModel = other;\n      return this._modelType === otherPrecisionModel._modelType && this._scale === otherPrecisionModel._scale;\n    },\n    compareTo: function compareTo(o) {\n      var other = o;\n      var sigDigits = this.getMaximumSignificantDigits();\n      var otherSigDigits = other.getMaximumSignificantDigits();\n      return new Integer(sigDigits).compareTo(new Integer(otherSigDigits));\n    },\n    getScale: function getScale() {\n      return this._scale;\n    },\n    isFloating: function isFloating() {\n      return this._modelType === PrecisionModel.FLOATING || this._modelType === PrecisionModel.FLOATING_SINGLE;\n    },\n    getType: function getType() {\n      return this._modelType;\n    },\n    toString: function toString() {\n      var description = \"UNKNOWN\";\n\n      if (this._modelType === PrecisionModel.FLOATING) {\n        description = \"Floating\";\n      } else if (this._modelType === PrecisionModel.FLOATING_SINGLE) {\n        description = \"Floating-Single\";\n      } else if (this._modelType === PrecisionModel.FIXED) {\n        description = \"Fixed (Scale=\" + this.getScale() + \")\";\n      }\n\n      return description;\n    },\n    makePrecise: function makePrecise() {\n      if (typeof arguments[0] === \"number\") {\n        var val = arguments[0];\n        if (Double.isNaN(val)) return val;\n\n        if (this._modelType === PrecisionModel.FLOATING_SINGLE) {\n          var floatSingleVal = val;\n          return floatSingleVal;\n        }\n\n        if (this._modelType === PrecisionModel.FIXED) {\n          return Math.round(val * this._scale) / this._scale;\n        }\n\n        return val;\n      } else if (arguments[0] instanceof Coordinate) {\n        var coord = arguments[0];\n        if (this._modelType === PrecisionModel.FLOATING) return null;\n        coord.x = this.makePrecise(coord.x);\n        coord.y = this.makePrecise(coord.y);\n      }\n    },\n    getMaximumSignificantDigits: function getMaximumSignificantDigits() {\n      var maxSigDigits = 16;\n\n      if (this._modelType === PrecisionModel.FLOATING) {\n        maxSigDigits = 16;\n      } else if (this._modelType === PrecisionModel.FLOATING_SINGLE) {\n        maxSigDigits = 6;\n      } else if (this._modelType === PrecisionModel.FIXED) {\n        maxSigDigits = 1 + Math.trunc(Math.ceil(Math.log(this.getScale()) / Math.log(10)));\n      }\n\n      return maxSigDigits;\n    },\n    setScale: function setScale(scale) {\n      this._scale = Math.abs(scale);\n    },\n    interfaces_: function interfaces_() {\n      return [Serializable, Comparable];\n    },\n    getClass: function getClass() {\n      return PrecisionModel;\n    }\n  });\n\n  PrecisionModel.mostPrecise = function (pm1, pm2) {\n    if (pm1.compareTo(pm2) >= 0) return pm1;\n    return pm2;\n  };\n\n  function Type() {\n    this._name = null;\n    var name = arguments[0];\n    this._name = name;\n    Type.nameToTypeMap.put(name, this);\n  }\n\n  extend(Type.prototype, {\n    readResolve: function readResolve() {\n      return Type.nameToTypeMap.get(this._name);\n    },\n    toString: function toString() {\n      return this._name;\n    },\n    interfaces_: function interfaces_() {\n      return [Serializable];\n    },\n    getClass: function getClass() {\n      return Type;\n    }\n  });\n  Type.serialVersionUID = -5528602631731589822;\n  Type.nameToTypeMap = new HashMap();\n  PrecisionModel.Type = Type;\n  PrecisionModel.serialVersionUID = 7777263578777803835;\n  PrecisionModel.FIXED = new Type(\"FIXED\");\n  PrecisionModel.FLOATING = new Type(\"FLOATING\");\n  PrecisionModel.FLOATING_SINGLE = new Type(\"FLOATING SINGLE\");\n  PrecisionModel.maximumPreciseValue = 9007199254740992.0;\n\n  function GeometryFactory() {\n    this._precisionModel = null;\n    this._coordinateSequenceFactory = null;\n    this._SRID = null;\n\n    if (arguments.length === 0) {\n      GeometryFactory.call(this, new PrecisionModel(), 0);\n    } else if (arguments.length === 1) {\n      if (hasInterface(arguments[0], CoordinateSequenceFactory)) {\n        var coordinateSequenceFactory = arguments[0];\n        GeometryFactory.call(this, new PrecisionModel(), 0, coordinateSequenceFactory);\n      } else if (arguments[0] instanceof PrecisionModel) {\n        var precisionModel = arguments[0];\n        GeometryFactory.call(this, precisionModel, 0, GeometryFactory.getDefaultCoordinateSequenceFactory());\n      }\n    } else if (arguments.length === 2) {\n      var _precisionModel = arguments[0],\n          SRID = arguments[1];\n      GeometryFactory.call(this, _precisionModel, SRID, GeometryFactory.getDefaultCoordinateSequenceFactory());\n    } else if (arguments.length === 3) {\n      var _precisionModel2 = arguments[0],\n          _SRID = arguments[1],\n          _coordinateSequenceFactory = arguments[2];\n      this._precisionModel = _precisionModel2;\n      this._coordinateSequenceFactory = _coordinateSequenceFactory;\n      this._SRID = _SRID;\n    }\n  }\n  extend(GeometryFactory.prototype, {\n    toGeometry: function toGeometry(envelope) {\n      if (envelope.isNull()) {\n        return this.createPoint();\n      }\n\n      if (envelope.getMinX() === envelope.getMaxX() && envelope.getMinY() === envelope.getMaxY()) {\n        return this.createPoint(new Coordinate(envelope.getMinX(), envelope.getMinY()));\n      }\n\n      if (envelope.getMinX() === envelope.getMaxX() || envelope.getMinY() === envelope.getMaxY()) {\n        return this.createLineString([new Coordinate(envelope.getMinX(), envelope.getMinY()), new Coordinate(envelope.getMaxX(), envelope.getMaxY())]);\n      }\n\n      return this.createPolygon(this.createLinearRing([new Coordinate(envelope.getMinX(), envelope.getMinY()), new Coordinate(envelope.getMinX(), envelope.getMaxY()), new Coordinate(envelope.getMaxX(), envelope.getMaxY()), new Coordinate(envelope.getMaxX(), envelope.getMinY()), new Coordinate(envelope.getMinX(), envelope.getMinY())]), null);\n    },\n    createLineString: function createLineString() {\n      if (arguments.length === 0) {\n        return this.createLineString(this.getCoordinateSequenceFactory().create([]));\n      } else if (arguments.length === 1) {\n        if (arguments[0] instanceof Array) {\n          var coordinates = arguments[0];\n          return this.createLineString(coordinates !== null ? this.getCoordinateSequenceFactory().create(coordinates) : null);\n        } else if (hasInterface(arguments[0], CoordinateSequence)) {\n          var _coordinates = arguments[0];\n          return new LineString(_coordinates, this);\n        }\n      }\n    },\n    createMultiLineString: function createMultiLineString() {\n      if (arguments.length === 0) {\n        return new MultiLineString(null, this);\n      } else if (arguments.length === 1) {\n        var lineStrings = arguments[0];\n        return new MultiLineString(lineStrings, this);\n      }\n    },\n    buildGeometry: function buildGeometry(geomList) {\n      var geomClass = null;\n      var isHeterogeneous = false;\n      var hasGeometryCollection = false;\n\n      for (var i = geomList.iterator(); i.hasNext();) {\n        var geom = i.next();\n        var partClass = geom.getClass();\n\n        if (geomClass === null) {\n          geomClass = partClass;\n        }\n\n        if (partClass !== geomClass) {\n          isHeterogeneous = true;\n        }\n\n        if (geom instanceof GeometryCollection) hasGeometryCollection = true;\n      }\n\n      if (geomClass === null) {\n        return this.createGeometryCollection();\n      }\n\n      if (isHeterogeneous || hasGeometryCollection) {\n        return this.createGeometryCollection(GeometryFactory.toGeometryArray(geomList));\n      }\n\n      var geom0 = geomList.iterator().next();\n      var isCollection = geomList.size() > 1;\n\n      if (isCollection) {\n        if (geom0 instanceof Polygon) {\n          return this.createMultiPolygon(GeometryFactory.toPolygonArray(geomList));\n        } else if (geom0 instanceof LineString) {\n          return this.createMultiLineString(GeometryFactory.toLineStringArray(geomList));\n        } else if (geom0 instanceof Point) {\n          return this.createMultiPoint(GeometryFactory.toPointArray(geomList));\n        }\n\n        Assert.shouldNeverReachHere(\"Unhandled class: \" + geom0.getClass().getName());\n      }\n\n      return geom0;\n    },\n    createMultiPointFromCoords: function createMultiPointFromCoords(coordinates) {\n      return this.createMultiPoint(coordinates !== null ? this.getCoordinateSequenceFactory().create(coordinates) : null);\n    },\n    createPoint: function createPoint() {\n      if (arguments.length === 0) {\n        return this.createPoint(this.getCoordinateSequenceFactory().create([]));\n      } else if (arguments.length === 1) {\n        if (arguments[0] instanceof Coordinate) {\n          var coordinate = arguments[0];\n          return this.createPoint(coordinate !== null ? this.getCoordinateSequenceFactory().create([coordinate]) : null);\n        } else if (hasInterface(arguments[0], CoordinateSequence)) {\n          var coordinates = arguments[0];\n          return new Point(coordinates, this);\n        }\n      }\n    },\n    getCoordinateSequenceFactory: function getCoordinateSequenceFactory() {\n      return this._coordinateSequenceFactory;\n    },\n    createPolygon: function createPolygon() {\n      if (arguments.length === 0) {\n        return this.createPolygon(null, null);\n      } else if (arguments.length === 1) {\n        if (hasInterface(arguments[0], CoordinateSequence)) {\n          var shell = arguments[0];\n          return this.createPolygon(this.createLinearRing(shell));\n        } else if (arguments[0] instanceof Array) {\n          var _shell = arguments[0];\n          return this.createPolygon(this.createLinearRing(_shell));\n        } else if (arguments[0] instanceof LinearRing) {\n          var _shell2 = arguments[0];\n          return this.createPolygon(_shell2, null);\n        }\n      } else if (arguments.length === 2) {\n        var _shell3 = arguments[0],\n            holes = arguments[1];\n        return new Polygon(_shell3, holes, this);\n      }\n    },\n    getSRID: function getSRID() {\n      return this._SRID;\n    },\n    createGeometryCollection: function createGeometryCollection() {\n      if (arguments.length === 0) {\n        return new GeometryCollection(null, this);\n      } else if (arguments.length === 1) {\n        var geometries = arguments[0];\n        return new GeometryCollection(geometries, this);\n      }\n    },\n    createGeometry: function createGeometry(g) {\n      var editor = new GeometryEditor(this);\n      return editor.edit(g, {\n        edit: function edit() {\n          if (arguments.length === 2 && arguments[1] instanceof Geometry && hasInterface(arguments[0], CoordinateSequence)) {\n            var coordSeq = arguments[0];\n            return this._coordinateSequenceFactory.create(coordSeq);\n          }\n        }\n      });\n    },\n    getPrecisionModel: function getPrecisionModel() {\n      return this._precisionModel;\n    },\n    createLinearRing: function createLinearRing() {\n      if (arguments.length === 0) {\n        return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));\n      } else if (arguments.length === 1) {\n        if (arguments[0] instanceof Array) {\n          var coordinates = arguments[0];\n          return this.createLinearRing(coordinates !== null ? this.getCoordinateSequenceFactory().create(coordinates) : null);\n        } else if (hasInterface(arguments[0], CoordinateSequence)) {\n          var _coordinates2 = arguments[0];\n          return new LinearRing(_coordinates2, this);\n        }\n      }\n    },\n    createMultiPolygon: function createMultiPolygon() {\n      if (arguments.length === 0) {\n        return new MultiPolygon(null, this);\n      } else if (arguments.length === 1) {\n        var polygons = arguments[0];\n        return new MultiPolygon(polygons, this);\n      }\n    },\n    createMultiPoint: function createMultiPoint() {\n      if (arguments.length === 0) {\n        return new MultiPoint(null, this);\n      } else if (arguments.length === 1) {\n        if (arguments[0] instanceof Array) {\n          var point = arguments[0];\n          return new MultiPoint(point, this);\n        } else if (hasInterface(arguments[0], CoordinateSequence)) {\n          var coordinates = arguments[0];\n\n          if (coordinates === null) {\n            return this.createMultiPoint(new Array(0).fill(null));\n          }\n\n          var points = new Array(coordinates.size()).fill(null);\n\n          for (var i = 0; i < coordinates.size(); i++) {\n            var ptSeq = this.getCoordinateSequenceFactory().create(1, coordinates.getDimension());\n            CoordinateSequences.copy(coordinates, i, ptSeq, 0, 1);\n            points[i] = this.createPoint(ptSeq);\n          }\n\n          return this.createMultiPoint(points);\n        }\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [Serializable];\n    },\n    getClass: function getClass() {\n      return GeometryFactory;\n    }\n  });\n\n  GeometryFactory.toMultiPolygonArray = function (multiPolygons) {\n    var multiPolygonArray = new Array(multiPolygons.size()).fill(null);\n    return multiPolygons.toArray(multiPolygonArray);\n  };\n\n  GeometryFactory.toGeometryArray = function (geometries) {\n    if (geometries === null) return null;\n    var geometryArray = new Array(geometries.size()).fill(null);\n    return geometries.toArray(geometryArray);\n  };\n\n  GeometryFactory.getDefaultCoordinateSequenceFactory = function () {\n    return CoordinateArraySequenceFactory.instance();\n  };\n\n  GeometryFactory.toMultiLineStringArray = function (multiLineStrings) {\n    var multiLineStringArray = new Array(multiLineStrings.size()).fill(null);\n    return multiLineStrings.toArray(multiLineStringArray);\n  };\n\n  GeometryFactory.toLineStringArray = function (lineStrings) {\n    var lineStringArray = new Array(lineStrings.size()).fill(null);\n    return lineStrings.toArray(lineStringArray);\n  };\n\n  GeometryFactory.toMultiPointArray = function (multiPoints) {\n    var multiPointArray = new Array(multiPoints.size()).fill(null);\n    return multiPoints.toArray(multiPointArray);\n  };\n\n  GeometryFactory.toLinearRingArray = function (linearRings) {\n    var linearRingArray = new Array(linearRings.size()).fill(null);\n    return linearRings.toArray(linearRingArray);\n  };\n\n  GeometryFactory.toPointArray = function (points) {\n    var pointArray = new Array(points.size()).fill(null);\n    return points.toArray(pointArray);\n  };\n\n  GeometryFactory.toPolygonArray = function (polygons) {\n    var polygonArray = new Array(polygons.size()).fill(null);\n    return polygons.toArray(polygonArray);\n  };\n\n  GeometryFactory.createPointFromInternalCoord = function (coord, exemplar) {\n    exemplar.getPrecisionModel().makePrecise(coord);\n    return exemplar.getFactory().createPoint(coord);\n  };\n\n  GeometryFactory.serialVersionUID = -6820524753094095635;\n\n  var regExes = {\n    'typeStr': /^\\s*(\\w+)\\s*\\(\\s*(.*)\\s*\\)\\s*$/,\n    'emptyTypeStr': /^\\s*(\\w+)\\s*EMPTY\\s*$/,\n    'spaces': /\\s+/,\n    'parenComma': /\\)\\s*,\\s*\\(/,\n    'doubleParenComma': /\\)\\s*\\)\\s*,\\s*\\(\\s*\\(/,\n    // can't use {2} here\n    'trimParens': /^\\s*\\(?(.*?)\\)?\\s*$/\n    /**\n     * Class for reading and writing Well-Known Text.\n     *\n     * NOTE: Adapted from OpenLayers 2.11 implementation.\n     */\n\n    /** Create a new parser for WKT\n     *\n     * @param {GeometryFactory} geometryFactory\n     * @return An instance of WKTParser.\n     * @constructor\n     * @private\n     */\n\n  };\n  function WKTParser(geometryFactory) {\n    this.geometryFactory = geometryFactory || new GeometryFactory();\n    this.precisionModel = this.geometryFactory.getPrecisionModel();\n  }\n  extend(WKTParser.prototype, {\n    /**\n     * Deserialize a WKT string and return a geometry. Supports WKT for POINT,\n     * MULTIPOINT, LINESTRING, LINEARRING, MULTILINESTRING, POLYGON, MULTIPOLYGON,\n     * and GEOMETRYCOLLECTION.\n     *\n     * @param {String} wkt A WKT string.\n     * @return {Geometry} A geometry instance.\n     * @private\n     */\n    read: function read(wkt) {\n      var geometry, type, str;\n      wkt = wkt.replace(/[\\n\\r]/g, ' ');\n      var matches = regExes.typeStr.exec(wkt);\n\n      if (wkt.search('EMPTY') !== -1) {\n        matches = regExes.emptyTypeStr.exec(wkt);\n        matches[2] = undefined;\n      }\n\n      if (matches) {\n        type = matches[1].toLowerCase();\n        str = matches[2];\n\n        if (parse[type]) {\n          geometry = parse[type].call(this, str);\n        }\n      }\n\n      if (geometry === undefined) throw new Error('Could not parse WKT ' + wkt);\n      return geometry;\n    },\n\n    /**\n     * Serialize a geometry into a WKT string.\n     *\n     * @param {Geometry} geometry A feature or array of features.\n     * @return {String} The WKT string representation of the input geometries.\n     * @private\n     */\n    write: function write(geometry) {\n      return this.extractGeometry(geometry);\n    },\n\n    /**\n     * Entry point to construct the WKT for a single Geometry object.\n     *\n     * @param {Geometry} geometry\n     * @return {String} A WKT string of representing the geometry.\n     * @private\n     */\n    extractGeometry: function extractGeometry(geometry) {\n      var type = geometry.getGeometryType().toLowerCase();\n\n      if (!extract[type]) {\n        return null;\n      }\n\n      var wktType = type.toUpperCase();\n      var data;\n\n      if (geometry.isEmpty()) {\n        data = wktType + ' EMPTY';\n      } else {\n        data = wktType + '(' + extract[type].call(this, geometry) + ')';\n      }\n\n      return data;\n    }\n  });\n  /**\n   * Object with properties corresponding to the geometry types. Property values\n   * are functions that do the actual data extraction.\n   * @private\n   */\n\n  var extract = {\n    coordinate: function coordinate(_coordinate) {\n      return _coordinate.x + ' ' + _coordinate.y;\n    },\n\n    /**\n     * Return a space delimited string of point coordinates.\n     *\n     * @param {Point}\n     *          point\n     * @return {String} A string of coordinates representing the point.\n     */\n    point: function point(_point) {\n      return extract.coordinate.call(this, _point._coordinates._coordinates[0]);\n    },\n\n    /**\n     * Return a comma delimited string of point coordinates from a multipoint.\n     *\n     * @param {MultiPoint}\n     *          multipoint\n     * @return {String} A string of point coordinate strings representing the\n     *         multipoint.\n     */\n    multipoint: function multipoint(_multipoint) {\n      var array = [];\n\n      for (var i = 0, len = _multipoint._geometries.length; i < len; ++i) {\n        array.push('(' + extract.point.call(this, _multipoint._geometries[i]) + ')');\n      }\n\n      return array.join(',');\n    },\n\n    /**\n     * Return a comma delimited string of point coordinates from a line.\n     *\n     * @param {LineString} linestring\n     * @return {String} A string of point coordinate strings representing the linestring.\n     */\n    linestring: function linestring(_linestring) {\n      var array = [];\n\n      for (var i = 0, len = _linestring._points._coordinates.length; i < len; ++i) {\n        array.push(extract.coordinate.call(this, _linestring._points._coordinates[i]));\n      }\n\n      return array.join(',');\n    },\n    linearring: function linearring(_linearring) {\n      var array = [];\n\n      for (var i = 0, len = _linearring._points._coordinates.length; i < len; ++i) {\n        array.push(extract.coordinate.call(this, _linearring._points._coordinates[i]));\n      }\n\n      return array.join(',');\n    },\n\n    /**\n     * Return a comma delimited string of linestring strings from a\n     * multilinestring.\n     *\n     * @param {MultiLineString} multilinestring\n     * @return {String} A string of of linestring strings representing the multilinestring.\n     */\n    multilinestring: function multilinestring(_multilinestring) {\n      var array = [];\n\n      for (var i = 0, len = _multilinestring._geometries.length; i < len; ++i) {\n        array.push('(' + extract.linestring.call(this, _multilinestring._geometries[i]) + ')');\n      }\n\n      return array.join(',');\n    },\n\n    /**\n     * Return a comma delimited string of linear ring arrays from a polygon.\n     *\n     * @param {Polygon} polygon\n     * @return {String} An array of linear ring arrays representing the polygon.\n     */\n    polygon: function polygon(_polygon) {\n      var array = [];\n      array.push('(' + extract.linestring.call(this, _polygon._shell) + ')');\n\n      for (var i = 0, len = _polygon._holes.length; i < len; ++i) {\n        array.push('(' + extract.linestring.call(this, _polygon._holes[i]) + ')');\n      }\n\n      return array.join(',');\n    },\n\n    /**\n     * Return an array of polygon arrays from a multipolygon.\n     *\n     * @param {MultiPolygon} multipolygon\n     * @return {String} An array of polygon arrays representing the multipolygon.\n     */\n    multipolygon: function multipolygon(_multipolygon) {\n      var array = [];\n\n      for (var i = 0, len = _multipolygon._geometries.length; i < len; ++i) {\n        array.push('(' + extract.polygon.call(this, _multipolygon._geometries[i]) + ')');\n      }\n\n      return array.join(',');\n    },\n\n    /**\n     * Return the WKT portion between 'GEOMETRYCOLLECTION(' and ')' for an\n     * geometrycollection.\n     *\n     * @param {GeometryCollection} collection\n     * @return {String} internal WKT representation of the collection.\n     */\n    geometrycollection: function geometrycollection(collection) {\n      var array = [];\n\n      for (var i = 0, len = collection._geometries.length; i < len; ++i) {\n        array.push(this.extractGeometry(collection._geometries[i]));\n      }\n\n      return array.join(',');\n    }\n  };\n  /**\n   * Object with properties corresponding to the geometry types. Property values\n   * are functions that do the actual parsing.\n   * @private\n   */\n\n  var parse = {\n    coord: function coord(str) {\n      var coords = str.trim().split(regExes.spaces);\n      var coord = new Coordinate(Number.parseFloat(coords[0]), Number.parseFloat(coords[1]));\n      this.precisionModel.makePrecise(coord);\n      return coord;\n    },\n\n    /**\n     * Return point geometry given a point WKT fragment.\n     *\n     * @param {String} str A WKT fragment representing the point.\n     * @return {Point} A point geometry.\n     * @private\n     */\n    point: function point(str) {\n      if (str === undefined) return this.geometryFactory.createPoint();\n      return this.geometryFactory.createPoint(parse.coord.call(this, str));\n    },\n\n    /**\n     * Return a multipoint geometry given a multipoint WKT fragment.\n     *\n     * @param {String} str A WKT fragment representing the multipoint.\n     * @return {Point} A multipoint feature.\n     * @private\n     */\n    multipoint: function multipoint(str) {\n      if (str === undefined) return this.geometryFactory.createMultiPoint();\n      var point;\n      var points = str.trim().split(',');\n      var components = [];\n\n      for (var i = 0, len = points.length; i < len; ++i) {\n        point = points[i].replace(regExes.trimParens, '$1');\n        components.push(parse.point.call(this, point));\n      }\n\n      return this.geometryFactory.createMultiPoint(components);\n    },\n\n    /**\n     * Return a linestring geometry given a linestring WKT fragment.\n     *\n     * @param {String} str A WKT fragment representing the linestring.\n     * @return {LineString} A linestring geometry.\n     * @private\n     */\n    linestring: function linestring(str) {\n      if (str === undefined) {\n        return this.geometryFactory.createLineString();\n      }\n\n      var points = str.trim().split(',');\n      var components = [];\n\n      for (var i = 0, len = points.length; i < len; ++i) {\n        components.push(parse.coord.call(this, points[i]));\n      }\n\n      return this.geometryFactory.createLineString(components);\n    },\n\n    /**\n     * Return a linearring geometry given a linearring WKT fragment.\n     *\n     * @param {String} str A WKT fragment representing the linearring.\n     * @return {LinearRing} A linearring geometry.\n     * @private\n     */\n    linearring: function linearring(str) {\n      if (str === undefined) {\n        return this.geometryFactory.createLinearRing();\n      }\n\n      var points = str.trim().split(',');\n      var components = [];\n\n      for (var i = 0, len = points.length; i < len; ++i) {\n        components.push(parse.coord.call(this, points[i]));\n      }\n\n      return this.geometryFactory.createLinearRing(components);\n    },\n\n    /**\n     * Return a multilinestring geometry given a multilinestring WKT fragment.\n     *\n     * @param {String} str A WKT fragment representing the multilinestring.\n     * @return {MultiLineString} A multilinestring geometry.\n     * @private\n     */\n    multilinestring: function multilinestring(str) {\n      if (str === undefined) {\n        return this.geometryFactory.createMultiLineString();\n      }\n\n      var line;\n      var lines = str.trim().split(regExes.parenComma);\n      var components = [];\n\n      for (var i = 0, len = lines.length; i < len; ++i) {\n        line = lines[i].replace(regExes.trimParens, '$1');\n        components.push(parse.linestring.call(this, line));\n      }\n\n      return this.geometryFactory.createMultiLineString(components);\n    },\n\n    /**\n     * Return a polygon geometry given a polygon WKT fragment.\n     *\n     * @param {String} str A WKT fragment representing the polygon.\n     * @return {Polygon} A polygon geometry.\n     * @private\n     */\n    polygon: function polygon(str) {\n      if (str === undefined) {\n        return this.geometryFactory.createPolygon();\n      }\n\n      var ring, linestring, linearring;\n      var rings = str.trim().split(regExes.parenComma);\n      var shell;\n      var holes = [];\n\n      for (var i = 0, len = rings.length; i < len; ++i) {\n        ring = rings[i].replace(regExes.trimParens, '$1');\n        linestring = parse.linestring.call(this, ring);\n        linearring = this.geometryFactory.createLinearRing(linestring._points);\n\n        if (i === 0) {\n          shell = linearring;\n        } else {\n          holes.push(linearring);\n        }\n      }\n\n      return this.geometryFactory.createPolygon(shell, holes);\n    },\n\n    /**\n     * Return a multipolygon geometry given a multipolygon WKT fragment.\n     *\n     * @param {String} str A WKT fragment representing the multipolygon.\n     * @return {MultiPolygon} A multipolygon geometry.\n     * @private\n     */\n    multipolygon: function multipolygon(str) {\n      if (str === undefined) {\n        return this.geometryFactory.createMultiPolygon();\n      }\n\n      var polygon;\n      var polygons = str.trim().split(regExes.doubleParenComma);\n      var components = [];\n\n      for (var i = 0, len = polygons.length; i < len; ++i) {\n        polygon = polygons[i].replace(regExes.trimParens, '$1');\n        components.push(parse.polygon.call(this, polygon));\n      }\n\n      return this.geometryFactory.createMultiPolygon(components);\n    },\n\n    /**\n     * Return a geometrycollection given a geometrycollection WKT fragment.\n     *\n     * @param {String} str A WKT fragment representing the geometrycollection.\n     * @return {GeometryCollection}\n     * @private\n     */\n    geometrycollection: function geometrycollection(str) {\n      if (str === undefined) {\n        return this.geometryFactory.createGeometryCollection();\n      } // separate components of the collection with |\n\n\n      str = str.replace(/,\\s*([A-Za-z])/g, '|$1');\n      var wktArray = str.trim().split('|');\n      var components = [];\n\n      for (var i = 0, len = wktArray.length; i < len; ++i) {\n        components.push(this.read(wktArray[i]));\n      }\n\n      return this.geometryFactory.createGeometryCollection(components);\n    }\n  };\n\n  /**\n   * @module org/locationtech/jts/io/WKTWriter\n   */\n  /**\n   * Writes the Well-Known Text representation of a {@link Geometry}. The\n   * Well-Known Text format is defined in the <A\n   * HREF=\"http://www.opengis.org/techno/specs.htm\"> OGC Simple Features\n   * Specification for SQL</A>.\n   * <p>\n   * The <code>WKTWriter</code> outputs coordinates rounded to the precision\n   * model. Only the maximum number of decimal places necessary to represent the\n   * ordinates to the required precision will be output.\n   * <p>\n   * The SFS WKT spec does not define a special tag for {@link LinearRing}s.\n   * Under the spec, rings are output as <code>LINESTRING</code>s.\n   */\n\n  /**\n   * @param {GeometryFactory} geometryFactory\n   * @constructor\n   */\n\n  function WKTWriter(geometryFactory) {\n    this.parser = new WKTParser(geometryFactory);\n  }\n  extend(WKTWriter.prototype, {\n    /**\n     * Converts a <code>Geometry</code> to its Well-known Text representation.\n     *\n     * @param {Geometry} geometry a <code>Geometry</code> to process.\n     * @return {string} a <Geometry Tagged Text> string (see the OpenGIS Simple\n     *         Features Specification).\n     * @memberof module:org/locationtech/jts/io/WKTWriter#\n     */\n    write: function write(geometry) {\n      return this.parser.write(geometry);\n    }\n  });\n  extend(WKTWriter, {\n    /**\n     * Generates the WKT for a <tt>LINESTRING</tt> specified by two\n     * {@link Coordinate}s.\n     *\n     * @param p0 the first coordinate.\n     * @param p1 the second coordinate.\n     *\n     * @return the WKT.\n     * @private\n     */\n    toLineString: function toLineString(p0, p1) {\n      if (arguments.length !== 2) {\n        throw new Error('Not implemented');\n      }\n\n      return 'LINESTRING ( ' + p0.x + ' ' + p0.y + ', ' + p1.x + ' ' + p1.y + ' )';\n    }\n  });\n\n  function LineIntersector() {\n    this._result = null;\n    this._inputLines = Array(2).fill().map(function () {\n      return Array(2);\n    });\n    this._intPt = new Array(2).fill(null);\n    this._intLineIndex = null;\n    this._isProper = null;\n    this._pa = null;\n    this._pb = null;\n    this._precisionModel = null;\n    this._intPt[0] = new Coordinate();\n    this._intPt[1] = new Coordinate();\n    this._pa = this._intPt[0];\n    this._pb = this._intPt[1];\n    this._result = 0;\n  }\n  extend(LineIntersector.prototype, {\n    getIndexAlongSegment: function getIndexAlongSegment(segmentIndex, intIndex) {\n      this.computeIntLineIndex();\n      return this._intLineIndex[segmentIndex][intIndex];\n    },\n    getTopologySummary: function getTopologySummary() {\n      var catBuilder = new StringBuilder();\n      if (this.isEndPoint()) catBuilder.append(\" endpoint\");\n      if (this._isProper) catBuilder.append(\" proper\");\n      if (this.isCollinear()) catBuilder.append(\" collinear\");\n      return catBuilder.toString();\n    },\n    computeIntersection: function computeIntersection(p1, p2, p3, p4) {\n      this._inputLines[0][0] = p1;\n      this._inputLines[0][1] = p2;\n      this._inputLines[1][0] = p3;\n      this._inputLines[1][1] = p4;\n      this._result = this.computeIntersect(p1, p2, p3, p4);\n    },\n    getIntersectionNum: function getIntersectionNum() {\n      return this._result;\n    },\n    computeIntLineIndex: function computeIntLineIndex() {\n      if (arguments.length === 0) {\n        if (this._intLineIndex === null) {\n          this._intLineIndex = Array(2).fill().map(function () {\n            return Array(2);\n          });\n          this.computeIntLineIndex(0);\n          this.computeIntLineIndex(1);\n        }\n      } else if (arguments.length === 1) {\n        var segmentIndex = arguments[0];\n        var dist0 = this.getEdgeDistance(segmentIndex, 0);\n        var dist1 = this.getEdgeDistance(segmentIndex, 1);\n\n        if (dist0 > dist1) {\n          this._intLineIndex[segmentIndex][0] = 0;\n          this._intLineIndex[segmentIndex][1] = 1;\n        } else {\n          this._intLineIndex[segmentIndex][0] = 1;\n          this._intLineIndex[segmentIndex][1] = 0;\n        }\n      }\n    },\n    isProper: function isProper() {\n      return this.hasIntersection() && this._isProper;\n    },\n    setPrecisionModel: function setPrecisionModel(precisionModel) {\n      this._precisionModel = precisionModel;\n    },\n    isInteriorIntersection: function isInteriorIntersection() {\n      if (arguments.length === 0) {\n        if (this.isInteriorIntersection(0)) return true;\n        if (this.isInteriorIntersection(1)) return true;\n        return false;\n      } else if (arguments.length === 1) {\n        var inputLineIndex = arguments[0];\n\n        for (var i = 0; i < this._result; i++) {\n          if (!(this._intPt[i].equals2D(this._inputLines[inputLineIndex][0]) || this._intPt[i].equals2D(this._inputLines[inputLineIndex][1]))) {\n            return true;\n          }\n        }\n\n        return false;\n      }\n    },\n    getIntersection: function getIntersection(intIndex) {\n      return this._intPt[intIndex];\n    },\n    isEndPoint: function isEndPoint() {\n      return this.hasIntersection() && !this._isProper;\n    },\n    hasIntersection: function hasIntersection() {\n      return this._result !== LineIntersector.NO_INTERSECTION;\n    },\n    getEdgeDistance: function getEdgeDistance(segmentIndex, intIndex) {\n      var dist = LineIntersector.computeEdgeDistance(this._intPt[intIndex], this._inputLines[segmentIndex][0], this._inputLines[segmentIndex][1]);\n      return dist;\n    },\n    isCollinear: function isCollinear() {\n      return this._result === LineIntersector.COLLINEAR_INTERSECTION;\n    },\n    toString: function toString() {\n      return WKTWriter.toLineString(this._inputLines[0][0], this._inputLines[0][1]) + \" - \" + WKTWriter.toLineString(this._inputLines[1][0], this._inputLines[1][1]) + this.getTopologySummary();\n    },\n    getEndpoint: function getEndpoint(segmentIndex, ptIndex) {\n      return this._inputLines[segmentIndex][ptIndex];\n    },\n    isIntersection: function isIntersection(pt) {\n      for (var i = 0; i < this._result; i++) {\n        if (this._intPt[i].equals2D(pt)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    getIntersectionAlongSegment: function getIntersectionAlongSegment(segmentIndex, intIndex) {\n      this.computeIntLineIndex();\n      return this._intPt[this._intLineIndex[segmentIndex][intIndex]];\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LineIntersector;\n    }\n  });\n\n  LineIntersector.computeEdgeDistance = function (p, p0, p1) {\n    var dx = Math.abs(p1.x - p0.x);\n    var dy = Math.abs(p1.y - p0.y);\n    var dist = -1.0;\n\n    if (p.equals(p0)) {\n      dist = 0.0;\n    } else if (p.equals(p1)) {\n      if (dx > dy) dist = dx;else dist = dy;\n    } else {\n      var pdx = Math.abs(p.x - p0.x);\n      var pdy = Math.abs(p.y - p0.y);\n      if (dx > dy) dist = pdx;else dist = pdy;\n\n      if (dist === 0.0 && !p.equals(p0)) {\n        dist = Math.max(pdx, pdy);\n      }\n    }\n\n    Assert.isTrue(!(dist === 0.0 && !p.equals(p0)), \"Bad distance calculation\");\n    return dist;\n  };\n\n  LineIntersector.nonRobustComputeEdgeDistance = function (p, p1, p2) {\n    var dx = p.x - p1.x;\n    var dy = p.y - p1.y;\n    var dist = Math.sqrt(dx * dx + dy * dy);\n    Assert.isTrue(!(dist === 0.0 && !p.equals(p1)), \"Invalid distance calculation\");\n    return dist;\n  };\n\n  LineIntersector.DONT_INTERSECT = 0;\n  LineIntersector.DO_INTERSECT = 1;\n  LineIntersector.COLLINEAR = 2;\n  LineIntersector.NO_INTERSECTION = 0;\n  LineIntersector.POINT_INTERSECTION = 1;\n  LineIntersector.COLLINEAR_INTERSECTION = 2;\n\n  function RobustLineIntersector() {\n    LineIntersector.apply(this);\n  }\n  inherits(RobustLineIntersector, LineIntersector);\n  extend(RobustLineIntersector.prototype, {\n    isInSegmentEnvelopes: function isInSegmentEnvelopes(intPt) {\n      var env0 = new Envelope(this._inputLines[0][0], this._inputLines[0][1]);\n      var env1 = new Envelope(this._inputLines[1][0], this._inputLines[1][1]);\n      return env0.contains(intPt) && env1.contains(intPt);\n    },\n    computeIntersection: function computeIntersection() {\n      if (arguments.length === 3) {\n        var p = arguments[0],\n            p1 = arguments[1],\n            p2 = arguments[2];\n        this._isProper = false;\n\n        if (Envelope.intersects(p1, p2, p)) {\n          if (Orientation.index(p1, p2, p) === 0 && Orientation.index(p2, p1, p) === 0) {\n            this._isProper = true;\n\n            if (p.equals(p1) || p.equals(p2)) {\n              this._isProper = false;\n            }\n\n            this._result = LineIntersector.POINT_INTERSECTION;\n            return null;\n          }\n        }\n\n        this._result = LineIntersector.NO_INTERSECTION;\n      } else return LineIntersector.prototype.computeIntersection.apply(this, arguments);\n    },\n    normalizeToMinimum: function normalizeToMinimum(n1, n2, n3, n4, normPt) {\n      normPt.x = this.smallestInAbsValue(n1.x, n2.x, n3.x, n4.x);\n      normPt.y = this.smallestInAbsValue(n1.y, n2.y, n3.y, n4.y);\n      n1.x -= normPt.x;\n      n1.y -= normPt.y;\n      n2.x -= normPt.x;\n      n2.y -= normPt.y;\n      n3.x -= normPt.x;\n      n3.y -= normPt.y;\n      n4.x -= normPt.x;\n      n4.y -= normPt.y;\n    },\n    safeHCoordinateIntersection: function safeHCoordinateIntersection(p1, p2, q1, q2) {\n      var intPt = null;\n\n      try {\n        intPt = HCoordinate.intersection(p1, p2, q1, q2);\n      } catch (e) {\n        if (e instanceof NotRepresentableException) {\n          intPt = RobustLineIntersector.nearestEndpoint(p1, p2, q1, q2);\n        } else throw e;\n      } finally {}\n\n      return intPt;\n    },\n    intersection: function intersection(p1, p2, q1, q2) {\n      var intPt = this.intersectionWithNormalization(p1, p2, q1, q2);\n\n      if (!this.isInSegmentEnvelopes(intPt)) {\n        intPt = new Coordinate(RobustLineIntersector.nearestEndpoint(p1, p2, q1, q2));\n      }\n\n      if (this._precisionModel !== null) {\n        this._precisionModel.makePrecise(intPt);\n      }\n\n      return intPt;\n    },\n    smallestInAbsValue: function smallestInAbsValue(x1, x2, x3, x4) {\n      var x = x1;\n      var xabs = Math.abs(x);\n\n      if (Math.abs(x2) < xabs) {\n        x = x2;\n        xabs = Math.abs(x2);\n      }\n\n      if (Math.abs(x3) < xabs) {\n        x = x3;\n        xabs = Math.abs(x3);\n      }\n\n      if (Math.abs(x4) < xabs) {\n        x = x4;\n      }\n\n      return x;\n    },\n    checkDD: function checkDD(p1, p2, q1, q2, intPt) {\n      var intPtDD = CGAlgorithmsDD.intersection(p1, p2, q1, q2);\n      var isIn = this.isInSegmentEnvelopes(intPtDD);\n      System.out.println(\"DD in env = \" + isIn + \"  --------------------- \" + intPtDD);\n\n      if (intPt.distance(intPtDD) > 0.0001) {\n        System.out.println(\"Distance = \" + intPt.distance(intPtDD));\n      }\n    },\n    intersectionWithNormalization: function intersectionWithNormalization(p1, p2, q1, q2) {\n      var n1 = new Coordinate(p1);\n      var n2 = new Coordinate(p2);\n      var n3 = new Coordinate(q1);\n      var n4 = new Coordinate(q2);\n      var normPt = new Coordinate();\n      this.normalizeToEnvCentre(n1, n2, n3, n4, normPt);\n      var intPt = this.safeHCoordinateIntersection(n1, n2, n3, n4);\n      intPt.x += normPt.x;\n      intPt.y += normPt.y;\n      return intPt;\n    },\n    computeCollinearIntersection: function computeCollinearIntersection(p1, p2, q1, q2) {\n      var p1q1p2 = Envelope.intersects(p1, p2, q1);\n      var p1q2p2 = Envelope.intersects(p1, p2, q2);\n      var q1p1q2 = Envelope.intersects(q1, q2, p1);\n      var q1p2q2 = Envelope.intersects(q1, q2, p2);\n\n      if (p1q1p2 && p1q2p2) {\n        this._intPt[0] = q1;\n        this._intPt[1] = q2;\n        return LineIntersector.COLLINEAR_INTERSECTION;\n      }\n\n      if (q1p1q2 && q1p2q2) {\n        this._intPt[0] = p1;\n        this._intPt[1] = p2;\n        return LineIntersector.COLLINEAR_INTERSECTION;\n      }\n\n      if (p1q1p2 && q1p1q2) {\n        this._intPt[0] = q1;\n        this._intPt[1] = p1;\n        return q1.equals(p1) && !p1q2p2 && !q1p2q2 ? LineIntersector.POINT_INTERSECTION : LineIntersector.COLLINEAR_INTERSECTION;\n      }\n\n      if (p1q1p2 && q1p2q2) {\n        this._intPt[0] = q1;\n        this._intPt[1] = p2;\n        return q1.equals(p2) && !p1q2p2 && !q1p1q2 ? LineIntersector.POINT_INTERSECTION : LineIntersector.COLLINEAR_INTERSECTION;\n      }\n\n      if (p1q2p2 && q1p1q2) {\n        this._intPt[0] = q2;\n        this._intPt[1] = p1;\n        return q2.equals(p1) && !p1q1p2 && !q1p2q2 ? LineIntersector.POINT_INTERSECTION : LineIntersector.COLLINEAR_INTERSECTION;\n      }\n\n      if (p1q2p2 && q1p2q2) {\n        this._intPt[0] = q2;\n        this._intPt[1] = p2;\n        return q2.equals(p2) && !p1q1p2 && !q1p1q2 ? LineIntersector.POINT_INTERSECTION : LineIntersector.COLLINEAR_INTERSECTION;\n      }\n\n      return LineIntersector.NO_INTERSECTION;\n    },\n    normalizeToEnvCentre: function normalizeToEnvCentre(n00, n01, n10, n11, normPt) {\n      var minX0 = n00.x < n01.x ? n00.x : n01.x;\n      var minY0 = n00.y < n01.y ? n00.y : n01.y;\n      var maxX0 = n00.x > n01.x ? n00.x : n01.x;\n      var maxY0 = n00.y > n01.y ? n00.y : n01.y;\n      var minX1 = n10.x < n11.x ? n10.x : n11.x;\n      var minY1 = n10.y < n11.y ? n10.y : n11.y;\n      var maxX1 = n10.x > n11.x ? n10.x : n11.x;\n      var maxY1 = n10.y > n11.y ? n10.y : n11.y;\n      var intMinX = minX0 > minX1 ? minX0 : minX1;\n      var intMaxX = maxX0 < maxX1 ? maxX0 : maxX1;\n      var intMinY = minY0 > minY1 ? minY0 : minY1;\n      var intMaxY = maxY0 < maxY1 ? maxY0 : maxY1;\n      var intMidX = (intMinX + intMaxX) / 2.0;\n      var intMidY = (intMinY + intMaxY) / 2.0;\n      normPt.x = intMidX;\n      normPt.y = intMidY;\n      n00.x -= normPt.x;\n      n00.y -= normPt.y;\n      n01.x -= normPt.x;\n      n01.y -= normPt.y;\n      n10.x -= normPt.x;\n      n10.y -= normPt.y;\n      n11.x -= normPt.x;\n      n11.y -= normPt.y;\n    },\n    computeIntersect: function computeIntersect(p1, p2, q1, q2) {\n      this._isProper = false;\n      if (!Envelope.intersects(p1, p2, q1, q2)) return LineIntersector.NO_INTERSECTION;\n      var Pq1 = Orientation.index(p1, p2, q1);\n      var Pq2 = Orientation.index(p1, p2, q2);\n\n      if (Pq1 > 0 && Pq2 > 0 || Pq1 < 0 && Pq2 < 0) {\n        return LineIntersector.NO_INTERSECTION;\n      }\n\n      var Qp1 = Orientation.index(q1, q2, p1);\n      var Qp2 = Orientation.index(q1, q2, p2);\n\n      if (Qp1 > 0 && Qp2 > 0 || Qp1 < 0 && Qp2 < 0) {\n        return LineIntersector.NO_INTERSECTION;\n      }\n\n      var collinear = Pq1 === 0 && Pq2 === 0 && Qp1 === 0 && Qp2 === 0;\n\n      if (collinear) {\n        return this.computeCollinearIntersection(p1, p2, q1, q2);\n      }\n\n      if (Pq1 === 0 || Pq2 === 0 || Qp1 === 0 || Qp2 === 0) {\n        this._isProper = false;\n\n        if (p1.equals2D(q1) || p1.equals2D(q2)) {\n          this._intPt[0] = p1;\n        } else if (p2.equals2D(q1) || p2.equals2D(q2)) {\n          this._intPt[0] = p2;\n        } else if (Pq1 === 0) {\n          this._intPt[0] = new Coordinate(q1);\n        } else if (Pq2 === 0) {\n          this._intPt[0] = new Coordinate(q2);\n        } else if (Qp1 === 0) {\n          this._intPt[0] = new Coordinate(p1);\n        } else if (Qp2 === 0) {\n          this._intPt[0] = new Coordinate(p2);\n        }\n      } else {\n        this._isProper = true;\n        this._intPt[0] = this.intersection(p1, p2, q1, q2);\n      }\n\n      return LineIntersector.POINT_INTERSECTION;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return RobustLineIntersector;\n    }\n  });\n\n  RobustLineIntersector.nearestEndpoint = function (p1, p2, q1, q2) {\n    var nearestPt = p1;\n    var minDist = Distance.pointToSegment(p1, q1, q2);\n    var dist = Distance.pointToSegment(p2, q1, q2);\n\n    if (dist < minDist) {\n      minDist = dist;\n      nearestPt = p2;\n    }\n\n    dist = Distance.pointToSegment(q1, p1, p2);\n\n    if (dist < minDist) {\n      minDist = dist;\n      nearestPt = q1;\n    }\n\n    dist = Distance.pointToSegment(q2, p1, p2);\n\n    if (dist < minDist) {\n      minDist = dist;\n      nearestPt = q2;\n    }\n\n    return nearestPt;\n  };\n\n  function LineSegment() {\n    this.p0 = null;\n    this.p1 = null;\n\n    if (arguments.length === 0) {\n      LineSegment.call(this, new Coordinate(), new Coordinate());\n    } else if (arguments.length === 1) {\n      var ls = arguments[0];\n      LineSegment.call(this, ls.p0, ls.p1);\n    } else if (arguments.length === 2) {\n      var p0 = arguments[0],\n          p1 = arguments[1];\n      this.p0 = p0;\n      this.p1 = p1;\n    } else if (arguments.length === 4) {\n      var x0 = arguments[0],\n          y0 = arguments[1],\n          x1 = arguments[2],\n          y1 = arguments[3];\n      LineSegment.call(this, new Coordinate(x0, y0), new Coordinate(x1, y1));\n    }\n  }\n  extend(LineSegment.prototype, {\n    minX: function minX() {\n      return Math.min(this.p0.x, this.p1.x);\n    },\n    orientationIndex: function orientationIndex() {\n      if (arguments[0] instanceof LineSegment) {\n        var seg = arguments[0];\n        var orient0 = Orientation.index(this.p0, this.p1, seg.p0);\n        var orient1 = Orientation.index(this.p0, this.p1, seg.p1);\n        if (orient0 >= 0 && orient1 >= 0) return Math.max(orient0, orient1);\n        if (orient0 <= 0 && orient1 <= 0) return Math.max(orient0, orient1);\n        return 0;\n      } else if (arguments[0] instanceof Coordinate) {\n        var p = arguments[0];\n        return Orientation.index(this.p0, this.p1, p);\n      }\n    },\n    toGeometry: function toGeometry(geomFactory) {\n      return geomFactory.createLineString([this.p0, this.p1]);\n    },\n    isVertical: function isVertical() {\n      return this.p0.x === this.p1.x;\n    },\n    equals: function equals(o) {\n      if (!(o instanceof LineSegment)) {\n        return false;\n      }\n\n      var other = o;\n      return this.p0.equals(other.p0) && this.p1.equals(other.p1);\n    },\n    intersection: function intersection(line) {\n      var li = new RobustLineIntersector();\n      li.computeIntersection(this.p0, this.p1, line.p0, line.p1);\n      if (li.hasIntersection()) return li.getIntersection(0);\n      return null;\n    },\n    project: function project() {\n      if (arguments[0] instanceof Coordinate) {\n        var p = arguments[0];\n        if (p.equals(this.p0) || p.equals(this.p1)) return new Coordinate(p);\n        var r = this.projectionFactor(p);\n        var coord = new Coordinate();\n        coord.x = this.p0.x + r * (this.p1.x - this.p0.x);\n        coord.y = this.p0.y + r * (this.p1.y - this.p0.y);\n        return coord;\n      } else if (arguments[0] instanceof LineSegment) {\n        var seg = arguments[0];\n        var pf0 = this.projectionFactor(seg.p0);\n        var pf1 = this.projectionFactor(seg.p1);\n        if (pf0 >= 1.0 && pf1 >= 1.0) return null;\n        if (pf0 <= 0.0 && pf1 <= 0.0) return null;\n        var newp0 = this.project(seg.p0);\n        if (pf0 < 0.0) newp0 = this.p0;\n        if (pf0 > 1.0) newp0 = this.p1;\n        var newp1 = this.project(seg.p1);\n        if (pf1 < 0.0) newp1 = this.p0;\n        if (pf1 > 1.0) newp1 = this.p1;\n        return new LineSegment(newp0, newp1);\n      }\n    },\n    normalize: function normalize() {\n      if (this.p1.compareTo(this.p0) < 0) this.reverse();\n    },\n    angle: function angle() {\n      return Math.atan2(this.p1.y - this.p0.y, this.p1.x - this.p0.x);\n    },\n    getCoordinate: function getCoordinate(i) {\n      if (i === 0) return this.p0;\n      return this.p1;\n    },\n    distancePerpendicular: function distancePerpendicular(p) {\n      return Distance.pointToLinePerpendicular(p, this.p0, this.p1);\n    },\n    minY: function minY() {\n      return Math.min(this.p0.y, this.p1.y);\n    },\n    midPoint: function midPoint() {\n      return LineSegment.midPoint(this.p0, this.p1);\n    },\n    projectionFactor: function projectionFactor(p) {\n      if (p.equals(this.p0)) return 0.0;\n      if (p.equals(this.p1)) return 1.0;\n      var dx = this.p1.x - this.p0.x;\n      var dy = this.p1.y - this.p0.y;\n      var len = dx * dx + dy * dy;\n      if (len <= 0.0) return Double.NaN;\n      var r = ((p.x - this.p0.x) * dx + (p.y - this.p0.y) * dy) / len;\n      return r;\n    },\n    closestPoints: function closestPoints(line) {\n      var intPt = this.intersection(line);\n\n      if (intPt !== null) {\n        return [intPt, intPt];\n      }\n\n      var closestPt = new Array(2).fill(null);\n      var minDistance = Double.MAX_VALUE;\n      var dist = null;\n      var close00 = this.closestPoint(line.p0);\n      minDistance = close00.distance(line.p0);\n      closestPt[0] = close00;\n      closestPt[1] = line.p0;\n      var close01 = this.closestPoint(line.p1);\n      dist = close01.distance(line.p1);\n\n      if (dist < minDistance) {\n        minDistance = dist;\n        closestPt[0] = close01;\n        closestPt[1] = line.p1;\n      }\n\n      var close10 = line.closestPoint(this.p0);\n      dist = close10.distance(this.p0);\n\n      if (dist < minDistance) {\n        minDistance = dist;\n        closestPt[0] = this.p0;\n        closestPt[1] = close10;\n      }\n\n      var close11 = line.closestPoint(this.p1);\n      dist = close11.distance(this.p1);\n\n      if (dist < minDistance) {\n        minDistance = dist;\n        closestPt[0] = this.p1;\n        closestPt[1] = close11;\n      }\n\n      return closestPt;\n    },\n    closestPoint: function closestPoint(p) {\n      var factor = this.projectionFactor(p);\n\n      if (factor > 0 && factor < 1) {\n        return this.project(p);\n      }\n\n      var dist0 = this.p0.distance(p);\n      var dist1 = this.p1.distance(p);\n      if (dist0 < dist1) return this.p0;\n      return this.p1;\n    },\n    maxX: function maxX() {\n      return Math.max(this.p0.x, this.p1.x);\n    },\n    getLength: function getLength() {\n      return this.p0.distance(this.p1);\n    },\n    compareTo: function compareTo(o) {\n      var other = o;\n      var comp0 = this.p0.compareTo(other.p0);\n      if (comp0 !== 0) return comp0;\n      return this.p1.compareTo(other.p1);\n    },\n    reverse: function reverse() {\n      var temp = this.p0;\n      this.p0 = this.p1;\n      this.p1 = temp;\n    },\n    equalsTopo: function equalsTopo(other) {\n      return this.p0.equals(other.p0) && this.p1.equals(other.p1) || this.p0.equals(other.p1) && this.p1.equals(other.p0);\n    },\n    lineIntersection: function lineIntersection(line) {\n      try {\n        var intPt = HCoordinate.intersection(this.p0, this.p1, line.p0, line.p1);\n        return intPt;\n      } catch (ex) {\n        if (ex instanceof NotRepresentableException) ; else throw ex;\n      } finally {}\n\n      return null;\n    },\n    maxY: function maxY() {\n      return Math.max(this.p0.y, this.p1.y);\n    },\n    pointAlongOffset: function pointAlongOffset(segmentLengthFraction, offsetDistance) {\n      var segx = this.p0.x + segmentLengthFraction * (this.p1.x - this.p0.x);\n      var segy = this.p0.y + segmentLengthFraction * (this.p1.y - this.p0.y);\n      var dx = this.p1.x - this.p0.x;\n      var dy = this.p1.y - this.p0.y;\n      var len = Math.sqrt(dx * dx + dy * dy);\n      var ux = 0.0;\n      var uy = 0.0;\n\n      if (offsetDistance !== 0.0) {\n        if (len <= 0.0) throw new IllegalStateException(\"Cannot compute offset from zero-length line segment\");\n        ux = offsetDistance * dx / len;\n        uy = offsetDistance * dy / len;\n      }\n\n      var offsetx = segx - uy;\n      var offsety = segy + ux;\n      var coord = new Coordinate(offsetx, offsety);\n      return coord;\n    },\n    setCoordinates: function setCoordinates() {\n      if (arguments.length === 1) {\n        var ls = arguments[0];\n        this.setCoordinates(ls.p0, ls.p1);\n      } else if (arguments.length === 2) {\n        var p0 = arguments[0],\n            p1 = arguments[1];\n        this.p0.x = p0.x;\n        this.p0.y = p0.y;\n        this.p1.x = p1.x;\n        this.p1.y = p1.y;\n      }\n    },\n    segmentFraction: function segmentFraction(inputPt) {\n      var segFrac = this.projectionFactor(inputPt);\n      if (segFrac < 0.0) segFrac = 0.0;else if (segFrac > 1.0 || Double.isNaN(segFrac)) segFrac = 1.0;\n      return segFrac;\n    },\n    toString: function toString() {\n      return \"LINESTRING( \" + this.p0.x + \" \" + this.p0.y + \", \" + this.p1.x + \" \" + this.p1.y + \")\";\n    },\n    isHorizontal: function isHorizontal() {\n      return this.p0.y === this.p1.y;\n    },\n    distance: function distance() {\n      if (arguments[0] instanceof LineSegment) {\n        var ls = arguments[0];\n        return Distance.segmentToSegment(this.p0, this.p1, ls.p0, ls.p1);\n      } else if (arguments[0] instanceof Coordinate) {\n        var p = arguments[0];\n        return Distance.pointToSegment(p, this.p0, this.p1);\n      }\n    },\n    pointAlong: function pointAlong(segmentLengthFraction) {\n      var coord = new Coordinate();\n      coord.x = this.p0.x + segmentLengthFraction * (this.p1.x - this.p0.x);\n      coord.y = this.p0.y + segmentLengthFraction * (this.p1.y - this.p0.y);\n      return coord;\n    },\n    hashCode: function hashCode() {\n      var bits0 = java.lang.Double.doubleToLongBits(this.p0.x);\n      bits0 ^= java.lang.Double.doubleToLongBits(this.p0.y) * 31;\n      var hash0 = Math.trunc(bits0) ^ Math.trunc(bits0 >> 32);\n      var bits1 = java.lang.Double.doubleToLongBits(this.p1.x);\n      bits1 ^= java.lang.Double.doubleToLongBits(this.p1.y) * 31;\n      var hash1 = Math.trunc(bits1) ^ Math.trunc(bits1 >> 32);\n      return hash0 ^ hash1;\n    },\n    interfaces_: function interfaces_() {\n      return [Comparable, Serializable];\n    },\n    getClass: function getClass() {\n      return LineSegment;\n    }\n  });\n\n  LineSegment.midPoint = function (p0, p1) {\n    return new Coordinate((p0.x + p1.x) / 2, (p0.y + p1.y) / 2);\n  };\n\n  LineSegment.serialVersionUID = 3252005833466256227;\n\n  function Location() {}\n  extend(Location.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Location;\n    }\n  });\n\n  Location.toLocationSymbol = function (locationValue) {\n    switch (locationValue) {\n      case Location.EXTERIOR:\n        return 'e';\n\n      case Location.BOUNDARY:\n        return 'b';\n\n      case Location.INTERIOR:\n        return 'i';\n\n      case Location.NONE:\n        return '-';\n    }\n\n    throw new IllegalArgumentException(\"Unknown location value: \" + locationValue);\n  };\n\n  Location.INTERIOR = 0;\n  Location.BOUNDARY = 1;\n  Location.EXTERIOR = 2;\n  Location.NONE = -1;\n\n  function IntersectionMatrix() {\n    this._matrix = null;\n\n    if (arguments.length === 0) {\n      this._matrix = Array(3).fill().map(function () {\n        return Array(3);\n      });\n      this.setAll(Dimension.FALSE);\n    } else if (arguments.length === 1) {\n      if (typeof arguments[0] === \"string\") {\n        var elements = arguments[0];\n        IntersectionMatrix.call(this);\n        this.set(elements);\n      } else if (arguments[0] instanceof IntersectionMatrix) {\n        var other = arguments[0];\n        IntersectionMatrix.call(this);\n        this._matrix[Location.INTERIOR][Location.INTERIOR] = other._matrix[Location.INTERIOR][Location.INTERIOR];\n        this._matrix[Location.INTERIOR][Location.BOUNDARY] = other._matrix[Location.INTERIOR][Location.BOUNDARY];\n        this._matrix[Location.INTERIOR][Location.EXTERIOR] = other._matrix[Location.INTERIOR][Location.EXTERIOR];\n        this._matrix[Location.BOUNDARY][Location.INTERIOR] = other._matrix[Location.BOUNDARY][Location.INTERIOR];\n        this._matrix[Location.BOUNDARY][Location.BOUNDARY] = other._matrix[Location.BOUNDARY][Location.BOUNDARY];\n        this._matrix[Location.BOUNDARY][Location.EXTERIOR] = other._matrix[Location.BOUNDARY][Location.EXTERIOR];\n        this._matrix[Location.EXTERIOR][Location.INTERIOR] = other._matrix[Location.EXTERIOR][Location.INTERIOR];\n        this._matrix[Location.EXTERIOR][Location.BOUNDARY] = other._matrix[Location.EXTERIOR][Location.BOUNDARY];\n        this._matrix[Location.EXTERIOR][Location.EXTERIOR] = other._matrix[Location.EXTERIOR][Location.EXTERIOR];\n      }\n    }\n  }\n  extend(IntersectionMatrix.prototype, {\n    isIntersects: function isIntersects() {\n      return !this.isDisjoint();\n    },\n    isCovers: function isCovers() {\n      var hasPointInCommon = IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.BOUNDARY]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.BOUNDARY]);\n      return hasPointInCommon && this._matrix[Location.EXTERIOR][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.EXTERIOR][Location.BOUNDARY] === Dimension.FALSE;\n    },\n    isCoveredBy: function isCoveredBy() {\n      var hasPointInCommon = IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.BOUNDARY]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.BOUNDARY]);\n      return hasPointInCommon && this._matrix[Location.INTERIOR][Location.EXTERIOR] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.EXTERIOR] === Dimension.FALSE;\n    },\n    set: function set() {\n      if (arguments.length === 1) {\n        var dimensionSymbols = arguments[0];\n\n        for (var i = 0; i < dimensionSymbols.length; i++) {\n          var row = Math.trunc(i / 3);\n          var col = i % 3;\n          this._matrix[row][col] = Dimension.toDimensionValue(dimensionSymbols.charAt(i));\n        }\n      } else if (arguments.length === 3) {\n        var _row = arguments[0],\n            column = arguments[1],\n            dimensionValue = arguments[2];\n        this._matrix[_row][column] = dimensionValue;\n      }\n    },\n    isContains: function isContains() {\n      return IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && this._matrix[Location.EXTERIOR][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.EXTERIOR][Location.BOUNDARY] === Dimension.FALSE;\n    },\n    setAtLeast: function setAtLeast() {\n      if (arguments.length === 1) {\n        var minimumDimensionSymbols = arguments[0];\n\n        for (var i = 0; i < minimumDimensionSymbols.length; i++) {\n          var row = Math.trunc(i / 3);\n          var col = i % 3;\n          this.setAtLeast(row, col, Dimension.toDimensionValue(minimumDimensionSymbols.charAt(i)));\n        }\n      } else if (arguments.length === 3) {\n        var _row2 = arguments[0],\n            column = arguments[1],\n            minimumDimensionValue = arguments[2];\n\n        if (this._matrix[_row2][column] < minimumDimensionValue) {\n          this._matrix[_row2][column] = minimumDimensionValue;\n        }\n      }\n    },\n    setAtLeastIfValid: function setAtLeastIfValid(row, column, minimumDimensionValue) {\n      if (row >= 0 && column >= 0) {\n        this.setAtLeast(row, column, minimumDimensionValue);\n      }\n    },\n    isWithin: function isWithin() {\n      return IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && this._matrix[Location.INTERIOR][Location.EXTERIOR] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.EXTERIOR] === Dimension.FALSE;\n    },\n    isTouches: function isTouches(dimensionOfGeometryA, dimensionOfGeometryB) {\n      if (dimensionOfGeometryA > dimensionOfGeometryB) {\n        return this.isTouches(dimensionOfGeometryB, dimensionOfGeometryA);\n      }\n\n      if (dimensionOfGeometryA === Dimension.A && dimensionOfGeometryB === Dimension.A || dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.L || dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.A || dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.A || dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.L) {\n        return this._matrix[Location.INTERIOR][Location.INTERIOR] === Dimension.FALSE && (IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.BOUNDARY]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.BOUNDARY]));\n      }\n\n      return false;\n    },\n    isOverlaps: function isOverlaps(dimensionOfGeometryA, dimensionOfGeometryB) {\n      if (dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.P || dimensionOfGeometryA === Dimension.A && dimensionOfGeometryB === Dimension.A) {\n        return IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.EXTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.EXTERIOR][Location.INTERIOR]);\n      }\n\n      if (dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.L) {\n        return this._matrix[Location.INTERIOR][Location.INTERIOR] === 1 && IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.EXTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.EXTERIOR][Location.INTERIOR]);\n      }\n\n      return false;\n    },\n    isEquals: function isEquals(dimensionOfGeometryA, dimensionOfGeometryB) {\n      if (dimensionOfGeometryA !== dimensionOfGeometryB) {\n        return false;\n      }\n\n      return IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && this._matrix[Location.INTERIOR][Location.EXTERIOR] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.EXTERIOR] === Dimension.FALSE && this._matrix[Location.EXTERIOR][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.EXTERIOR][Location.BOUNDARY] === Dimension.FALSE;\n    },\n    toString: function toString() {\n      var builder = new StringBuilder(\"123456789\");\n\n      for (var ai = 0; ai < 3; ai++) {\n        for (var bi = 0; bi < 3; bi++) {\n          builder.setCharAt(3 * ai + bi, Dimension.toDimensionSymbol(this._matrix[ai][bi]));\n        }\n      }\n\n      return builder.toString();\n    },\n    setAll: function setAll(dimensionValue) {\n      for (var ai = 0; ai < 3; ai++) {\n        for (var bi = 0; bi < 3; bi++) {\n          this._matrix[ai][bi] = dimensionValue;\n        }\n      }\n    },\n    get: function get(row, column) {\n      return this._matrix[row][column];\n    },\n    transpose: function transpose() {\n      var temp = this._matrix[1][0];\n      this._matrix[1][0] = this._matrix[0][1];\n      this._matrix[0][1] = temp;\n      temp = this._matrix[2][0];\n      this._matrix[2][0] = this._matrix[0][2];\n      this._matrix[0][2] = temp;\n      temp = this._matrix[2][1];\n      this._matrix[2][1] = this._matrix[1][2];\n      this._matrix[1][2] = temp;\n      return this;\n    },\n    matches: function matches(requiredDimensionSymbols) {\n      if (requiredDimensionSymbols.length !== 9) {\n        throw new IllegalArgumentException(\"Should be length 9: \" + requiredDimensionSymbols);\n      }\n\n      for (var ai = 0; ai < 3; ai++) {\n        for (var bi = 0; bi < 3; bi++) {\n          if (!IntersectionMatrix.matches(this._matrix[ai][bi], requiredDimensionSymbols.charAt(3 * ai + bi))) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    },\n    add: function add(im) {\n      for (var i = 0; i < 3; i++) {\n        for (var j = 0; j < 3; j++) {\n          this.setAtLeast(i, j, im.get(i, j));\n        }\n      }\n    },\n    isDisjoint: function isDisjoint() {\n      return this._matrix[Location.INTERIOR][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.INTERIOR][Location.BOUNDARY] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.BOUNDARY] === Dimension.FALSE;\n    },\n    isCrosses: function isCrosses(dimensionOfGeometryA, dimensionOfGeometryB) {\n      if (dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.L || dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.A || dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.A) {\n        return IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.EXTERIOR]);\n      }\n\n      if (dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.P || dimensionOfGeometryA === Dimension.A && dimensionOfGeometryB === Dimension.P || dimensionOfGeometryA === Dimension.A && dimensionOfGeometryB === Dimension.L) {\n        return IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.EXTERIOR][Location.INTERIOR]);\n      }\n\n      if (dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.L) {\n        return this._matrix[Location.INTERIOR][Location.INTERIOR] === 0;\n      }\n\n      return false;\n    },\n    interfaces_: function interfaces_() {\n      return [Clonable];\n    },\n    getClass: function getClass() {\n      return IntersectionMatrix;\n    }\n  });\n\n  IntersectionMatrix.matches = function () {\n    if (Number.isInteger(arguments[0]) && typeof arguments[1] === \"string\") {\n      var actualDimensionValue = arguments[0],\n          requiredDimensionSymbol = arguments[1];\n\n      if (requiredDimensionSymbol === Dimension.SYM_DONTCARE) {\n        return true;\n      }\n\n      if (requiredDimensionSymbol === Dimension.SYM_TRUE && (actualDimensionValue >= 0 || actualDimensionValue === Dimension.TRUE)) {\n        return true;\n      }\n\n      if (requiredDimensionSymbol === Dimension.SYM_FALSE && actualDimensionValue === Dimension.FALSE) {\n        return true;\n      }\n\n      if (requiredDimensionSymbol === Dimension.SYM_P && actualDimensionValue === Dimension.P) {\n        return true;\n      }\n\n      if (requiredDimensionSymbol === Dimension.SYM_L && actualDimensionValue === Dimension.L) {\n        return true;\n      }\n\n      if (requiredDimensionSymbol === Dimension.SYM_A && actualDimensionValue === Dimension.A) {\n        return true;\n      }\n\n      return false;\n    } else if (typeof arguments[0] === \"string\" && typeof arguments[1] === \"string\") {\n      var actualDimensionSymbols = arguments[0],\n          requiredDimensionSymbols = arguments[1];\n      var m = new IntersectionMatrix(actualDimensionSymbols);\n      return m.matches(requiredDimensionSymbols);\n    }\n  };\n\n  IntersectionMatrix.isTrue = function (actualDimensionValue) {\n    if (actualDimensionValue >= 0 || actualDimensionValue === Dimension.TRUE) {\n      return true;\n    }\n\n    return false;\n  };\n\n  function Angle() {}\n  extend(Angle.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Angle;\n    }\n  });\n\n  Angle.toDegrees = function (radians) {\n    return radians * 180 / Math.PI;\n  };\n\n  Angle.normalize = function (angle) {\n    while (angle > Math.PI) {\n      angle -= Angle.PI_TIMES_2;\n    }\n\n    while (angle <= -Math.PI) {\n      angle += Angle.PI_TIMES_2;\n    }\n\n    return angle;\n  };\n\n  Angle.angle = function () {\n    if (arguments.length === 1) {\n      var p = arguments[0];\n      return Math.atan2(p.y, p.x);\n    } else if (arguments.length === 2) {\n      var p0 = arguments[0],\n          p1 = arguments[1];\n      var dx = p1.x - p0.x;\n      var dy = p1.y - p0.y;\n      return Math.atan2(dy, dx);\n    }\n  };\n\n  Angle.isAcute = function (p0, p1, p2) {\n    var dx0 = p0.x - p1.x;\n    var dy0 = p0.y - p1.y;\n    var dx1 = p2.x - p1.x;\n    var dy1 = p2.y - p1.y;\n    var dotprod = dx0 * dx1 + dy0 * dy1;\n    return dotprod > 0;\n  };\n\n  Angle.isObtuse = function (p0, p1, p2) {\n    var dx0 = p0.x - p1.x;\n    var dy0 = p0.y - p1.y;\n    var dx1 = p2.x - p1.x;\n    var dy1 = p2.y - p1.y;\n    var dotprod = dx0 * dx1 + dy0 * dy1;\n    return dotprod < 0;\n  };\n\n  Angle.interiorAngle = function (p0, p1, p2) {\n    var anglePrev = Angle.angle(p1, p0);\n    var angleNext = Angle.angle(p1, p2);\n    return Math.abs(angleNext - anglePrev);\n  };\n\n  Angle.normalizePositive = function (angle) {\n    if (angle < 0.0) {\n      while (angle < 0.0) {\n        angle += Angle.PI_TIMES_2;\n      }\n\n      if (angle >= Angle.PI_TIMES_2) angle = 0.0;\n    } else {\n      while (angle >= Angle.PI_TIMES_2) {\n        angle -= Angle.PI_TIMES_2;\n      }\n\n      if (angle < 0.0) angle = 0.0;\n    }\n\n    return angle;\n  };\n\n  Angle.angleBetween = function (tip1, tail, tip2) {\n    var a1 = Angle.angle(tail, tip1);\n    var a2 = Angle.angle(tail, tip2);\n    return Angle.diff(a1, a2);\n  };\n\n  Angle.diff = function (ang1, ang2) {\n    var delAngle = null;\n\n    if (ang1 < ang2) {\n      delAngle = ang2 - ang1;\n    } else {\n      delAngle = ang1 - ang2;\n    }\n\n    if (delAngle > Math.PI) {\n      delAngle = 2 * Math.PI - delAngle;\n    }\n\n    return delAngle;\n  };\n\n  Angle.toRadians = function (angleDegrees) {\n    return angleDegrees * Math.PI / 180.0;\n  };\n\n  Angle.getTurn = function (ang1, ang2) {\n    var crossproduct = Math.sin(ang2 - ang1);\n\n    if (crossproduct > 0) {\n      return Angle.COUNTERCLOCKWISE;\n    }\n\n    if (crossproduct < 0) {\n      return Angle.CLOCKWISE;\n    }\n\n    return Angle.NONE;\n  };\n\n  Angle.angleBetweenOriented = function (tip1, tail, tip2) {\n    var a1 = Angle.angle(tail, tip1);\n    var a2 = Angle.angle(tail, tip2);\n    var angDel = a2 - a1;\n    if (angDel <= -Math.PI) return angDel + Angle.PI_TIMES_2;\n    if (angDel > Math.PI) return angDel - Angle.PI_TIMES_2;\n    return angDel;\n  };\n\n  Angle.PI_TIMES_2 = 2.0 * Math.PI;\n  Angle.PI_OVER_2 = Math.PI / 2.0;\n  Angle.PI_OVER_4 = Math.PI / 4.0;\n  Angle.COUNTERCLOCKWISE = Orientation.COUNTERCLOCKWISE;\n  Angle.CLOCKWISE = Orientation.CLOCKWISE;\n  Angle.NONE = Orientation.COLLINEAR;\n\n  function Triangle() {\n    this.p0 = null;\n    this.p1 = null;\n    this.p2 = null;\n    var p0 = arguments[0],\n        p1 = arguments[1],\n        p2 = arguments[2];\n    this.p0 = p0;\n    this.p1 = p1;\n    this.p2 = p2;\n  }\n  extend(Triangle.prototype, {\n    area: function area() {\n      return Triangle.area(this.p0, this.p1, this.p2);\n    },\n    signedArea: function signedArea() {\n      return Triangle.signedArea(this.p0, this.p1, this.p2);\n    },\n    interpolateZ: function interpolateZ(p) {\n      if (p === null) throw new IllegalArgumentException(\"Supplied point is null.\");\n      return Triangle.interpolateZ(p, this.p0, this.p1, this.p2);\n    },\n    longestSideLength: function longestSideLength() {\n      return Triangle.longestSideLength(this.p0, this.p1, this.p2);\n    },\n    isAcute: function isAcute() {\n      return Triangle.isAcute(this.p0, this.p1, this.p2);\n    },\n    circumcentre: function circumcentre() {\n      return Triangle.circumcentre(this.p0, this.p1, this.p2);\n    },\n    area3D: function area3D() {\n      return Triangle.area3D(this.p0, this.p1, this.p2);\n    },\n    centroid: function centroid() {\n      return Triangle.centroid(this.p0, this.p1, this.p2);\n    },\n    inCentre: function inCentre() {\n      return Triangle.inCentre(this.p0, this.p1, this.p2);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Triangle;\n    }\n  });\n\n  Triangle.area = function (a, b, c) {\n    return Math.abs(((c.x - a.x) * (b.y - a.y) - (b.x - a.x) * (c.y - a.y)) / 2);\n  };\n\n  Triangle.signedArea = function (a, b, c) {\n    return ((c.x - a.x) * (b.y - a.y) - (b.x - a.x) * (c.y - a.y)) / 2;\n  };\n\n  Triangle.det = function (m00, m01, m10, m11) {\n    return m00 * m11 - m01 * m10;\n  };\n\n  Triangle.interpolateZ = function (p, v0, v1, v2) {\n    var x0 = v0.x;\n    var y0 = v0.y;\n    var a = v1.x - x0;\n    var b = v2.x - x0;\n    var c = v1.y - y0;\n    var d = v2.y - y0;\n    var det = a * d - b * c;\n    var dx = p.x - x0;\n    var dy = p.y - y0;\n    var t = (d * dx - b * dy) / det;\n    var u = (-c * dx + a * dy) / det;\n    var z = v0.z + t * (v1.z - v0.z) + u * (v2.z - v0.z);\n    return z;\n  };\n\n  Triangle.longestSideLength = function (a, b, c) {\n    var lenAB = a.distance(b);\n    var lenBC = b.distance(c);\n    var lenCA = c.distance(a);\n    var maxLen = lenAB;\n    if (lenBC > maxLen) maxLen = lenBC;\n    if (lenCA > maxLen) maxLen = lenCA;\n    return maxLen;\n  };\n\n  Triangle.isAcute = function (a, b, c) {\n    if (!Angle.isAcute(a, b, c)) return false;\n    if (!Angle.isAcute(b, c, a)) return false;\n    if (!Angle.isAcute(c, a, b)) return false;\n    return true;\n  };\n\n  Triangle.circumcentre = function (a, b, c) {\n    var cx = c.x;\n    var cy = c.y;\n    var ax = a.x - cx;\n    var ay = a.y - cy;\n    var bx = b.x - cx;\n    var by = b.y - cy;\n    var denom = 2 * Triangle.det(ax, ay, bx, by);\n    var numx = Triangle.det(ay, ax * ax + ay * ay, by, bx * bx + by * by);\n    var numy = Triangle.det(ax, ax * ax + ay * ay, bx, bx * bx + by * by);\n    var ccx = cx - numx / denom;\n    var ccy = cy + numy / denom;\n    return new Coordinate(ccx, ccy);\n  };\n\n  Triangle.perpendicularBisector = function (a, b) {\n    var dx = b.x - a.x;\n    var dy = b.y - a.y;\n    var l1 = new HCoordinate(a.x + dx / 2.0, a.y + dy / 2.0, 1.0);\n    var l2 = new HCoordinate(a.x - dy + dx / 2.0, a.y + dx + dy / 2.0, 1.0);\n    return new HCoordinate(l1, l2);\n  };\n\n  Triangle.angleBisector = function (a, b, c) {\n    var len0 = b.distance(a);\n    var len2 = b.distance(c);\n    var frac = len0 / (len0 + len2);\n    var dx = c.x - a.x;\n    var dy = c.y - a.y;\n    var splitPt = new Coordinate(a.x + frac * dx, a.y + frac * dy);\n    return splitPt;\n  };\n\n  Triangle.area3D = function (a, b, c) {\n    var ux = b.x - a.x;\n    var uy = b.y - a.y;\n    var uz = b.z - a.z;\n    var vx = c.x - a.x;\n    var vy = c.y - a.y;\n    var vz = c.z - a.z;\n    var crossx = uy * vz - uz * vy;\n    var crossy = uz * vx - ux * vz;\n    var crossz = ux * vy - uy * vx;\n    var absSq = crossx * crossx + crossy * crossy + crossz * crossz;\n    var area3D = Math.sqrt(absSq) / 2;\n    return area3D;\n  };\n\n  Triangle.centroid = function (a, b, c) {\n    var x = (a.x + b.x + c.x) / 3;\n    var y = (a.y + b.y + c.y) / 3;\n    return new Coordinate(x, y);\n  };\n\n  Triangle.inCentre = function (a, b, c) {\n    var len0 = b.distance(c);\n    var len1 = a.distance(c);\n    var len2 = a.distance(b);\n    var circum = len0 + len1 + len2;\n    var inCentreX = (len0 * a.x + len1 * b.x + len2 * c.x) / circum;\n    var inCentreY = (len0 * a.y + len1 * b.y + len2 * c.y) / circum;\n    return new Coordinate(inCentreX, inCentreY);\n  };\n\n\n\n  var geom = /*#__PURE__*/Object.freeze({\n    Coordinate: Coordinate,\n    CoordinateList: CoordinateList,\n    Envelope: Envelope,\n    LineSegment: LineSegment,\n    GeometryFactory: GeometryFactory,\n    Geometry: Geometry,\n    Point: Point,\n    LineString: LineString,\n    LinearRing: LinearRing,\n    Polygon: Polygon,\n    GeometryCollection: GeometryCollection,\n    MultiPoint: MultiPoint,\n    MultiLineString: MultiLineString,\n    MultiPolygon: MultiPolygon,\n    Dimension: Dimension,\n    IntersectionMatrix: IntersectionMatrix,\n    PrecisionModel: PrecisionModel,\n    Location: Location,\n    Triangle: Triangle\n  });\n\n  function PointPairDistance() {\n    this._pt = [new Coordinate(), new Coordinate()];\n    this._distance = Double.NaN;\n    this._isNull = true;\n  }\n  extend(PointPairDistance.prototype, {\n    getCoordinates: function getCoordinates() {\n      return this._pt;\n    },\n    getCoordinate: function getCoordinate(i) {\n      return this._pt[i];\n    },\n    setMinimum: function setMinimum() {\n      if (arguments.length === 1) {\n        var ptDist = arguments[0];\n        this.setMinimum(ptDist._pt[0], ptDist._pt[1]);\n      } else if (arguments.length === 2) {\n        var p0 = arguments[0],\n            p1 = arguments[1];\n\n        if (this._isNull) {\n          this.initialize(p0, p1);\n          return null;\n        }\n\n        var dist = p0.distance(p1);\n        if (dist < this._distance) this.initialize(p0, p1, dist);\n      }\n    },\n    initialize: function initialize() {\n      if (arguments.length === 0) {\n        this._isNull = true;\n      } else if (arguments.length === 2) {\n        var p0 = arguments[0],\n            p1 = arguments[1];\n\n        this._pt[0].setCoordinate(p0);\n\n        this._pt[1].setCoordinate(p1);\n\n        this._distance = p0.distance(p1);\n        this._isNull = false;\n      } else if (arguments.length === 3) {\n        var _p = arguments[0],\n            _p2 = arguments[1],\n            distance = arguments[2];\n\n        this._pt[0].setCoordinate(_p);\n\n        this._pt[1].setCoordinate(_p2);\n\n        this._distance = distance;\n        this._isNull = false;\n      }\n    },\n    toString: function toString() {\n      return WKTWriter.toLineString(this._pt[0], this._pt[1]);\n    },\n    getDistance: function getDistance() {\n      return this._distance;\n    },\n    setMaximum: function setMaximum() {\n      if (arguments.length === 1) {\n        var ptDist = arguments[0];\n        this.setMaximum(ptDist._pt[0], ptDist._pt[1]);\n      } else if (arguments.length === 2) {\n        var p0 = arguments[0],\n            p1 = arguments[1];\n\n        if (this._isNull) {\n          this.initialize(p0, p1);\n          return null;\n        }\n\n        var dist = p0.distance(p1);\n        if (dist > this._distance) this.initialize(p0, p1, dist);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return PointPairDistance;\n    }\n  });\n\n  function DistanceToPoint() {}\n  extend(DistanceToPoint.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return DistanceToPoint;\n    }\n  });\n\n  DistanceToPoint.computeDistance = function () {\n    if (arguments[2] instanceof PointPairDistance && arguments[0] instanceof LineString && arguments[1] instanceof Coordinate) {\n      var line = arguments[0],\n          pt = arguments[1],\n          ptDist = arguments[2];\n      var tempSegment = new LineSegment();\n      var coords = line.getCoordinates();\n\n      for (var i = 0; i < coords.length - 1; i++) {\n        tempSegment.setCoordinates(coords[i], coords[i + 1]);\n        var closestPt = tempSegment.closestPoint(pt);\n        ptDist.setMinimum(closestPt, pt);\n      }\n    } else if (arguments[2] instanceof PointPairDistance && arguments[0] instanceof Polygon && arguments[1] instanceof Coordinate) {\n      var poly = arguments[0],\n          _pt = arguments[1],\n          _ptDist = arguments[2];\n      DistanceToPoint.computeDistance(poly.getExteriorRing(), _pt, _ptDist);\n\n      for (var i = 0; i < poly.getNumInteriorRing(); i++) {\n        DistanceToPoint.computeDistance(poly.getInteriorRingN(i), _pt, _ptDist);\n      }\n    } else if (arguments[2] instanceof PointPairDistance && arguments[0] instanceof Geometry && arguments[1] instanceof Coordinate) {\n      var geom = arguments[0],\n          _pt2 = arguments[1],\n          _ptDist2 = arguments[2];\n\n      if (geom instanceof LineString) {\n        DistanceToPoint.computeDistance(geom, _pt2, _ptDist2);\n      } else if (geom instanceof Polygon) {\n        DistanceToPoint.computeDistance(geom, _pt2, _ptDist2);\n      } else if (geom instanceof GeometryCollection) {\n        var gc = geom;\n\n        for (var i = 0; i < gc.getNumGeometries(); i++) {\n          var g = gc.getGeometryN(i);\n          DistanceToPoint.computeDistance(g, _pt2, _ptDist2);\n        }\n      } else {\n        _ptDist2.setMinimum(geom.getCoordinate(), _pt2);\n      }\n    } else if (arguments[2] instanceof PointPairDistance && arguments[0] instanceof LineSegment && arguments[1] instanceof Coordinate) {\n      var segment = arguments[0],\n          _pt3 = arguments[1],\n          _ptDist3 = arguments[2];\n      var closestPt = segment.closestPoint(_pt3);\n\n      _ptDist3.setMinimum(closestPt, _pt3);\n    }\n  };\n\n  function DiscreteHausdorffDistance() {\n    this._g0 = null;\n    this._g1 = null;\n    this._ptDist = new PointPairDistance();\n    this._densifyFrac = 0.0;\n    var g0 = arguments[0],\n        g1 = arguments[1];\n    this._g0 = g0;\n    this._g1 = g1;\n  }\n  extend(DiscreteHausdorffDistance.prototype, {\n    getCoordinates: function getCoordinates() {\n      return this._ptDist.getCoordinates();\n    },\n    setDensifyFraction: function setDensifyFraction(densifyFrac) {\n      if (densifyFrac > 1.0 || densifyFrac <= 0.0) throw new IllegalArgumentException(\"Fraction is not in range (0.0 - 1.0]\");\n      this._densifyFrac = densifyFrac;\n    },\n    compute: function compute(g0, g1) {\n      this.computeOrientedDistance(g0, g1, this._ptDist);\n      this.computeOrientedDistance(g1, g0, this._ptDist);\n    },\n    distance: function distance() {\n      this.compute(this._g0, this._g1);\n      return this._ptDist.getDistance();\n    },\n    computeOrientedDistance: function computeOrientedDistance(discreteGeom, geom, ptDist) {\n      var distFilter = new MaxPointDistanceFilter(geom);\n      discreteGeom.apply(distFilter);\n      ptDist.setMaximum(distFilter.getMaxPointDistance());\n\n      if (this._densifyFrac > 0) {\n        var fracFilter = new MaxDensifiedByFractionDistanceFilter(geom, this._densifyFrac);\n        discreteGeom.apply(fracFilter);\n        ptDist.setMaximum(fracFilter.getMaxPointDistance());\n      }\n    },\n    orientedDistance: function orientedDistance() {\n      this.computeOrientedDistance(this._g0, this._g1, this._ptDist);\n      return this._ptDist.getDistance();\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return DiscreteHausdorffDistance;\n    }\n  });\n\n  DiscreteHausdorffDistance.distance = function () {\n    if (arguments.length === 2) {\n      var g0 = arguments[0],\n          g1 = arguments[1];\n      var dist = new DiscreteHausdorffDistance(g0, g1);\n      return dist.distance();\n    } else if (arguments.length === 3) {\n      var _g = arguments[0],\n          _g2 = arguments[1],\n          densifyFrac = arguments[2];\n      var dist = new DiscreteHausdorffDistance(_g, _g2);\n      dist.setDensifyFraction(densifyFrac);\n      return dist.distance();\n    }\n  };\n\n  function MaxPointDistanceFilter() {\n    this._maxPtDist = new PointPairDistance();\n    this._minPtDist = new PointPairDistance();\n    this._euclideanDist = new DistanceToPoint();\n    this._geom = null;\n    var geom = arguments[0];\n    this._geom = geom;\n  }\n\n  extend(MaxPointDistanceFilter.prototype, {\n    filter: function filter(pt) {\n      this._minPtDist.initialize();\n\n      DistanceToPoint.computeDistance(this._geom, pt, this._minPtDist);\n\n      this._maxPtDist.setMaximum(this._minPtDist);\n    },\n    getMaxPointDistance: function getMaxPointDistance() {\n      return this._maxPtDist;\n    },\n    interfaces_: function interfaces_() {\n      return [CoordinateFilter];\n    },\n    getClass: function getClass() {\n      return MaxPointDistanceFilter;\n    }\n  });\n\n  function MaxDensifiedByFractionDistanceFilter() {\n    this._maxPtDist = new PointPairDistance();\n    this._minPtDist = new PointPairDistance();\n    this._geom = null;\n    this._numSubSegs = 0;\n    var geom = arguments[0],\n        fraction = arguments[1];\n    this._geom = geom;\n    this._numSubSegs = Math.trunc(Math.round(1.0 / fraction));\n  }\n\n  extend(MaxDensifiedByFractionDistanceFilter.prototype, {\n    filter: function filter(seq, index) {\n      if (index === 0) return null;\n      var p0 = seq.getCoordinate(index - 1);\n      var p1 = seq.getCoordinate(index);\n      var delx = (p1.x - p0.x) / this._numSubSegs;\n      var dely = (p1.y - p0.y) / this._numSubSegs;\n\n      for (var i = 0; i < this._numSubSegs; i++) {\n        var x = p0.x + i * delx;\n        var y = p0.y + i * dely;\n        var pt = new Coordinate(x, y);\n\n        this._minPtDist.initialize();\n\n        DistanceToPoint.computeDistance(this._geom, pt, this._minPtDist);\n\n        this._maxPtDist.setMaximum(this._minPtDist);\n      }\n    },\n    isDone: function isDone() {\n      return false;\n    },\n    isGeometryChanged: function isGeometryChanged() {\n      return false;\n    },\n    getMaxPointDistance: function getMaxPointDistance() {\n      return this._maxPtDist;\n    },\n    interfaces_: function interfaces_() {\n      return [CoordinateSequenceFilter];\n    },\n    getClass: function getClass() {\n      return MaxDensifiedByFractionDistanceFilter;\n    }\n  });\n  DiscreteHausdorffDistance.MaxPointDistanceFilter = MaxPointDistanceFilter;\n  DiscreteHausdorffDistance.MaxDensifiedByFractionDistanceFilter = MaxDensifiedByFractionDistanceFilter;\n\n\n\n  var distance_module = /*#__PURE__*/Object.freeze({\n    DiscreteHausdorffDistance: DiscreteHausdorffDistance,\n    DistanceToPoint: DistanceToPoint,\n    PointPairDistance: PointPairDistance\n  });\n\n  function ItemVisitor() {}\n  extend(ItemVisitor.prototype, {\n    visitItem: function visitItem(item) {},\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return ItemVisitor;\n    }\n  });\n\n  function PointOnGeometryLocator() {}\n  extend(PointOnGeometryLocator.prototype, {\n    locate: function locate(p) {},\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return PointOnGeometryLocator;\n    }\n  });\n\n  function IntervalRTreeNode() {\n    this._min = Double.POSITIVE_INFINITY;\n    this._max = Double.NEGATIVE_INFINITY;\n  }\n  extend(IntervalRTreeNode.prototype, {\n    getMin: function getMin() {\n      return this._min;\n    },\n    intersects: function intersects(queryMin, queryMax) {\n      if (this._min > queryMax || this._max < queryMin) return false;\n      return true;\n    },\n    getMax: function getMax() {\n      return this._max;\n    },\n    toString: function toString() {\n      return WKTWriter.toLineString(new Coordinate(this._min, 0), new Coordinate(this._max, 0));\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return IntervalRTreeNode;\n    }\n  });\n\n  function NodeComparator() {}\n\n  extend(NodeComparator.prototype, {\n    compare: function compare(o1, o2) {\n      var n1 = o1;\n      var n2 = o2;\n      var mid1 = (n1._min + n1._max) / 2;\n      var mid2 = (n2._min + n2._max) / 2;\n      if (mid1 < mid2) return -1;\n      if (mid1 > mid2) return 1;\n      return 0;\n    },\n    interfaces_: function interfaces_() {\n      return [Comparator];\n    },\n    getClass: function getClass() {\n      return NodeComparator;\n    }\n  });\n  IntervalRTreeNode.NodeComparator = NodeComparator;\n\n  function IntervalRTreeLeafNode() {\n    IntervalRTreeNode.apply(this);\n    this._item = null;\n    var min = arguments[0],\n        max = arguments[1],\n        item = arguments[2];\n    this._min = min;\n    this._max = max;\n    this._item = item;\n  }\n  inherits(IntervalRTreeLeafNode, IntervalRTreeNode);\n  extend(IntervalRTreeLeafNode.prototype, {\n    query: function query(queryMin, queryMax, visitor) {\n      if (!this.intersects(queryMin, queryMax)) return null;\n      visitor.visitItem(this._item);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return IntervalRTreeLeafNode;\n    }\n  });\n\n  var Collections = {\n    reverseOrder: function reverseOrder() {\n      return {\n        compare: function compare(a, b) {\n          return b.compareTo(a);\n        }\n      };\n    },\n    min: function min(l) {\n      Collections.sort(l);\n      return l.get(0);\n    },\n    sort: function sort(l, c) {\n      var a = l.toArray();\n\n      if (c) {\n        Arrays.sort(a, c);\n      } else {\n        Arrays.sort(a);\n      }\n\n      var i = l.iterator();\n\n      for (var pos = 0, alen = a.length; pos < alen; pos++) {\n        i.next();\n        i.set(a[pos]);\n      }\n    },\n    singletonList: function singletonList(o) {\n      var arrayList = new ArrayList();\n      arrayList.add(o);\n      return arrayList;\n    }\n  };\n\n  function IntervalRTreeBranchNode() {\n    IntervalRTreeNode.apply(this);\n    this._node1 = null;\n    this._node2 = null;\n    var n1 = arguments[0],\n        n2 = arguments[1];\n    this._node1 = n1;\n    this._node2 = n2;\n    this.buildExtent(this._node1, this._node2);\n  }\n  inherits(IntervalRTreeBranchNode, IntervalRTreeNode);\n  extend(IntervalRTreeBranchNode.prototype, {\n    buildExtent: function buildExtent(n1, n2) {\n      this._min = Math.min(n1._min, n2._min);\n      this._max = Math.max(n1._max, n2._max);\n    },\n    query: function query(queryMin, queryMax, visitor) {\n      if (!this.intersects(queryMin, queryMax)) {\n        return null;\n      }\n\n      if (this._node1 !== null) this._node1.query(queryMin, queryMax, visitor);\n      if (this._node2 !== null) this._node2.query(queryMin, queryMax, visitor);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return IntervalRTreeBranchNode;\n    }\n  });\n\n  function SortedPackedIntervalRTree() {\n    this._leaves = new ArrayList();\n    this._root = null;\n    this._level = 0;\n  }\n  extend(SortedPackedIntervalRTree.prototype, {\n    buildTree: function buildTree() {\n      Collections.sort(this._leaves, new IntervalRTreeNode.NodeComparator());\n      var src = this._leaves;\n      var temp = null;\n      var dest = new ArrayList();\n\n      while (true) {\n        this.buildLevel(src, dest);\n        if (dest.size() === 1) return dest.get(0);\n        temp = src;\n        src = dest;\n        dest = temp;\n      }\n    },\n    insert: function insert(min, max, item) {\n      if (this._root !== null) throw new IllegalStateException(\"Index cannot be added to once it has been queried\");\n\n      this._leaves.add(new IntervalRTreeLeafNode(min, max, item));\n    },\n    query: function query(min, max, visitor) {\n      this.init();\n\n      this._root.query(min, max, visitor);\n    },\n    buildRoot: function buildRoot() {\n      if (this._root !== null) return null;\n      this._root = this.buildTree();\n    },\n    printNode: function printNode(node) {\n      System.out.println(WKTWriter.toLineString(new Coordinate(node._min, this._level), new Coordinate(node._max, this._level)));\n    },\n    init: function init() {\n      if (this._root !== null) return null;\n      this.buildRoot();\n    },\n    buildLevel: function buildLevel(src, dest) {\n      this._level++;\n      dest.clear();\n\n      for (var i = 0; i < src.size(); i += 2) {\n        var n1 = src.get(i);\n        var n2 = i + 1 < src.size() ? src.get(i) : null;\n\n        if (n2 === null) {\n          dest.add(n1);\n        } else {\n          var node = new IntervalRTreeBranchNode(src.get(i), src.get(i + 1));\n          dest.add(node);\n        }\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return SortedPackedIntervalRTree;\n    }\n  });\n\n  function LinearComponentExtracter() {\n    this._lines = null;\n    this._isForcedToLineString = false;\n\n    if (arguments.length === 1) {\n      var lines = arguments[0];\n      this._lines = lines;\n    } else if (arguments.length === 2) {\n      var _lines = arguments[0],\n          isForcedToLineString = arguments[1];\n      this._lines = _lines;\n      this._isForcedToLineString = isForcedToLineString;\n    }\n  }\n  extend(LinearComponentExtracter.prototype, {\n    filter: function filter(geom) {\n      if (this._isForcedToLineString && geom instanceof LinearRing) {\n        var line = geom.getFactory().createLineString(geom.getCoordinateSequence());\n\n        this._lines.add(line);\n\n        return null;\n      }\n\n      if (geom instanceof LineString) this._lines.add(geom);\n    },\n    setForceToLineString: function setForceToLineString(isForcedToLineString) {\n      this._isForcedToLineString = isForcedToLineString;\n    },\n    interfaces_: function interfaces_() {\n      return [GeometryComponentFilter];\n    },\n    getClass: function getClass() {\n      return LinearComponentExtracter;\n    }\n  });\n\n  LinearComponentExtracter.getGeometry = function () {\n    if (arguments.length === 1) {\n      var geom = arguments[0];\n      return geom.getFactory().buildGeometry(LinearComponentExtracter.getLines(geom));\n    } else if (arguments.length === 2) {\n      var _geom = arguments[0],\n          forceToLineString = arguments[1];\n      return _geom.getFactory().buildGeometry(LinearComponentExtracter.getLines(_geom, forceToLineString));\n    }\n  };\n\n  LinearComponentExtracter.getLines = function () {\n    if (arguments.length === 1) {\n      var geom = arguments[0];\n      return LinearComponentExtracter.getLines(geom, false);\n    } else if (arguments.length === 2) {\n      if (hasInterface(arguments[0], Collection) && hasInterface(arguments[1], Collection)) {\n        var geoms = arguments[0],\n            _lines2 = arguments[1];\n\n        for (var i = geoms.iterator(); i.hasNext();) {\n          var g = i.next();\n          LinearComponentExtracter.getLines(g, _lines2);\n        }\n\n        return _lines2;\n      } else if (arguments[0] instanceof Geometry && typeof arguments[1] === \"boolean\") {\n        var _geom2 = arguments[0],\n            forceToLineString = arguments[1];\n        var lines = new ArrayList();\n\n        _geom2.apply(new LinearComponentExtracter(lines, forceToLineString));\n\n        return lines;\n      } else if (arguments[0] instanceof Geometry && hasInterface(arguments[1], Collection)) {\n        var _geom3 = arguments[0],\n            _lines3 = arguments[1];\n\n        if (_geom3 instanceof LineString) {\n          _lines3.add(_geom3);\n        } else {\n          _geom3.apply(new LinearComponentExtracter(_lines3));\n        }\n\n        return _lines3;\n      }\n    } else if (arguments.length === 3) {\n      if (typeof arguments[2] === \"boolean\" && hasInterface(arguments[0], Collection) && hasInterface(arguments[1], Collection)) {\n        var _geoms = arguments[0],\n            _lines4 = arguments[1],\n            _forceToLineString = arguments[2];\n\n        for (var i = _geoms.iterator(); i.hasNext();) {\n          var g = i.next();\n          LinearComponentExtracter.getLines(g, _lines4, _forceToLineString);\n        }\n\n        return _lines4;\n      } else if (typeof arguments[2] === \"boolean\" && arguments[0] instanceof Geometry && hasInterface(arguments[1], Collection)) {\n        var _geom4 = arguments[0],\n            _lines5 = arguments[1],\n            _forceToLineString2 = arguments[2];\n\n        _geom4.apply(new LinearComponentExtracter(_lines5, _forceToLineString2));\n\n        return _lines5;\n      }\n    }\n  };\n\n  function ArrayListVisitor() {\n    this._items = new ArrayList();\n  }\n  extend(ArrayListVisitor.prototype, {\n    visitItem: function visitItem(item) {\n      this._items.add(item);\n    },\n    getItems: function getItems() {\n      return this._items;\n    },\n    interfaces_: function interfaces_() {\n      return [ItemVisitor];\n    },\n    getClass: function getClass() {\n      return ArrayListVisitor;\n    }\n  });\n\n  function RayCrossingCounter() {\n    this._p = null;\n    this._crossingCount = 0;\n    this._isPointOnSegment = false;\n    var p = arguments[0];\n    this._p = p;\n  }\n  extend(RayCrossingCounter.prototype, {\n    countSegment: function countSegment(p1, p2) {\n      if (p1.x < this._p.x && p2.x < this._p.x) return null;\n\n      if (this._p.x === p2.x && this._p.y === p2.y) {\n        this._isPointOnSegment = true;\n        return null;\n      }\n\n      if (p1.y === this._p.y && p2.y === this._p.y) {\n        var minx = p1.x;\n        var maxx = p2.x;\n\n        if (minx > maxx) {\n          minx = p2.x;\n          maxx = p1.x;\n        }\n\n        if (this._p.x >= minx && this._p.x <= maxx) {\n          this._isPointOnSegment = true;\n        }\n\n        return null;\n      }\n\n      if (p1.y > this._p.y && p2.y <= this._p.y || p2.y > this._p.y && p1.y <= this._p.y) {\n        var orient = Orientation.index(p1, p2, this._p);\n\n        if (orient === Orientation.COLLINEAR) {\n          this._isPointOnSegment = true;\n          return null;\n        }\n\n        if (p2.y < p1.y) {\n          orient = -orient;\n        }\n\n        if (orient === Orientation.LEFT) {\n          this._crossingCount++;\n        }\n      }\n    },\n    isPointInPolygon: function isPointInPolygon() {\n      return this.getLocation() !== Location.EXTERIOR;\n    },\n    getLocation: function getLocation() {\n      if (this._isPointOnSegment) return Location.BOUNDARY;\n\n      if (this._crossingCount % 2 === 1) {\n        return Location.INTERIOR;\n      }\n\n      return Location.EXTERIOR;\n    },\n    isOnSegment: function isOnSegment() {\n      return this._isPointOnSegment;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return RayCrossingCounter;\n    }\n  });\n\n  RayCrossingCounter.locatePointInRing = function () {\n    if (arguments[0] instanceof Coordinate && hasInterface(arguments[1], CoordinateSequence)) {\n      var p = arguments[0],\n          ring = arguments[1];\n      var counter = new RayCrossingCounter(p);\n      var p1 = new Coordinate();\n      var p2 = new Coordinate();\n\n      for (var i = 1; i < ring.size(); i++) {\n        ring.getCoordinate(i, p1);\n        ring.getCoordinate(i - 1, p2);\n        counter.countSegment(p1, p2);\n        if (counter.isOnSegment()) return counter.getLocation();\n      }\n\n      return counter.getLocation();\n    } else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Array) {\n      var _p = arguments[0],\n          _ring = arguments[1];\n      var counter = new RayCrossingCounter(_p);\n\n      for (var i = 1; i < _ring.length; i++) {\n        var p1 = _ring[i];\n        var p2 = _ring[i - 1];\n        counter.countSegment(p1, p2);\n        if (counter.isOnSegment()) return counter.getLocation();\n      }\n\n      return counter.getLocation();\n    }\n  };\n\n  function IndexedPointInAreaLocator() {\n    this._index = null;\n    var g = arguments[0];\n    if (!(hasInterface(g, Polygonal) || g instanceof LinearRing)) throw new IllegalArgumentException(\"Argument must be Polygonal or LinearRing\");\n    this._index = new IntervalIndexedGeometry(g);\n  }\n  extend(IndexedPointInAreaLocator.prototype, {\n    locate: function locate(p) {\n      var rcc = new RayCrossingCounter(p);\n      var visitor = new SegmentVisitor(rcc);\n\n      this._index.query(p.y, p.y, visitor);\n\n      return rcc.getLocation();\n    },\n    interfaces_: function interfaces_() {\n      return [PointOnGeometryLocator];\n    },\n    getClass: function getClass() {\n      return IndexedPointInAreaLocator;\n    }\n  });\n\n  function SegmentVisitor() {\n    this._counter = null;\n    var counter = arguments[0];\n    this._counter = counter;\n  }\n\n  extend(SegmentVisitor.prototype, {\n    visitItem: function visitItem(item) {\n      var seg = item;\n\n      this._counter.countSegment(seg.getCoordinate(0), seg.getCoordinate(1));\n    },\n    interfaces_: function interfaces_() {\n      return [ItemVisitor];\n    },\n    getClass: function getClass() {\n      return SegmentVisitor;\n    }\n  });\n\n  function IntervalIndexedGeometry() {\n    this._index = new SortedPackedIntervalRTree();\n    var geom = arguments[0];\n    this.init(geom);\n  }\n\n  extend(IntervalIndexedGeometry.prototype, {\n    init: function init(geom) {\n      var lines = LinearComponentExtracter.getLines(geom);\n\n      for (var i = lines.iterator(); i.hasNext();) {\n        var line = i.next();\n        var pts = line.getCoordinates();\n        this.addLine(pts);\n      }\n    },\n    addLine: function addLine(pts) {\n      for (var i = 1; i < pts.length; i++) {\n        var seg = new LineSegment(pts[i - 1], pts[i]);\n        var min = Math.min(seg.p0.y, seg.p1.y);\n        var max = Math.max(seg.p0.y, seg.p1.y);\n\n        this._index.insert(min, max, seg);\n      }\n    },\n    query: function query() {\n      if (arguments.length === 2) {\n        var min = arguments[0],\n            max = arguments[1];\n        var visitor = new ArrayListVisitor();\n\n        this._index.query(min, max, visitor);\n\n        return visitor.getItems();\n      } else if (arguments.length === 3) {\n        var _min = arguments[0],\n            _max = arguments[1],\n            _visitor = arguments[2];\n\n        this._index.query(_min, _max, _visitor);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return IntervalIndexedGeometry;\n    }\n  });\n  IndexedPointInAreaLocator.SegmentVisitor = SegmentVisitor;\n  IndexedPointInAreaLocator.IntervalIndexedGeometry = IntervalIndexedGeometry;\n\n  function PointLocation() {}\n  extend(PointLocation.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return PointLocation;\n    }\n  });\n\n  PointLocation.isOnLine = function () {\n    if (arguments[0] instanceof Coordinate && hasInterface(arguments[1], CoordinateSequence)) {\n      var p = arguments[0],\n          line = arguments[1];\n      var lineIntersector = new RobustLineIntersector();\n      var p0 = new Coordinate();\n      var p1 = new Coordinate();\n      var n = line.size();\n\n      for (var i = 1; i < n; i++) {\n        line.getCoordinate(i - 1, p0);\n        line.getCoordinate(i, p1);\n        lineIntersector.computeIntersection(p, p0, p1);\n\n        if (lineIntersector.hasIntersection()) {\n          return true;\n        }\n      }\n\n      return false;\n    } else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Array) {\n      var _p = arguments[0],\n          _line = arguments[1];\n      var lineIntersector = new RobustLineIntersector();\n\n      for (var i = 1; i < _line.length; i++) {\n        var p0 = _line[i - 1];\n        var p1 = _line[i];\n        lineIntersector.computeIntersection(_p, p0, p1);\n\n        if (lineIntersector.hasIntersection()) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  };\n\n  PointLocation.locateInRing = function (p, ring) {\n    return RayCrossingCounter.locatePointInRing(p, ring);\n  };\n\n  PointLocation.isInRing = function (p, ring) {\n    return PointLocation.locateInRing(p, ring) !== Location.EXTERIOR;\n  };\n\n  function GeometryCollectionIterator() {\n    this._parent = null;\n    this._atStart = null;\n    this._max = null;\n    this._index = null;\n    this._subcollectionIterator = null;\n    var parent = arguments[0];\n    this._parent = parent;\n    this._atStart = true;\n    this._index = 0;\n    this._max = parent.getNumGeometries();\n  }\n  extend(GeometryCollectionIterator.prototype, {\n    next: function next() {\n      if (this._atStart) {\n        this._atStart = false;\n        if (GeometryCollectionIterator.isAtomic(this._parent)) this._index++;\n        return this._parent;\n      }\n\n      if (this._subcollectionIterator !== null) {\n        if (this._subcollectionIterator.hasNext()) {\n          return this._subcollectionIterator.next();\n        } else {\n          this._subcollectionIterator = null;\n        }\n      }\n\n      if (this._index >= this._max) {\n        throw new NoSuchElementException();\n      }\n\n      var obj = this._parent.getGeometryN(this._index++);\n\n      if (obj instanceof GeometryCollection) {\n        this._subcollectionIterator = new GeometryCollectionIterator(obj);\n        return this._subcollectionIterator.next();\n      }\n\n      return obj;\n    },\n    remove: function remove() {\n      throw new UnsupportedOperationException(this.getClass().getName());\n    },\n    hasNext: function hasNext() {\n      if (this._atStart) {\n        return true;\n      }\n\n      if (this._subcollectionIterator !== null) {\n        if (this._subcollectionIterator.hasNext()) {\n          return true;\n        }\n\n        this._subcollectionIterator = null;\n      }\n\n      if (this._index >= this._max) {\n        return false;\n      }\n\n      return true;\n    },\n    interfaces_: function interfaces_() {\n      return [Iterator];\n    },\n    getClass: function getClass() {\n      return GeometryCollectionIterator;\n    }\n  });\n\n  GeometryCollectionIterator.isAtomic = function (geom) {\n    return !(geom instanceof GeometryCollection);\n  };\n\n  function SimplePointInAreaLocator() {\n    this._geom = null;\n    var geom = arguments[0];\n    this._geom = geom;\n  }\n  extend(SimplePointInAreaLocator.prototype, {\n    locate: function locate(p) {\n      return SimplePointInAreaLocator.locate(p, this._geom);\n    },\n    interfaces_: function interfaces_() {\n      return [PointOnGeometryLocator];\n    },\n    getClass: function getClass() {\n      return SimplePointInAreaLocator;\n    }\n  });\n\n  SimplePointInAreaLocator.locatePointInPolygon = function (p, poly) {\n    if (poly.isEmpty()) return Location.EXTERIOR;\n    var shell = poly.getExteriorRing();\n    var shellLoc = SimplePointInAreaLocator.locatePointInRing(p, shell);\n    if (shellLoc !== Location.INTERIOR) return shellLoc;\n\n    for (var i = 0; i < poly.getNumInteriorRing(); i++) {\n      var hole = poly.getInteriorRingN(i);\n      var holeLoc = SimplePointInAreaLocator.locatePointInRing(p, hole);\n      if (holeLoc === Location.BOUNDARY) return Location.BOUNDARY;\n      if (holeLoc === Location.INTERIOR) return Location.EXTERIOR;\n    }\n\n    return Location.INTERIOR;\n  };\n\n  SimplePointInAreaLocator.locatePointInRing = function (p, ring) {\n    if (!ring.getEnvelopeInternal().intersects(p)) return Location.EXTERIOR;\n    return PointLocation.locateInRing(p, ring.getCoordinates());\n  };\n\n  SimplePointInAreaLocator.containsPointInPolygon = function (p, poly) {\n    return Location.EXTERIOR !== SimplePointInAreaLocator.locatePointInPolygon(p, poly);\n  };\n\n  SimplePointInAreaLocator.locateInGeometry = function (p, geom) {\n    if (geom instanceof Polygon) {\n      return SimplePointInAreaLocator.locatePointInPolygon(p, geom);\n    } else if (geom instanceof GeometryCollection) {\n      var geomi = new GeometryCollectionIterator(geom);\n\n      while (geomi.hasNext()) {\n        var g2 = geomi.next();\n\n        if (g2 !== geom) {\n          var loc = SimplePointInAreaLocator.locateInGeometry(p, g2);\n          if (loc !== Location.EXTERIOR) return loc;\n        }\n      }\n    }\n\n    return Location.EXTERIOR;\n  };\n\n  SimplePointInAreaLocator.locate = function (p, geom) {\n    if (geom.isEmpty()) return Location.EXTERIOR;\n    return SimplePointInAreaLocator.locateInGeometry(p, geom);\n  };\n\n\n\n  var locate = /*#__PURE__*/Object.freeze({\n    IndexedPointInAreaLocator: IndexedPointInAreaLocator,\n    PointOnGeometryLocator: PointOnGeometryLocator,\n    SimplePointInAreaLocator: SimplePointInAreaLocator\n  });\n\n  function SimilarityMeasure() {}\n  extend(SimilarityMeasure.prototype, {\n    measure: function measure(g1, g2) {},\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return SimilarityMeasure;\n    }\n  });\n\n  function AreaSimilarityMeasure() {}\n  extend(AreaSimilarityMeasure.prototype, {\n    measure: function measure(g1, g2) {\n      var areaInt = g1.intersection(g2).getArea();\n      var areaUnion = g1.union(g2).getArea();\n      return areaInt / areaUnion;\n    },\n    interfaces_: function interfaces_() {\n      return [SimilarityMeasure];\n    },\n    getClass: function getClass() {\n      return AreaSimilarityMeasure;\n    }\n  });\n\n  function HausdorffSimilarityMeasure() {}\n  extend(HausdorffSimilarityMeasure.prototype, {\n    measure: function measure(g1, g2) {\n      var distance = DiscreteHausdorffDistance.distance(g1, g2, HausdorffSimilarityMeasure.DENSIFY_FRACTION);\n      var env = new Envelope(g1.getEnvelopeInternal());\n      env.expandToInclude(g2.getEnvelopeInternal());\n      var envSize = HausdorffSimilarityMeasure.diagonalSize(env);\n      var measure = 1 - distance / envSize;\n      return measure;\n    },\n    interfaces_: function interfaces_() {\n      return [SimilarityMeasure];\n    },\n    getClass: function getClass() {\n      return HausdorffSimilarityMeasure;\n    }\n  });\n\n  HausdorffSimilarityMeasure.diagonalSize = function (env) {\n    if (env.isNull()) return 0.0;\n    var width = env.getWidth();\n    var hgt = env.getHeight();\n    return Math.sqrt(width * width + hgt * hgt);\n  };\n\n  HausdorffSimilarityMeasure.DENSIFY_FRACTION = 0.25;\n\n  function SimilarityMeasureCombiner() {}\n  extend(SimilarityMeasureCombiner.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return SimilarityMeasureCombiner;\n    }\n  });\n\n  SimilarityMeasureCombiner.combine = function (measure1, measure2) {\n    return Math.min(measure1, measure2);\n  };\n\n\n\n  var match = /*#__PURE__*/Object.freeze({\n    AreaSimilarityMeasure: AreaSimilarityMeasure,\n    HausdorffSimilarityMeasure: HausdorffSimilarityMeasure,\n    SimilarityMeasure: SimilarityMeasure,\n    SimilarityMeasureCombiner: SimilarityMeasureCombiner\n  });\n\n  function Centroid() {\n    this._areaBasePt = null;\n    this._triangleCent3 = new Coordinate();\n    this._areasum2 = 0;\n    this._cg3 = new Coordinate();\n    this._lineCentSum = new Coordinate();\n    this._totalLength = 0.0;\n    this._ptCount = 0;\n    this._ptCentSum = new Coordinate();\n    var geom = arguments[0];\n    this._areaBasePt = null;\n    this.add(geom);\n  }\n  extend(Centroid.prototype, {\n    setAreaBasePoint: function setAreaBasePoint(basePt) {\n      this._areaBasePt = basePt;\n    },\n    addPoint: function addPoint(pt) {\n      this._ptCount += 1;\n      this._ptCentSum.x += pt.x;\n      this._ptCentSum.y += pt.y;\n    },\n    addLineSegments: function addLineSegments(pts) {\n      var lineLen = 0.0;\n\n      for (var i = 0; i < pts.length - 1; i++) {\n        var segmentLen = pts[i].distance(pts[i + 1]);\n        if (segmentLen === 0.0) continue;\n        lineLen += segmentLen;\n        var midx = (pts[i].x + pts[i + 1].x) / 2;\n        this._lineCentSum.x += segmentLen * midx;\n        var midy = (pts[i].y + pts[i + 1].y) / 2;\n        this._lineCentSum.y += segmentLen * midy;\n      }\n\n      this._totalLength += lineLen;\n      if (lineLen === 0.0 && pts.length > 0) this.addPoint(pts[0]);\n    },\n    addHole: function addHole(pts) {\n      var isPositiveArea = Orientation.isCCW(pts);\n\n      for (var i = 0; i < pts.length - 1; i++) {\n        this.addTriangle(this._areaBasePt, pts[i], pts[i + 1], isPositiveArea);\n      }\n\n      this.addLineSegments(pts);\n    },\n    getCentroid: function getCentroid() {\n      var cent = new Coordinate();\n\n      if (Math.abs(this._areasum2) > 0.0) {\n        cent.x = this._cg3.x / 3 / this._areasum2;\n        cent.y = this._cg3.y / 3 / this._areasum2;\n      } else if (this._totalLength > 0.0) {\n        cent.x = this._lineCentSum.x / this._totalLength;\n        cent.y = this._lineCentSum.y / this._totalLength;\n      } else if (this._ptCount > 0) {\n        cent.x = this._ptCentSum.x / this._ptCount;\n        cent.y = this._ptCentSum.y / this._ptCount;\n      } else {\n        return null;\n      }\n\n      return cent;\n    },\n    addShell: function addShell(pts) {\n      if (pts.length > 0) this.setAreaBasePoint(pts[0]);\n      var isPositiveArea = !Orientation.isCCW(pts);\n\n      for (var i = 0; i < pts.length - 1; i++) {\n        this.addTriangle(this._areaBasePt, pts[i], pts[i + 1], isPositiveArea);\n      }\n\n      this.addLineSegments(pts);\n    },\n    addTriangle: function addTriangle(p0, p1, p2, isPositiveArea) {\n      var sign = isPositiveArea ? 1.0 : -1.0;\n      Centroid.centroid3(p0, p1, p2, this._triangleCent3);\n      var area2 = Centroid.area2(p0, p1, p2);\n      this._cg3.x += sign * area2 * this._triangleCent3.x;\n      this._cg3.y += sign * area2 * this._triangleCent3.y;\n      this._areasum2 += sign * area2;\n    },\n    add: function add() {\n      if (arguments[0] instanceof Polygon) {\n        var _poly = arguments[0];\n        this.addShell(_poly.getExteriorRing().getCoordinates());\n\n        for (var i = 0; i < _poly.getNumInteriorRing(); i++) {\n          this.addHole(_poly.getInteriorRingN(i).getCoordinates());\n        }\n      } else if (arguments[0] instanceof Geometry) {\n        var geom = arguments[0];\n        if (geom.isEmpty()) return null;\n\n        if (geom instanceof Point) {\n          this.addPoint(geom.getCoordinate());\n        } else if (geom instanceof LineString) {\n          this.addLineSegments(geom.getCoordinates());\n        } else if (geom instanceof Polygon) {\n          var poly = geom;\n          this.add(poly);\n        } else if (geom instanceof GeometryCollection) {\n          var gc = geom;\n\n          for (var i = 0; i < gc.getNumGeometries(); i++) {\n            this.add(gc.getGeometryN(i));\n          }\n        }\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Centroid;\n    }\n  });\n\n  Centroid.area2 = function (p1, p2, p3) {\n    return (p2.x - p1.x) * (p3.y - p1.y) - (p3.x - p1.x) * (p2.y - p1.y);\n  };\n\n  Centroid.centroid3 = function (p1, p2, p3, c) {\n    c.x = p1.x + p2.x + p3.x;\n    c.y = p1.y + p2.y + p3.y;\n    return null;\n  };\n\n  Centroid.getCentroid = function (geom) {\n    var cent = new Centroid(geom);\n    return cent.getCentroid();\n  };\n\n  function CGAlgorithms() {}\n  extend(CGAlgorithms.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return CGAlgorithms;\n    }\n  });\n\n  CGAlgorithms.orientationIndex = function (p1, p2, q) {\n    return CGAlgorithmsDD.orientationIndex(p1, p2, q);\n  };\n\n  CGAlgorithms.signedArea = function () {\n    if (arguments[0] instanceof Array) {\n      var ring = arguments[0];\n      if (ring.length < 3) return 0.0;\n      var sum = 0.0;\n      var x0 = ring[0].x;\n\n      for (var i = 1; i < ring.length - 1; i++) {\n        var x = ring[i].x - x0;\n        var y1 = ring[i + 1].y;\n        var y2 = ring[i - 1].y;\n        sum += x * (y2 - y1);\n      }\n\n      return sum / 2.0;\n    } else if (hasInterface(arguments[0], CoordinateSequence)) {\n      var _ring = arguments[0];\n\n      var n = _ring.size();\n\n      if (n < 3) return 0.0;\n      var p0 = new Coordinate();\n      var p1 = new Coordinate();\n      var p2 = new Coordinate();\n\n      _ring.getCoordinate(0, p1);\n\n      _ring.getCoordinate(1, p2);\n\n      var x0 = p1.x;\n      p2.x -= x0;\n      var sum = 0.0;\n\n      for (var i = 1; i < n - 1; i++) {\n        p0.y = p1.y;\n        p1.x = p2.x;\n        p1.y = p2.y;\n\n        _ring.getCoordinate(i + 1, p2);\n\n        p2.x -= x0;\n        sum += p1.x * (p0.y - p2.y);\n      }\n\n      return sum / 2.0;\n    }\n  };\n\n  CGAlgorithms.distanceLineLine = function (A, B, C, D) {\n    if (A.equals(B)) return CGAlgorithms.distancePointLine(A, C, D);\n    if (C.equals(D)) return CGAlgorithms.distancePointLine(D, A, B);\n    var noIntersection = false;\n\n    if (!Envelope.intersects(A, B, C, D)) {\n      noIntersection = true;\n    } else {\n      var denom = (B.x - A.x) * (D.y - C.y) - (B.y - A.y) * (D.x - C.x);\n\n      if (denom === 0) {\n        noIntersection = true;\n      } else {\n        var r_num = (A.y - C.y) * (D.x - C.x) - (A.x - C.x) * (D.y - C.y);\n        var s_num = (A.y - C.y) * (B.x - A.x) - (A.x - C.x) * (B.y - A.y);\n        var s = s_num / denom;\n        var r = r_num / denom;\n\n        if (r < 0 || r > 1 || s < 0 || s > 1) {\n          noIntersection = true;\n        }\n      }\n    }\n\n    if (noIntersection) {\n      return MathUtil.min(CGAlgorithms.distancePointLine(A, C, D), CGAlgorithms.distancePointLine(B, C, D), CGAlgorithms.distancePointLine(C, A, B), CGAlgorithms.distancePointLine(D, A, B));\n    }\n\n    return 0.0;\n  };\n\n  CGAlgorithms.isPointInRing = function (p, ring) {\n    return CGAlgorithms.locatePointInRing(p, ring) !== Location.EXTERIOR;\n  };\n\n  CGAlgorithms.computeLength = function (pts) {\n    var n = pts.size();\n    if (n <= 1) return 0.0;\n    var len = 0.0;\n    var p = new Coordinate();\n    pts.getCoordinate(0, p);\n    var x0 = p.x;\n    var y0 = p.y;\n\n    for (var i = 1; i < n; i++) {\n      pts.getCoordinate(i, p);\n      var x1 = p.x;\n      var y1 = p.y;\n      var dx = x1 - x0;\n      var dy = y1 - y0;\n      len += Math.sqrt(dx * dx + dy * dy);\n      x0 = x1;\n      y0 = y1;\n    }\n\n    return len;\n  };\n\n  CGAlgorithms.isCCW = function (ring) {\n    var nPts = ring.length - 1;\n    if (nPts < 3) throw new IllegalArgumentException(\"Ring has fewer than 4 points, so orientation cannot be determined\");\n    var hiPt = ring[0];\n    var hiIndex = 0;\n\n    for (var i = 1; i <= nPts; i++) {\n      var p = ring[i];\n\n      if (p.y > hiPt.y) {\n        hiPt = p;\n        hiIndex = i;\n      }\n    }\n\n    var iPrev = hiIndex;\n\n    do {\n      iPrev = iPrev - 1;\n      if (iPrev < 0) iPrev = nPts;\n    } while (ring[iPrev].equals2D(hiPt) && iPrev !== hiIndex);\n\n    var iNext = hiIndex;\n\n    do {\n      iNext = (iNext + 1) % nPts;\n    } while (ring[iNext].equals2D(hiPt) && iNext !== hiIndex);\n\n    var prev = ring[iPrev];\n    var next = ring[iNext];\n    if (prev.equals2D(hiPt) || next.equals2D(hiPt) || prev.equals2D(next)) return false;\n    var disc = CGAlgorithms.computeOrientation(prev, hiPt, next);\n    var isCCW = false;\n\n    if (disc === 0) {\n      isCCW = prev.x > next.x;\n    } else {\n      isCCW = disc > 0;\n    }\n\n    return isCCW;\n  };\n\n  CGAlgorithms.locatePointInRing = function (p, ring) {\n    return RayCrossingCounter.locatePointInRing(p, ring);\n  };\n\n  CGAlgorithms.distancePointLinePerpendicular = function (p, A, B) {\n    var len2 = (B.x - A.x) * (B.x - A.x) + (B.y - A.y) * (B.y - A.y);\n    var s = ((A.y - p.y) * (B.x - A.x) - (A.x - p.x) * (B.y - A.y)) / len2;\n    return Math.abs(s) * Math.sqrt(len2);\n  };\n\n  CGAlgorithms.computeOrientation = function (p1, p2, q) {\n    return CGAlgorithms.orientationIndex(p1, p2, q);\n  };\n\n  CGAlgorithms.distancePointLine = function () {\n    if (arguments.length === 2) {\n      var p = arguments[0],\n          line = arguments[1];\n      if (line.length === 0) throw new IllegalArgumentException(\"Line array must contain at least one vertex\");\n      var minDistance = p.distance(line[0]);\n\n      for (var i = 0; i < line.length - 1; i++) {\n        var dist = CGAlgorithms.distancePointLine(p, line[i], line[i + 1]);\n\n        if (dist < minDistance) {\n          minDistance = dist;\n        }\n      }\n\n      return minDistance;\n    } else if (arguments.length === 3) {\n      var _p = arguments[0],\n          A = arguments[1],\n          B = arguments[2];\n      if (A.x === B.x && A.y === B.y) return _p.distance(A);\n      var len2 = (B.x - A.x) * (B.x - A.x) + (B.y - A.y) * (B.y - A.y);\n      var r = ((_p.x - A.x) * (B.x - A.x) + (_p.y - A.y) * (B.y - A.y)) / len2;\n      if (r <= 0.0) return _p.distance(A);\n      if (r >= 1.0) return _p.distance(B);\n      var s = ((A.y - _p.y) * (B.x - A.x) - (A.x - _p.x) * (B.y - A.y)) / len2;\n      return Math.abs(s) * Math.sqrt(len2);\n    }\n  };\n\n  CGAlgorithms.isOnLine = function (p, pt) {\n    var lineIntersector = new RobustLineIntersector();\n\n    for (var i = 1; i < pt.length; i++) {\n      var p0 = pt[i - 1];\n      var p1 = pt[i];\n      lineIntersector.computeIntersection(p, p0, p1);\n\n      if (lineIntersector.hasIntersection()) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  CGAlgorithms.CLOCKWISE = -1;\n  CGAlgorithms.RIGHT = CGAlgorithms.CLOCKWISE;\n  CGAlgorithms.COUNTERCLOCKWISE = 1;\n  CGAlgorithms.LEFT = CGAlgorithms.COUNTERCLOCKWISE;\n  CGAlgorithms.COLLINEAR = 0;\n  CGAlgorithms.STRAIGHT = CGAlgorithms.COLLINEAR;\n\n  /**\n   * @param {string=} message Optional message\n   * @extends {Error}\n   * @constructor\n   * @private\n   */\n  function EmptyStackException(message) {\n    this.message = message || '';\n  }\n  EmptyStackException.prototype = new Error();\n  /**\n   * @type {string}\n   */\n\n  EmptyStackException.prototype.name = 'EmptyStackException';\n\n  /**\n   * @see http://download.oracle.com/javase/6/docs/api/java/util/Stack.html\n   *\n   * @extends {List}\n   * @constructor\n   * @private\n   */\n\n  function Stack() {\n    /**\n     * @type {Array}\n     * @private\n     */\n    this.array_ = [];\n  }\n  Stack.prototype = new List();\n  /**\n   * @override\n   */\n\n  Stack.prototype.add = function (e) {\n    this.array_.push(e);\n    return true;\n  };\n  /**\n   * @override\n   */\n\n\n  Stack.prototype.get = function (index) {\n    if (index < 0 || index >= this.size()) {\n      throw new IndexOutOfBoundsException();\n    }\n\n    return this.array_[index];\n  };\n  /**\n   * Pushes an item onto the top of this stack.\n   * @param {Object} e\n   * @return {Object}\n   */\n\n\n  Stack.prototype.push = function (e) {\n    this.array_.push(e);\n    return e;\n  };\n  /**\n   * Pushes an item onto the top of this stack.\n   * @param {Object} e\n   * @return {Object}\n   */\n\n\n  Stack.prototype.pop = function (e) {\n    if (this.array_.length === 0) {\n      throw new EmptyStackException();\n    }\n\n    return this.array_.pop();\n  };\n  /**\n   * Looks at the object at the top of this stack without removing it from the\n   * stack.\n   * @return {Object}\n   */\n\n\n  Stack.prototype.peek = function () {\n    if (this.array_.length === 0) {\n      throw new EmptyStackException();\n    }\n\n    return this.array_[this.array_.length - 1];\n  };\n  /**\n   * Tests if this stack is empty.\n   * @return {boolean} true if and only if this stack contains no items; false\n   *         otherwise.\n   */\n\n\n  Stack.prototype.empty = function () {\n    if (this.array_.length === 0) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  /**\n   * @return {boolean}\n   */\n\n\n  Stack.prototype.isEmpty = function () {\n    return this.empty();\n  };\n  /**\n   * Returns the 1-based position where an object is on this stack. If the object\n   * o occurs as an item in this stack, this method returns the distance from the\n   * top of the stack of the occurrence nearest the top of the stack; the topmost\n   * item on the stack is considered to be at distance 1. The equals method is\n   * used to compare o to the items in this stack.\n   *\n   * NOTE: does not currently actually use equals. (=== is used)\n   *\n   * @param {Object} o\n   * @return {number} the 1-based position from the top of the stack where the\n   *         object is located; the return value -1 indicates that the object is\n   *         not on the stack.\n   */\n\n\n  Stack.prototype.search = function (o) {\n    return this.array_.indexOf(o);\n  };\n  /**\n   * @return {number}\n   * @export\n   */\n\n\n  Stack.prototype.size = function () {\n    return this.array_.length;\n  };\n  /**\n   * @return {Array}\n   */\n\n\n  Stack.prototype.toArray = function () {\n    var array = [];\n\n    for (var i = 0, len = this.array_.length; i < len; i++) {\n      array.push(this.array_[i]);\n    }\n\n    return array;\n  };\n\n  function UniqueCoordinateArrayFilter() {\n    this.treeSet = new TreeSet();\n    this.list = new ArrayList();\n  }\n  extend(UniqueCoordinateArrayFilter.prototype, {\n    filter: function filter(coord) {\n      if (!this.treeSet.contains(coord)) {\n        this.list.add(coord);\n        this.treeSet.add(coord);\n      }\n    },\n    getCoordinates: function getCoordinates() {\n      var coordinates = new Array(this.list.size()).fill(null);\n      return this.list.toArray(coordinates);\n    },\n    interfaces_: function interfaces_() {\n      return [CoordinateFilter];\n    },\n    getClass: function getClass() {\n      return UniqueCoordinateArrayFilter;\n    }\n  });\n\n  UniqueCoordinateArrayFilter.filterCoordinates = function (coords) {\n    var filter = new UniqueCoordinateArrayFilter();\n\n    for (var i = 0; i < coords.length; i++) {\n      filter.filter(coords[i]);\n    }\n\n    return filter.getCoordinates();\n  };\n\n  function ConvexHull() {\n    this._geomFactory = null;\n    this._inputPts = null;\n\n    if (arguments.length === 1) {\n      var geometry = arguments[0];\n      ConvexHull.call(this, ConvexHull.extractCoordinates(geometry), geometry.getFactory());\n    } else if (arguments.length === 2) {\n      var pts = arguments[0],\n          geomFactory = arguments[1];\n      this._inputPts = UniqueCoordinateArrayFilter.filterCoordinates(pts);\n      this._geomFactory = geomFactory;\n    }\n  }\n  extend(ConvexHull.prototype, {\n    preSort: function preSort(pts) {\n      var t = null;\n\n      for (var i = 1; i < pts.length; i++) {\n        if (pts[i].y < pts[0].y || pts[i].y === pts[0].y && pts[i].x < pts[0].x) {\n          t = pts[0];\n          pts[0] = pts[i];\n          pts[i] = t;\n        }\n      }\n\n      Arrays.sort(pts, 1, pts.length, new RadialComparator(pts[0]));\n      return pts;\n    },\n    computeOctRing: function computeOctRing(inputPts) {\n      var octPts = this.computeOctPts(inputPts);\n      var coordList = new CoordinateList();\n      coordList.add(octPts, false);\n\n      if (coordList.size() < 3) {\n        return null;\n      }\n\n      coordList.closeRing();\n      return coordList.toCoordinateArray();\n    },\n    lineOrPolygon: function lineOrPolygon(coordinates) {\n      coordinates = this.cleanRing(coordinates);\n\n      if (coordinates.length === 3) {\n        return this._geomFactory.createLineString([coordinates[0], coordinates[1]]);\n      }\n\n      var linearRing = this._geomFactory.createLinearRing(coordinates);\n\n      return this._geomFactory.createPolygon(linearRing);\n    },\n    cleanRing: function cleanRing(original) {\n      Assert.equals(original[0], original[original.length - 1]);\n      var cleanedRing = new ArrayList();\n      var previousDistinctCoordinate = null;\n\n      for (var i = 0; i <= original.length - 2; i++) {\n        var currentCoordinate = original[i];\n        var nextCoordinate = original[i + 1];\n\n        if (currentCoordinate.equals(nextCoordinate)) {\n          continue;\n        }\n\n        if (previousDistinctCoordinate !== null && this.isBetween(previousDistinctCoordinate, currentCoordinate, nextCoordinate)) {\n          continue;\n        }\n\n        cleanedRing.add(currentCoordinate);\n        previousDistinctCoordinate = currentCoordinate;\n      }\n\n      cleanedRing.add(original[original.length - 1]);\n      var cleanedRingCoordinates = new Array(cleanedRing.size()).fill(null);\n      return cleanedRing.toArray(cleanedRingCoordinates);\n    },\n    isBetween: function isBetween(c1, c2, c3) {\n      if (Orientation.index(c1, c2, c3) !== 0) {\n        return false;\n      }\n\n      if (c1.x !== c3.x) {\n        if (c1.x <= c2.x && c2.x <= c3.x) {\n          return true;\n        }\n\n        if (c3.x <= c2.x && c2.x <= c1.x) {\n          return true;\n        }\n      }\n\n      if (c1.y !== c3.y) {\n        if (c1.y <= c2.y && c2.y <= c3.y) {\n          return true;\n        }\n\n        if (c3.y <= c2.y && c2.y <= c1.y) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    reduce: function reduce(inputPts) {\n      var polyPts = this.computeOctRing(inputPts);\n      if (polyPts === null) return inputPts;\n      var reducedSet = new TreeSet();\n\n      for (var i = 0; i < polyPts.length; i++) {\n        reducedSet.add(polyPts[i]);\n      }\n\n      for (var i = 0; i < inputPts.length; i++) {\n        if (!PointLocation.isInRing(inputPts[i], polyPts)) {\n          reducedSet.add(inputPts[i]);\n        }\n      }\n\n      var reducedPts = CoordinateArrays.toCoordinateArray(reducedSet);\n      if (reducedPts.length < 3) return this.padArray3(reducedPts);\n      return reducedPts;\n    },\n    getConvexHull: function getConvexHull() {\n      if (this._inputPts.length === 0) {\n        return this._geomFactory.createGeometryCollection();\n      }\n\n      if (this._inputPts.length === 1) {\n        return this._geomFactory.createPoint(this._inputPts[0]);\n      }\n\n      if (this._inputPts.length === 2) {\n        return this._geomFactory.createLineString(this._inputPts);\n      }\n\n      var reducedPts = this._inputPts;\n\n      if (this._inputPts.length > 50) {\n        reducedPts = this.reduce(this._inputPts);\n      }\n\n      var sortedPts = this.preSort(reducedPts);\n      var cHS = this.grahamScan(sortedPts);\n      var cH = this.toCoordinateArray(cHS);\n      return this.lineOrPolygon(cH);\n    },\n    padArray3: function padArray3(pts) {\n      var pad = new Array(3).fill(null);\n\n      for (var i = 0; i < pad.length; i++) {\n        if (i < pts.length) {\n          pad[i] = pts[i];\n        } else pad[i] = pts[0];\n      }\n\n      return pad;\n    },\n    computeOctPts: function computeOctPts(inputPts) {\n      var pts = new Array(8).fill(null);\n\n      for (var j = 0; j < pts.length; j++) {\n        pts[j] = inputPts[0];\n      }\n\n      for (var i = 1; i < inputPts.length; i++) {\n        if (inputPts[i].x < pts[0].x) {\n          pts[0] = inputPts[i];\n        }\n\n        if (inputPts[i].x - inputPts[i].y < pts[1].x - pts[1].y) {\n          pts[1] = inputPts[i];\n        }\n\n        if (inputPts[i].y > pts[2].y) {\n          pts[2] = inputPts[i];\n        }\n\n        if (inputPts[i].x + inputPts[i].y > pts[3].x + pts[3].y) {\n          pts[3] = inputPts[i];\n        }\n\n        if (inputPts[i].x > pts[4].x) {\n          pts[4] = inputPts[i];\n        }\n\n        if (inputPts[i].x - inputPts[i].y > pts[5].x - pts[5].y) {\n          pts[5] = inputPts[i];\n        }\n\n        if (inputPts[i].y < pts[6].y) {\n          pts[6] = inputPts[i];\n        }\n\n        if (inputPts[i].x + inputPts[i].y < pts[7].x + pts[7].y) {\n          pts[7] = inputPts[i];\n        }\n      }\n\n      return pts;\n    },\n    toCoordinateArray: function toCoordinateArray(stack) {\n      var coordinates = new Array(stack.size()).fill(null);\n\n      for (var i = 0; i < stack.size(); i++) {\n        var coordinate = stack.get(i);\n        coordinates[i] = coordinate;\n      }\n\n      return coordinates;\n    },\n    grahamScan: function grahamScan(c) {\n      var p = null;\n      var ps = new Stack();\n      ps.push(c[0]);\n      ps.push(c[1]);\n      ps.push(c[2]);\n\n      for (var i = 3; i < c.length; i++) {\n        p = ps.pop();\n\n        while (!ps.empty() && Orientation.index(ps.peek(), p, c[i]) > 0) {\n          p = ps.pop();\n        }\n\n        ps.push(p);\n        ps.push(c[i]);\n      }\n\n      ps.push(c[0]);\n      return ps;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return ConvexHull;\n    }\n  });\n\n  ConvexHull.extractCoordinates = function (geom) {\n    var filter = new UniqueCoordinateArrayFilter();\n    geom.apply(filter);\n    return filter.getCoordinates();\n  };\n\n  function RadialComparator() {\n    this._origin = null;\n    var origin = arguments[0];\n    this._origin = origin;\n  }\n\n  extend(RadialComparator.prototype, {\n    compare: function compare(o1, o2) {\n      var p1 = o1;\n      var p2 = o2;\n      return RadialComparator.polarCompare(this._origin, p1, p2);\n    },\n    interfaces_: function interfaces_() {\n      return [Comparator];\n    },\n    getClass: function getClass() {\n      return RadialComparator;\n    }\n  });\n\n  RadialComparator.polarCompare = function (o, p, q) {\n    var dxp = p.x - o.x;\n    var dyp = p.y - o.y;\n    var dxq = q.x - o.x;\n    var dyq = q.y - o.y;\n    var orient = Orientation.index(o, p, q);\n    if (orient === Orientation.COUNTERCLOCKWISE) return 1;\n    if (orient === Orientation.CLOCKWISE) return -1;\n    var op = dxp * dxp + dyp * dyp;\n    var oq = dxq * dxq + dyq * dyq;\n\n    if (op < oq) {\n      return -1;\n    }\n\n    if (op > oq) {\n      return 1;\n    }\n\n    return 0;\n  };\n\n  ConvexHull.RadialComparator = RadialComparator;\n\n  function InteriorPointArea() {\n    this._factory = null;\n    this._interiorPoint = null;\n    this._maxWidth = 0.0;\n    var g = arguments[0];\n    this._factory = g.getFactory();\n    this.add(g);\n  }\n  extend(InteriorPointArea.prototype, {\n    addPolygon: function addPolygon(geometry) {\n      if (geometry.isEmpty()) return null;\n      var intPt = null;\n      var width = null;\n      var bisector = this.horizontalBisector(geometry);\n\n      if (bisector.getLength() === 0.0) {\n        width = 0;\n        intPt = bisector.getCoordinate();\n      } else {\n        var intersections = bisector.intersection(geometry);\n        var widestIntersection = this.widestGeometry(intersections);\n        width = widestIntersection.getEnvelopeInternal().getWidth();\n        intPt = InteriorPointArea.centre(widestIntersection.getEnvelopeInternal());\n      }\n\n      if (this._interiorPoint === null || width > this._maxWidth) {\n        this._interiorPoint = intPt;\n        this._maxWidth = width;\n      }\n    },\n    getInteriorPoint: function getInteriorPoint() {\n      return this._interiorPoint;\n    },\n    widestGeometry: function widestGeometry() {\n      if (arguments[0] instanceof GeometryCollection) {\n        var gc = arguments[0];\n\n        if (gc.isEmpty()) {\n          return gc;\n        }\n\n        var widestGeometry = gc.getGeometryN(0);\n\n        for (var i = 1; i < gc.getNumGeometries(); i++) {\n          if (gc.getGeometryN(i).getEnvelopeInternal().getWidth() > widestGeometry.getEnvelopeInternal().getWidth()) {\n            widestGeometry = gc.getGeometryN(i);\n          }\n        }\n\n        return widestGeometry;\n      } else if (arguments[0] instanceof Geometry) {\n        var geometry = arguments[0];\n\n        if (!(geometry instanceof GeometryCollection)) {\n          return geometry;\n        }\n\n        return this.widestGeometry(geometry);\n      }\n    },\n    horizontalBisector: function horizontalBisector(geometry) {\n      var envelope = geometry.getEnvelopeInternal();\n      var bisectY = SafeBisectorFinder.getBisectorY(geometry);\n      return this._factory.createLineString([new Coordinate(envelope.getMinX(), bisectY), new Coordinate(envelope.getMaxX(), bisectY)]);\n    },\n    add: function add(geom) {\n      if (geom instanceof Polygon) {\n        this.addPolygon(geom);\n      } else if (geom instanceof GeometryCollection) {\n        var gc = geom;\n\n        for (var i = 0; i < gc.getNumGeometries(); i++) {\n          this.add(gc.getGeometryN(i));\n        }\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return InteriorPointArea;\n    }\n  });\n\n  InteriorPointArea.centre = function (envelope) {\n    return new Coordinate(InteriorPointArea.avg(envelope.getMinX(), envelope.getMaxX()), InteriorPointArea.avg(envelope.getMinY(), envelope.getMaxY()));\n  };\n\n  InteriorPointArea.avg = function (a, b) {\n    return (a + b) / 2.0;\n  };\n\n  function SafeBisectorFinder() {\n    this._poly = null;\n    this._centreY = null;\n    this._hiY = Double.MAX_VALUE;\n    this._loY = -Double.MAX_VALUE;\n    var poly = arguments[0];\n    this._poly = poly;\n    this._hiY = poly.getEnvelopeInternal().getMaxY();\n    this._loY = poly.getEnvelopeInternal().getMinY();\n    this._centreY = InteriorPointArea.avg(this._loY, this._hiY);\n  }\n\n  extend(SafeBisectorFinder.prototype, {\n    updateInterval: function updateInterval(y) {\n      if (y <= this._centreY) {\n        if (y > this._loY) this._loY = y;\n      } else if (y > this._centreY) {\n        if (y < this._hiY) {\n          this._hiY = y;\n        }\n      }\n    },\n    getBisectorY: function getBisectorY() {\n      this.process(this._poly.getExteriorRing());\n\n      for (var i = 0; i < this._poly.getNumInteriorRing(); i++) {\n        this.process(this._poly.getInteriorRingN(i));\n      }\n\n      var bisectY = InteriorPointArea.avg(this._hiY, this._loY);\n      return bisectY;\n    },\n    process: function process(line) {\n      var seq = line.getCoordinateSequence();\n\n      for (var i = 0; i < seq.size(); i++) {\n        var y = seq.getY(i);\n        this.updateInterval(y);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return SafeBisectorFinder;\n    }\n  });\n\n  SafeBisectorFinder.getBisectorY = function (poly) {\n    var finder = new SafeBisectorFinder(poly);\n    return finder.getBisectorY();\n  };\n\n  InteriorPointArea.SafeBisectorFinder = SafeBisectorFinder;\n\n  function InteriorPointLine() {\n    this._centroid = null;\n    this._minDistance = Double.MAX_VALUE;\n    this._interiorPoint = null;\n    var g = arguments[0];\n    this._centroid = g.getCentroid().getCoordinate();\n    this.addInterior(g);\n    if (this._interiorPoint === null) this.addEndpoints(g);\n  }\n  extend(InteriorPointLine.prototype, {\n    addEndpoints: function addEndpoints() {\n      if (arguments[0] instanceof Geometry) {\n        var geom = arguments[0];\n\n        if (geom instanceof LineString) {\n          this.addEndpoints(geom.getCoordinates());\n        } else if (geom instanceof GeometryCollection) {\n          var gc = geom;\n\n          for (var i = 0; i < gc.getNumGeometries(); i++) {\n            this.addEndpoints(gc.getGeometryN(i));\n          }\n        }\n      } else if (arguments[0] instanceof Array) {\n        var pts = arguments[0];\n        this.add(pts[0]);\n        this.add(pts[pts.length - 1]);\n      }\n    },\n    getInteriorPoint: function getInteriorPoint() {\n      return this._interiorPoint;\n    },\n    addInterior: function addInterior() {\n      if (arguments[0] instanceof Geometry) {\n        var geom = arguments[0];\n\n        if (geom instanceof LineString) {\n          this.addInterior(geom.getCoordinates());\n        } else if (geom instanceof GeometryCollection) {\n          var gc = geom;\n\n          for (var i = 0; i < gc.getNumGeometries(); i++) {\n            this.addInterior(gc.getGeometryN(i));\n          }\n        }\n      } else if (arguments[0] instanceof Array) {\n        var pts = arguments[0];\n\n        for (var i = 1; i < pts.length - 1; i++) {\n          this.add(pts[i]);\n        }\n      }\n    },\n    add: function add(point) {\n      var dist = point.distance(this._centroid);\n\n      if (dist < this._minDistance) {\n        this._interiorPoint = new Coordinate(point);\n        this._minDistance = dist;\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return InteriorPointLine;\n    }\n  });\n\n  function InteriorPointPoint() {\n    this._centroid = null;\n    this._minDistance = Double.MAX_VALUE;\n    this._interiorPoint = null;\n    var g = arguments[0];\n    this._centroid = g.getCentroid().getCoordinate();\n    this.add(g);\n  }\n  extend(InteriorPointPoint.prototype, {\n    getInteriorPoint: function getInteriorPoint() {\n      return this._interiorPoint;\n    },\n    add: function add() {\n      if (arguments[0] instanceof Geometry) {\n        var geom = arguments[0];\n\n        if (geom instanceof Point) {\n          this.add(geom.getCoordinate());\n        } else if (geom instanceof GeometryCollection) {\n          var gc = geom;\n\n          for (var i = 0; i < gc.getNumGeometries(); i++) {\n            this.add(gc.getGeometryN(i));\n          }\n        }\n      } else if (arguments[0] instanceof Coordinate) {\n        var point = arguments[0];\n        var dist = point.distance(this._centroid);\n\n        if (dist < this._minDistance) {\n          this._interiorPoint = new Coordinate(point);\n          this._minDistance = dist;\n        }\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return InteriorPointPoint;\n    }\n  });\n\n  function MonotoneChainSelectAction() {\n    this.selectedSegment = new LineSegment();\n  }\n  extend(MonotoneChainSelectAction.prototype, {\n    select: function select() {\n      if (arguments.length === 1) ; else if (arguments.length === 2) {\n        var mc = arguments[0],\n            startIndex = arguments[1];\n        mc.getLineSegment(startIndex, this.selectedSegment);\n        this.select(this.selectedSegment);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return MonotoneChainSelectAction;\n    }\n  });\n\n  function NodeBase() {\n    this._items = new ArrayList();\n    this._subnode = new Array(2).fill(null);\n  }\n  extend(NodeBase.prototype, {\n    hasChildren: function hasChildren() {\n      for (var i = 0; i < 2; i++) {\n        if (this._subnode[i] !== null) return true;\n      }\n\n      return false;\n    },\n    isPrunable: function isPrunable() {\n      return !(this.hasChildren() || this.hasItems());\n    },\n    addAllItems: function addAllItems(items) {\n      items.addAll(this._items);\n\n      for (var i = 0; i < 2; i++) {\n        if (this._subnode[i] !== null) {\n          this._subnode[i].addAllItems(items);\n        }\n      }\n\n      return items;\n    },\n    size: function size() {\n      var subSize = 0;\n\n      for (var i = 0; i < 2; i++) {\n        if (this._subnode[i] !== null) {\n          subSize += this._subnode[i].size();\n        }\n      }\n\n      return subSize + this._items.size();\n    },\n    addAllItemsFromOverlapping: function addAllItemsFromOverlapping(interval, resultItems) {\n      if (interval !== null && !this.isSearchMatch(interval)) return null;\n      resultItems.addAll(this._items);\n      if (this._subnode[0] !== null) this._subnode[0].addAllItemsFromOverlapping(interval, resultItems);\n      if (this._subnode[1] !== null) this._subnode[1].addAllItemsFromOverlapping(interval, resultItems);\n    },\n    hasItems: function hasItems() {\n      return !this._items.isEmpty();\n    },\n    remove: function remove(itemInterval, item) {\n      if (!this.isSearchMatch(itemInterval)) return false;\n      var found = false;\n\n      for (var i = 0; i < 2; i++) {\n        if (this._subnode[i] !== null) {\n          found = this._subnode[i].remove(itemInterval, item);\n\n          if (found) {\n            if (this._subnode[i].isPrunable()) this._subnode[i] = null;\n            break;\n          }\n        }\n      }\n\n      if (found) return found;\n      found = this._items.remove(item);\n      return found;\n    },\n    getItems: function getItems() {\n      return this._items;\n    },\n    depth: function depth() {\n      var maxSubDepth = 0;\n\n      for (var i = 0; i < 2; i++) {\n        if (this._subnode[i] !== null) {\n          var sqd = this._subnode[i].depth();\n\n          if (sqd > maxSubDepth) maxSubDepth = sqd;\n        }\n      }\n\n      return maxSubDepth + 1;\n    },\n    nodeSize: function nodeSize() {\n      var subSize = 0;\n\n      for (var i = 0; i < 2; i++) {\n        if (this._subnode[i] !== null) {\n          subSize += this._subnode[i].nodeSize();\n        }\n      }\n\n      return subSize + 1;\n    },\n    add: function add(item) {\n      this._items.add(item);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return NodeBase;\n    }\n  });\n\n  NodeBase.getSubnodeIndex = function (interval, centre) {\n    var subnodeIndex = -1;\n    if (interval.min >= centre) subnodeIndex = 1;\n    if (interval.max <= centre) subnodeIndex = 0;\n    return subnodeIndex;\n  };\n\n  function Interval() {\n    this.min = null;\n    this.max = null;\n\n    if (arguments.length === 0) {\n      this.min = 0.0;\n      this.max = 0.0;\n    } else if (arguments.length === 1) {\n      var interval = arguments[0];\n      this.init(interval.min, interval.max);\n    } else if (arguments.length === 2) {\n      var min = arguments[0],\n          max = arguments[1];\n      this.init(min, max);\n    }\n  }\n  extend(Interval.prototype, {\n    expandToInclude: function expandToInclude(interval) {\n      if (interval.max > this.max) this.max = interval.max;\n      if (interval.min < this.min) this.min = interval.min;\n    },\n    getWidth: function getWidth() {\n      return this.max - this.min;\n    },\n    overlaps: function overlaps() {\n      if (arguments.length === 1) {\n        var interval = arguments[0];\n        return this.overlaps(interval.min, interval.max);\n      } else if (arguments.length === 2) {\n        var min = arguments[0],\n            max = arguments[1];\n        if (this.min > max || this.max < min) return false;\n        return true;\n      }\n    },\n    getMin: function getMin() {\n      return this.min;\n    },\n    toString: function toString() {\n      return \"[\" + this.min + \", \" + this.max + \"]\";\n    },\n    contains: function contains() {\n      if (arguments.length === 1) {\n        if (arguments[0] instanceof Interval) {\n          var interval = arguments[0];\n          return this.contains(interval.min, interval.max);\n        } else if (typeof arguments[0] === \"number\") {\n          var p = arguments[0];\n          return p >= this.min && p <= this.max;\n        }\n      } else if (arguments.length === 2) {\n        var min = arguments[0],\n            max = arguments[1];\n        return min >= this.min && max <= this.max;\n      }\n    },\n    init: function init(min, max) {\n      this.min = min;\n      this.max = max;\n\n      if (min > max) {\n        this.min = max;\n        this.max = min;\n      }\n    },\n    getMax: function getMax() {\n      return this.max;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Interval;\n    }\n  });\n\n  function DoubleBits() {}\n\n  DoubleBits.exponent = function (d) {\n    return CVTFWD(64, d) - 1023;\n  };\n\n  DoubleBits.powerOf2 = function (exp) {\n    return Math.pow(2, exp);\n  };\n  /**\n   * Calculates the exponent of the bit-pattern for a number. Uses code from:\n   * http://www.merlyn.demon.co.uk/js-exact.htm\n   *\n   * @param {Number}\n   *          NumW 32 or 64 to denote the number of bits.\n   * @param {Number}\n   *          Qty the number to calculate the bit pattern for.\n   * @return {Number} The integer value of the exponent.\n   * @private\n   */\n\n\n  function CVTFWD(NumW, Qty) {\n    var Sign;\n    var Expo;\n    var Mant;\n    var Bin;\n    var Inf = {\n      32: {\n        d: 0x7F,\n        c: 0x80,\n        b: 0,\n        a: 0\n      },\n      64: {\n        d: 0x7FF0,\n        c: 0,\n        b: 0,\n        a: 0\n      }\n    };\n    var ExW = {\n      32: 8,\n      64: 11\n    }[NumW];\n\n    if (!Bin) {\n      Sign = Qty < 0 || 1 / Qty < 0; // OK for +-0\n\n      if (!isFinite(Qty)) {\n        Bin = Inf[NumW];\n\n        if (Sign) {\n          Bin.d += 1 << NumW / 4 - 1;\n        }\n\n        Expo = Math.pow(2, ExW) - 1;\n        Mant = 0;\n      }\n    }\n\n    if (!Bin) {\n      Expo = {\n        32: 127,\n        64: 1023\n      }[NumW];\n      Mant = Math.abs(Qty);\n\n      while (Mant >= 2) {\n        Expo++;\n        Mant /= 2;\n      }\n\n      while (Mant < 1 && Expo > 0) {\n        Expo--;\n        Mant *= 2;\n      }\n\n      if (Expo <= 0) {\n        Mant /= 2;\n      }\n\n      if (NumW === 32 && Expo > 254) {\n        Bin = {\n          d: Sign ? 0xFF : 0x7F,\n          c: 0x80,\n          b: 0,\n          a: 0\n        };\n        Expo = Math.pow(2, ExW) - 1;\n        Mant = 0;\n      }\n    }\n\n    return Expo;\n  }\n\n  function Key() {\n    this._pt = 0.0;\n    this._level = 0;\n    this._interval = null;\n    var interval = arguments[0];\n    this.computeKey(interval);\n  }\n  extend(Key.prototype, {\n    getInterval: function getInterval() {\n      return this._interval;\n    },\n    getLevel: function getLevel() {\n      return this._level;\n    },\n    computeKey: function computeKey(itemInterval) {\n      this._level = Key.computeLevel(itemInterval);\n      this._interval = new Interval();\n      this.computeInterval(this._level, itemInterval);\n\n      while (!this._interval.contains(itemInterval)) {\n        this._level += 1;\n        this.computeInterval(this._level, itemInterval);\n      }\n    },\n    computeInterval: function computeInterval(level, itemInterval) {\n      var size = DoubleBits.powerOf2(level);\n      this._pt = Math.floor(itemInterval.getMin() / size) * size;\n\n      this._interval.init(this._pt, this._pt + size);\n    },\n    getPoint: function getPoint() {\n      return this._pt;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Key;\n    }\n  });\n\n  Key.computeLevel = function (interval) {\n    var dx = interval.getWidth();\n    var level = DoubleBits.exponent(dx) + 1;\n    return level;\n  };\n\n  function Node() {\n    NodeBase.apply(this);\n    this._interval = null;\n    this._centre = null;\n    this._level = null;\n    var interval = arguments[0],\n        level = arguments[1];\n    this._interval = interval;\n    this._level = level;\n    this._centre = (interval.getMin() + interval.getMax()) / 2;\n  }\n  inherits(Node, NodeBase);\n  extend(Node.prototype, {\n    getInterval: function getInterval() {\n      return this._interval;\n    },\n    find: function find(searchInterval) {\n      var subnodeIndex = NodeBase.getSubnodeIndex(searchInterval, this._centre);\n      if (subnodeIndex === -1) return this;\n\n      if (this._subnode[subnodeIndex] !== null) {\n        var node = this._subnode[subnodeIndex];\n        return node.find(searchInterval);\n      }\n\n      return this;\n    },\n    insert: function insert(node) {\n      Assert.isTrue(this._interval === null || this._interval.contains(node._interval));\n      var index = NodeBase.getSubnodeIndex(node._interval, this._centre);\n\n      if (node._level === this._level - 1) {\n        this._subnode[index] = node;\n      } else {\n        var childNode = this.createSubnode(index);\n        childNode.insert(node);\n        this._subnode[index] = childNode;\n      }\n    },\n    isSearchMatch: function isSearchMatch(itemInterval) {\n      return itemInterval.overlaps(this._interval);\n    },\n    getSubnode: function getSubnode(index) {\n      if (this._subnode[index] === null) {\n        this._subnode[index] = this.createSubnode(index);\n      }\n\n      return this._subnode[index];\n    },\n    getNode: function getNode(searchInterval) {\n      var subnodeIndex = NodeBase.getSubnodeIndex(searchInterval, this._centre);\n\n      if (subnodeIndex !== -1) {\n        var node = this.getSubnode(subnodeIndex);\n        return node.getNode(searchInterval);\n      } else {\n        return this;\n      }\n    },\n    createSubnode: function createSubnode(index) {\n      var min = 0.0;\n      var max = 0.0;\n\n      switch (index) {\n        case 0:\n          min = this._interval.getMin();\n          max = this._centre;\n          break;\n\n        case 1:\n          min = this._centre;\n          max = this._interval.getMax();\n          break;\n      }\n\n      var subInt = new Interval(min, max);\n      var node = new Node(subInt, this._level - 1);\n      return node;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Node;\n    }\n  });\n\n  Node.createNode = function (itemInterval) {\n    var key = new Key(itemInterval);\n    var node = new Node(key.getInterval(), key.getLevel());\n    return node;\n  };\n\n  Node.createExpanded = function (node, addInterval) {\n    var expandInt = new Interval(addInterval);\n    if (node !== null) expandInt.expandToInclude(node._interval);\n    var largerNode = Node.createNode(expandInt);\n    if (node !== null) largerNode.insert(node);\n    return largerNode;\n  };\n\n  function IntervalSize() {}\n  extend(IntervalSize.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return IntervalSize;\n    }\n  });\n\n  IntervalSize.isZeroWidth = function (min, max) {\n    var width = max - min;\n    if (width === 0.0) return true;\n    var maxAbs = Math.max(Math.abs(min), Math.abs(max));\n    var scaledInterval = width / maxAbs;\n    var level = DoubleBits.exponent(scaledInterval);\n    return level <= IntervalSize.MIN_BINARY_EXPONENT;\n  };\n\n  IntervalSize.MIN_BINARY_EXPONENT = -50;\n\n  function Root() {\n    NodeBase.apply(this);\n  }\n  inherits(Root, NodeBase);\n  extend(Root.prototype, {\n    insert: function insert(itemInterval, item) {\n      var index = NodeBase.getSubnodeIndex(itemInterval, Root.origin);\n\n      if (index === -1) {\n        this.add(item);\n        return null;\n      }\n\n      var node = this._subnode[index];\n\n      if (node === null || !node.getInterval().contains(itemInterval)) {\n        var largerNode = Node.createExpanded(node, itemInterval);\n        this._subnode[index] = largerNode;\n      }\n\n      this.insertContained(this._subnode[index], itemInterval, item);\n    },\n    isSearchMatch: function isSearchMatch(interval) {\n      return true;\n    },\n    insertContained: function insertContained(tree, itemInterval, item) {\n      Assert.isTrue(tree.getInterval().contains(itemInterval));\n      var isZeroArea = IntervalSize.isZeroWidth(itemInterval.getMin(), itemInterval.getMax());\n      var node = null;\n      if (isZeroArea) node = tree.find(itemInterval);else node = tree.getNode(itemInterval);\n      node.add(item);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Root;\n    }\n  });\n  Root.origin = 0.0;\n\n  function Bintree() {\n    this._root = null;\n    this._minExtent = 1.0;\n    this._root = new Root();\n  }\n  extend(Bintree.prototype, {\n    size: function size() {\n      if (this._root !== null) return this._root.size();\n      return 0;\n    },\n    insert: function insert(itemInterval, item) {\n      this.collectStats(itemInterval);\n      var insertInterval = Bintree.ensureExtent(itemInterval, this._minExtent);\n\n      this._root.insert(insertInterval, item);\n    },\n    query: function query() {\n      if (arguments.length === 1) {\n        if (typeof arguments[0] === \"number\") {\n          var x = arguments[0];\n          return this.query(new Interval(x, x));\n        } else if (arguments[0] instanceof Interval) {\n          var interval = arguments[0];\n          var foundItems = new ArrayList();\n          this.query(interval, foundItems);\n          return foundItems;\n        }\n      } else if (arguments.length === 2) {\n        var _interval = arguments[0],\n            _foundItems = arguments[1];\n\n        this._root.addAllItemsFromOverlapping(_interval, _foundItems);\n      }\n    },\n    iterator: function iterator() {\n      var foundItems = new ArrayList();\n\n      this._root.addAllItems(foundItems);\n\n      return foundItems.iterator();\n    },\n    remove: function remove(itemInterval, item) {\n      var insertInterval = Bintree.ensureExtent(itemInterval, this._minExtent);\n      return this._root.remove(insertInterval, item);\n    },\n    collectStats: function collectStats(interval) {\n      var del = interval.getWidth();\n      if (del < this._minExtent && del > 0.0) this._minExtent = del;\n    },\n    depth: function depth() {\n      if (this._root !== null) return this._root.depth();\n      return 0;\n    },\n    nodeSize: function nodeSize() {\n      if (this._root !== null) return this._root.nodeSize();\n      return 0;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Bintree;\n    }\n  });\n\n  Bintree.ensureExtent = function (itemInterval, minExtent) {\n    var min = itemInterval.getMin();\n    var max = itemInterval.getMax();\n    if (min !== max) return itemInterval;\n\n    if (min === max) {\n      min = min - minExtent / 2.0;\n      max = min + minExtent / 2.0;\n    }\n\n    return new Interval(min, max);\n  };\n\n  function MonotoneChain() {\n    this._pts = null;\n    this._start = null;\n    this._end = null;\n    this._env = null;\n    this._context = null;\n    this._id = null;\n    var pts = arguments[0],\n        start = arguments[1],\n        end = arguments[2],\n        context = arguments[3];\n    this._pts = pts;\n    this._start = start;\n    this._end = end;\n    this._context = context;\n  }\n  extend(MonotoneChain.prototype, {\n    getLineSegment: function getLineSegment(index, ls) {\n      ls.p0 = this._pts[index];\n      ls.p1 = this._pts[index + 1];\n    },\n    computeSelect: function computeSelect(searchEnv, start0, end0, mcs) {\n      var p0 = this._pts[start0];\n      var p1 = this._pts[end0];\n\n      if (end0 - start0 === 1) {\n        mcs.select(this, start0);\n        return null;\n      }\n\n      if (!searchEnv.intersects(p0, p1)) return null;\n      var mid = Math.trunc((start0 + end0) / 2);\n\n      if (start0 < mid) {\n        this.computeSelect(searchEnv, start0, mid, mcs);\n      }\n\n      if (mid < end0) {\n        this.computeSelect(searchEnv, mid, end0, mcs);\n      }\n    },\n    getCoordinates: function getCoordinates() {\n      var coord = new Array(this._end - this._start + 1).fill(null);\n      var index = 0;\n\n      for (var i = this._start; i <= this._end; i++) {\n        coord[index++] = this._pts[i];\n      }\n\n      return coord;\n    },\n    computeOverlaps: function computeOverlaps() {\n      if (arguments.length === 2) {\n        var mc = arguments[0],\n            mco = arguments[1];\n        this.computeOverlaps(this._start, this._end, mc, mc._start, mc._end, mco);\n      } else if (arguments.length === 6) {\n        var start0 = arguments[0],\n            end0 = arguments[1],\n            _mc = arguments[2],\n            start1 = arguments[3],\n            end1 = arguments[4],\n            _mco = arguments[5];\n\n        if (end0 - start0 === 1 && end1 - start1 === 1) {\n          _mco.overlap(this, start0, _mc, start1);\n\n          return null;\n        }\n\n        if (!this.overlaps(start0, end0, _mc, start1, end1)) return null;\n        var mid0 = Math.trunc((start0 + end0) / 2);\n        var mid1 = Math.trunc((start1 + end1) / 2);\n\n        if (start0 < mid0) {\n          if (start1 < mid1) this.computeOverlaps(start0, mid0, _mc, start1, mid1, _mco);\n          if (mid1 < end1) this.computeOverlaps(start0, mid0, _mc, mid1, end1, _mco);\n        }\n\n        if (mid0 < end0) {\n          if (start1 < mid1) this.computeOverlaps(mid0, end0, _mc, start1, mid1, _mco);\n          if (mid1 < end1) this.computeOverlaps(mid0, end0, _mc, mid1, end1, _mco);\n        }\n      }\n    },\n    setId: function setId(id) {\n      this._id = id;\n    },\n    select: function select(searchEnv, mcs) {\n      this.computeSelect(searchEnv, this._start, this._end, mcs);\n    },\n    getEnvelope: function getEnvelope() {\n      if (this._env === null) {\n        var p0 = this._pts[this._start];\n        var p1 = this._pts[this._end];\n        this._env = new Envelope(p0, p1);\n      }\n\n      return this._env;\n    },\n    overlaps: function overlaps(start0, end0, mc, start1, end1) {\n      return Envelope.intersects(this._pts[start0], this._pts[end0], mc._pts[start1], mc._pts[end1]);\n    },\n    getEndIndex: function getEndIndex() {\n      return this._end;\n    },\n    getStartIndex: function getStartIndex() {\n      return this._start;\n    },\n    getContext: function getContext() {\n      return this._context;\n    },\n    getId: function getId() {\n      return this._id;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return MonotoneChain;\n    }\n  });\n\n  function Quadrant() {}\n  extend(Quadrant.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Quadrant;\n    }\n  });\n\n  Quadrant.isNorthern = function (quad) {\n    return quad === Quadrant.NE || quad === Quadrant.NW;\n  };\n\n  Quadrant.isOpposite = function (quad1, quad2) {\n    if (quad1 === quad2) return false;\n    var diff = (quad1 - quad2 + 4) % 4;\n    if (diff === 2) return true;\n    return false;\n  };\n\n  Quadrant.commonHalfPlane = function (quad1, quad2) {\n    if (quad1 === quad2) return quad1;\n    var diff = (quad1 - quad2 + 4) % 4;\n    if (diff === 2) return -1;\n    var min = quad1 < quad2 ? quad1 : quad2;\n    var max = quad1 > quad2 ? quad1 : quad2;\n    if (min === 0 && max === 3) return 3;\n    return min;\n  };\n\n  Quadrant.isInHalfPlane = function (quad, halfPlane) {\n    if (halfPlane === Quadrant.SE) {\n      return quad === Quadrant.SE || quad === Quadrant.SW;\n    }\n\n    return quad === halfPlane || quad === halfPlane + 1;\n  };\n\n  Quadrant.quadrant = function () {\n    if (typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\") {\n      var dx = arguments[0],\n          dy = arguments[1];\n      if (dx === 0.0 && dy === 0.0) throw new IllegalArgumentException(\"Cannot compute the quadrant for point ( \" + dx + \", \" + dy + \" )\");\n\n      if (dx >= 0.0) {\n        if (dy >= 0.0) return Quadrant.NE;else return Quadrant.SE;\n      } else {\n        if (dy >= 0.0) return Quadrant.NW;else return Quadrant.SW;\n      }\n    } else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Coordinate) {\n      var p0 = arguments[0],\n          p1 = arguments[1];\n      if (p1.x === p0.x && p1.y === p0.y) throw new IllegalArgumentException(\"Cannot compute the quadrant for two identical points \" + p0);\n\n      if (p1.x >= p0.x) {\n        if (p1.y >= p0.y) return Quadrant.NE;else return Quadrant.SE;\n      } else {\n        if (p1.y >= p0.y) return Quadrant.NW;else return Quadrant.SW;\n      }\n    }\n  };\n\n  Quadrant.NE = 0;\n  Quadrant.NW = 1;\n  Quadrant.SW = 2;\n  Quadrant.SE = 3;\n\n  function MonotoneChainBuilder() {}\n  extend(MonotoneChainBuilder.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return MonotoneChainBuilder;\n    }\n  });\n\n  MonotoneChainBuilder.getChainStartIndices = function (pts) {\n    var start = 0;\n    var startIndexList = new ArrayList();\n    startIndexList.add(new Integer(start));\n\n    do {\n      var last = MonotoneChainBuilder.findChainEnd(pts, start);\n      startIndexList.add(new Integer(last));\n      start = last;\n    } while (start < pts.length - 1);\n\n    var startIndex = MonotoneChainBuilder.toIntArray(startIndexList);\n    return startIndex;\n  };\n\n  MonotoneChainBuilder.findChainEnd = function (pts, start) {\n    var safeStart = start;\n\n    while (safeStart < pts.length - 1 && pts[safeStart].equals2D(pts[safeStart + 1])) {\n      safeStart++;\n    }\n\n    if (safeStart >= pts.length - 1) {\n      return pts.length - 1;\n    }\n\n    var chainQuad = Quadrant.quadrant(pts[safeStart], pts[safeStart + 1]);\n    var last = start + 1;\n\n    while (last < pts.length) {\n      if (!pts[last - 1].equals2D(pts[last])) {\n        var quad = Quadrant.quadrant(pts[last - 1], pts[last]);\n        if (quad !== chainQuad) break;\n      }\n\n      last++;\n    }\n\n    return last - 1;\n  };\n\n  MonotoneChainBuilder.getChains = function () {\n    if (arguments.length === 1) {\n      var pts = arguments[0];\n      return MonotoneChainBuilder.getChains(pts, null);\n    } else if (arguments.length === 2) {\n      var _pts = arguments[0],\n          context = arguments[1];\n      var mcList = new ArrayList();\n      var startIndex = MonotoneChainBuilder.getChainStartIndices(_pts);\n\n      for (var i = 0; i < startIndex.length - 1; i++) {\n        var mc = new MonotoneChain(_pts, startIndex[i], startIndex[i + 1], context);\n        mcList.add(mc);\n      }\n\n      return mcList;\n    }\n  };\n\n  MonotoneChainBuilder.toIntArray = function (list) {\n    var array = new Array(list.size()).fill(null);\n\n    for (var i = 0; i < array.length; i++) {\n      array[i] = list.get(i).intValue();\n    }\n\n    return array;\n  };\n\n  function RobustDeterminant() {}\n  extend(RobustDeterminant.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return RobustDeterminant;\n    }\n  });\n\n  RobustDeterminant.orientationIndex = function (p1, p2, q) {\n    var dx1 = p2.x - p1.x;\n    var dy1 = p2.y - p1.y;\n    var dx2 = q.x - p2.x;\n    var dy2 = q.y - p2.y;\n    return RobustDeterminant.signOfDet2x2(dx1, dy1, dx2, dy2);\n  };\n\n  RobustDeterminant.signOfDet2x2 = function (x1, y1, x2, y2) {\n    var sign = null;\n    var swap = null;\n    var k = null;\n    sign = 1;\n\n    if (x1 === 0.0 || y2 === 0.0) {\n      if (y1 === 0.0 || x2 === 0.0) {\n        return 0;\n      } else if (y1 > 0) {\n        if (x2 > 0) {\n          return -sign;\n        } else {\n          return sign;\n        }\n      } else {\n        if (x2 > 0) {\n          return sign;\n        } else {\n          return -sign;\n        }\n      }\n    }\n\n    if (y1 === 0.0 || x2 === 0.0) {\n      if (y2 > 0) {\n        if (x1 > 0) {\n          return sign;\n        } else {\n          return -sign;\n        }\n      } else {\n        if (x1 > 0) {\n          return -sign;\n        } else {\n          return sign;\n        }\n      }\n    }\n\n    if (0.0 < y1) {\n      if (0.0 < y2) {\n        if (y1 <= y2) ; else {\n          sign = -sign;\n          swap = x1;\n          x1 = x2;\n          x2 = swap;\n          swap = y1;\n          y1 = y2;\n          y2 = swap;\n        }\n      } else {\n        if (y1 <= -y2) {\n          sign = -sign;\n          x2 = -x2;\n          y2 = -y2;\n        } else {\n          swap = x1;\n          x1 = -x2;\n          x2 = swap;\n          swap = y1;\n          y1 = -y2;\n          y2 = swap;\n        }\n      }\n    } else {\n      if (0.0 < y2) {\n        if (-y1 <= y2) {\n          sign = -sign;\n          x1 = -x1;\n          y1 = -y1;\n        } else {\n          swap = -x1;\n          x1 = x2;\n          x2 = swap;\n          swap = -y1;\n          y1 = y2;\n          y2 = swap;\n        }\n      } else {\n        if (y1 >= y2) {\n          x1 = -x1;\n          y1 = -y1;\n          x2 = -x2;\n          y2 = -y2;\n        } else {\n          sign = -sign;\n          swap = -x1;\n          x1 = -x2;\n          x2 = swap;\n          swap = -y1;\n          y1 = -y2;\n          y2 = swap;\n        }\n      }\n    }\n\n    if (0.0 < x1) {\n      if (0.0 < x2) {\n        if (x1 <= x2) ; else {\n          return sign;\n        }\n      } else {\n        return sign;\n      }\n    } else {\n      if (0.0 < x2) {\n        return -sign;\n      } else {\n        if (x1 >= x2) {\n          sign = -sign;\n          x1 = -x1;\n          x2 = -x2;\n        } else {\n          return -sign;\n        }\n      }\n    }\n\n    while (true) {\n      k = Math.floor(x2 / x1);\n      x2 = x2 - k * x1;\n      y2 = y2 - k * y1;\n\n      if (y2 < 0.0) {\n        return -sign;\n      }\n\n      if (y2 > y1) {\n        return sign;\n      }\n\n      if (x1 > x2 + x2) {\n        if (y1 < y2 + y2) {\n          return sign;\n        }\n      } else {\n        if (y1 > y2 + y2) {\n          return -sign;\n        } else {\n          x2 = x1 - x2;\n          y2 = y1 - y2;\n          sign = -sign;\n        }\n      }\n\n      if (y2 === 0.0) {\n        if (x2 === 0.0) {\n          return 0;\n        } else {\n          return -sign;\n        }\n      }\n\n      if (x2 === 0.0) {\n        return sign;\n      }\n\n      k = Math.floor(x1 / x2);\n      x1 = x1 - k * x2;\n      y1 = y1 - k * y2;\n\n      if (y1 < 0.0) {\n        return sign;\n      }\n\n      if (y1 > y2) {\n        return -sign;\n      }\n\n      if (x2 > x1 + x1) {\n        if (y2 < y1 + y1) {\n          return -sign;\n        }\n      } else {\n        if (y2 > y1 + y1) {\n          return sign;\n        } else {\n          x1 = x2 - x1;\n          y1 = y2 - y1;\n          sign = -sign;\n        }\n      }\n\n      if (y1 === 0.0) {\n        if (x1 === 0.0) {\n          return 0;\n        } else {\n          return sign;\n        }\n      }\n\n      if (x1 === 0.0) {\n        return -sign;\n      }\n    }\n  };\n\n  function PointInRing() {}\n  extend(PointInRing.prototype, {\n    isInside: function isInside(pt) {},\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return PointInRing;\n    }\n  });\n\n  function MCPointInRing() {\n    this._ring = null;\n    this._tree = null;\n    this._crossings = 0;\n    this._interval = new Interval();\n    var ring = arguments[0];\n    this._ring = ring;\n    this.buildIndex();\n  }\n  extend(MCPointInRing.prototype, {\n    testLineSegment: function testLineSegment(p, seg) {\n      var xInt = null;\n      var x1 = null;\n      var y1 = null;\n      var x2 = null;\n      var y2 = null;\n      var p1 = seg.p0;\n      var p2 = seg.p1;\n      x1 = p1.x - p.x;\n      y1 = p1.y - p.y;\n      x2 = p2.x - p.x;\n      y2 = p2.y - p.y;\n\n      if (y1 > 0 && y2 <= 0 || y2 > 0 && y1 <= 0) {\n        xInt = RobustDeterminant.signOfDet2x2(x1, y1, x2, y2) / (y2 - y1);\n\n        if (0.0 < xInt) {\n          this._crossings++;\n        }\n      }\n    },\n    buildIndex: function buildIndex() {\n      this._tree = new Bintree();\n      var pts = CoordinateArrays.removeRepeatedPoints(this._ring.getCoordinates());\n      var mcList = MonotoneChainBuilder.getChains(pts);\n\n      for (var i = 0; i < mcList.size(); i++) {\n        var mc = mcList.get(i);\n        var mcEnv = mc.getEnvelope();\n        this._interval.min = mcEnv.getMinY();\n        this._interval.max = mcEnv.getMaxY();\n\n        this._tree.insert(this._interval, mc);\n      }\n    },\n    testMonotoneChain: function testMonotoneChain(rayEnv, mcSelecter, mc) {\n      mc.select(rayEnv, mcSelecter);\n    },\n    isInside: function isInside(pt) {\n      this._crossings = 0;\n      var rayEnv = new Envelope(Double.NEGATIVE_INFINITY, Double.POSITIVE_INFINITY, pt.y, pt.y);\n      this._interval.min = pt.y;\n      this._interval.max = pt.y;\n\n      var segs = this._tree.query(this._interval);\n\n      var mcSelecter = new MCSelecter(this, pt);\n\n      for (var i = segs.iterator(); i.hasNext();) {\n        var mc = i.next();\n        this.testMonotoneChain(rayEnv, mcSelecter, mc);\n      }\n\n      if (this._crossings % 2 === 1) {\n        return true;\n      }\n\n      return false;\n    },\n    interfaces_: function interfaces_() {\n      return [PointInRing];\n    },\n    getClass: function getClass() {\n      return MCPointInRing;\n    }\n  });\n\n  function MCSelecter() {\n    MonotoneChainSelectAction.apply(this);\n    this.mcp = null;\n    this.p = null;\n    var mcp = arguments[0],\n        p = arguments[1];\n    this.mcp = mcp;\n    this.p = p;\n  }\n\n  inherits(MCSelecter, MonotoneChainSelectAction);\n  extend(MCSelecter.prototype, {\n    select: function select() {\n      if (arguments.length === 1) {\n        var ls = arguments[0];\n        this.mcp.testLineSegment(this.p, ls);\n      } else return MonotoneChainSelectAction.prototype.select.apply(this, arguments);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return MCSelecter;\n    }\n  });\n  MCPointInRing.MCSelecter = MCSelecter;\n\n  function MinimumBoundingCircle() {\n    this._input = null;\n    this._extremalPts = null;\n    this._centre = null;\n    this._radius = 0.0;\n    var geom = arguments[0];\n    this._input = geom;\n  }\n  extend(MinimumBoundingCircle.prototype, {\n    getRadius: function getRadius() {\n      this.compute();\n      return this._radius;\n    },\n    getDiameter: function getDiameter() {\n      this.compute();\n\n      switch (this._extremalPts.length) {\n        case 0:\n          return this._input.getFactory().createLineString();\n\n        case 1:\n          return this._input.getFactory().createPoint(this._centre);\n      }\n\n      var p0 = this._extremalPts[0];\n      var p1 = this._extremalPts[1];\n      return this._input.getFactory().createLineString([p0, p1]);\n    },\n    getExtremalPoints: function getExtremalPoints() {\n      this.compute();\n      return this._extremalPts;\n    },\n    computeCirclePoints: function computeCirclePoints() {\n      if (this._input.isEmpty()) {\n        this._extremalPts = new Array(0).fill(null);\n        return null;\n      }\n\n      if (this._input.getNumPoints() === 1) {\n        var pts = this._input.getCoordinates();\n\n        this._extremalPts = [new Coordinate(pts[0])];\n        return null;\n      }\n\n      var convexHull = this._input.convexHull();\n\n      var hullPts = convexHull.getCoordinates();\n      var pts = hullPts;\n\n      if (hullPts[0].equals2D(hullPts[hullPts.length - 1])) {\n        pts = new Array(hullPts.length - 1).fill(null);\n        CoordinateArrays.copyDeep(hullPts, 0, pts, 0, hullPts.length - 1);\n      }\n\n      if (pts.length <= 2) {\n        this._extremalPts = CoordinateArrays.copyDeep(pts);\n        return null;\n      }\n\n      var P = MinimumBoundingCircle.lowestPoint(pts);\n      var Q = MinimumBoundingCircle.pointWitMinAngleWithX(pts, P);\n\n      for (var i = 0; i < pts.length; i++) {\n        var R = MinimumBoundingCircle.pointWithMinAngleWithSegment(pts, P, Q);\n\n        if (Angle.isObtuse(P, R, Q)) {\n          this._extremalPts = [new Coordinate(P), new Coordinate(Q)];\n          return null;\n        }\n\n        if (Angle.isObtuse(R, P, Q)) {\n          P = R;\n          continue;\n        }\n\n        if (Angle.isObtuse(R, Q, P)) {\n          Q = R;\n          continue;\n        }\n\n        this._extremalPts = [new Coordinate(P), new Coordinate(Q), new Coordinate(R)];\n        return null;\n      }\n\n      Assert.shouldNeverReachHere(\"Logic failure in Minimum Bounding Circle algorithm!\");\n    },\n    compute: function compute() {\n      if (this._extremalPts !== null) return null;\n      this.computeCirclePoints();\n      this.computeCentre();\n      if (this._centre !== null) this._radius = this._centre.distance(this._extremalPts[0]);\n    },\n    getFarthestPoints: function getFarthestPoints() {\n      this.compute();\n\n      switch (this._extremalPts.length) {\n        case 0:\n          return this._input.getFactory().createLineString();\n\n        case 1:\n          return this._input.getFactory().createPoint(this._centre);\n      }\n\n      var p0 = this._extremalPts[0];\n      var p1 = this._extremalPts[this._extremalPts.length - 1];\n      return this._input.getFactory().createLineString([p0, p1]);\n    },\n    getCircle: function getCircle() {\n      this.compute();\n      if (this._centre === null) return this._input.getFactory().createPolygon();\n\n      var centrePoint = this._input.getFactory().createPoint(this._centre);\n\n      if (this._radius === 0.0) return centrePoint;\n      return centrePoint.buffer(this._radius);\n    },\n    getCentre: function getCentre() {\n      this.compute();\n      return this._centre;\n    },\n    computeCentre: function computeCentre() {\n      switch (this._extremalPts.length) {\n        case 0:\n          this._centre = null;\n          break;\n\n        case 1:\n          this._centre = this._extremalPts[0];\n          break;\n\n        case 2:\n          this._centre = new Coordinate((this._extremalPts[0].x + this._extremalPts[1].x) / 2.0, (this._extremalPts[0].y + this._extremalPts[1].y) / 2.0);\n          break;\n\n        case 3:\n          this._centre = Triangle.circumcentre(this._extremalPts[0], this._extremalPts[1], this._extremalPts[2]);\n          break;\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return MinimumBoundingCircle;\n    }\n  });\n\n  MinimumBoundingCircle.pointWitMinAngleWithX = function (pts, P) {\n    var minSin = Double.MAX_VALUE;\n    var minAngPt = null;\n\n    for (var i = 0; i < pts.length; i++) {\n      var p = pts[i];\n      if (p === P) continue;\n      var dx = p.x - P.x;\n      var dy = p.y - P.y;\n      if (dy < 0) dy = -dy;\n      var len = Math.sqrt(dx * dx + dy * dy);\n      var sin = dy / len;\n\n      if (sin < minSin) {\n        minSin = sin;\n        minAngPt = p;\n      }\n    }\n\n    return minAngPt;\n  };\n\n  MinimumBoundingCircle.lowestPoint = function (pts) {\n    var min = pts[0];\n\n    for (var i = 1; i < pts.length; i++) {\n      if (pts[i].y < min.y) min = pts[i];\n    }\n\n    return min;\n  };\n\n  MinimumBoundingCircle.pointWithMinAngleWithSegment = function (pts, P, Q) {\n    var minAng = Double.MAX_VALUE;\n    var minAngPt = null;\n\n    for (var i = 0; i < pts.length; i++) {\n      var p = pts[i];\n      if (p === P) continue;\n      if (p === Q) continue;\n      var ang = Angle.angleBetween(P, p, Q);\n\n      if (ang < minAng) {\n        minAng = ang;\n        minAngPt = p;\n      }\n    }\n\n    return minAngPt;\n  };\n\n  function MinimumDiameter() {\n    this._inputGeom = null;\n    this._isConvex = null;\n    this._convexHullPts = null;\n    this._minBaseSeg = new LineSegment();\n    this._minWidthPt = null;\n    this._minPtIndex = null;\n    this._minWidth = 0.0;\n\n    if (arguments.length === 1) {\n      var inputGeom = arguments[0];\n      MinimumDiameter.call(this, inputGeom, false);\n    } else if (arguments.length === 2) {\n      var _inputGeom = arguments[0],\n          isConvex = arguments[1];\n      this._inputGeom = _inputGeom;\n      this._isConvex = isConvex;\n    }\n  }\n  extend(MinimumDiameter.prototype, {\n    getWidthCoordinate: function getWidthCoordinate() {\n      this.computeMinimumDiameter();\n      return this._minWidthPt;\n    },\n    getSupportingSegment: function getSupportingSegment() {\n      this.computeMinimumDiameter();\n      return this._inputGeom.getFactory().createLineString([this._minBaseSeg.p0, this._minBaseSeg.p1]);\n    },\n    getDiameter: function getDiameter() {\n      this.computeMinimumDiameter();\n      if (this._minWidthPt === null) return this._inputGeom.getFactory().createLineString();\n\n      var basePt = this._minBaseSeg.project(this._minWidthPt);\n\n      return this._inputGeom.getFactory().createLineString([basePt, this._minWidthPt]);\n    },\n    computeWidthConvex: function computeWidthConvex(convexGeom) {\n      if (convexGeom instanceof Polygon) this._convexHullPts = convexGeom.getExteriorRing().getCoordinates();else this._convexHullPts = convexGeom.getCoordinates();\n\n      if (this._convexHullPts.length === 0) {\n        this._minWidth = 0.0;\n        this._minWidthPt = null;\n        this._minBaseSeg = null;\n      } else if (this._convexHullPts.length === 1) {\n        this._minWidth = 0.0;\n        this._minWidthPt = this._convexHullPts[0];\n        this._minBaseSeg.p0 = this._convexHullPts[0];\n        this._minBaseSeg.p1 = this._convexHullPts[0];\n      } else if (this._convexHullPts.length === 2 || this._convexHullPts.length === 3) {\n        this._minWidth = 0.0;\n        this._minWidthPt = this._convexHullPts[0];\n        this._minBaseSeg.p0 = this._convexHullPts[0];\n        this._minBaseSeg.p1 = this._convexHullPts[1];\n      } else this.computeConvexRingMinDiameter(this._convexHullPts);\n    },\n    computeConvexRingMinDiameter: function computeConvexRingMinDiameter(pts) {\n      this._minWidth = Double.MAX_VALUE;\n      var currMaxIndex = 1;\n      var seg = new LineSegment();\n\n      for (var i = 0; i < pts.length - 1; i++) {\n        seg.p0 = pts[i];\n        seg.p1 = pts[i + 1];\n        currMaxIndex = this.findMaxPerpDistance(pts, seg, currMaxIndex);\n      }\n    },\n    computeMinimumDiameter: function computeMinimumDiameter() {\n      if (this._minWidthPt !== null) return null;\n      if (this._isConvex) this.computeWidthConvex(this._inputGeom);else {\n        var convexGeom = new ConvexHull(this._inputGeom).getConvexHull();\n        this.computeWidthConvex(convexGeom);\n      }\n    },\n    getLength: function getLength() {\n      this.computeMinimumDiameter();\n      return this._minWidth;\n    },\n    findMaxPerpDistance: function findMaxPerpDistance(pts, seg, startIndex) {\n      var maxPerpDistance = seg.distancePerpendicular(pts[startIndex]);\n      var nextPerpDistance = maxPerpDistance;\n      var maxIndex = startIndex;\n      var nextIndex = maxIndex;\n\n      while (nextPerpDistance >= maxPerpDistance) {\n        maxPerpDistance = nextPerpDistance;\n        maxIndex = nextIndex;\n        nextIndex = MinimumDiameter.nextIndex(pts, maxIndex);\n        nextPerpDistance = seg.distancePerpendicular(pts[nextIndex]);\n      }\n\n      if (maxPerpDistance < this._minWidth) {\n        this._minPtIndex = maxIndex;\n        this._minWidth = maxPerpDistance;\n        this._minWidthPt = pts[this._minPtIndex];\n        this._minBaseSeg = new LineSegment(seg);\n      }\n\n      return maxIndex;\n    },\n    getMinimumRectangle: function getMinimumRectangle() {\n      this.computeMinimumDiameter();\n\n      if (this._minWidth === 0.0) {\n        if (this._minBaseSeg.p0.equals2D(this._minBaseSeg.p1)) {\n          return this._inputGeom.getFactory().createPoint(this._minBaseSeg.p0);\n        }\n\n        return this._minBaseSeg.toGeometry(this._inputGeom.getFactory());\n      }\n\n      var dx = this._minBaseSeg.p1.x - this._minBaseSeg.p0.x;\n      var dy = this._minBaseSeg.p1.y - this._minBaseSeg.p0.y;\n      var minPara = Double.MAX_VALUE;\n      var maxPara = -Double.MAX_VALUE;\n      var minPerp = Double.MAX_VALUE;\n      var maxPerp = -Double.MAX_VALUE;\n\n      for (var i = 0; i < this._convexHullPts.length; i++) {\n        var paraC = MinimumDiameter.computeC(dx, dy, this._convexHullPts[i]);\n        if (paraC > maxPara) maxPara = paraC;\n        if (paraC < minPara) minPara = paraC;\n        var perpC = MinimumDiameter.computeC(-dy, dx, this._convexHullPts[i]);\n        if (perpC > maxPerp) maxPerp = perpC;\n        if (perpC < minPerp) minPerp = perpC;\n      }\n\n      var maxPerpLine = MinimumDiameter.computeSegmentForLine(-dx, -dy, maxPerp);\n      var minPerpLine = MinimumDiameter.computeSegmentForLine(-dx, -dy, minPerp);\n      var maxParaLine = MinimumDiameter.computeSegmentForLine(-dy, dx, maxPara);\n      var minParaLine = MinimumDiameter.computeSegmentForLine(-dy, dx, minPara);\n      var p0 = maxParaLine.lineIntersection(maxPerpLine);\n      var p1 = minParaLine.lineIntersection(maxPerpLine);\n      var p2 = minParaLine.lineIntersection(minPerpLine);\n      var p3 = maxParaLine.lineIntersection(minPerpLine);\n\n      var shell = this._inputGeom.getFactory().createLinearRing([p0, p1, p2, p3, p0]);\n\n      return this._inputGeom.getFactory().createPolygon(shell);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return MinimumDiameter;\n    }\n  });\n\n  MinimumDiameter.nextIndex = function (pts, index) {\n    index++;\n    if (index >= pts.length) index = 0;\n    return index;\n  };\n\n  MinimumDiameter.computeC = function (a, b, p) {\n    return a * p.y - b * p.x;\n  };\n\n  MinimumDiameter.getMinimumDiameter = function (geom) {\n    return new MinimumDiameter(geom).getDiameter();\n  };\n\n  MinimumDiameter.getMinimumRectangle = function (geom) {\n    return new MinimumDiameter(geom).getMinimumRectangle();\n  };\n\n  MinimumDiameter.computeSegmentForLine = function (a, b, c) {\n    var p0 = null;\n    var p1 = null;\n\n    if (Math.abs(b) > Math.abs(a)) {\n      p0 = new Coordinate(0.0, c / b);\n      p1 = new Coordinate(1.0, c / b - a / b);\n    } else {\n      p0 = new Coordinate(c / a, 0.0);\n      p1 = new Coordinate(c / a - b / a, 1.0);\n    }\n\n    return new LineSegment(p0, p1);\n  };\n\n\n\n  var algorithm = /*#__PURE__*/Object.freeze({\n    distance: distance_module,\n    locate: locate,\n    match: match,\n    Angle: Angle,\n    Centroid: Centroid,\n    CGAlgorithms: CGAlgorithms,\n    ConvexHull: ConvexHull,\n    Distance: Distance,\n    InteriorPointArea: InteriorPointArea,\n    InteriorPointLine: InteriorPointLine,\n    InteriorPointPoint: InteriorPointPoint,\n    RobustLineIntersector: RobustLineIntersector,\n    MCPointInRing: MCPointInRing,\n    MinimumBoundingCircle: MinimumBoundingCircle,\n    MinimumDiameter: MinimumDiameter\n  });\n\n  function GeometryTransformer() {\n    this._inputGeom = null;\n    this._factory = null;\n    this._pruneEmptyGeometry = true;\n    this._preserveGeometryCollectionType = true;\n    this._preserveCollections = false;\n    this._preserveType = false;\n  }\n  extend(GeometryTransformer.prototype, {\n    transformPoint: function transformPoint(geom, parent) {\n      return this._factory.createPoint(this.transformCoordinates(geom.getCoordinateSequence(), geom));\n    },\n    transformPolygon: function transformPolygon(geom, parent) {\n      var isAllValidLinearRings = true;\n      var shell = this.transformLinearRing(geom.getExteriorRing(), geom);\n      if (shell === null || !(shell instanceof LinearRing) || shell.isEmpty()) isAllValidLinearRings = false;\n      var holes = new ArrayList();\n\n      for (var i = 0; i < geom.getNumInteriorRing(); i++) {\n        var hole = this.transformLinearRing(geom.getInteriorRingN(i), geom);\n\n        if (hole === null || hole.isEmpty()) {\n          continue;\n        }\n\n        if (!(hole instanceof LinearRing)) isAllValidLinearRings = false;\n        holes.add(hole);\n      }\n\n      if (isAllValidLinearRings) return this._factory.createPolygon(shell, holes.toArray([]));else {\n        var components = new ArrayList();\n        if (shell !== null) components.add(shell);\n        components.addAll(holes);\n        return this._factory.buildGeometry(components);\n      }\n    },\n    createCoordinateSequence: function createCoordinateSequence(coords) {\n      return this._factory.getCoordinateSequenceFactory().create(coords);\n    },\n    getInputGeometry: function getInputGeometry() {\n      return this._inputGeom;\n    },\n    transformMultiLineString: function transformMultiLineString(geom, parent) {\n      var transGeomList = new ArrayList();\n\n      for (var i = 0; i < geom.getNumGeometries(); i++) {\n        var transformGeom = this.transformLineString(geom.getGeometryN(i), geom);\n        if (transformGeom === null) continue;\n        if (transformGeom.isEmpty()) continue;\n        transGeomList.add(transformGeom);\n      }\n\n      return this._factory.buildGeometry(transGeomList);\n    },\n    transformCoordinates: function transformCoordinates(coords, parent) {\n      return this.copy(coords);\n    },\n    transformLineString: function transformLineString(geom, parent) {\n      return this._factory.createLineString(this.transformCoordinates(geom.getCoordinateSequence(), geom));\n    },\n    transformMultiPoint: function transformMultiPoint(geom, parent) {\n      var transGeomList = new ArrayList();\n\n      for (var i = 0; i < geom.getNumGeometries(); i++) {\n        var transformGeom = this.transformPoint(geom.getGeometryN(i), geom);\n        if (transformGeom === null) continue;\n        if (transformGeom.isEmpty()) continue;\n        transGeomList.add(transformGeom);\n      }\n\n      return this._factory.buildGeometry(transGeomList);\n    },\n    transformMultiPolygon: function transformMultiPolygon(geom, parent) {\n      var transGeomList = new ArrayList();\n\n      for (var i = 0; i < geom.getNumGeometries(); i++) {\n        var transformGeom = this.transformPolygon(geom.getGeometryN(i), geom);\n        if (transformGeom === null) continue;\n        if (transformGeom.isEmpty()) continue;\n        transGeomList.add(transformGeom);\n      }\n\n      return this._factory.buildGeometry(transGeomList);\n    },\n    copy: function copy(seq) {\n      return seq.copy();\n    },\n    transformGeometryCollection: function transformGeometryCollection(geom, parent) {\n      var transGeomList = new ArrayList();\n\n      for (var i = 0; i < geom.getNumGeometries(); i++) {\n        var transformGeom = this.transform(geom.getGeometryN(i));\n        if (transformGeom === null) continue;\n        if (this._pruneEmptyGeometry && transformGeom.isEmpty()) continue;\n        transGeomList.add(transformGeom);\n      }\n\n      if (this._preserveGeometryCollectionType) return this._factory.createGeometryCollection(GeometryFactory.toGeometryArray(transGeomList));\n      return this._factory.buildGeometry(transGeomList);\n    },\n    transform: function transform(inputGeom) {\n      this._inputGeom = inputGeom;\n      this._factory = inputGeom.getFactory();\n      if (inputGeom instanceof Point) return this.transformPoint(inputGeom, null);\n      if (inputGeom instanceof MultiPoint) return this.transformMultiPoint(inputGeom, null);\n      if (inputGeom instanceof LinearRing) return this.transformLinearRing(inputGeom, null);\n      if (inputGeom instanceof LineString) return this.transformLineString(inputGeom, null);\n      if (inputGeom instanceof MultiLineString) return this.transformMultiLineString(inputGeom, null);\n      if (inputGeom instanceof Polygon) return this.transformPolygon(inputGeom, null);\n      if (inputGeom instanceof MultiPolygon) return this.transformMultiPolygon(inputGeom, null);\n      if (inputGeom instanceof GeometryCollection) return this.transformGeometryCollection(inputGeom, null);\n      throw new IllegalArgumentException(\"Unknown Geometry subtype: \" + inputGeom.getClass().getName());\n    },\n    transformLinearRing: function transformLinearRing(geom, parent) {\n      var seq = this.transformCoordinates(geom.getCoordinateSequence(), geom);\n      if (seq === null) return this._factory.createLinearRing(null);\n      var seqSize = seq.size();\n      if (seqSize > 0 && seqSize < 4 && !this._preserveType) return this._factory.createLineString(seq);\n      return this._factory.createLinearRing(seq);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return GeometryTransformer;\n    }\n  });\n\n  function Densifier() {\n    this._inputGeom = null;\n    this._distanceTolerance = null;\n    var inputGeom = arguments[0];\n    this._inputGeom = inputGeom;\n  }\n  extend(Densifier.prototype, {\n    getResultGeometry: function getResultGeometry() {\n      return new DensifyTransformer(this._distanceTolerance).transform(this._inputGeom);\n    },\n    setDistanceTolerance: function setDistanceTolerance(distanceTolerance) {\n      if (distanceTolerance <= 0.0) throw new IllegalArgumentException(\"Tolerance must be positive\");\n      this._distanceTolerance = distanceTolerance;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Densifier;\n    }\n  });\n\n  Densifier.densifyPoints = function (pts, distanceTolerance, precModel) {\n    var seg = new LineSegment();\n    var coordList = new CoordinateList();\n\n    for (var i = 0; i < pts.length - 1; i++) {\n      seg.p0 = pts[i];\n      seg.p1 = pts[i + 1];\n      coordList.add(seg.p0, false);\n      var len = seg.getLength();\n      var densifiedSegCount = Math.trunc(len / distanceTolerance) + 1;\n\n      if (densifiedSegCount > 1) {\n        var densifiedSegLen = len / densifiedSegCount;\n\n        for (var j = 1; j < densifiedSegCount; j++) {\n          var segFract = j * densifiedSegLen / len;\n          var p = seg.pointAlong(segFract);\n          precModel.makePrecise(p);\n          coordList.add(p, false);\n        }\n      }\n    }\n\n    coordList.add(pts[pts.length - 1], false);\n    return coordList.toCoordinateArray();\n  };\n\n  Densifier.densify = function (geom, distanceTolerance) {\n    var densifier = new Densifier(geom);\n    densifier.setDistanceTolerance(distanceTolerance);\n    return densifier.getResultGeometry();\n  };\n\n  function DensifyTransformer() {\n    GeometryTransformer.apply(this);\n    this.distanceTolerance = null;\n    var distanceTolerance = arguments[0];\n    this.distanceTolerance = distanceTolerance;\n  }\n\n  inherits(DensifyTransformer, GeometryTransformer);\n  extend(DensifyTransformer.prototype, {\n    transformMultiPolygon: function transformMultiPolygon(geom, parent) {\n      var roughGeom = GeometryTransformer.prototype.transformMultiPolygon.call(this, geom, parent);\n      return this.createValidArea(roughGeom);\n    },\n    transformPolygon: function transformPolygon(geom, parent) {\n      var roughGeom = GeometryTransformer.prototype.transformPolygon.call(this, geom, parent);\n\n      if (parent instanceof MultiPolygon) {\n        return roughGeom;\n      }\n\n      return this.createValidArea(roughGeom);\n    },\n    transformCoordinates: function transformCoordinates(coords, parent) {\n      var inputPts = coords.toCoordinateArray();\n      var newPts = Densifier.densifyPoints(inputPts, this.distanceTolerance, parent.getPrecisionModel());\n\n      if (parent instanceof LineString && newPts.length === 1) {\n        newPts = new Array(0).fill(null);\n      }\n\n      return this._factory.getCoordinateSequenceFactory().create(newPts);\n    },\n    createValidArea: function createValidArea(roughAreaGeom) {\n      return roughAreaGeom.buffer(0.0);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return DensifyTransformer;\n    }\n  });\n  Densifier.DensifyTransformer = DensifyTransformer;\n\n\n\n  var densify = /*#__PURE__*/Object.freeze({\n    Densifier: Densifier\n  });\n\n  function HalfEdge() {\n    this._orig = null;\n    this._sym = null;\n    this._next = null;\n    var orig = arguments[0];\n    this._orig = orig;\n  }\n  extend(HalfEdge.prototype, {\n    find: function find(dest) {\n      var oNext = this;\n\n      do {\n        if (oNext === null) return null;\n        if (oNext.dest().equals2D(dest)) return oNext;\n        oNext = oNext.oNext();\n      } while (oNext !== this);\n\n      return null;\n    },\n    dest: function dest() {\n      return this._sym._orig;\n    },\n    oNext: function oNext() {\n      return this._sym._next;\n    },\n    insert: function insert(e) {\n      if (this.oNext() === this) {\n        this.insertAfter(e);\n        return null;\n      }\n\n      var ecmp = this.compareTo(e);\n      var ePrev = this;\n\n      do {\n        var oNext = ePrev.oNext();\n        var cmp = oNext.compareTo(e);\n\n        if (cmp !== ecmp || oNext === this) {\n          ePrev.insertAfter(e);\n          return null;\n        }\n\n        ePrev = oNext;\n      } while (ePrev !== this);\n\n      Assert.shouldNeverReachHere();\n    },\n    insertAfter: function insertAfter(e) {\n      Assert.equals(this._orig, e.orig());\n      var save = this.oNext();\n\n      this._sym.setNext(e);\n\n      e.sym().setNext(save);\n    },\n    degree: function degree() {\n      var degree = 0;\n      var e = this;\n\n      do {\n        degree++;\n        e = e.oNext();\n      } while (e !== this);\n\n      return degree;\n    },\n    equals: function equals() {\n      if (arguments.length === 2 && arguments[1] instanceof Coordinate && arguments[0] instanceof Coordinate) {\n        var p0 = arguments[0],\n            p1 = arguments[1];\n        return this._orig.equals2D(p0) && this._sym._orig.equals(p1);\n      }\n    },\n    deltaY: function deltaY() {\n      return this._sym._orig.y - this._orig.y;\n    },\n    sym: function sym() {\n      return this._sym;\n    },\n    prev: function prev() {\n      return this._sym.next()._sym;\n    },\n    compareAngularDirection: function compareAngularDirection(e) {\n      var dx = this.deltaX();\n      var dy = this.deltaY();\n      var dx2 = e.deltaX();\n      var dy2 = e.deltaY();\n      if (dx === dx2 && dy === dy2) return 0;\n      var quadrant = Quadrant.quadrant(dx, dy);\n      var quadrant2 = Quadrant.quadrant(dx2, dy2);\n      if (quadrant > quadrant2) return 1;\n      if (quadrant < quadrant2) return -1;\n      return Orientation.index(e._orig, e.dest(), this.dest());\n    },\n    prevNode: function prevNode() {\n      var e = this;\n\n      while (e.degree() === 2) {\n        e = e.prev();\n        if (e === this) return null;\n      }\n\n      return e;\n    },\n    compareTo: function compareTo(obj) {\n      var e = obj;\n      var comp = this.compareAngularDirection(e);\n      return comp;\n    },\n    next: function next() {\n      return this._next;\n    },\n    setSym: function setSym(e) {\n      this._sym = e;\n    },\n    orig: function orig() {\n      return this._orig;\n    },\n    toString: function toString() {\n      return \"HE(\" + this._orig.x + \" \" + this._orig.y + \", \" + this._sym._orig.x + \" \" + this._sym._orig.y + \")\";\n    },\n    setNext: function setNext(e) {\n      this._next = e;\n    },\n    init: function init(e) {\n      this.setSym(e);\n      e.setSym(this);\n      this.setNext(e);\n      e.setNext(this);\n    },\n    deltaX: function deltaX() {\n      return this._sym._orig.x - this._orig.x;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return HalfEdge;\n    }\n  });\n\n  HalfEdge.init = function (e0, e1) {\n    if (e0._sym !== null || e1._sym !== null || e0._next !== null || e1._next !== null) throw new IllegalStateException(\"Edges are already initialized\");\n    e0.init(e1);\n    return e0;\n  };\n\n  HalfEdge.create = function (p0, p1) {\n    var e0 = new HalfEdge(p0);\n    var e1 = new HalfEdge(p1);\n    e0.init(e1);\n    return e0;\n  };\n\n  function MarkHalfEdge() {\n    this._isMarked = false;\n    var orig = arguments[0];\n    HalfEdge.call(this, orig);\n  }\n  inherits(MarkHalfEdge, HalfEdge);\n  extend(MarkHalfEdge.prototype, {\n    mark: function mark() {\n      this._isMarked = true;\n    },\n    setMark: function setMark(isMarked) {\n      this._isMarked = isMarked;\n    },\n    isMarked: function isMarked() {\n      return this._isMarked;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return MarkHalfEdge;\n    }\n  });\n\n  MarkHalfEdge.setMarkBoth = function (e, isMarked) {\n    e.setMark(isMarked);\n    e.sym().setMark(isMarked);\n  };\n\n  MarkHalfEdge.isMarked = function (e) {\n    return e.isMarked();\n  };\n\n  MarkHalfEdge.setMark = function (e, isMarked) {\n    e.setMark(isMarked);\n  };\n\n  MarkHalfEdge.markBoth = function (e) {\n    e.mark();\n    e.sym().mark();\n  };\n\n  MarkHalfEdge.mark = function (e) {\n    e.mark();\n  };\n\n  function EdgeGraph() {\n    this._vertexMap = new HashMap();\n  }\n  extend(EdgeGraph.prototype, {\n    insert: function insert(orig, dest, eAdj) {\n      var e = this.create(orig, dest);\n\n      if (eAdj !== null) {\n        eAdj.insert(e);\n      } else {\n        this._vertexMap.put(orig, e);\n      }\n\n      var eAdjDest = this._vertexMap.get(dest);\n\n      if (eAdjDest !== null) {\n        eAdjDest.insert(e.sym());\n      } else {\n        this._vertexMap.put(dest, e.sym());\n      }\n\n      return e;\n    },\n    create: function create(p0, p1) {\n      var e0 = this.createEdge(p0);\n      var e1 = this.createEdge(p1);\n      HalfEdge.init(e0, e1);\n      return e0;\n    },\n    createEdge: function createEdge(orig) {\n      return new HalfEdge(orig);\n    },\n    addEdge: function addEdge(orig, dest) {\n      if (!EdgeGraph.isValidEdge(orig, dest)) return null;\n\n      var eAdj = this._vertexMap.get(orig);\n\n      var eSame = null;\n\n      if (eAdj !== null) {\n        eSame = eAdj.find(dest);\n      }\n\n      if (eSame !== null) {\n        return eSame;\n      }\n\n      var e = this.insert(orig, dest, eAdj);\n      return e;\n    },\n    getVertexEdges: function getVertexEdges() {\n      return this._vertexMap.values();\n    },\n    findEdge: function findEdge(orig, dest) {\n      var e = this._vertexMap.get(orig);\n\n      if (e === null) return null;\n      return e.find(dest);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return EdgeGraph;\n    }\n  });\n\n  EdgeGraph.isValidEdge = function (orig, dest) {\n    var cmp = dest.compareTo(orig);\n    return cmp !== 0;\n  };\n\n  function DissolveHalfEdge() {\n    this._isStart = false;\n    var orig = arguments[0];\n    MarkHalfEdge.call(this, orig);\n  }\n  inherits(DissolveHalfEdge, MarkHalfEdge);\n  extend(DissolveHalfEdge.prototype, {\n    setStart: function setStart() {\n      this._isStart = true;\n    },\n    isStart: function isStart() {\n      return this._isStart;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return DissolveHalfEdge;\n    }\n  });\n\n  function DissolveEdgeGraph() {\n    EdgeGraph.apply(this);\n  }\n  inherits(DissolveEdgeGraph, EdgeGraph);\n  extend(DissolveEdgeGraph.prototype, {\n    createEdge: function createEdge(p0) {\n      return new DissolveHalfEdge(p0);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return DissolveEdgeGraph;\n    }\n  });\n\n  function LineDissolver() {\n    this._result = null;\n    this._factory = null;\n    this._graph = null;\n    this._lines = new ArrayList();\n    this._nodeEdgeStack = new Stack();\n    this._ringStartEdge = null;\n    this._graph = new DissolveEdgeGraph();\n  }\n  extend(LineDissolver.prototype, {\n    addLine: function addLine(line) {\n      this._lines.add(this._factory.createLineString(line.toCoordinateArray()));\n    },\n    updateRingStartEdge: function updateRingStartEdge(e) {\n      if (!e.isStart()) {\n        e = e.sym();\n        if (!e.isStart()) return null;\n      }\n\n      if (this._ringStartEdge === null) {\n        this._ringStartEdge = e;\n        return null;\n      }\n\n      if (e.orig().compareTo(this._ringStartEdge.orig()) < 0) {\n        this._ringStartEdge = e;\n      }\n    },\n    getResult: function getResult() {\n      if (this._result === null) this.computeResult();\n      return this._result;\n    },\n    process: function process(e) {\n      var eNode = e.prevNode();\n      if (eNode === null) eNode = e;\n      this.stackEdges(eNode);\n      this.buildLines();\n    },\n    buildRing: function buildRing(eStartRing) {\n      var line = new CoordinateList();\n      var e = eStartRing;\n      line.add(e.orig().copy(), false);\n\n      while (e.sym().degree() === 2) {\n        var eNext = e.next();\n        if (eNext === eStartRing) break;\n        line.add(eNext.orig().copy(), false);\n        e = eNext;\n      }\n\n      line.add(e.dest().copy(), false);\n      this.addLine(line);\n    },\n    buildLine: function buildLine(eStart) {\n      var line = new CoordinateList();\n      var e = eStart;\n      this._ringStartEdge = null;\n      MarkHalfEdge.markBoth(e);\n      line.add(e.orig().copy(), false);\n\n      while (e.sym().degree() === 2) {\n        this.updateRingStartEdge(e);\n        var eNext = e.next();\n\n        if (eNext === eStart) {\n          this.buildRing(this._ringStartEdge);\n          return null;\n        }\n\n        line.add(eNext.orig().copy(), false);\n        e = eNext;\n        MarkHalfEdge.markBoth(e);\n      }\n\n      line.add(e.dest().clone(), false);\n      this.stackEdges(e.sym());\n      this.addLine(line);\n    },\n    stackEdges: function stackEdges(node) {\n      var e = node;\n\n      do {\n        if (!MarkHalfEdge.isMarked(e)) this._nodeEdgeStack.add(e);\n        e = e.oNext();\n      } while (e !== node);\n    },\n    computeResult: function computeResult() {\n      var edges = this._graph.getVertexEdges();\n\n      for (var i = edges.iterator(); i.hasNext();) {\n        var e = i.next();\n        if (MarkHalfEdge.isMarked(e)) continue;\n        this.process(e);\n      }\n\n      this._result = this._factory.buildGeometry(this._lines);\n    },\n    buildLines: function buildLines() {\n      while (!this._nodeEdgeStack.empty()) {\n        var e = this._nodeEdgeStack.pop();\n\n        if (MarkHalfEdge.isMarked(e)) continue;\n        this.buildLine(e);\n      }\n    },\n    add: function add() {\n      if (arguments[0] instanceof Geometry) {\n        var _geometry = arguments[0];\n\n        _geometry.apply({\n          interfaces_: function interfaces_() {\n            return [GeometryComponentFilter];\n          },\n          filter: function filter(component) {\n            if (component instanceof LineString) {\n              this.add(component);\n            }\n          }\n        });\n      } else if (hasInterface(arguments[0], Collection)) {\n        var geometries = arguments[0];\n\n        for (var i = geometries.iterator(); i.hasNext();) {\n          var geometry = i.next();\n          this.add(geometry);\n        }\n      } else if (arguments[0] instanceof LineString) {\n        var lineString = arguments[0];\n\n        if (this._factory === null) {\n          this._factory = lineString.getFactory();\n        }\n\n        var seq = lineString.getCoordinateSequence();\n        var doneStart = false;\n\n        for (var i = 1; i < seq.size(); i++) {\n          var e = this._graph.addEdge(seq.getCoordinate(i - 1), seq.getCoordinate(i));\n\n          if (e === null) continue;\n\n          if (!doneStart) {\n            e.setStart();\n            doneStart = true;\n          }\n        }\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LineDissolver;\n    }\n  });\n\n  LineDissolver.dissolve = function (g) {\n    var d = new LineDissolver();\n    d.add(g);\n    return d.getResult();\n  };\n\n\n\n  var dissolve = /*#__PURE__*/Object.freeze({\n    LineDissolver: LineDissolver\n  });\n\n  function PointLocator() {\n    this._boundaryRule = BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE;\n    this._isIn = null;\n    this._numBoundaries = null;\n\n    if (arguments.length === 0) ; else if (arguments.length === 1) {\n      var boundaryRule = arguments[0];\n      if (boundaryRule === null) throw new IllegalArgumentException(\"Rule must be non-null\");\n      this._boundaryRule = boundaryRule;\n    }\n  }\n  extend(PointLocator.prototype, {\n    locateInPolygonRing: function locateInPolygonRing(p, ring) {\n      if (!ring.getEnvelopeInternal().intersects(p)) return Location.EXTERIOR;\n      return PointLocation.locateInRing(p, ring.getCoordinates());\n    },\n    intersects: function intersects(p, geom) {\n      return this.locate(p, geom) !== Location.EXTERIOR;\n    },\n    updateLocationInfo: function updateLocationInfo(loc) {\n      if (loc === Location.INTERIOR) this._isIn = true;\n      if (loc === Location.BOUNDARY) this._numBoundaries++;\n    },\n    computeLocation: function computeLocation(p, geom) {\n      if (geom instanceof Point) {\n        this.updateLocationInfo(this.locateOnPoint(p, geom));\n      }\n\n      if (geom instanceof LineString) {\n        this.updateLocationInfo(this.locateOnLineString(p, geom));\n      } else if (geom instanceof Polygon) {\n        this.updateLocationInfo(this.locateInPolygon(p, geom));\n      } else if (geom instanceof MultiLineString) {\n        var ml = geom;\n\n        for (var i = 0; i < ml.getNumGeometries(); i++) {\n          var l = ml.getGeometryN(i);\n          this.updateLocationInfo(this.locateOnLineString(p, l));\n        }\n      } else if (geom instanceof MultiPolygon) {\n        var mpoly = geom;\n\n        for (var i = 0; i < mpoly.getNumGeometries(); i++) {\n          var poly = mpoly.getGeometryN(i);\n          this.updateLocationInfo(this.locateInPolygon(p, poly));\n        }\n      } else if (geom instanceof GeometryCollection) {\n        var geomi = new GeometryCollectionIterator(geom);\n\n        while (geomi.hasNext()) {\n          var g2 = geomi.next();\n          if (g2 !== geom) this.computeLocation(p, g2);\n        }\n      }\n    },\n    locateOnPoint: function locateOnPoint(p, pt) {\n      var ptCoord = pt.getCoordinate();\n      if (ptCoord.equals2D(p)) return Location.INTERIOR;\n      return Location.EXTERIOR;\n    },\n    locateOnLineString: function locateOnLineString(p, l) {\n      if (!l.getEnvelopeInternal().intersects(p)) return Location.EXTERIOR;\n      var seq = l.getCoordinateSequence();\n\n      if (!l.isClosed()) {\n        if (p.equals(seq.getCoordinate(0)) || p.equals(seq.getCoordinate(seq.size() - 1))) {\n          return Location.BOUNDARY;\n        }\n      }\n\n      if (PointLocation.isOnLine(p, seq)) {\n        return Location.INTERIOR;\n      }\n\n      return Location.EXTERIOR;\n    },\n    locateInPolygon: function locateInPolygon(p, poly) {\n      if (poly.isEmpty()) return Location.EXTERIOR;\n      var shell = poly.getExteriorRing();\n      var shellLoc = this.locateInPolygonRing(p, shell);\n      if (shellLoc === Location.EXTERIOR) return Location.EXTERIOR;\n      if (shellLoc === Location.BOUNDARY) return Location.BOUNDARY;\n\n      for (var i = 0; i < poly.getNumInteriorRing(); i++) {\n        var hole = poly.getInteriorRingN(i);\n        var holeLoc = this.locateInPolygonRing(p, hole);\n        if (holeLoc === Location.INTERIOR) return Location.EXTERIOR;\n        if (holeLoc === Location.BOUNDARY) return Location.BOUNDARY;\n      }\n\n      return Location.INTERIOR;\n    },\n    locate: function locate(p, geom) {\n      if (geom.isEmpty()) return Location.EXTERIOR;\n\n      if (geom instanceof LineString) {\n        return this.locateOnLineString(p, geom);\n      } else if (geom instanceof Polygon) {\n        return this.locateInPolygon(p, geom);\n      }\n\n      this._isIn = false;\n      this._numBoundaries = 0;\n      this.computeLocation(p, geom);\n      if (this._boundaryRule.isInBoundary(this._numBoundaries)) return Location.BOUNDARY;\n      if (this._numBoundaries > 0 || this._isIn) return Location.INTERIOR;\n      return Location.EXTERIOR;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return PointLocator;\n    }\n  });\n\n  function Position() {}\n  extend(Position.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Position;\n    }\n  });\n\n  Position.opposite = function (position) {\n    if (position === Position.LEFT) return Position.RIGHT;\n    if (position === Position.RIGHT) return Position.LEFT;\n    return position;\n  };\n\n  Position.ON = 0;\n  Position.LEFT = 1;\n  Position.RIGHT = 2;\n\n  function MonotoneChain$1() {\n    this.mce = null;\n    this.chainIndex = null;\n    var mce = arguments[0],\n        chainIndex = arguments[1];\n    this.mce = mce;\n    this.chainIndex = chainIndex;\n  }\n  extend(MonotoneChain$1.prototype, {\n    computeIntersections: function computeIntersections(mc, si) {\n      this.mce.computeIntersectsForChain(this.chainIndex, mc.mce, mc.chainIndex, si);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return MonotoneChain$1;\n    }\n  });\n\n  function SweepLineEvent() {\n    this._label = null;\n    this._xValue = null;\n    this._eventType = null;\n    this._insertEvent = null;\n    this._deleteEventIndex = null;\n    this._obj = null;\n\n    if (arguments.length === 2) {\n      var x = arguments[0],\n          insertEvent = arguments[1];\n      this._eventType = SweepLineEvent.DELETE;\n      this._xValue = x;\n      this._insertEvent = insertEvent;\n    } else if (arguments.length === 3) {\n      var label = arguments[0],\n          _x = arguments[1],\n          obj = arguments[2];\n      this._eventType = SweepLineEvent.INSERT;\n      this._label = label;\n      this._xValue = _x;\n      this._obj = obj;\n    }\n  }\n  extend(SweepLineEvent.prototype, {\n    isDelete: function isDelete() {\n      return this._eventType === SweepLineEvent.DELETE;\n    },\n    setDeleteEventIndex: function setDeleteEventIndex(deleteEventIndex) {\n      this._deleteEventIndex = deleteEventIndex;\n    },\n    getObject: function getObject() {\n      return this._obj;\n    },\n    compareTo: function compareTo(o) {\n      var pe = o;\n      if (this._xValue < pe._xValue) return -1;\n      if (this._xValue > pe._xValue) return 1;\n      if (this._eventType < pe._eventType) return -1;\n      if (this._eventType > pe._eventType) return 1;\n      return 0;\n    },\n    getInsertEvent: function getInsertEvent() {\n      return this._insertEvent;\n    },\n    isInsert: function isInsert() {\n      return this._eventType === SweepLineEvent.INSERT;\n    },\n    isSameLabel: function isSameLabel(ev) {\n      if (this._label === null) return false;\n      return this._label === ev._label;\n    },\n    getDeleteEventIndex: function getDeleteEventIndex() {\n      return this._deleteEventIndex;\n    },\n    interfaces_: function interfaces_() {\n      return [Comparable];\n    },\n    getClass: function getClass() {\n      return SweepLineEvent;\n    }\n  });\n  SweepLineEvent.INSERT = 1;\n  SweepLineEvent.DELETE = 2;\n\n  function EdgeSetIntersector() {}\n  extend(EdgeSetIntersector.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return EdgeSetIntersector;\n    }\n  });\n\n  function SegmentIntersector() {\n    this._hasIntersection = false;\n    this._hasProper = false;\n    this._hasProperInterior = false;\n    this._properIntersectionPoint = null;\n    this._li = null;\n    this._includeProper = null;\n    this._recordIsolated = null;\n    this._isSelfIntersection = null;\n    this._numIntersections = 0;\n    this.numTests = 0;\n    this._bdyNodes = null;\n    this._isDone = false;\n    this._isDoneWhenProperInt = false;\n    var li = arguments[0],\n        includeProper = arguments[1],\n        recordIsolated = arguments[2];\n    this._li = li;\n    this._includeProper = includeProper;\n    this._recordIsolated = recordIsolated;\n  }\n  extend(SegmentIntersector.prototype, {\n    isTrivialIntersection: function isTrivialIntersection(e0, segIndex0, e1, segIndex1) {\n      if (e0 === e1) {\n        if (this._li.getIntersectionNum() === 1) {\n          if (SegmentIntersector.isAdjacentSegments(segIndex0, segIndex1)) return true;\n\n          if (e0.isClosed()) {\n            var maxSegIndex = e0.getNumPoints() - 1;\n\n            if (segIndex0 === 0 && segIndex1 === maxSegIndex || segIndex1 === 0 && segIndex0 === maxSegIndex) {\n              return true;\n            }\n          }\n        }\n      }\n\n      return false;\n    },\n    getProperIntersectionPoint: function getProperIntersectionPoint() {\n      return this._properIntersectionPoint;\n    },\n    setIsDoneIfProperInt: function setIsDoneIfProperInt(isDoneWhenProperInt) {\n      this._isDoneWhenProperInt = isDoneWhenProperInt;\n    },\n    hasProperInteriorIntersection: function hasProperInteriorIntersection() {\n      return this._hasProperInterior;\n    },\n    isBoundaryPointInternal: function isBoundaryPointInternal(li, bdyNodes) {\n      for (var i = bdyNodes.iterator(); i.hasNext();) {\n        var node = i.next();\n        var pt = node.getCoordinate();\n        if (li.isIntersection(pt)) return true;\n      }\n\n      return false;\n    },\n    hasProperIntersection: function hasProperIntersection() {\n      return this._hasProper;\n    },\n    hasIntersection: function hasIntersection() {\n      return this._hasIntersection;\n    },\n    isDone: function isDone() {\n      return this._isDone;\n    },\n    isBoundaryPoint: function isBoundaryPoint(li, bdyNodes) {\n      if (bdyNodes === null) return false;\n      if (this.isBoundaryPointInternal(li, bdyNodes[0])) return true;\n      if (this.isBoundaryPointInternal(li, bdyNodes[1])) return true;\n      return false;\n    },\n    setBoundaryNodes: function setBoundaryNodes(bdyNodes0, bdyNodes1) {\n      this._bdyNodes = new Array(2).fill(null);\n      this._bdyNodes[0] = bdyNodes0;\n      this._bdyNodes[1] = bdyNodes1;\n    },\n    addIntersections: function addIntersections(e0, segIndex0, e1, segIndex1) {\n      if (e0 === e1 && segIndex0 === segIndex1) return null;\n      this.numTests++;\n      var p00 = e0.getCoordinates()[segIndex0];\n      var p01 = e0.getCoordinates()[segIndex0 + 1];\n      var p10 = e1.getCoordinates()[segIndex1];\n      var p11 = e1.getCoordinates()[segIndex1 + 1];\n\n      this._li.computeIntersection(p00, p01, p10, p11);\n\n      if (this._li.hasIntersection()) {\n        if (this._recordIsolated) {\n          e0.setIsolated(false);\n          e1.setIsolated(false);\n        }\n\n        this._numIntersections++;\n\n        if (!this.isTrivialIntersection(e0, segIndex0, e1, segIndex1)) {\n          this._hasIntersection = true;\n\n          if (this._includeProper || !this._li.isProper()) {\n            e0.addIntersections(this._li, segIndex0, 0);\n            e1.addIntersections(this._li, segIndex1, 1);\n          }\n\n          if (this._li.isProper()) {\n            this._properIntersectionPoint = this._li.getIntersection(0).copy();\n            this._hasProper = true;\n\n            if (this._isDoneWhenProperInt) {\n              this._isDone = true;\n            }\n\n            if (!this.isBoundaryPoint(this._li, this._bdyNodes)) this._hasProperInterior = true;\n          }\n        }\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return SegmentIntersector;\n    }\n  });\n\n  SegmentIntersector.isAdjacentSegments = function (i1, i2) {\n    return Math.abs(i1 - i2) === 1;\n  };\n\n  function SimpleMCSweepLineIntersector() {\n    EdgeSetIntersector.apply(this);\n    this.events = new ArrayList();\n    this.nOverlaps = null;\n  }\n  inherits(SimpleMCSweepLineIntersector, EdgeSetIntersector);\n  extend(SimpleMCSweepLineIntersector.prototype, {\n    prepareEvents: function prepareEvents() {\n      Collections.sort(this.events);\n\n      for (var i = 0; i < this.events.size(); i++) {\n        var ev = this.events.get(i);\n\n        if (ev.isDelete()) {\n          ev.getInsertEvent().setDeleteEventIndex(i);\n        }\n      }\n    },\n    computeIntersections: function computeIntersections() {\n      if (arguments.length === 1) {\n        var si = arguments[0];\n        this.nOverlaps = 0;\n        this.prepareEvents();\n\n        for (var i = 0; i < this.events.size(); i++) {\n          var ev = this.events.get(i);\n\n          if (ev.isInsert()) {\n            this.processOverlaps(i, ev.getDeleteEventIndex(), ev, si);\n          }\n\n          if (si.isDone()) {\n            break;\n          }\n        }\n      } else if (arguments.length === 3) {\n        if (arguments[2] instanceof SegmentIntersector && hasInterface(arguments[0], List) && hasInterface(arguments[1], List)) {\n          var edges0 = arguments[0],\n              edges1 = arguments[1],\n              _si = arguments[2];\n          this.addEdges(edges0, edges0);\n          this.addEdges(edges1, edges1);\n          this.computeIntersections(_si);\n        } else if (typeof arguments[2] === \"boolean\" && hasInterface(arguments[0], List) && arguments[1] instanceof SegmentIntersector) {\n          var edges = arguments[0],\n              _si2 = arguments[1],\n              testAllSegments = arguments[2];\n          if (testAllSegments) this.addEdges(edges, null);else this.addEdges(edges);\n          this.computeIntersections(_si2);\n        }\n      }\n    },\n    addEdge: function addEdge(edge, edgeSet) {\n      var mce = edge.getMonotoneChainEdge();\n      var startIndex = mce.getStartIndexes();\n\n      for (var i = 0; i < startIndex.length - 1; i++) {\n        var mc = new MonotoneChain$1(mce, i);\n        var insertEvent = new SweepLineEvent(edgeSet, mce.getMinX(i), mc);\n        this.events.add(insertEvent);\n        this.events.add(new SweepLineEvent(mce.getMaxX(i), insertEvent));\n      }\n    },\n    processOverlaps: function processOverlaps(start, end, ev0, si) {\n      var mc0 = ev0.getObject();\n\n      for (var i = start; i < end; i++) {\n        var ev1 = this.events.get(i);\n\n        if (ev1.isInsert()) {\n          var mc1 = ev1.getObject();\n\n          if (!ev0.isSameLabel(ev1)) {\n            mc0.computeIntersections(mc1, si);\n            this.nOverlaps++;\n          }\n        }\n      }\n    },\n    addEdges: function addEdges() {\n      if (arguments.length === 1) {\n        var edges = arguments[0];\n\n        for (var i = edges.iterator(); i.hasNext();) {\n          var edge = i.next();\n          this.addEdge(edge, edge);\n        }\n      } else if (arguments.length === 2) {\n        var _edges = arguments[0],\n            edgeSet = arguments[1];\n\n        for (var i = _edges.iterator(); i.hasNext();) {\n          var edge = i.next();\n          this.addEdge(edge, edgeSet);\n        }\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return SimpleMCSweepLineIntersector;\n    }\n  });\n\n  function TopologyLocation() {\n    this.location = null;\n\n    if (arguments.length === 1) {\n      if (arguments[0] instanceof Array) {\n        var location = arguments[0];\n        this.init(location.length);\n      } else if (Number.isInteger(arguments[0])) {\n        var on = arguments[0];\n        this.init(1);\n        this.location[Position.ON] = on;\n      } else if (arguments[0] instanceof TopologyLocation) {\n        var gl = arguments[0];\n        this.init(gl.location.length);\n\n        if (gl !== null) {\n          for (var i = 0; i < this.location.length; i++) {\n            this.location[i] = gl.location[i];\n          }\n        }\n      }\n    } else if (arguments.length === 3) {\n      var _on = arguments[0],\n          left = arguments[1],\n          right = arguments[2];\n      this.init(3);\n      this.location[Position.ON] = _on;\n      this.location[Position.LEFT] = left;\n      this.location[Position.RIGHT] = right;\n    }\n  }\n  extend(TopologyLocation.prototype, {\n    setAllLocations: function setAllLocations(locValue) {\n      for (var i = 0; i < this.location.length; i++) {\n        this.location[i] = locValue;\n      }\n    },\n    isNull: function isNull() {\n      for (var i = 0; i < this.location.length; i++) {\n        if (this.location[i] !== Location.NONE) return false;\n      }\n\n      return true;\n    },\n    setAllLocationsIfNull: function setAllLocationsIfNull(locValue) {\n      for (var i = 0; i < this.location.length; i++) {\n        if (this.location[i] === Location.NONE) this.location[i] = locValue;\n      }\n    },\n    isLine: function isLine() {\n      return this.location.length === 1;\n    },\n    merge: function merge(gl) {\n      if (gl.location.length > this.location.length) {\n        var newLoc = new Array(3).fill(null);\n        newLoc[Position.ON] = this.location[Position.ON];\n        newLoc[Position.LEFT] = Location.NONE;\n        newLoc[Position.RIGHT] = Location.NONE;\n        this.location = newLoc;\n      }\n\n      for (var i = 0; i < this.location.length; i++) {\n        if (this.location[i] === Location.NONE && i < gl.location.length) this.location[i] = gl.location[i];\n      }\n    },\n    getLocations: function getLocations() {\n      return this.location;\n    },\n    flip: function flip() {\n      if (this.location.length <= 1) return null;\n      var temp = this.location[Position.LEFT];\n      this.location[Position.LEFT] = this.location[Position.RIGHT];\n      this.location[Position.RIGHT] = temp;\n    },\n    toString: function toString() {\n      var buf = new StringBuffer();\n      if (this.location.length > 1) buf.append(Location.toLocationSymbol(this.location[Position.LEFT]));\n      buf.append(Location.toLocationSymbol(this.location[Position.ON]));\n      if (this.location.length > 1) buf.append(Location.toLocationSymbol(this.location[Position.RIGHT]));\n      return buf.toString();\n    },\n    setLocations: function setLocations(on, left, right) {\n      this.location[Position.ON] = on;\n      this.location[Position.LEFT] = left;\n      this.location[Position.RIGHT] = right;\n    },\n    get: function get(posIndex) {\n      if (posIndex < this.location.length) return this.location[posIndex];\n      return Location.NONE;\n    },\n    isArea: function isArea() {\n      return this.location.length > 1;\n    },\n    isAnyNull: function isAnyNull() {\n      for (var i = 0; i < this.location.length; i++) {\n        if (this.location[i] === Location.NONE) return true;\n      }\n\n      return false;\n    },\n    setLocation: function setLocation() {\n      if (arguments.length === 1) {\n        var locValue = arguments[0];\n        this.setLocation(Position.ON, locValue);\n      } else if (arguments.length === 2) {\n        var locIndex = arguments[0],\n            _locValue = arguments[1];\n        this.location[locIndex] = _locValue;\n      }\n    },\n    init: function init(size) {\n      this.location = new Array(size).fill(null);\n      this.setAllLocations(Location.NONE);\n    },\n    isEqualOnSide: function isEqualOnSide(le, locIndex) {\n      return this.location[locIndex] === le.location[locIndex];\n    },\n    allPositionsEqual: function allPositionsEqual(loc) {\n      for (var i = 0; i < this.location.length; i++) {\n        if (this.location[i] !== loc) return false;\n      }\n\n      return true;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return TopologyLocation;\n    }\n  });\n\n  function Label() {\n    this.elt = new Array(2).fill(null);\n\n    if (arguments.length === 1) {\n      if (Number.isInteger(arguments[0])) {\n        var onLoc = arguments[0];\n        this.elt[0] = new TopologyLocation(onLoc);\n        this.elt[1] = new TopologyLocation(onLoc);\n      } else if (arguments[0] instanceof Label) {\n        var lbl = arguments[0];\n        this.elt[0] = new TopologyLocation(lbl.elt[0]);\n        this.elt[1] = new TopologyLocation(lbl.elt[1]);\n      }\n    } else if (arguments.length === 2) {\n      var geomIndex = arguments[0],\n          _onLoc = arguments[1];\n      this.elt[0] = new TopologyLocation(Location.NONE);\n      this.elt[1] = new TopologyLocation(Location.NONE);\n      this.elt[geomIndex].setLocation(_onLoc);\n    } else if (arguments.length === 3) {\n      var _onLoc2 = arguments[0],\n          leftLoc = arguments[1],\n          rightLoc = arguments[2];\n      this.elt[0] = new TopologyLocation(_onLoc2, leftLoc, rightLoc);\n      this.elt[1] = new TopologyLocation(_onLoc2, leftLoc, rightLoc);\n    } else if (arguments.length === 4) {\n      var _geomIndex = arguments[0],\n          _onLoc3 = arguments[1],\n          _leftLoc = arguments[2],\n          _rightLoc = arguments[3];\n      this.elt[0] = new TopologyLocation(Location.NONE, Location.NONE, Location.NONE);\n      this.elt[1] = new TopologyLocation(Location.NONE, Location.NONE, Location.NONE);\n\n      this.elt[_geomIndex].setLocations(_onLoc3, _leftLoc, _rightLoc);\n    }\n  }\n  extend(Label.prototype, {\n    getGeometryCount: function getGeometryCount() {\n      var count = 0;\n      if (!this.elt[0].isNull()) count++;\n      if (!this.elt[1].isNull()) count++;\n      return count;\n    },\n    setAllLocations: function setAllLocations(geomIndex, location) {\n      this.elt[geomIndex].setAllLocations(location);\n    },\n    isNull: function isNull(geomIndex) {\n      return this.elt[geomIndex].isNull();\n    },\n    setAllLocationsIfNull: function setAllLocationsIfNull() {\n      if (arguments.length === 1) {\n        var location = arguments[0];\n        this.setAllLocationsIfNull(0, location);\n        this.setAllLocationsIfNull(1, location);\n      } else if (arguments.length === 2) {\n        var geomIndex = arguments[0],\n            _location = arguments[1];\n        this.elt[geomIndex].setAllLocationsIfNull(_location);\n      }\n    },\n    isLine: function isLine(geomIndex) {\n      return this.elt[geomIndex].isLine();\n    },\n    merge: function merge(lbl) {\n      for (var i = 0; i < 2; i++) {\n        if (this.elt[i] === null && lbl.elt[i] !== null) {\n          this.elt[i] = new TopologyLocation(lbl.elt[i]);\n        } else {\n          this.elt[i].merge(lbl.elt[i]);\n        }\n      }\n    },\n    flip: function flip() {\n      this.elt[0].flip();\n      this.elt[1].flip();\n    },\n    getLocation: function getLocation() {\n      if (arguments.length === 1) {\n        var geomIndex = arguments[0];\n        return this.elt[geomIndex].get(Position.ON);\n      } else if (arguments.length === 2) {\n        var _geomIndex2 = arguments[0],\n            posIndex = arguments[1];\n        return this.elt[_geomIndex2].get(posIndex);\n      }\n    },\n    toString: function toString() {\n      var buf = new StringBuffer();\n\n      if (this.elt[0] !== null) {\n        buf.append(\"A:\");\n        buf.append(this.elt[0].toString());\n      }\n\n      if (this.elt[1] !== null) {\n        buf.append(\" B:\");\n        buf.append(this.elt[1].toString());\n      }\n\n      return buf.toString();\n    },\n    isArea: function isArea() {\n      if (arguments.length === 0) {\n        return this.elt[0].isArea() || this.elt[1].isArea();\n      } else if (arguments.length === 1) {\n        var geomIndex = arguments[0];\n        return this.elt[geomIndex].isArea();\n      }\n    },\n    isAnyNull: function isAnyNull(geomIndex) {\n      return this.elt[geomIndex].isAnyNull();\n    },\n    setLocation: function setLocation() {\n      if (arguments.length === 2) {\n        var geomIndex = arguments[0],\n            location = arguments[1];\n        this.elt[geomIndex].setLocation(Position.ON, location);\n      } else if (arguments.length === 3) {\n        var _geomIndex3 = arguments[0],\n            posIndex = arguments[1],\n            _location2 = arguments[2];\n\n        this.elt[_geomIndex3].setLocation(posIndex, _location2);\n      }\n    },\n    isEqualOnSide: function isEqualOnSide(lbl, side) {\n      return this.elt[0].isEqualOnSide(lbl.elt[0], side) && this.elt[1].isEqualOnSide(lbl.elt[1], side);\n    },\n    allPositionsEqual: function allPositionsEqual(geomIndex, loc) {\n      return this.elt[geomIndex].allPositionsEqual(loc);\n    },\n    toLine: function toLine(geomIndex) {\n      if (this.elt[geomIndex].isArea()) this.elt[geomIndex] = new TopologyLocation(this.elt[geomIndex].location[0]);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Label;\n    }\n  });\n\n  Label.toLineLabel = function (label) {\n    var lineLabel = new Label(Location.NONE);\n\n    for (var i = 0; i < 2; i++) {\n      lineLabel.setLocation(i, label.getLocation(i));\n    }\n\n    return lineLabel;\n  };\n\n  function EdgeIntersection() {\n    this.coord = null;\n    this.segmentIndex = null;\n    this.dist = null;\n    var coord = arguments[0],\n        segmentIndex = arguments[1],\n        dist = arguments[2];\n    this.coord = new Coordinate(coord);\n    this.segmentIndex = segmentIndex;\n    this.dist = dist;\n  }\n  extend(EdgeIntersection.prototype, {\n    getSegmentIndex: function getSegmentIndex() {\n      return this.segmentIndex;\n    },\n    getCoordinate: function getCoordinate() {\n      return this.coord;\n    },\n    print: function print(out) {\n      out.print(this.coord);\n      out.print(\" seg # = \" + this.segmentIndex);\n      out.println(\" dist = \" + this.dist);\n    },\n    compareTo: function compareTo(obj) {\n      var other = obj;\n      return this.compare(other.segmentIndex, other.dist);\n    },\n    isEndPoint: function isEndPoint(maxSegmentIndex) {\n      if (this.segmentIndex === 0 && this.dist === 0.0) return true;\n      if (this.segmentIndex === maxSegmentIndex) return true;\n      return false;\n    },\n    toString: function toString() {\n      return this.coord + \" seg # = \" + this.segmentIndex + \" dist = \" + this.dist;\n    },\n    getDistance: function getDistance() {\n      return this.dist;\n    },\n    compare: function compare(segmentIndex, dist) {\n      if (this.segmentIndex < segmentIndex) return -1;\n      if (this.segmentIndex > segmentIndex) return 1;\n      if (this.dist < dist) return -1;\n      if (this.dist > dist) return 1;\n      return 0;\n    },\n    interfaces_: function interfaces_() {\n      return [Comparable];\n    },\n    getClass: function getClass() {\n      return EdgeIntersection;\n    }\n  });\n\n  function EdgeIntersectionList() {\n    this._nodeMap = new TreeMap();\n    this.edge = null;\n    var edge = arguments[0];\n    this.edge = edge;\n  }\n  extend(EdgeIntersectionList.prototype, {\n    print: function print(out) {\n      out.println(\"Intersections:\");\n\n      for (var it = this.iterator(); it.hasNext();) {\n        var ei = it.next();\n        ei.print(out);\n      }\n    },\n    iterator: function iterator() {\n      return this._nodeMap.values().iterator();\n    },\n    addSplitEdges: function addSplitEdges(edgeList) {\n      this.addEndpoints();\n      var it = this.iterator();\n      var eiPrev = it.next();\n\n      while (it.hasNext()) {\n        var ei = it.next();\n        var newEdge = this.createSplitEdge(eiPrev, ei);\n        edgeList.add(newEdge);\n        eiPrev = ei;\n      }\n    },\n    addEndpoints: function addEndpoints() {\n      var maxSegIndex = this.edge.pts.length - 1;\n      this.add(this.edge.pts[0], 0, 0.0);\n      this.add(this.edge.pts[maxSegIndex], maxSegIndex, 0.0);\n    },\n    createSplitEdge: function createSplitEdge(ei0, ei1) {\n      var npts = ei1.segmentIndex - ei0.segmentIndex + 2;\n      var lastSegStartPt = this.edge.pts[ei1.segmentIndex];\n      var useIntPt1 = ei1.dist > 0.0 || !ei1.coord.equals2D(lastSegStartPt);\n\n      if (!useIntPt1) {\n        npts--;\n      }\n\n      var pts = new Array(npts).fill(null);\n      var ipt = 0;\n      pts[ipt++] = new Coordinate(ei0.coord);\n\n      for (var i = ei0.segmentIndex + 1; i <= ei1.segmentIndex; i++) {\n        pts[ipt++] = this.edge.pts[i];\n      }\n\n      if (useIntPt1) pts[ipt] = ei1.coord;\n      return new Edge(pts, new Label(this.edge._label));\n    },\n    add: function add(intPt, segmentIndex, dist) {\n      var eiNew = new EdgeIntersection(intPt, segmentIndex, dist);\n\n      var ei = this._nodeMap.get(eiNew);\n\n      if (ei !== null) {\n        return ei;\n      }\n\n      this._nodeMap.put(eiNew, eiNew);\n\n      return eiNew;\n    },\n    isIntersection: function isIntersection(pt) {\n      for (var it = this.iterator(); it.hasNext();) {\n        var ei = it.next();\n        if (ei.coord.equals(pt)) return true;\n      }\n\n      return false;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return EdgeIntersectionList;\n    }\n  });\n\n  function MonotoneChainIndexer() {}\n  extend(MonotoneChainIndexer.prototype, {\n    getChainStartIndices: function getChainStartIndices(pts) {\n      var start = 0;\n      var startIndexList = new ArrayList();\n      startIndexList.add(new Integer(start));\n\n      do {\n        var last = this.findChainEnd(pts, start);\n        startIndexList.add(new Integer(last));\n        start = last;\n      } while (start < pts.length - 1);\n\n      var startIndex = MonotoneChainIndexer.toIntArray(startIndexList);\n      return startIndex;\n    },\n    findChainEnd: function findChainEnd(pts, start) {\n      var chainQuad = Quadrant.quadrant(pts[start], pts[start + 1]);\n      var last = start + 1;\n\n      while (last < pts.length) {\n        var quad = Quadrant.quadrant(pts[last - 1], pts[last]);\n        if (quad !== chainQuad) break;\n        last++;\n      }\n\n      return last - 1;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return MonotoneChainIndexer;\n    }\n  });\n\n  MonotoneChainIndexer.toIntArray = function (list) {\n    var array = new Array(list.size()).fill(null);\n\n    for (var i = 0; i < array.length; i++) {\n      array[i] = list.get(i).intValue();\n    }\n\n    return array;\n  };\n\n  function MonotoneChainEdge() {\n    this.e = null;\n    this.pts = null;\n    this.startIndex = null;\n    var e = arguments[0];\n    this.e = e;\n    this.pts = e.getCoordinates();\n    var mcb = new MonotoneChainIndexer();\n    this.startIndex = mcb.getChainStartIndices(this.pts);\n  }\n  extend(MonotoneChainEdge.prototype, {\n    getCoordinates: function getCoordinates() {\n      return this.pts;\n    },\n    getMaxX: function getMaxX(chainIndex) {\n      var x1 = this.pts[this.startIndex[chainIndex]].x;\n      var x2 = this.pts[this.startIndex[chainIndex + 1]].x;\n      return x1 > x2 ? x1 : x2;\n    },\n    getMinX: function getMinX(chainIndex) {\n      var x1 = this.pts[this.startIndex[chainIndex]].x;\n      var x2 = this.pts[this.startIndex[chainIndex + 1]].x;\n      return x1 < x2 ? x1 : x2;\n    },\n    computeIntersectsForChain: function computeIntersectsForChain() {\n      if (arguments.length === 4) {\n        var chainIndex0 = arguments[0],\n            mce = arguments[1],\n            chainIndex1 = arguments[2],\n            si = arguments[3];\n        this.computeIntersectsForChain(this.startIndex[chainIndex0], this.startIndex[chainIndex0 + 1], mce, mce.startIndex[chainIndex1], mce.startIndex[chainIndex1 + 1], si);\n      } else if (arguments.length === 6) {\n        var start0 = arguments[0],\n            end0 = arguments[1],\n            _mce = arguments[2],\n            start1 = arguments[3],\n            end1 = arguments[4],\n            ei = arguments[5];\n\n        if (end0 - start0 === 1 && end1 - start1 === 1) {\n          ei.addIntersections(this.e, start0, _mce.e, start1);\n          return null;\n        }\n\n        if (!this.overlaps(start0, end0, _mce, start1, end1)) return null;\n        var mid0 = Math.trunc((start0 + end0) / 2);\n        var mid1 = Math.trunc((start1 + end1) / 2);\n\n        if (start0 < mid0) {\n          if (start1 < mid1) this.computeIntersectsForChain(start0, mid0, _mce, start1, mid1, ei);\n          if (mid1 < end1) this.computeIntersectsForChain(start0, mid0, _mce, mid1, end1, ei);\n        }\n\n        if (mid0 < end0) {\n          if (start1 < mid1) this.computeIntersectsForChain(mid0, end0, _mce, start1, mid1, ei);\n          if (mid1 < end1) this.computeIntersectsForChain(mid0, end0, _mce, mid1, end1, ei);\n        }\n      }\n    },\n    overlaps: function overlaps(start0, end0, mce, start1, end1) {\n      return Envelope.intersects(this.pts[start0], this.pts[end0], mce.pts[start1], mce.pts[end1]);\n    },\n    getStartIndexes: function getStartIndexes() {\n      return this.startIndex;\n    },\n    computeIntersects: function computeIntersects(mce, si) {\n      for (var i = 0; i < this.startIndex.length - 1; i++) {\n        for (var j = 0; j < mce.startIndex.length - 1; j++) {\n          this.computeIntersectsForChain(i, mce, j, si);\n        }\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return MonotoneChainEdge;\n    }\n  });\n\n  function Depth() {\n    this._depth = Array(2).fill().map(function () {\n      return Array(3);\n    });\n\n    for (var i = 0; i < 2; i++) {\n      for (var j = 0; j < 3; j++) {\n        this._depth[i][j] = Depth.NULL_VALUE;\n      }\n    }\n  }\n  extend(Depth.prototype, {\n    getDepth: function getDepth(geomIndex, posIndex) {\n      return this._depth[geomIndex][posIndex];\n    },\n    setDepth: function setDepth(geomIndex, posIndex, depthValue) {\n      this._depth[geomIndex][posIndex] = depthValue;\n    },\n    isNull: function isNull() {\n      if (arguments.length === 0) {\n        for (var i = 0; i < 2; i++) {\n          for (var j = 0; j < 3; j++) {\n            if (this._depth[i][j] !== Depth.NULL_VALUE) return false;\n          }\n        }\n\n        return true;\n      } else if (arguments.length === 1) {\n        var geomIndex = arguments[0];\n        return this._depth[geomIndex][1] === Depth.NULL_VALUE;\n      } else if (arguments.length === 2) {\n        var _geomIndex = arguments[0],\n            posIndex = arguments[1];\n        return this._depth[_geomIndex][posIndex] === Depth.NULL_VALUE;\n      }\n    },\n    normalize: function normalize() {\n      for (var i = 0; i < 2; i++) {\n        if (!this.isNull(i)) {\n          var minDepth = this._depth[i][1];\n          if (this._depth[i][2] < minDepth) minDepth = this._depth[i][2];\n          if (minDepth < 0) minDepth = 0;\n\n          for (var j = 1; j < 3; j++) {\n            var newValue = 0;\n            if (this._depth[i][j] > minDepth) newValue = 1;\n            this._depth[i][j] = newValue;\n          }\n        }\n      }\n    },\n    getDelta: function getDelta(geomIndex) {\n      return this._depth[geomIndex][Position.RIGHT] - this._depth[geomIndex][Position.LEFT];\n    },\n    getLocation: function getLocation(geomIndex, posIndex) {\n      if (this._depth[geomIndex][posIndex] <= 0) return Location.EXTERIOR;\n      return Location.INTERIOR;\n    },\n    toString: function toString() {\n      return \"A: \" + this._depth[0][1] + \",\" + this._depth[0][2] + \" B: \" + this._depth[1][1] + \",\" + this._depth[1][2];\n    },\n    add: function add() {\n      if (arguments.length === 1) {\n        var lbl = arguments[0];\n\n        for (var i = 0; i < 2; i++) {\n          for (var j = 1; j < 3; j++) {\n            var loc = lbl.getLocation(i, j);\n\n            if (loc === Location.EXTERIOR || loc === Location.INTERIOR) {\n              if (this.isNull(i, j)) {\n                this._depth[i][j] = Depth.depthAtLocation(loc);\n              } else this._depth[i][j] += Depth.depthAtLocation(loc);\n            }\n          }\n        }\n      } else if (arguments.length === 3) {\n        var geomIndex = arguments[0],\n            posIndex = arguments[1],\n            location = arguments[2];\n        if (location === Location.INTERIOR) this._depth[geomIndex][posIndex]++;\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Depth;\n    }\n  });\n\n  Depth.depthAtLocation = function (location) {\n    if (location === Location.EXTERIOR) return 0;\n    if (location === Location.INTERIOR) return 1;\n    return Depth.NULL_VALUE;\n  };\n\n  Depth.NULL_VALUE = -1;\n\n  function GraphComponent() {\n    this._label = null;\n    this._isInResult = false;\n    this._isCovered = false;\n    this._isCoveredSet = false;\n    this._isVisited = false;\n\n    if (arguments.length === 0) ; else if (arguments.length === 1) {\n      var label = arguments[0];\n      this._label = label;\n    }\n  }\n  extend(GraphComponent.prototype, {\n    setVisited: function setVisited(isVisited) {\n      this._isVisited = isVisited;\n    },\n    setInResult: function setInResult(isInResult) {\n      this._isInResult = isInResult;\n    },\n    isCovered: function isCovered() {\n      return this._isCovered;\n    },\n    isCoveredSet: function isCoveredSet() {\n      return this._isCoveredSet;\n    },\n    setLabel: function setLabel(label) {\n      this._label = label;\n    },\n    getLabel: function getLabel() {\n      return this._label;\n    },\n    setCovered: function setCovered(isCovered) {\n      this._isCovered = isCovered;\n      this._isCoveredSet = true;\n    },\n    updateIM: function updateIM(im) {\n      Assert.isTrue(this._label.getGeometryCount() >= 2, \"found partial label\");\n      this.computeIM(im);\n    },\n    isInResult: function isInResult() {\n      return this._isInResult;\n    },\n    isVisited: function isVisited() {\n      return this._isVisited;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return GraphComponent;\n    }\n  });\n\n  function Edge() {\n    GraphComponent.apply(this);\n    this.pts = null;\n    this._env = null;\n    this.eiList = new EdgeIntersectionList(this);\n    this._name = null;\n    this._mce = null;\n    this._isIsolated = true;\n    this._depth = new Depth();\n    this._depthDelta = 0;\n\n    if (arguments.length === 1) {\n      var pts = arguments[0];\n      Edge.call(this, pts, null);\n    } else if (arguments.length === 2) {\n      var _pts = arguments[0],\n          label = arguments[1];\n      this.pts = _pts;\n      this._label = label;\n    }\n  }\n  inherits(Edge, GraphComponent);\n  extend(Edge.prototype, {\n    getDepth: function getDepth() {\n      return this._depth;\n    },\n    getCollapsedEdge: function getCollapsedEdge() {\n      var newPts = new Array(2).fill(null);\n      newPts[0] = this.pts[0];\n      newPts[1] = this.pts[1];\n      var newe = new Edge(newPts, Label.toLineLabel(this._label));\n      return newe;\n    },\n    isIsolated: function isIsolated() {\n      return this._isIsolated;\n    },\n    getCoordinates: function getCoordinates() {\n      return this.pts;\n    },\n    setIsolated: function setIsolated(isIsolated) {\n      this._isIsolated = isIsolated;\n    },\n    setName: function setName(name) {\n      this._name = name;\n    },\n    equals: function equals(o) {\n      if (!(o instanceof Edge)) return false;\n      var e = o;\n      if (this.pts.length !== e.pts.length) return false;\n      var isEqualForward = true;\n      var isEqualReverse = true;\n      var iRev = this.pts.length;\n\n      for (var i = 0; i < this.pts.length; i++) {\n        if (!this.pts[i].equals2D(e.pts[i])) {\n          isEqualForward = false;\n        }\n\n        if (!this.pts[i].equals2D(e.pts[--iRev])) {\n          isEqualReverse = false;\n        }\n\n        if (!isEqualForward && !isEqualReverse) return false;\n      }\n\n      return true;\n    },\n    getCoordinate: function getCoordinate() {\n      if (arguments.length === 0) {\n        if (this.pts.length > 0) return this.pts[0];\n        return null;\n      } else if (arguments.length === 1) {\n        var i = arguments[0];\n        return this.pts[i];\n      }\n    },\n    print: function print(out) {\n      out.print(\"edge \" + this._name + \": \");\n      out.print(\"LINESTRING (\");\n\n      for (var i = 0; i < this.pts.length; i++) {\n        if (i > 0) out.print(\",\");\n        out.print(this.pts[i].x + \" \" + this.pts[i].y);\n      }\n\n      out.print(\")  \" + this._label + \" \" + this._depthDelta);\n    },\n    computeIM: function computeIM(im) {\n      Edge.updateIM(this._label, im);\n    },\n    isCollapsed: function isCollapsed() {\n      if (!this._label.isArea()) return false;\n      if (this.pts.length !== 3) return false;\n      if (this.pts[0].equals(this.pts[2])) return true;\n      return false;\n    },\n    isClosed: function isClosed() {\n      return this.pts[0].equals(this.pts[this.pts.length - 1]);\n    },\n    getMaximumSegmentIndex: function getMaximumSegmentIndex() {\n      return this.pts.length - 1;\n    },\n    getDepthDelta: function getDepthDelta() {\n      return this._depthDelta;\n    },\n    getNumPoints: function getNumPoints() {\n      return this.pts.length;\n    },\n    printReverse: function printReverse(out) {\n      out.print(\"edge \" + this._name + \": \");\n\n      for (var i = this.pts.length - 1; i >= 0; i--) {\n        out.print(this.pts[i] + \" \");\n      }\n\n      out.println(\"\");\n    },\n    getMonotoneChainEdge: function getMonotoneChainEdge() {\n      if (this._mce === null) this._mce = new MonotoneChainEdge(this);\n      return this._mce;\n    },\n    getEnvelope: function getEnvelope() {\n      if (this._env === null) {\n        this._env = new Envelope();\n\n        for (var i = 0; i < this.pts.length; i++) {\n          this._env.expandToInclude(this.pts[i]);\n        }\n      }\n\n      return this._env;\n    },\n    addIntersection: function addIntersection(li, segmentIndex, geomIndex, intIndex) {\n      var intPt = new Coordinate(li.getIntersection(intIndex));\n      var normalizedSegmentIndex = segmentIndex;\n      var dist = li.getEdgeDistance(geomIndex, intIndex);\n      var nextSegIndex = normalizedSegmentIndex + 1;\n\n      if (nextSegIndex < this.pts.length) {\n        var nextPt = this.pts[nextSegIndex];\n\n        if (intPt.equals2D(nextPt)) {\n          normalizedSegmentIndex = nextSegIndex;\n          dist = 0.0;\n        }\n      }\n\n      var ei = this.eiList.add(intPt, normalizedSegmentIndex, dist);\n    },\n    toString: function toString() {\n      var builder = new StringBuilder();\n      builder.append(\"edge \" + this._name + \": \");\n      builder.append(\"LINESTRING (\");\n\n      for (var i = 0; i < this.pts.length; i++) {\n        if (i > 0) builder.append(\",\");\n        builder.append(this.pts[i].x + \" \" + this.pts[i].y);\n      }\n\n      builder.append(\")  \" + this._label + \" \" + this._depthDelta);\n      return builder.toString();\n    },\n    isPointwiseEqual: function isPointwiseEqual(e) {\n      if (this.pts.length !== e.pts.length) return false;\n\n      for (var i = 0; i < this.pts.length; i++) {\n        if (!this.pts[i].equals2D(e.pts[i])) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n    setDepthDelta: function setDepthDelta(depthDelta) {\n      this._depthDelta = depthDelta;\n    },\n    getEdgeIntersectionList: function getEdgeIntersectionList() {\n      return this.eiList;\n    },\n    addIntersections: function addIntersections(li, segmentIndex, geomIndex) {\n      for (var i = 0; i < li.getIntersectionNum(); i++) {\n        this.addIntersection(li, segmentIndex, geomIndex, i);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Edge;\n    }\n  });\n\n  Edge.updateIM = function () {\n    if (arguments.length === 2 && arguments[1] instanceof IntersectionMatrix && arguments[0] instanceof Label) {\n      var label = arguments[0],\n          im = arguments[1];\n      im.setAtLeastIfValid(label.getLocation(0, Position.ON), label.getLocation(1, Position.ON), 1);\n\n      if (label.isArea()) {\n        im.setAtLeastIfValid(label.getLocation(0, Position.LEFT), label.getLocation(1, Position.LEFT), 2);\n        im.setAtLeastIfValid(label.getLocation(0, Position.RIGHT), label.getLocation(1, Position.RIGHT), 2);\n      }\n    } else return GraphComponent.prototype.updateIM.apply(this, arguments);\n  };\n\n  function Node$1() {\n    GraphComponent.apply(this);\n    this._coord = null;\n    this._edges = null;\n    var coord = arguments[0],\n        edges = arguments[1];\n    this._coord = coord;\n    this._edges = edges;\n    this._label = new Label(0, Location.NONE);\n  }\n  inherits(Node$1, GraphComponent);\n  extend(Node$1.prototype, {\n    isIncidentEdgeInResult: function isIncidentEdgeInResult() {\n      for (var it = this.getEdges().getEdges().iterator(); it.hasNext();) {\n        var de = it.next();\n        if (de.getEdge().isInResult()) return true;\n      }\n\n      return false;\n    },\n    isIsolated: function isIsolated() {\n      return this._label.getGeometryCount() === 1;\n    },\n    getCoordinate: function getCoordinate() {\n      return this._coord;\n    },\n    print: function print(out) {\n      out.println(\"node \" + this._coord + \" lbl: \" + this._label);\n    },\n    computeIM: function computeIM(im) {},\n    computeMergedLocation: function computeMergedLocation(label2, eltIndex) {\n      var loc = Location.NONE;\n      loc = this._label.getLocation(eltIndex);\n\n      if (!label2.isNull(eltIndex)) {\n        var nLoc = label2.getLocation(eltIndex);\n        if (loc !== Location.BOUNDARY) loc = nLoc;\n      }\n\n      return loc;\n    },\n    setLabel: function setLabel() {\n      if (arguments.length === 2 && Number.isInteger(arguments[1]) && Number.isInteger(arguments[0])) {\n        var argIndex = arguments[0],\n            onLocation = arguments[1];\n\n        if (this._label === null) {\n          this._label = new Label(argIndex, onLocation);\n        } else this._label.setLocation(argIndex, onLocation);\n      } else return GraphComponent.prototype.setLabel.apply(this, arguments);\n    },\n    getEdges: function getEdges() {\n      return this._edges;\n    },\n    mergeLabel: function mergeLabel() {\n      if (arguments[0] instanceof Node$1) {\n        var n = arguments[0];\n        this.mergeLabel(n._label);\n      } else if (arguments[0] instanceof Label) {\n        var label2 = arguments[0];\n\n        for (var i = 0; i < 2; i++) {\n          var loc = this.computeMergedLocation(label2, i);\n\n          var thisLoc = this._label.getLocation(i);\n\n          if (thisLoc === Location.NONE) this._label.setLocation(i, loc);\n        }\n      }\n    },\n    add: function add(e) {\n      this._edges.insert(e);\n\n      e.setNode(this);\n    },\n    setLabelBoundary: function setLabelBoundary(argIndex) {\n      if (this._label === null) return null;\n      var loc = Location.NONE;\n      if (this._label !== null) loc = this._label.getLocation(argIndex);\n      var newLoc = null;\n\n      switch (loc) {\n        case Location.BOUNDARY:\n          newLoc = Location.INTERIOR;\n          break;\n\n        case Location.INTERIOR:\n          newLoc = Location.BOUNDARY;\n          break;\n\n        default:\n          newLoc = Location.BOUNDARY;\n          break;\n      }\n\n      this._label.setLocation(argIndex, newLoc);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Node$1;\n    }\n  });\n\n  function NodeMap() {\n    this.nodeMap = new TreeMap();\n    this.nodeFact = null;\n    var nodeFact = arguments[0];\n    this.nodeFact = nodeFact;\n  }\n  extend(NodeMap.prototype, {\n    find: function find(coord) {\n      return this.nodeMap.get(coord);\n    },\n    addNode: function addNode() {\n      if (arguments[0] instanceof Coordinate) {\n        var coord = arguments[0];\n        var node = this.nodeMap.get(coord);\n\n        if (node === null) {\n          node = this.nodeFact.createNode(coord);\n          this.nodeMap.put(coord, node);\n        }\n\n        return node;\n      } else if (arguments[0] instanceof Node$1) {\n        var n = arguments[0];\n        var node = this.nodeMap.get(n.getCoordinate());\n\n        if (node === null) {\n          this.nodeMap.put(n.getCoordinate(), n);\n          return n;\n        }\n\n        node.mergeLabel(n);\n        return node;\n      }\n    },\n    print: function print(out) {\n      for (var it = this.iterator(); it.hasNext();) {\n        var n = it.next();\n        n.print(out);\n      }\n    },\n    iterator: function iterator() {\n      return this.nodeMap.values().iterator();\n    },\n    values: function values() {\n      return this.nodeMap.values();\n    },\n    getBoundaryNodes: function getBoundaryNodes(geomIndex) {\n      var bdyNodes = new ArrayList();\n\n      for (var i = this.iterator(); i.hasNext();) {\n        var node = i.next();\n        if (node.getLabel().getLocation(geomIndex) === Location.BOUNDARY) bdyNodes.add(node);\n      }\n\n      return bdyNodes;\n    },\n    add: function add(e) {\n      var p = e.getCoordinate();\n      var n = this.addNode(p);\n      n.add(e);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return NodeMap;\n    }\n  });\n\n  function EdgeEnd() {\n    this._edge = null;\n    this._label = null;\n    this._node = null;\n    this._p0 = null;\n    this._p1 = null;\n    this._dx = null;\n    this._dy = null;\n    this._quadrant = null;\n\n    if (arguments.length === 1) {\n      var edge = arguments[0];\n      this._edge = edge;\n    } else if (arguments.length === 3) {\n      var _edge = arguments[0],\n          p0 = arguments[1],\n          p1 = arguments[2];\n      EdgeEnd.call(this, _edge, p0, p1, null);\n    } else if (arguments.length === 4) {\n      var _edge2 = arguments[0],\n          _p = arguments[1],\n          _p2 = arguments[2],\n          label = arguments[3];\n      EdgeEnd.call(this, _edge2);\n      this.init(_p, _p2);\n      this._label = label;\n    }\n  }\n  extend(EdgeEnd.prototype, {\n    compareDirection: function compareDirection(e) {\n      if (this._dx === e._dx && this._dy === e._dy) return 0;\n      if (this._quadrant > e._quadrant) return 1;\n      if (this._quadrant < e._quadrant) return -1;\n      return Orientation.index(e._p0, e._p1, this._p1);\n    },\n    getDy: function getDy() {\n      return this._dy;\n    },\n    getCoordinate: function getCoordinate() {\n      return this._p0;\n    },\n    setNode: function setNode(node) {\n      this._node = node;\n    },\n    print: function print(out) {\n      var angle = Math.atan2(this._dy, this._dx);\n      var className = this.getClass().getName();\n      var lastDotPos = className.lastIndexOf('.');\n      var name = className.substring(lastDotPos + 1);\n      out.print(\"  \" + name + \": \" + this._p0 + \" - \" + this._p1 + \" \" + this._quadrant + \":\" + angle + \"   \" + this._label);\n    },\n    compareTo: function compareTo(obj) {\n      var e = obj;\n      return this.compareDirection(e);\n    },\n    getDirectedCoordinate: function getDirectedCoordinate() {\n      return this._p1;\n    },\n    getDx: function getDx() {\n      return this._dx;\n    },\n    getLabel: function getLabel() {\n      return this._label;\n    },\n    getEdge: function getEdge() {\n      return this._edge;\n    },\n    getQuadrant: function getQuadrant() {\n      return this._quadrant;\n    },\n    getNode: function getNode() {\n      return this._node;\n    },\n    toString: function toString() {\n      var angle = Math.atan2(this._dy, this._dx);\n      var className = this.getClass().getName();\n      var lastDotPos = className.lastIndexOf('.');\n      var name = className.substring(lastDotPos + 1);\n      return \"  \" + name + \": \" + this._p0 + \" - \" + this._p1 + \" \" + this._quadrant + \":\" + angle + \"   \" + this._label;\n    },\n    computeLabel: function computeLabel(boundaryNodeRule) {},\n    init: function init(p0, p1) {\n      this._p0 = p0;\n      this._p1 = p1;\n      this._dx = p1.x - p0.x;\n      this._dy = p1.y - p0.y;\n      this._quadrant = Quadrant.quadrant(this._dx, this._dy);\n      Assert.isTrue(!(this._dx === 0 && this._dy === 0), \"EdgeEnd with identical endpoints found\");\n    },\n    interfaces_: function interfaces_() {\n      return [Comparable];\n    },\n    getClass: function getClass() {\n      return EdgeEnd;\n    }\n  });\n\n  function TopologyException() {\n    this.pt = null;\n\n    if (arguments.length === 1) {\n      var msg = arguments[0];\n      RuntimeException.call(this, msg);\n    } else if (arguments.length === 2) {\n      var _msg = arguments[0],\n          pt = arguments[1];\n      RuntimeException.call(this, TopologyException.msgWithCoord(_msg, pt));\n      this.name = 'TopologyException';\n      this.pt = new Coordinate(pt);\n    }\n  }\n  inherits(TopologyException, RuntimeException);\n  extend(TopologyException.prototype, {\n    getCoordinate: function getCoordinate() {\n      return this.pt;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return TopologyException;\n    }\n  });\n\n  TopologyException.msgWithCoord = function (msg, pt) {\n    if (pt !== null) return msg + \" [ \" + pt + \" ]\";\n    return msg;\n  };\n\n  function DirectedEdge() {\n    this._isForward = null;\n    this._isInResult = false;\n    this._isVisited = false;\n    this._sym = null;\n    this._next = null;\n    this._nextMin = null;\n    this._edgeRing = null;\n    this._minEdgeRing = null;\n    this._depth = [0, -999, -999];\n    var edge = arguments[0],\n        isForward = arguments[1];\n    EdgeEnd.call(this, edge);\n    this._isForward = isForward;\n\n    if (isForward) {\n      this.init(edge.getCoordinate(0), edge.getCoordinate(1));\n    } else {\n      var n = edge.getNumPoints() - 1;\n      this.init(edge.getCoordinate(n), edge.getCoordinate(n - 1));\n    }\n\n    this.computeDirectedLabel();\n  }\n  inherits(DirectedEdge, EdgeEnd);\n  extend(DirectedEdge.prototype, {\n    getNextMin: function getNextMin() {\n      return this._nextMin;\n    },\n    getDepth: function getDepth(position) {\n      return this._depth[position];\n    },\n    setVisited: function setVisited(isVisited) {\n      this._isVisited = isVisited;\n    },\n    computeDirectedLabel: function computeDirectedLabel() {\n      this._label = new Label(this._edge.getLabel());\n      if (!this._isForward) this._label.flip();\n    },\n    getNext: function getNext() {\n      return this._next;\n    },\n    setDepth: function setDepth(position, depthVal) {\n      if (this._depth[position] !== -999) {\n        if (this._depth[position] !== depthVal) throw new TopologyException(\"assigned depths do not match\", this.getCoordinate());\n      }\n\n      this._depth[position] = depthVal;\n    },\n    isInteriorAreaEdge: function isInteriorAreaEdge() {\n      var isInteriorAreaEdge = true;\n\n      for (var i = 0; i < 2; i++) {\n        if (!(this._label.isArea(i) && this._label.getLocation(i, Position.LEFT) === Location.INTERIOR && this._label.getLocation(i, Position.RIGHT) === Location.INTERIOR)) {\n          isInteriorAreaEdge = false;\n        }\n      }\n\n      return isInteriorAreaEdge;\n    },\n    setNextMin: function setNextMin(nextMin) {\n      this._nextMin = nextMin;\n    },\n    print: function print(out) {\n      EdgeEnd.prototype.print.call(this, out);\n      out.print(\" \" + this._depth[Position.LEFT] + \"/\" + this._depth[Position.RIGHT]);\n      out.print(\" (\" + this.getDepthDelta() + \")\");\n      if (this._isInResult) out.print(\" inResult\");\n    },\n    setMinEdgeRing: function setMinEdgeRing(minEdgeRing) {\n      this._minEdgeRing = minEdgeRing;\n    },\n    isLineEdge: function isLineEdge() {\n      var isLine = this._label.isLine(0) || this._label.isLine(1);\n\n      var isExteriorIfArea0 = !this._label.isArea(0) || this._label.allPositionsEqual(0, Location.EXTERIOR);\n\n      var isExteriorIfArea1 = !this._label.isArea(1) || this._label.allPositionsEqual(1, Location.EXTERIOR);\n\n      return isLine && isExteriorIfArea0 && isExteriorIfArea1;\n    },\n    setEdgeRing: function setEdgeRing(edgeRing) {\n      this._edgeRing = edgeRing;\n    },\n    getMinEdgeRing: function getMinEdgeRing() {\n      return this._minEdgeRing;\n    },\n    getDepthDelta: function getDepthDelta() {\n      var depthDelta = this._edge.getDepthDelta();\n\n      if (!this._isForward) depthDelta = -depthDelta;\n      return depthDelta;\n    },\n    setInResult: function setInResult(isInResult) {\n      this._isInResult = isInResult;\n    },\n    getSym: function getSym() {\n      return this._sym;\n    },\n    isForward: function isForward() {\n      return this._isForward;\n    },\n    getEdge: function getEdge() {\n      return this._edge;\n    },\n    printEdge: function printEdge(out) {\n      this.print(out);\n      out.print(\" \");\n      if (this._isForward) this._edge.print(out);else this._edge.printReverse(out);\n    },\n    setSym: function setSym(de) {\n      this._sym = de;\n    },\n    setVisitedEdge: function setVisitedEdge(isVisited) {\n      this.setVisited(isVisited);\n\n      this._sym.setVisited(isVisited);\n    },\n    setEdgeDepths: function setEdgeDepths(position, depth) {\n      var depthDelta = this.getEdge().getDepthDelta();\n      if (!this._isForward) depthDelta = -depthDelta;\n      var directionFactor = 1;\n      if (position === Position.LEFT) directionFactor = -1;\n      var oppositePos = Position.opposite(position);\n      var delta = depthDelta * directionFactor;\n      var oppositeDepth = depth + delta;\n      this.setDepth(position, depth);\n      this.setDepth(oppositePos, oppositeDepth);\n    },\n    getEdgeRing: function getEdgeRing() {\n      return this._edgeRing;\n    },\n    isInResult: function isInResult() {\n      return this._isInResult;\n    },\n    setNext: function setNext(next) {\n      this._next = next;\n    },\n    isVisited: function isVisited() {\n      return this._isVisited;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return DirectedEdge;\n    }\n  });\n\n  DirectedEdge.depthFactor = function (currLocation, nextLocation) {\n    if (currLocation === Location.EXTERIOR && nextLocation === Location.INTERIOR) return 1;else if (currLocation === Location.INTERIOR && nextLocation === Location.EXTERIOR) return -1;\n    return 0;\n  };\n\n  function NodeFactory() {}\n  extend(NodeFactory.prototype, {\n    createNode: function createNode(coord) {\n      return new Node$1(coord, null);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return NodeFactory;\n    }\n  });\n\n  function PlanarGraph() {\n    this._edges = new ArrayList();\n    this._nodes = null;\n    this._edgeEndList = new ArrayList();\n\n    if (arguments.length === 0) {\n      this._nodes = new NodeMap(new NodeFactory());\n    } else if (arguments.length === 1) {\n      var nodeFact = arguments[0];\n      this._nodes = new NodeMap(nodeFact);\n    }\n  }\n  extend(PlanarGraph.prototype, {\n    printEdges: function printEdges(out) {\n      out.println(\"Edges:\");\n\n      for (var i = 0; i < this._edges.size(); i++) {\n        out.println(\"edge \" + i + \":\");\n\n        var e = this._edges.get(i);\n\n        e.print(out);\n        e.eiList.print(out);\n      }\n    },\n    find: function find(coord) {\n      return this._nodes.find(coord);\n    },\n    addNode: function addNode() {\n      if (arguments[0] instanceof Node$1) {\n        var node = arguments[0];\n        return this._nodes.addNode(node);\n      } else if (arguments[0] instanceof Coordinate) {\n        var coord = arguments[0];\n        return this._nodes.addNode(coord);\n      }\n    },\n    getNodeIterator: function getNodeIterator() {\n      return this._nodes.iterator();\n    },\n    linkResultDirectedEdges: function linkResultDirectedEdges() {\n      for (var nodeit = this._nodes.iterator(); nodeit.hasNext();) {\n        var node = nodeit.next();\n        node.getEdges().linkResultDirectedEdges();\n      }\n    },\n    debugPrintln: function debugPrintln(o) {\n      System.out.println(o);\n    },\n    isBoundaryNode: function isBoundaryNode(geomIndex, coord) {\n      var node = this._nodes.find(coord);\n\n      if (node === null) return false;\n      var label = node.getLabel();\n      if (label !== null && label.getLocation(geomIndex) === Location.BOUNDARY) return true;\n      return false;\n    },\n    linkAllDirectedEdges: function linkAllDirectedEdges() {\n      for (var nodeit = this._nodes.iterator(); nodeit.hasNext();) {\n        var node = nodeit.next();\n        node.getEdges().linkAllDirectedEdges();\n      }\n    },\n    matchInSameDirection: function matchInSameDirection(p0, p1, ep0, ep1) {\n      if (!p0.equals(ep0)) return false;\n      if (Orientation.index(p0, p1, ep1) === Orientation.COLLINEAR && Quadrant.quadrant(p0, p1) === Quadrant.quadrant(ep0, ep1)) return true;\n      return false;\n    },\n    getEdgeEnds: function getEdgeEnds() {\n      return this._edgeEndList;\n    },\n    debugPrint: function debugPrint(o) {\n      System.out.print(o);\n    },\n    getEdgeIterator: function getEdgeIterator() {\n      return this._edges.iterator();\n    },\n    findEdgeInSameDirection: function findEdgeInSameDirection(p0, p1) {\n      for (var i = 0; i < this._edges.size(); i++) {\n        var e = this._edges.get(i);\n\n        var eCoord = e.getCoordinates();\n        if (this.matchInSameDirection(p0, p1, eCoord[0], eCoord[1])) return e;\n        if (this.matchInSameDirection(p0, p1, eCoord[eCoord.length - 1], eCoord[eCoord.length - 2])) return e;\n      }\n\n      return null;\n    },\n    insertEdge: function insertEdge(e) {\n      this._edges.add(e);\n    },\n    findEdgeEnd: function findEdgeEnd(e) {\n      for (var i = this.getEdgeEnds().iterator(); i.hasNext();) {\n        var ee = i.next();\n        if (ee.getEdge() === e) return ee;\n      }\n\n      return null;\n    },\n    addEdges: function addEdges(edgesToAdd) {\n      for (var it = edgesToAdd.iterator(); it.hasNext();) {\n        var e = it.next();\n\n        this._edges.add(e);\n\n        var de1 = new DirectedEdge(e, true);\n        var de2 = new DirectedEdge(e, false);\n        de1.setSym(de2);\n        de2.setSym(de1);\n        this.add(de1);\n        this.add(de2);\n      }\n    },\n    add: function add(e) {\n      this._nodes.add(e);\n\n      this._edgeEndList.add(e);\n    },\n    getNodes: function getNodes() {\n      return this._nodes.values();\n    },\n    findEdge: function findEdge(p0, p1) {\n      for (var i = 0; i < this._edges.size(); i++) {\n        var e = this._edges.get(i);\n\n        var eCoord = e.getCoordinates();\n        if (p0.equals(eCoord[0]) && p1.equals(eCoord[1])) return e;\n      }\n\n      return null;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return PlanarGraph;\n    }\n  });\n\n  PlanarGraph.linkResultDirectedEdges = function (nodes) {\n    for (var nodeit = nodes.iterator(); nodeit.hasNext();) {\n      var node = nodeit.next();\n      node.getEdges().linkResultDirectedEdges();\n    }\n  };\n\n  function GeometryGraph() {\n    PlanarGraph.apply(this);\n    this._parentGeom = null;\n    this._lineEdgeMap = new HashMap();\n    this._boundaryNodeRule = null;\n    this._useBoundaryDeterminationRule = true;\n    this._argIndex = null;\n    this._boundaryNodes = null;\n    this._hasTooFewPoints = false;\n    this._invalidPoint = null;\n    this._areaPtLocator = null;\n    this._ptLocator = new PointLocator();\n\n    if (arguments.length === 2) {\n      var argIndex = arguments[0],\n          parentGeom = arguments[1];\n      GeometryGraph.call(this, argIndex, parentGeom, BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE);\n    } else if (arguments.length === 3) {\n      var _argIndex = arguments[0],\n          _parentGeom = arguments[1],\n          boundaryNodeRule = arguments[2];\n      this._argIndex = _argIndex;\n      this._parentGeom = _parentGeom;\n      this._boundaryNodeRule = boundaryNodeRule;\n\n      if (_parentGeom !== null) {\n        this.add(_parentGeom);\n      }\n    }\n  }\n  inherits(GeometryGraph, PlanarGraph);\n  extend(GeometryGraph.prototype, {\n    insertBoundaryPoint: function insertBoundaryPoint(argIndex, coord) {\n      var n = this._nodes.addNode(coord);\n\n      var lbl = n.getLabel();\n      var boundaryCount = 1;\n      var loc = Location.NONE;\n      loc = lbl.getLocation(argIndex, Position.ON);\n      if (loc === Location.BOUNDARY) boundaryCount++;\n      var newLoc = GeometryGraph.determineBoundary(this._boundaryNodeRule, boundaryCount);\n      lbl.setLocation(argIndex, newLoc);\n    },\n    computeSelfNodes: function computeSelfNodes() {\n      if (arguments.length === 2) {\n        var li = arguments[0],\n            computeRingSelfNodes = arguments[1];\n        return this.computeSelfNodes(li, computeRingSelfNodes, false);\n      } else if (arguments.length === 3) {\n        var _li = arguments[0],\n            _computeRingSelfNodes = arguments[1],\n            isDoneIfProperInt = arguments[2];\n        var si = new SegmentIntersector(_li, true, false);\n        si.setIsDoneIfProperInt(isDoneIfProperInt);\n        var esi = this.createEdgeSetIntersector();\n        var isRings = this._parentGeom instanceof LinearRing || this._parentGeom instanceof Polygon || this._parentGeom instanceof MultiPolygon;\n        var computeAllSegments = _computeRingSelfNodes || !isRings;\n        esi.computeIntersections(this._edges, si, computeAllSegments);\n        this.addSelfIntersectionNodes(this._argIndex);\n        return si;\n      }\n    },\n    computeSplitEdges: function computeSplitEdges(edgelist) {\n      for (var i = this._edges.iterator(); i.hasNext();) {\n        var e = i.next();\n        e.eiList.addSplitEdges(edgelist);\n      }\n    },\n    computeEdgeIntersections: function computeEdgeIntersections(g, li, includeProper) {\n      var si = new SegmentIntersector(li, includeProper, true);\n      si.setBoundaryNodes(this.getBoundaryNodes(), g.getBoundaryNodes());\n      var esi = this.createEdgeSetIntersector();\n      esi.computeIntersections(this._edges, g._edges, si);\n      return si;\n    },\n    getGeometry: function getGeometry() {\n      return this._parentGeom;\n    },\n    getBoundaryNodeRule: function getBoundaryNodeRule() {\n      return this._boundaryNodeRule;\n    },\n    hasTooFewPoints: function hasTooFewPoints() {\n      return this._hasTooFewPoints;\n    },\n    addPoint: function addPoint() {\n      if (arguments[0] instanceof Point) {\n        var p = arguments[0];\n        var coord = p.getCoordinate();\n        this.insertPoint(this._argIndex, coord, Location.INTERIOR);\n      } else if (arguments[0] instanceof Coordinate) {\n        var pt = arguments[0];\n        this.insertPoint(this._argIndex, pt, Location.INTERIOR);\n      }\n    },\n    addPolygon: function addPolygon(p) {\n      this.addPolygonRing(p.getExteriorRing(), Location.EXTERIOR, Location.INTERIOR);\n\n      for (var i = 0; i < p.getNumInteriorRing(); i++) {\n        var hole = p.getInteriorRingN(i);\n        this.addPolygonRing(hole, Location.INTERIOR, Location.EXTERIOR);\n      }\n    },\n    addEdge: function addEdge(e) {\n      this.insertEdge(e);\n      var coord = e.getCoordinates();\n      this.insertPoint(this._argIndex, coord[0], Location.BOUNDARY);\n      this.insertPoint(this._argIndex, coord[coord.length - 1], Location.BOUNDARY);\n    },\n    addLineString: function addLineString(line) {\n      var coord = CoordinateArrays.removeRepeatedPoints(line.getCoordinates());\n\n      if (coord.length < 2) {\n        this._hasTooFewPoints = true;\n        this._invalidPoint = coord[0];\n        return null;\n      }\n\n      var e = new Edge(coord, new Label(this._argIndex, Location.INTERIOR));\n\n      this._lineEdgeMap.put(line, e);\n\n      this.insertEdge(e);\n      Assert.isTrue(coord.length >= 2, \"found LineString with single point\");\n      this.insertBoundaryPoint(this._argIndex, coord[0]);\n      this.insertBoundaryPoint(this._argIndex, coord[coord.length - 1]);\n    },\n    getInvalidPoint: function getInvalidPoint() {\n      return this._invalidPoint;\n    },\n    getBoundaryPoints: function getBoundaryPoints() {\n      var coll = this.getBoundaryNodes();\n      var pts = new Array(coll.size()).fill(null);\n      var i = 0;\n\n      for (var it = coll.iterator(); it.hasNext();) {\n        var node = it.next();\n        pts[i++] = node.getCoordinate().copy();\n      }\n\n      return pts;\n    },\n    getBoundaryNodes: function getBoundaryNodes() {\n      if (this._boundaryNodes === null) this._boundaryNodes = this._nodes.getBoundaryNodes(this._argIndex);\n      return this._boundaryNodes;\n    },\n    addSelfIntersectionNode: function addSelfIntersectionNode(argIndex, coord, loc) {\n      if (this.isBoundaryNode(argIndex, coord)) return null;\n      if (loc === Location.BOUNDARY && this._useBoundaryDeterminationRule) this.insertBoundaryPoint(argIndex, coord);else this.insertPoint(argIndex, coord, loc);\n    },\n    addPolygonRing: function addPolygonRing(lr, cwLeft, cwRight) {\n      if (lr.isEmpty()) return null;\n      var coord = CoordinateArrays.removeRepeatedPoints(lr.getCoordinates());\n\n      if (coord.length < 4) {\n        this._hasTooFewPoints = true;\n        this._invalidPoint = coord[0];\n        return null;\n      }\n\n      var left = cwLeft;\n      var right = cwRight;\n\n      if (Orientation.isCCW(coord)) {\n        left = cwRight;\n        right = cwLeft;\n      }\n\n      var e = new Edge(coord, new Label(this._argIndex, Location.BOUNDARY, left, right));\n\n      this._lineEdgeMap.put(lr, e);\n\n      this.insertEdge(e);\n      this.insertPoint(this._argIndex, coord[0], Location.BOUNDARY);\n    },\n    insertPoint: function insertPoint(argIndex, coord, onLocation) {\n      var n = this._nodes.addNode(coord);\n\n      var lbl = n.getLabel();\n\n      if (lbl === null) {\n        n._label = new Label(argIndex, onLocation);\n      } else lbl.setLocation(argIndex, onLocation);\n    },\n    createEdgeSetIntersector: function createEdgeSetIntersector() {\n      return new SimpleMCSweepLineIntersector();\n    },\n    addSelfIntersectionNodes: function addSelfIntersectionNodes(argIndex) {\n      for (var i = this._edges.iterator(); i.hasNext();) {\n        var e = i.next();\n        var eLoc = e.getLabel().getLocation(argIndex);\n\n        for (var eiIt = e.eiList.iterator(); eiIt.hasNext();) {\n          var ei = eiIt.next();\n          this.addSelfIntersectionNode(argIndex, ei.coord, eLoc);\n        }\n      }\n    },\n    add: function add() {\n      if (arguments.length === 1 && arguments[0] instanceof Geometry) {\n        var g = arguments[0];\n        if (g.isEmpty()) return null;\n        if (g instanceof MultiPolygon) this._useBoundaryDeterminationRule = false;\n        if (g instanceof Polygon) this.addPolygon(g);else if (g instanceof LineString) this.addLineString(g);else if (g instanceof Point) this.addPoint(g);else if (g instanceof MultiPoint) this.addCollection(g);else if (g instanceof MultiLineString) this.addCollection(g);else if (g instanceof MultiPolygon) this.addCollection(g);else if (g instanceof GeometryCollection) this.addCollection(g);else throw new UnsupportedOperationException(g.getClass().getName());\n      } else return PlanarGraph.prototype.add.apply(this, arguments);\n    },\n    addCollection: function addCollection(gc) {\n      for (var i = 0; i < gc.getNumGeometries(); i++) {\n        var g = gc.getGeometryN(i);\n        this.add(g);\n      }\n    },\n    locate: function locate(pt) {\n      if (hasInterface(this._parentGeom, Polygonal) && this._parentGeom.getNumGeometries() > 50) {\n        if (this._areaPtLocator === null) {\n          this._areaPtLocator = new IndexedPointInAreaLocator(this._parentGeom);\n        }\n\n        return this._areaPtLocator.locate(pt);\n      }\n\n      return this._ptLocator.locate(pt, this._parentGeom);\n    },\n    findEdge: function findEdge() {\n      if (arguments.length === 1 && arguments[0] instanceof LineString) {\n        var line = arguments[0];\n        return this._lineEdgeMap.get(line);\n      } else return PlanarGraph.prototype.findEdge.apply(this, arguments);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return GeometryGraph;\n    }\n  });\n\n  GeometryGraph.determineBoundary = function (boundaryNodeRule, boundaryCount) {\n    return boundaryNodeRule.isInBoundary(boundaryCount) ? Location.BOUNDARY : Location.INTERIOR;\n  };\n\n\n\n  var geomgraph = /*#__PURE__*/Object.freeze({\n    GeometryGraph: GeometryGraph\n  });\n\n  function KdNodeVisitor() {}\n  extend(KdNodeVisitor.prototype, {\n    visit: function visit(node) {},\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return KdNodeVisitor;\n    }\n  });\n\n  function KdNode() {\n    this._p = null;\n    this._data = null;\n    this._left = null;\n    this._right = null;\n    this._count = null;\n\n    if (arguments.length === 2) {\n      var p = arguments[0],\n          data = arguments[1];\n      this._p = new Coordinate(p);\n      this._left = null;\n      this._right = null;\n      this._count = 1;\n      this._data = data;\n    } else if (arguments.length === 3) {\n      var _x = arguments[0],\n          _y = arguments[1],\n          _data = arguments[2];\n      this._p = new Coordinate(_x, _y);\n      this._left = null;\n      this._right = null;\n      this._count = 1;\n      this._data = _data;\n    }\n  }\n  extend(KdNode.prototype, {\n    isRepeated: function isRepeated() {\n      return this._count > 1;\n    },\n    getRight: function getRight() {\n      return this._right;\n    },\n    getCoordinate: function getCoordinate() {\n      return this._p;\n    },\n    setLeft: function setLeft(_left) {\n      this._left = _left;\n    },\n    getX: function getX() {\n      return this._p.x;\n    },\n    getData: function getData() {\n      return this._data;\n    },\n    getCount: function getCount() {\n      return this._count;\n    },\n    getLeft: function getLeft() {\n      return this._left;\n    },\n    getY: function getY() {\n      return this._p.y;\n    },\n    increment: function increment() {\n      this._count = this._count + 1;\n    },\n    setRight: function setRight(_right) {\n      this._right = _right;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return KdNode;\n    }\n  });\n\n  function KdTree() {\n    this._root = null;\n    this._numberOfNodes = null;\n    this._tolerance = null;\n\n    if (arguments.length === 0) {\n      KdTree.call(this, 0.0);\n    } else if (arguments.length === 1) {\n      var tolerance = arguments[0];\n      this._tolerance = tolerance;\n    }\n  }\n  extend(KdTree.prototype, {\n    insert: function insert() {\n      if (arguments.length === 1) {\n        var p = arguments[0];\n        return this.insert(p, null);\n      } else if (arguments.length === 2) {\n        var _p = arguments[0],\n            data = arguments[1];\n\n        if (this._root === null) {\n          this._root = new KdNode(_p, data);\n          return this._root;\n        }\n\n        if (this._tolerance > 0) {\n          var matchNode = this.findBestMatchNode(_p);\n\n          if (matchNode !== null) {\n            matchNode.increment();\n            return matchNode;\n          }\n        }\n\n        return this.insertExact(_p, data);\n      }\n    },\n    query: function query() {\n      if (arguments.length === 1) {\n        var queryEnv = arguments[0];\n        var result = new ArrayList();\n        this.query(queryEnv, result);\n        return result;\n      } else if (arguments.length === 2) {\n        if (arguments[0] instanceof Envelope && hasInterface(arguments[1], List)) {\n          var _queryEnv = arguments[0],\n              _result = arguments[1];\n          this.queryNode(this._root, _queryEnv, true, {\n            interfaces_: function interfaces_() {\n              return [KdNodeVisitor];\n            },\n            visit: function visit(node) {\n              _result.add(node);\n            }\n          });\n        } else if (arguments[0] instanceof Envelope && hasInterface(arguments[1], KdNodeVisitor)) {\n          var _queryEnv2 = arguments[0],\n              visitor = arguments[1];\n          this.queryNode(this._root, _queryEnv2, true, visitor);\n        }\n      }\n    },\n    queryNode: function queryNode(currentNode, queryEnv, odd, visitor) {\n      if (currentNode === null) return null;\n      var min = null;\n      var max = null;\n      var discriminant = null;\n\n      if (odd) {\n        min = queryEnv.getMinX();\n        max = queryEnv.getMaxX();\n        discriminant = currentNode.getX();\n      } else {\n        min = queryEnv.getMinY();\n        max = queryEnv.getMaxY();\n        discriminant = currentNode.getY();\n      }\n\n      var searchLeft = min < discriminant;\n      var searchRight = discriminant <= max;\n\n      if (searchLeft) {\n        this.queryNode(currentNode.getLeft(), queryEnv, !odd, visitor);\n      }\n\n      if (queryEnv.contains(currentNode.getCoordinate())) {\n        visitor.visit(currentNode);\n      }\n\n      if (searchRight) {\n        this.queryNode(currentNode.getRight(), queryEnv, !odd, visitor);\n      }\n    },\n    findBestMatchNode: function findBestMatchNode(p) {\n      var visitor = new BestMatchVisitor(p, this._tolerance);\n      this.query(visitor.queryEnvelope(), visitor);\n      return visitor.getNode();\n    },\n    isEmpty: function isEmpty() {\n      if (this._root === null) return true;\n      return false;\n    },\n    insertExact: function insertExact(p, data) {\n      var currentNode = this._root;\n      var leafNode = this._root;\n      var isOddLevel = true;\n      var isLessThan = true;\n\n      while (currentNode !== null) {\n        if (currentNode !== null) {\n          var isInTolerance = p.distance(currentNode.getCoordinate()) <= this._tolerance;\n\n          if (isInTolerance) {\n            currentNode.increment();\n            return currentNode;\n          }\n        }\n\n        if (isOddLevel) {\n          isLessThan = p.x < currentNode.getX();\n        } else {\n          isLessThan = p.y < currentNode.getY();\n        }\n\n        leafNode = currentNode;\n\n        if (isLessThan) {\n          currentNode = currentNode.getLeft();\n        } else {\n          currentNode = currentNode.getRight();\n        }\n\n        isOddLevel = !isOddLevel;\n      }\n\n      this._numberOfNodes = this._numberOfNodes + 1;\n      var node = new KdNode(p, data);\n\n      if (isLessThan) {\n        leafNode.setLeft(node);\n      } else {\n        leafNode.setRight(node);\n      }\n\n      return node;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return KdTree;\n    }\n  });\n\n  KdTree.toCoordinates = function () {\n    if (arguments.length === 1) {\n      var kdnodes = arguments[0];\n      return KdTree.toCoordinates(kdnodes, false);\n    } else if (arguments.length === 2) {\n      var _kdnodes = arguments[0],\n          includeRepeated = arguments[1];\n      var coord = new CoordinateList();\n\n      for (var it = _kdnodes.iterator(); it.hasNext();) {\n        var node = it.next();\n        var count = includeRepeated ? node.getCount() : 1;\n\n        for (var i = 0; i < count; i++) {\n          coord.add(node.getCoordinate(), true);\n        }\n      }\n\n      return coord.toCoordinateArray();\n    }\n  };\n\n  function BestMatchVisitor() {\n    this._tolerance = null;\n    this._matchNode = null;\n    this._matchDist = 0.0;\n    this._p = null;\n    var p = arguments[0],\n        tolerance = arguments[1];\n    this._p = p;\n    this._tolerance = tolerance;\n  }\n\n  extend(BestMatchVisitor.prototype, {\n    visit: function visit(node) {\n      var dist = this._p.distance(node.getCoordinate());\n\n      var isInTolerance = dist <= this._tolerance;\n      if (!isInTolerance) return null;\n      var update = false;\n      if (this._matchNode === null || dist < this._matchDist || this._matchNode !== null && dist === this._matchDist && node.getCoordinate().compareTo(this._matchNode.getCoordinate()) < 1) update = true;\n\n      if (update) {\n        this._matchNode = node;\n        this._matchDist = dist;\n      }\n    },\n    queryEnvelope: function queryEnvelope() {\n      var queryEnv = new Envelope(this._p);\n      queryEnv.expandBy(this._tolerance);\n      return queryEnv;\n    },\n    getNode: function getNode() {\n      return this._matchNode;\n    },\n    interfaces_: function interfaces_() {\n      return [KdNodeVisitor];\n    },\n    getClass: function getClass() {\n      return BestMatchVisitor;\n    }\n  });\n  KdTree.BestMatchVisitor = BestMatchVisitor;\n\n\n\n  var kdtree = /*#__PURE__*/Object.freeze({\n    KdTree: KdTree\n  });\n\n  function NodeBase$1() {\n    this._items = new ArrayList();\n    this._subnode = new Array(4).fill(null);\n  }\n  extend(NodeBase$1.prototype, {\n    hasChildren: function hasChildren() {\n      for (var i = 0; i < 4; i++) {\n        if (this._subnode[i] !== null) return true;\n      }\n\n      return false;\n    },\n    isPrunable: function isPrunable() {\n      return !(this.hasChildren() || this.hasItems());\n    },\n    addAllItems: function addAllItems(resultItems) {\n      resultItems.addAll(this._items);\n\n      for (var i = 0; i < 4; i++) {\n        if (this._subnode[i] !== null) {\n          this._subnode[i].addAllItems(resultItems);\n        }\n      }\n\n      return resultItems;\n    },\n    getNodeCount: function getNodeCount() {\n      var subSize = 0;\n\n      for (var i = 0; i < 4; i++) {\n        if (this._subnode[i] !== null) {\n          subSize += this._subnode[i].size();\n        }\n      }\n\n      return subSize + 1;\n    },\n    size: function size() {\n      var subSize = 0;\n\n      for (var i = 0; i < 4; i++) {\n        if (this._subnode[i] !== null) {\n          subSize += this._subnode[i].size();\n        }\n      }\n\n      return subSize + this._items.size();\n    },\n    addAllItemsFromOverlapping: function addAllItemsFromOverlapping(searchEnv, resultItems) {\n      if (!this.isSearchMatch(searchEnv)) return null;\n      resultItems.addAll(this._items);\n\n      for (var i = 0; i < 4; i++) {\n        if (this._subnode[i] !== null) {\n          this._subnode[i].addAllItemsFromOverlapping(searchEnv, resultItems);\n        }\n      }\n    },\n    visitItems: function visitItems(searchEnv, visitor) {\n      for (var i = this._items.iterator(); i.hasNext();) {\n        visitor.visitItem(i.next());\n      }\n    },\n    hasItems: function hasItems() {\n      return !this._items.isEmpty();\n    },\n    remove: function remove(itemEnv, item) {\n      if (!this.isSearchMatch(itemEnv)) return false;\n      var found = false;\n\n      for (var i = 0; i < 4; i++) {\n        if (this._subnode[i] !== null) {\n          found = this._subnode[i].remove(itemEnv, item);\n\n          if (found) {\n            if (this._subnode[i].isPrunable()) this._subnode[i] = null;\n            break;\n          }\n        }\n      }\n\n      if (found) return found;\n      found = this._items.remove(item);\n      return found;\n    },\n    visit: function visit(searchEnv, visitor) {\n      if (!this.isSearchMatch(searchEnv)) return null;\n      this.visitItems(searchEnv, visitor);\n\n      for (var i = 0; i < 4; i++) {\n        if (this._subnode[i] !== null) {\n          this._subnode[i].visit(searchEnv, visitor);\n        }\n      }\n    },\n    getItems: function getItems() {\n      return this._items;\n    },\n    depth: function depth() {\n      var maxSubDepth = 0;\n\n      for (var i = 0; i < 4; i++) {\n        if (this._subnode[i] !== null) {\n          var sqd = this._subnode[i].depth();\n\n          if (sqd > maxSubDepth) maxSubDepth = sqd;\n        }\n      }\n\n      return maxSubDepth + 1;\n    },\n    isEmpty: function isEmpty() {\n      var isEmpty = true;\n      if (!this._items.isEmpty()) isEmpty = false;else {\n        for (var i = 0; i < 4; i++) {\n          if (this._subnode[i] !== null) {\n            if (!this._subnode[i].isEmpty()) {\n              isEmpty = false;\n              break;\n            }\n          }\n        }\n      }\n      return isEmpty;\n    },\n    add: function add(item) {\n      this._items.add(item);\n    },\n    interfaces_: function interfaces_() {\n      return [Serializable];\n    },\n    getClass: function getClass() {\n      return NodeBase$1;\n    }\n  });\n\n  NodeBase$1.getSubnodeIndex = function (env, centrex, centrey) {\n    var subnodeIndex = -1;\n\n    if (env.getMinX() >= centrex) {\n      if (env.getMinY() >= centrey) subnodeIndex = 3;\n      if (env.getMaxY() <= centrey) subnodeIndex = 1;\n    }\n\n    if (env.getMaxX() <= centrex) {\n      if (env.getMinY() >= centrey) subnodeIndex = 2;\n      if (env.getMaxY() <= centrey) subnodeIndex = 0;\n    }\n\n    return subnodeIndex;\n  };\n\n  function Key$1() {\n    this._pt = new Coordinate();\n    this._level = 0;\n    this._env = null;\n    var itemEnv = arguments[0];\n    this.computeKey(itemEnv);\n  }\n  extend(Key$1.prototype, {\n    getLevel: function getLevel() {\n      return this._level;\n    },\n    computeKey: function computeKey() {\n      if (arguments.length === 1) {\n        var itemEnv = arguments[0];\n        this._level = Key$1.computeQuadLevel(itemEnv);\n        this._env = new Envelope();\n        this.computeKey(this._level, itemEnv);\n\n        while (!this._env.contains(itemEnv)) {\n          this._level += 1;\n          this.computeKey(this._level, itemEnv);\n        }\n      } else if (arguments.length === 2) {\n        var level = arguments[0],\n            _itemEnv = arguments[1];\n        var quadSize = DoubleBits.powerOf2(level);\n        this._pt.x = Math.floor(_itemEnv.getMinX() / quadSize) * quadSize;\n        this._pt.y = Math.floor(_itemEnv.getMinY() / quadSize) * quadSize;\n\n        this._env.init(this._pt.x, this._pt.x + quadSize, this._pt.y, this._pt.y + quadSize);\n      }\n    },\n    getEnvelope: function getEnvelope() {\n      return this._env;\n    },\n    getCentre: function getCentre() {\n      return new Coordinate((this._env.getMinX() + this._env.getMaxX()) / 2, (this._env.getMinY() + this._env.getMaxY()) / 2);\n    },\n    getPoint: function getPoint() {\n      return this._pt;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Key$1;\n    }\n  });\n\n  Key$1.computeQuadLevel = function (env) {\n    var dx = env.getWidth();\n    var dy = env.getHeight();\n    var dMax = dx > dy ? dx : dy;\n    var level = DoubleBits.exponent(dMax) + 1;\n    return level;\n  };\n\n  function Node$2() {\n    NodeBase$1.apply(this);\n    this._env = null;\n    this._centrex = null;\n    this._centrey = null;\n    this._level = null;\n    var env = arguments[0],\n        level = arguments[1];\n    this._env = env;\n    this._level = level;\n    this._centrex = (env.getMinX() + env.getMaxX()) / 2;\n    this._centrey = (env.getMinY() + env.getMaxY()) / 2;\n  }\n  inherits(Node$2, NodeBase$1);\n  extend(Node$2.prototype, {\n    find: function find(searchEnv) {\n      var subnodeIndex = NodeBase$1.getSubnodeIndex(searchEnv, this._centrex, this._centrey);\n      if (subnodeIndex === -1) return this;\n\n      if (this._subnode[subnodeIndex] !== null) {\n        var node = this._subnode[subnodeIndex];\n        return node.find(searchEnv);\n      }\n\n      return this;\n    },\n    isSearchMatch: function isSearchMatch(searchEnv) {\n      if (searchEnv === null) return false;\n      return this._env.intersects(searchEnv);\n    },\n    getSubnode: function getSubnode(index) {\n      if (this._subnode[index] === null) {\n        this._subnode[index] = this.createSubnode(index);\n      }\n\n      return this._subnode[index];\n    },\n    getEnvelope: function getEnvelope() {\n      return this._env;\n    },\n    getNode: function getNode(searchEnv) {\n      var subnodeIndex = NodeBase$1.getSubnodeIndex(searchEnv, this._centrex, this._centrey);\n\n      if (subnodeIndex !== -1) {\n        var node = this.getSubnode(subnodeIndex);\n        return node.getNode(searchEnv);\n      } else {\n        return this;\n      }\n    },\n    createSubnode: function createSubnode(index) {\n      var minx = 0.0;\n      var maxx = 0.0;\n      var miny = 0.0;\n      var maxy = 0.0;\n\n      switch (index) {\n        case 0:\n          minx = this._env.getMinX();\n          maxx = this._centrex;\n          miny = this._env.getMinY();\n          maxy = this._centrey;\n          break;\n\n        case 1:\n          minx = this._centrex;\n          maxx = this._env.getMaxX();\n          miny = this._env.getMinY();\n          maxy = this._centrey;\n          break;\n\n        case 2:\n          minx = this._env.getMinX();\n          maxx = this._centrex;\n          miny = this._centrey;\n          maxy = this._env.getMaxY();\n          break;\n\n        case 3:\n          minx = this._centrex;\n          maxx = this._env.getMaxX();\n          miny = this._centrey;\n          maxy = this._env.getMaxY();\n          break;\n      }\n\n      var sqEnv = new Envelope(minx, maxx, miny, maxy);\n      var node = new Node$2(sqEnv, this._level - 1);\n      return node;\n    },\n    insertNode: function insertNode(node) {\n      Assert.isTrue(this._env === null || this._env.contains(node._env));\n      var index = NodeBase$1.getSubnodeIndex(node._env, this._centrex, this._centrey);\n\n      if (node._level === this._level - 1) {\n        this._subnode[index] = node;\n      } else {\n        var childNode = this.createSubnode(index);\n        childNode.insertNode(node);\n        this._subnode[index] = childNode;\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Node$2;\n    }\n  });\n\n  Node$2.createNode = function (env) {\n    var key = new Key$1(env);\n    var node = new Node$2(key.getEnvelope(), key.getLevel());\n    return node;\n  };\n\n  Node$2.createExpanded = function (node, addEnv) {\n    var expandEnv = new Envelope(addEnv);\n    if (node !== null) expandEnv.expandToInclude(node._env);\n    var largerNode = Node$2.createNode(expandEnv);\n    if (node !== null) largerNode.insertNode(node);\n    return largerNode;\n  };\n\n  function Root$1() {\n    NodeBase$1.apply(this);\n  }\n  inherits(Root$1, NodeBase$1);\n  extend(Root$1.prototype, {\n    insert: function insert(itemEnv, item) {\n      var index = NodeBase$1.getSubnodeIndex(itemEnv, Root$1.origin.x, Root$1.origin.y);\n\n      if (index === -1) {\n        this.add(item);\n        return null;\n      }\n\n      var node = this._subnode[index];\n\n      if (node === null || !node.getEnvelope().contains(itemEnv)) {\n        var largerNode = Node$2.createExpanded(node, itemEnv);\n        this._subnode[index] = largerNode;\n      }\n\n      this.insertContained(this._subnode[index], itemEnv, item);\n    },\n    isSearchMatch: function isSearchMatch(searchEnv) {\n      return true;\n    },\n    insertContained: function insertContained(tree, itemEnv, item) {\n      Assert.isTrue(tree.getEnvelope().contains(itemEnv));\n      var isZeroX = IntervalSize.isZeroWidth(itemEnv.getMinX(), itemEnv.getMaxX());\n      var isZeroY = IntervalSize.isZeroWidth(itemEnv.getMinY(), itemEnv.getMaxY());\n      var node = null;\n      if (isZeroX || isZeroY) node = tree.find(itemEnv);else node = tree.getNode(itemEnv);\n      node.add(item);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Root$1;\n    }\n  });\n  Root$1.origin = new Coordinate(0.0, 0.0);\n\n  function SpatialIndex() {}\n  extend(SpatialIndex.prototype, {\n    insert: function insert(itemEnv, item) {},\n    remove: function remove(itemEnv, item) {},\n    query: function query() {\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return SpatialIndex;\n    }\n  });\n\n  function Quadtree() {\n    this._root = null;\n    this._minExtent = 1.0;\n    this._root = new Root$1();\n  }\n  extend(Quadtree.prototype, {\n    size: function size() {\n      if (this._root !== null) return this._root.size();\n      return 0;\n    },\n    insert: function insert(itemEnv, item) {\n      this.collectStats(itemEnv);\n      var insertEnv = Quadtree.ensureExtent(itemEnv, this._minExtent);\n\n      this._root.insert(insertEnv, item);\n    },\n    query: function query() {\n      if (arguments.length === 1) {\n        var searchEnv = arguments[0];\n        var visitor = new ArrayListVisitor();\n        this.query(searchEnv, visitor);\n        return visitor.getItems();\n      } else if (arguments.length === 2) {\n        var _searchEnv = arguments[0],\n            _visitor = arguments[1];\n\n        this._root.visit(_searchEnv, _visitor);\n      }\n    },\n    queryAll: function queryAll() {\n      var foundItems = new ArrayList();\n\n      this._root.addAllItems(foundItems);\n\n      return foundItems;\n    },\n    remove: function remove(itemEnv, item) {\n      var posEnv = Quadtree.ensureExtent(itemEnv, this._minExtent);\n      return this._root.remove(posEnv, item);\n    },\n    collectStats: function collectStats(itemEnv) {\n      var delX = itemEnv.getWidth();\n      if (delX < this._minExtent && delX > 0.0) this._minExtent = delX;\n      var delY = itemEnv.getHeight();\n      if (delY < this._minExtent && delY > 0.0) this._minExtent = delY;\n    },\n    depth: function depth() {\n      if (this._root !== null) return this._root.depth();\n      return 0;\n    },\n    isEmpty: function isEmpty() {\n      if (this._root === null) return true;\n      return this._root.isEmpty();\n    },\n    interfaces_: function interfaces_() {\n      return [SpatialIndex, Serializable];\n    },\n    getClass: function getClass() {\n      return Quadtree;\n    }\n  });\n\n  Quadtree.ensureExtent = function (itemEnv, minExtent) {\n    var minx = itemEnv.getMinX();\n    var maxx = itemEnv.getMaxX();\n    var miny = itemEnv.getMinY();\n    var maxy = itemEnv.getMaxY();\n    if (minx !== maxx && miny !== maxy) return itemEnv;\n\n    if (minx === maxx) {\n      minx = minx - minExtent / 2.0;\n      maxx = minx + minExtent / 2.0;\n    }\n\n    if (miny === maxy) {\n      miny = miny - minExtent / 2.0;\n      maxy = miny + minExtent / 2.0;\n    }\n\n    return new Envelope(minx, maxx, miny, maxy);\n  };\n\n  Quadtree.serialVersionUID = -7461163625812743604;\n\n\n\n  var quadtree = /*#__PURE__*/Object.freeze({\n    Quadtree: Quadtree\n  });\n\n  function Boundable() {}\n  extend(Boundable.prototype, {\n    getBounds: function getBounds() {},\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Boundable;\n    }\n  });\n\n  function ItemBoundable() {\n    this._bounds = null;\n    this._item = null;\n    var bounds = arguments[0],\n        item = arguments[1];\n    this._bounds = bounds;\n    this._item = item;\n  }\n  extend(ItemBoundable.prototype, {\n    getItem: function getItem() {\n      return this._item;\n    },\n    getBounds: function getBounds() {\n      return this._bounds;\n    },\n    interfaces_: function interfaces_() {\n      return [Boundable, Serializable];\n    },\n    getClass: function getClass() {\n      return ItemBoundable;\n    }\n  });\n\n  function PriorityQueue() {\n    this._size = null;\n    this._items = null;\n    this._size = 0;\n    this._items = new ArrayList();\n\n    this._items.add(null);\n  }\n  extend(PriorityQueue.prototype, {\n    poll: function poll() {\n      if (this.isEmpty()) return null;\n\n      var minItem = this._items.get(1);\n\n      this._items.set(1, this._items.get(this._size));\n\n      this._size -= 1;\n      this.reorder(1);\n      return minItem;\n    },\n    size: function size() {\n      return this._size;\n    },\n    reorder: function reorder(hole) {\n      var child = null;\n\n      var tmp = this._items.get(hole);\n\n      for (; hole * 2 <= this._size; hole = child) {\n        child = hole * 2;\n        if (child !== this._size && this._items.get(child + 1).compareTo(this._items.get(child)) < 0) child++;\n        if (this._items.get(child).compareTo(tmp) < 0) this._items.set(hole, this._items.get(child));else break;\n      }\n\n      this._items.set(hole, tmp);\n    },\n    clear: function clear() {\n      this._size = 0;\n\n      this._items.clear();\n    },\n    peek: function peek() {\n      if (this.isEmpty()) return null;\n\n      var minItem = this._items.get(1);\n\n      return minItem;\n    },\n    isEmpty: function isEmpty() {\n      return this._size === 0;\n    },\n    add: function add(x) {\n      this._items.add(null);\n\n      this._size += 1;\n      var hole = this._size;\n\n      this._items.set(0, x);\n\n      for (; x.compareTo(this._items.get(Math.trunc(hole / 2))) < 0; hole /= 2) {\n        this._items.set(hole, this._items.get(Math.trunc(hole / 2)));\n      }\n\n      this._items.set(hole, x);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return PriorityQueue;\n    }\n  });\n\n  function AbstractNode() {\n    this._childBoundables = new ArrayList();\n    this._bounds = null;\n    this._level = null;\n\n    if (arguments.length === 0) ; else if (arguments.length === 1) {\n      var level = arguments[0];\n      this._level = level;\n    }\n  }\n  extend(AbstractNode.prototype, {\n    getLevel: function getLevel() {\n      return this._level;\n    },\n    size: function size() {\n      return this._childBoundables.size();\n    },\n    getChildBoundables: function getChildBoundables() {\n      return this._childBoundables;\n    },\n    addChildBoundable: function addChildBoundable(childBoundable) {\n      Assert.isTrue(this._bounds === null);\n\n      this._childBoundables.add(childBoundable);\n    },\n    isEmpty: function isEmpty() {\n      return this._childBoundables.isEmpty();\n    },\n    getBounds: function getBounds() {\n      if (this._bounds === null) {\n        this._bounds = this.computeBounds();\n      }\n\n      return this._bounds;\n    },\n    interfaces_: function interfaces_() {\n      return [Boundable, Serializable];\n    },\n    getClass: function getClass() {\n      return AbstractNode;\n    }\n  });\n  AbstractNode.serialVersionUID = 6493722185909573708;\n\n  function BoundablePair() {\n    this._boundable1 = null;\n    this._boundable2 = null;\n    this._distance = null;\n    this._itemDistance = null;\n    var boundable1 = arguments[0],\n        boundable2 = arguments[1],\n        itemDistance = arguments[2];\n    this._boundable1 = boundable1;\n    this._boundable2 = boundable2;\n    this._itemDistance = itemDistance;\n    this._distance = this.distance();\n  }\n  extend(BoundablePair.prototype, {\n    expandToQueue: function expandToQueue(priQ, minDistance) {\n      var isComp1 = BoundablePair.isComposite(this._boundable1);\n      var isComp2 = BoundablePair.isComposite(this._boundable2);\n\n      if (isComp1 && isComp2) {\n        if (BoundablePair.area(this._boundable1) > BoundablePair.area(this._boundable2)) {\n          this.expand(this._boundable1, this._boundable2, priQ, minDistance);\n          return null;\n        } else {\n          this.expand(this._boundable2, this._boundable1, priQ, minDistance);\n          return null;\n        }\n      } else if (isComp1) {\n        this.expand(this._boundable1, this._boundable2, priQ, minDistance);\n        return null;\n      } else if (isComp2) {\n        this.expand(this._boundable2, this._boundable1, priQ, minDistance);\n        return null;\n      }\n\n      throw new IllegalArgumentException(\"neither boundable is composite\");\n    },\n    isLeaves: function isLeaves() {\n      return !(BoundablePair.isComposite(this._boundable1) || BoundablePair.isComposite(this._boundable2));\n    },\n    compareTo: function compareTo(o) {\n      var nd = o;\n      if (this._distance < nd._distance) return -1;\n      if (this._distance > nd._distance) return 1;\n      return 0;\n    },\n    expand: function expand(bndComposite, bndOther, priQ, minDistance) {\n      var children = bndComposite.getChildBoundables();\n\n      for (var i = children.iterator(); i.hasNext();) {\n        var child = i.next();\n        var bp = new BoundablePair(child, bndOther, this._itemDistance);\n\n        if (bp.getDistance() < minDistance) {\n          priQ.add(bp);\n        }\n      }\n    },\n    getBoundable: function getBoundable(i) {\n      if (i === 0) return this._boundable1;\n      return this._boundable2;\n    },\n    getDistance: function getDistance() {\n      return this._distance;\n    },\n    distance: function distance() {\n      if (this.isLeaves()) {\n        return this._itemDistance.distance(this._boundable1, this._boundable2);\n      }\n\n      return this._boundable1.getBounds().distance(this._boundable2.getBounds());\n    },\n    interfaces_: function interfaces_() {\n      return [Comparable];\n    },\n    getClass: function getClass() {\n      return BoundablePair;\n    }\n  });\n\n  BoundablePair.area = function (b) {\n    return b.getBounds().getArea();\n  };\n\n  BoundablePair.isComposite = function (item) {\n    return item instanceof AbstractNode;\n  };\n\n  function AbstractSTRtree() {\n    this._root = null;\n    this._built = false;\n    this._itemBoundables = new ArrayList();\n    this._nodeCapacity = null;\n\n    if (arguments.length === 0) {\n      AbstractSTRtree.call(this, AbstractSTRtree.DEFAULT_NODE_CAPACITY);\n    } else if (arguments.length === 1) {\n      var nodeCapacity = arguments[0];\n      Assert.isTrue(nodeCapacity > 1, \"Node capacity must be greater than 1\");\n      this._nodeCapacity = nodeCapacity;\n    }\n  }\n  extend(AbstractSTRtree.prototype, {\n    queryInternal: function queryInternal() {\n      if (hasInterface(arguments[2], ItemVisitor) && arguments[0] instanceof Object && arguments[1] instanceof AbstractNode) {\n        var searchBounds = arguments[0],\n            node = arguments[1],\n            visitor = arguments[2];\n        var childBoundables = node.getChildBoundables();\n\n        for (var i = 0; i < childBoundables.size(); i++) {\n          var childBoundable = childBoundables.get(i);\n\n          if (!this.getIntersectsOp().intersects(childBoundable.getBounds(), searchBounds)) {\n            continue;\n          }\n\n          if (childBoundable instanceof AbstractNode) {\n            this.queryInternal(searchBounds, childBoundable, visitor);\n          } else if (childBoundable instanceof ItemBoundable) {\n            visitor.visitItem(childBoundable.getItem());\n          } else {\n            Assert.shouldNeverReachHere();\n          }\n        }\n      } else if (hasInterface(arguments[2], List) && arguments[0] instanceof Object && arguments[1] instanceof AbstractNode) {\n        var _searchBounds = arguments[0],\n            _node = arguments[1],\n            matches = arguments[2];\n\n        var childBoundables = _node.getChildBoundables();\n\n        for (var i = 0; i < childBoundables.size(); i++) {\n          var childBoundable = childBoundables.get(i);\n\n          if (!this.getIntersectsOp().intersects(childBoundable.getBounds(), _searchBounds)) {\n            continue;\n          }\n\n          if (childBoundable instanceof AbstractNode) {\n            this.queryInternal(_searchBounds, childBoundable, matches);\n          } else if (childBoundable instanceof ItemBoundable) {\n            matches.add(childBoundable.getItem());\n          } else {\n            Assert.shouldNeverReachHere();\n          }\n        }\n      }\n    },\n    getNodeCapacity: function getNodeCapacity() {\n      return this._nodeCapacity;\n    },\n    lastNode: function lastNode(nodes) {\n      return nodes.get(nodes.size() - 1);\n    },\n    size: function size() {\n      if (arguments.length === 0) {\n        if (this.isEmpty()) {\n          return 0;\n        }\n\n        this.build();\n        return this.size(this._root);\n      } else if (arguments.length === 1) {\n        var node = arguments[0];\n        var size = 0;\n\n        for (var i = node.getChildBoundables().iterator(); i.hasNext();) {\n          var childBoundable = i.next();\n\n          if (childBoundable instanceof AbstractNode) {\n            size += this.size(childBoundable);\n          } else if (childBoundable instanceof ItemBoundable) {\n            size += 1;\n          }\n        }\n\n        return size;\n      }\n    },\n    removeItem: function removeItem(node, item) {\n      var childToRemove = null;\n\n      for (var i = node.getChildBoundables().iterator(); i.hasNext();) {\n        var childBoundable = i.next();\n\n        if (childBoundable instanceof ItemBoundable) {\n          if (childBoundable.getItem() === item) childToRemove = childBoundable;\n        }\n      }\n\n      if (childToRemove !== null) {\n        node.getChildBoundables().remove(childToRemove);\n        return true;\n      }\n\n      return false;\n    },\n    itemsTree: function itemsTree() {\n      if (arguments.length === 0) {\n        this.build();\n        var valuesTree = this.itemsTree(this._root);\n        if (valuesTree === null) return new ArrayList();\n        return valuesTree;\n      } else if (arguments.length === 1) {\n        var node = arguments[0];\n        var valuesTreeForNode = new ArrayList();\n\n        for (var i = node.getChildBoundables().iterator(); i.hasNext();) {\n          var childBoundable = i.next();\n\n          if (childBoundable instanceof AbstractNode) {\n            var valuesTreeForChild = this.itemsTree(childBoundable);\n            if (valuesTreeForChild !== null) valuesTreeForNode.add(valuesTreeForChild);\n          } else if (childBoundable instanceof ItemBoundable) {\n            valuesTreeForNode.add(childBoundable.getItem());\n          } else {\n            Assert.shouldNeverReachHere();\n          }\n        }\n\n        if (valuesTreeForNode.size() <= 0) return null;\n        return valuesTreeForNode;\n      }\n    },\n    insert: function insert(bounds, item) {\n      Assert.isTrue(!this._built, \"Cannot insert items into an STR packed R-tree after it has been built.\");\n\n      this._itemBoundables.add(new ItemBoundable(bounds, item));\n    },\n    boundablesAtLevel: function boundablesAtLevel() {\n      if (arguments.length === 1) {\n        var level = arguments[0];\n        var boundables = new ArrayList();\n        this.boundablesAtLevel(level, this._root, boundables);\n        return boundables;\n      } else if (arguments.length === 3) {\n        var _level = arguments[0],\n            top = arguments[1],\n            _boundables = arguments[2];\n        Assert.isTrue(_level > -2);\n\n        if (top.getLevel() === _level) {\n          _boundables.add(top);\n\n          return null;\n        }\n\n        for (var i = top.getChildBoundables().iterator(); i.hasNext();) {\n          var boundable = i.next();\n\n          if (boundable instanceof AbstractNode) {\n            this.boundablesAtLevel(_level, boundable, _boundables);\n          } else {\n            Assert.isTrue(boundable instanceof ItemBoundable);\n\n            if (_level === -1) {\n              _boundables.add(boundable);\n            }\n          }\n        }\n\n        return null;\n      }\n    },\n    query: function query() {\n      if (arguments.length === 1) {\n        var searchBounds = arguments[0];\n        this.build();\n        var matches = new ArrayList();\n\n        if (this.isEmpty()) {\n          return matches;\n        }\n\n        if (this.getIntersectsOp().intersects(this._root.getBounds(), searchBounds)) {\n          this.queryInternal(searchBounds, this._root, matches);\n        }\n\n        return matches;\n      } else if (arguments.length === 2) {\n        var _searchBounds2 = arguments[0],\n            visitor = arguments[1];\n        this.build();\n\n        if (this.isEmpty()) {\n          return null;\n        }\n\n        if (this.getIntersectsOp().intersects(this._root.getBounds(), _searchBounds2)) {\n          this.queryInternal(_searchBounds2, this._root, visitor);\n        }\n      }\n    },\n    build: function build() {\n      if (this._built) return null;\n      this._root = this._itemBoundables.isEmpty() ? this.createNode(0) : this.createHigherLevels(this._itemBoundables, -1);\n      this._itemBoundables = null;\n      this._built = true;\n    },\n    getRoot: function getRoot() {\n      this.build();\n      return this._root;\n    },\n    remove: function remove() {\n      if (arguments.length === 2) {\n        var searchBounds = arguments[0],\n            item = arguments[1];\n        this.build();\n\n        if (this.getIntersectsOp().intersects(this._root.getBounds(), searchBounds)) {\n          return this.remove(searchBounds, this._root, item);\n        }\n\n        return false;\n      } else if (arguments.length === 3) {\n        var _searchBounds3 = arguments[0],\n            node = arguments[1],\n            _item = arguments[2];\n        var found = this.removeItem(node, _item);\n        if (found) return true;\n        var childToPrune = null;\n\n        for (var i = node.getChildBoundables().iterator(); i.hasNext();) {\n          var childBoundable = i.next();\n\n          if (!this.getIntersectsOp().intersects(childBoundable.getBounds(), _searchBounds3)) {\n            continue;\n          }\n\n          if (childBoundable instanceof AbstractNode) {\n            found = this.remove(_searchBounds3, childBoundable, _item);\n\n            if (found) {\n              childToPrune = childBoundable;\n              break;\n            }\n          }\n        }\n\n        if (childToPrune !== null) {\n          if (childToPrune.getChildBoundables().isEmpty()) {\n            node.getChildBoundables().remove(childToPrune);\n          }\n        }\n\n        return found;\n      }\n    },\n    createHigherLevels: function createHigherLevels(boundablesOfALevel, level) {\n      Assert.isTrue(!boundablesOfALevel.isEmpty());\n      var parentBoundables = this.createParentBoundables(boundablesOfALevel, level + 1);\n\n      if (parentBoundables.size() === 1) {\n        return parentBoundables.get(0);\n      }\n\n      return this.createHigherLevels(parentBoundables, level + 1);\n    },\n    depth: function depth() {\n      if (arguments.length === 0) {\n        if (this.isEmpty()) {\n          return 0;\n        }\n\n        this.build();\n        return this.depth(this._root);\n      } else if (arguments.length === 1) {\n        var node = arguments[0];\n        var maxChildDepth = 0;\n\n        for (var i = node.getChildBoundables().iterator(); i.hasNext();) {\n          var childBoundable = i.next();\n\n          if (childBoundable instanceof AbstractNode) {\n            var childDepth = this.depth(childBoundable);\n            if (childDepth > maxChildDepth) maxChildDepth = childDepth;\n          }\n        }\n\n        return maxChildDepth + 1;\n      }\n    },\n    createParentBoundables: function createParentBoundables(childBoundables, newLevel) {\n      Assert.isTrue(!childBoundables.isEmpty());\n      var parentBoundables = new ArrayList();\n      parentBoundables.add(this.createNode(newLevel));\n      var sortedChildBoundables = new ArrayList(childBoundables);\n      Collections.sort(sortedChildBoundables, this.getComparator());\n\n      for (var i = sortedChildBoundables.iterator(); i.hasNext();) {\n        var childBoundable = i.next();\n\n        if (this.lastNode(parentBoundables).getChildBoundables().size() === this.getNodeCapacity()) {\n          parentBoundables.add(this.createNode(newLevel));\n        }\n\n        this.lastNode(parentBoundables).addChildBoundable(childBoundable);\n      }\n\n      return parentBoundables;\n    },\n    isEmpty: function isEmpty() {\n      if (!this._built) return this._itemBoundables.isEmpty();\n      return this._root.isEmpty();\n    },\n    interfaces_: function interfaces_() {\n      return [Serializable];\n    },\n    getClass: function getClass() {\n      return AbstractSTRtree;\n    }\n  });\n\n  AbstractSTRtree.compareDoubles = function (a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  };\n\n  function IntersectsOp$1() {}\n\n  AbstractSTRtree.IntersectsOp = IntersectsOp$1;\n  AbstractSTRtree.serialVersionUID = -3886435814360241337;\n  AbstractSTRtree.DEFAULT_NODE_CAPACITY = 10;\n\n  function ItemDistance() {}\n  extend(ItemDistance.prototype, {\n    distance: function distance(item1, item2) {},\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return ItemDistance;\n    }\n  });\n\n  function STRtree() {\n    if (arguments.length === 0) {\n      STRtree.call(this, STRtree.DEFAULT_NODE_CAPACITY);\n    } else if (arguments.length === 1) {\n      var nodeCapacity = arguments[0];\n      AbstractSTRtree.call(this, nodeCapacity);\n    }\n  }\n  inherits(STRtree, AbstractSTRtree);\n  extend(STRtree.prototype, {\n    createParentBoundablesFromVerticalSlices: function createParentBoundablesFromVerticalSlices(verticalSlices, newLevel) {\n      Assert.isTrue(verticalSlices.length > 0);\n      var parentBoundables = new ArrayList();\n\n      for (var i = 0; i < verticalSlices.length; i++) {\n        parentBoundables.addAll(this.createParentBoundablesFromVerticalSlice(verticalSlices[i], newLevel));\n      }\n\n      return parentBoundables;\n    },\n    createNode: function createNode(level) {\n      return new STRtreeNode(level);\n    },\n    size: function size() {\n      if (arguments.length === 0) {\n        return AbstractSTRtree.prototype.size.call(this);\n      } else return AbstractSTRtree.prototype.size.apply(this, arguments);\n    },\n    insert: function insert() {\n      if (arguments.length === 2 && arguments[1] instanceof Object && arguments[0] instanceof Envelope) {\n        var itemEnv = arguments[0],\n            item = arguments[1];\n\n        if (itemEnv.isNull()) {\n          return null;\n        }\n\n        AbstractSTRtree.prototype.insert.call(this, itemEnv, item);\n      } else return AbstractSTRtree.prototype.insert.apply(this, arguments);\n    },\n    getIntersectsOp: function getIntersectsOp() {\n      return STRtree.intersectsOp;\n    },\n    verticalSlices: function verticalSlices(childBoundables, sliceCount) {\n      var sliceCapacity = Math.trunc(Math.ceil(childBoundables.size() / sliceCount));\n      var slices = new Array(sliceCount).fill(null);\n      var i = childBoundables.iterator();\n\n      for (var j = 0; j < sliceCount; j++) {\n        slices[j] = new ArrayList();\n        var boundablesAddedToSlice = 0;\n\n        while (i.hasNext() && boundablesAddedToSlice < sliceCapacity) {\n          var childBoundable = i.next();\n          slices[j].add(childBoundable);\n          boundablesAddedToSlice++;\n        }\n      }\n\n      return slices;\n    },\n    query: function query() {\n      if (arguments.length === 1) {\n        var searchEnv = arguments[0];\n        return AbstractSTRtree.prototype.query.call(this, searchEnv);\n      } else if (arguments.length === 2) {\n        var _searchEnv = arguments[0],\n            visitor = arguments[1];\n        AbstractSTRtree.prototype.query.call(this, _searchEnv, visitor);\n      }\n    },\n    getComparator: function getComparator() {\n      return STRtree.yComparator;\n    },\n    createParentBoundablesFromVerticalSlice: function createParentBoundablesFromVerticalSlice(childBoundables, newLevel) {\n      return AbstractSTRtree.prototype.createParentBoundables.call(this, childBoundables, newLevel);\n    },\n    remove: function remove() {\n      if (arguments.length === 2 && arguments[1] instanceof Object && arguments[0] instanceof Envelope) {\n        var itemEnv = arguments[0],\n            item = arguments[1];\n        return AbstractSTRtree.prototype.remove.call(this, itemEnv, item);\n      } else return AbstractSTRtree.prototype.remove.apply(this, arguments);\n    },\n    depth: function depth() {\n      if (arguments.length === 0) {\n        return AbstractSTRtree.prototype.depth.call(this);\n      } else return AbstractSTRtree.prototype.depth.apply(this, arguments);\n    },\n    createParentBoundables: function createParentBoundables(childBoundables, newLevel) {\n      Assert.isTrue(!childBoundables.isEmpty());\n      var minLeafCount = Math.trunc(Math.ceil(childBoundables.size() / this.getNodeCapacity()));\n      var sortedChildBoundables = new ArrayList(childBoundables);\n      Collections.sort(sortedChildBoundables, STRtree.xComparator);\n      var verticalSlices = this.verticalSlices(sortedChildBoundables, Math.trunc(Math.ceil(Math.sqrt(minLeafCount))));\n      return this.createParentBoundablesFromVerticalSlices(verticalSlices, newLevel);\n    },\n    nearestNeighbour: function nearestNeighbour() {\n      if (arguments.length === 1) {\n        if (hasInterface(arguments[0], ItemDistance)) {\n          var itemDist = arguments[0];\n          var bp = new BoundablePair(this.getRoot(), this.getRoot(), itemDist);\n          return this.nearestNeighbour(bp);\n        } else if (arguments[0] instanceof BoundablePair) {\n          var initBndPair = arguments[0];\n          return this.nearestNeighbour(initBndPair, Double.POSITIVE_INFINITY);\n        }\n      } else if (arguments.length === 2) {\n        if (arguments[0] instanceof STRtree && hasInterface(arguments[1], ItemDistance)) {\n          var tree = arguments[0],\n              _itemDist = arguments[1];\n          var bp = new BoundablePair(this.getRoot(), tree.getRoot(), _itemDist);\n          return this.nearestNeighbour(bp);\n        } else if (arguments[0] instanceof BoundablePair && typeof arguments[1] === \"number\") {\n          var _initBndPair = arguments[0],\n              maxDistance = arguments[1];\n          var distanceLowerBound = maxDistance;\n          var minPair = null;\n          var priQ = new PriorityQueue();\n          priQ.add(_initBndPair);\n\n          while (!priQ.isEmpty() && distanceLowerBound > 0.0) {\n            var bndPair = priQ.poll();\n            var currentDistance = bndPair.getDistance();\n            if (currentDistance >= distanceLowerBound) break;\n\n            if (bndPair.isLeaves()) {\n              distanceLowerBound = currentDistance;\n              minPair = bndPair;\n            } else {\n              bndPair.expandToQueue(priQ, distanceLowerBound);\n            }\n          }\n\n          return [minPair.getBoundable(0).getItem(), minPair.getBoundable(1).getItem()];\n        } else if (arguments[0] instanceof BoundablePair && Number.isInteger(arguments[1])) {\n          var _initBndPair2 = arguments[0],\n              k = arguments[1];\n          return this.nearestNeighbour(_initBndPair2, Double.POSITIVE_INFINITY, k);\n        }\n      } else if (arguments.length === 3) {\n        if (hasInterface(arguments[2], ItemDistance) && arguments[0] instanceof Envelope && arguments[1] instanceof Object) {\n          var env = arguments[0],\n              item = arguments[1],\n              _itemDist2 = arguments[2];\n          var bnd = new ItemBoundable(env, item);\n          var bp = new BoundablePair(this.getRoot(), bnd, _itemDist2);\n          return this.nearestNeighbour(bp)[0];\n        } else if (Number.isInteger(arguments[2]) && arguments[0] instanceof BoundablePair && typeof arguments[1] === \"number\") {\n          var _initBndPair3 = arguments[0],\n              _maxDistance = arguments[1],\n              _k = arguments[2];\n          var distanceLowerBound = _maxDistance;\n          var priQ = new PriorityQueue();\n          priQ.add(_initBndPair3);\n          var kNearestNeighbors = new PriorityQueue();\n\n          while (!priQ.isEmpty() && distanceLowerBound >= 0.0) {\n            var bndPair = priQ.poll();\n            var currentDistance = bndPair.getDistance();\n\n            if (currentDistance >= distanceLowerBound) {\n              break;\n            }\n\n            if (bndPair.isLeaves()) {\n              if (kNearestNeighbors.size() < _k) {\n                kNearestNeighbors.add(bndPair);\n              } else {\n                var bp1 = kNearestNeighbors.peek();\n\n                if (bp1.getDistance() > currentDistance) {\n                  kNearestNeighbors.poll();\n                  kNearestNeighbors.add(bndPair);\n                }\n\n                var bp2 = kNearestNeighbors.peek();\n                distanceLowerBound = bp2.getDistance();\n              }\n            } else {\n              bndPair.expandToQueue(priQ, distanceLowerBound);\n            }\n          }\n\n          return STRtree.getItems(kNearestNeighbors);\n        }\n      } else if (arguments.length === 4) {\n        var _env = arguments[0],\n            _item = arguments[1],\n            _itemDist3 = arguments[2],\n            _k2 = arguments[3];\n        var bnd = new ItemBoundable(_env, _item);\n        var bp = new BoundablePair(this.getRoot(), bnd, _itemDist3);\n        return this.nearestNeighbour(bp, _k2);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [SpatialIndex, Serializable];\n    },\n    getClass: function getClass() {\n      return STRtree;\n    }\n  });\n\n  STRtree.centreX = function (e) {\n    return STRtree.avg(e.getMinX(), e.getMaxX());\n  };\n\n  STRtree.avg = function (a, b) {\n    return (a + b) / 2;\n  };\n\n  STRtree.getItems = function (kNearestNeighbors) {\n    var items = new Array(kNearestNeighbors.size()).fill(null);\n    var count = 0;\n\n    while (!kNearestNeighbors.isEmpty()) {\n      var bp = kNearestNeighbors.poll();\n      items[count] = bp.getBoundable(0).getItem();\n      count++;\n    }\n\n    return items;\n  };\n\n  STRtree.centreY = function (e) {\n    return STRtree.avg(e.getMinY(), e.getMaxY());\n  };\n\n  function STRtreeNode() {\n    var level = arguments[0];\n    AbstractNode.call(this, level);\n  }\n\n  inherits(STRtreeNode, AbstractNode);\n  extend(STRtreeNode.prototype, {\n    computeBounds: function computeBounds() {\n      var bounds = null;\n\n      for (var i = this.getChildBoundables().iterator(); i.hasNext();) {\n        var childBoundable = i.next();\n\n        if (bounds === null) {\n          bounds = new Envelope(childBoundable.getBounds());\n        } else {\n          bounds.expandToInclude(childBoundable.getBounds());\n        }\n      }\n\n      return bounds;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return STRtreeNode;\n    }\n  });\n  STRtree.STRtreeNode = STRtreeNode;\n  STRtree.serialVersionUID = 259274702368956900;\n  STRtree.xComparator = {\n    interfaces_: function interfaces_() {\n      return [Comparator];\n    },\n    compare: function compare(o1, o2) {\n      return AbstractSTRtree.compareDoubles(STRtree.centreX(o1.getBounds()), STRtree.centreX(o2.getBounds()));\n    }\n  };\n  STRtree.yComparator = {\n    interfaces_: function interfaces_() {\n      return [Comparator];\n    },\n    compare: function compare(o1, o2) {\n      return AbstractSTRtree.compareDoubles(STRtree.centreY(o1.getBounds()), STRtree.centreY(o2.getBounds()));\n    }\n  };\n  STRtree.intersectsOp = {\n    interfaces_: function interfaces_() {\n      return [IntersectsOp];\n    },\n    intersects: function intersects(aBounds, bBounds) {\n      return aBounds.intersects(bBounds);\n    }\n  };\n  STRtree.DEFAULT_NODE_CAPACITY = 10;\n\n\n\n  var strtree = /*#__PURE__*/Object.freeze({\n    STRtree: STRtree\n  });\n\n\n\n  var index = /*#__PURE__*/Object.freeze({\n    kdtree: kdtree,\n    quadtree: quadtree,\n    strtree: strtree\n  });\n\n  var geometryTypes = ['Point', 'MultiPoint', 'LineString', 'MultiLineString', 'Polygon', 'MultiPolygon'];\n  /**\n   * Class for reading and writing Well-Known Text.Create a new parser for GeoJSON\n   * NOTE: Adapted from OpenLayers 2.11 implementation.\n   */\n\n  /**\n   * Create a new parser for GeoJSON\n   *\n   * @param {GeometryFactory} geometryFactory\n   * @return An instance of GeoJsonParser.\n   * @constructor\n   * @private\n   */\n\n  function GeoJSONParser(geometryFactory) {\n    this.geometryFactory = geometryFactory || new GeometryFactory();\n  }\n  extend(GeoJSONParser.prototype, {\n    /**\n     * Deserialize a GeoJSON object and return the Geometry or Feature(Collection) with JSTS Geometries\n     *\n     * @param {}\n     *          A GeoJSON object.\n     * @return {} A Geometry instance or object representing a Feature(Collection) with Geometry instances.\n     * @private\n     */\n    read: function read(json) {\n      var obj;\n      if (typeof json === 'string') obj = JSON.parse(json);else obj = json;\n      var type = obj.type;\n      if (!parse$1[type]) throw new Error('Unknown GeoJSON type: ' + obj.type);\n      if (geometryTypes.indexOf(type) !== -1) return parse$1[type].call(this, obj.coordinates);else if (type === 'GeometryCollection') return parse$1[type].call(this, obj.geometries); // feature or feature collection\n\n      return parse$1[type].call(this, obj);\n    },\n\n    /**\n     * Serialize a Geometry object into GeoJSON\n     *\n     * @param {Geometry}\n     *          geometry A Geometry or array of Geometries.\n     * @return {Object} A GeoJSON object represting the input Geometry/Geometries.\n     * @private\n     */\n    write: function write(geometry) {\n      var type = geometry.getGeometryType();\n      if (!extract$1[type]) throw new Error('Geometry is not supported');\n      return extract$1[type].call(this, geometry);\n    }\n  });\n  var parse$1 = {\n    /**\n     * Parse a GeoJSON Feature object\n     *\n     * @param {Object}\n     *          obj Object to parse.\n     *\n     * @return {Object} Feature with geometry/bbox converted to JSTS Geometries.\n     */\n    Feature: function Feature(obj) {\n      var feature = {};\n\n      for (var key in obj) {\n        feature[key] = obj[key];\n      }\n\n      if (obj.geometry) {\n        var type = obj.geometry.type;\n        if (!parse$1[type]) throw new Error('Unknown GeoJSON type: ' + obj.type);\n        feature.geometry = this.read(obj.geometry);\n      }\n\n      if (obj.bbox) feature.bbox = parse$1.bbox.call(this, obj.bbox);\n      return feature;\n    },\n\n    /**\n     * Parse a GeoJSON FeatureCollection object\n     *\n     * @param {Object}\n     *          obj Object to parse.\n     *\n     * @return {Object} FeatureCollection with geometry/bbox converted to JSTS Geometries.\n     */\n    FeatureCollection: function FeatureCollection(obj) {\n      var featureCollection = {};\n\n      if (obj.features) {\n        featureCollection.features = [];\n\n        for (var i = 0; i < obj.features.length; ++i) {\n          featureCollection.features.push(this.read(obj.features[i]));\n        }\n      }\n\n      if (obj.bbox) featureCollection.bbox = this.parse.bbox.call(this, obj.bbox);\n      return featureCollection;\n    },\n\n    /**\n     * Convert the ordinates in an array to an array of Coordinates\n     *\n     * @param {Array}\n     *          array Array with {Number}s.\n     *\n     * @return {Array} Array with Coordinates.\n     */\n    coordinates: function coordinates(array) {\n      var coordinates = [];\n\n      for (var i = 0; i < array.length; ++i) {\n        var sub = array[i];\n        coordinates.push(new Coordinate(sub[0], sub[1]));\n      }\n\n      return coordinates;\n    },\n\n    /**\n     * Convert the bbox to a LinearRing\n     *\n     * @param {Array}\n     *          array Array with [xMin, yMin, xMax, yMax].\n     *\n     * @return {Array} Array with Coordinates.\n     */\n    bbox: function bbox(array) {\n      return this.geometryFactory.createLinearRing([new Coordinate(array[0], array[1]), new Coordinate(array[2], array[1]), new Coordinate(array[2], array[3]), new Coordinate(array[0], array[3]), new Coordinate(array[0], array[1])]);\n    },\n\n    /**\n     * Convert an Array with ordinates to a Point\n     *\n     * @param {Array}\n     *          array Array with ordinates.\n     *\n     * @return {Point} Point.\n     */\n    Point: function Point(array) {\n      var coordinate = new Coordinate(array[0], array[1]);\n      return this.geometryFactory.createPoint(coordinate);\n    },\n\n    /**\n     * Convert an Array with coordinates to a MultiPoint\n     *\n     * @param {Array}\n     *          array Array with coordinates.\n     *\n     * @return {MultiPoint} MultiPoint.\n     */\n    MultiPoint: function MultiPoint(array) {\n      var points = [];\n\n      for (var i = 0; i < array.length; ++i) {\n        points.push(parse$1.Point.call(this, array[i]));\n      }\n\n      return this.geometryFactory.createMultiPoint(points);\n    },\n\n    /**\n     * Convert an Array with coordinates to a LineString\n     *\n     * @param {Array}\n     *          array Array with coordinates.\n     *\n     * @return {LineString} LineString.\n     */\n    LineString: function LineString(array) {\n      var coordinates = parse$1.coordinates.call(this, array);\n      return this.geometryFactory.createLineString(coordinates);\n    },\n\n    /**\n     * Convert an Array with coordinates to a MultiLineString\n     *\n     * @param {Array}\n     *          array Array with coordinates.\n     *\n     * @return {MultiLineString} MultiLineString.\n     */\n    MultiLineString: function MultiLineString(array) {\n      var lineStrings = [];\n\n      for (var i = 0; i < array.length; ++i) {\n        lineStrings.push(parse$1.LineString.call(this, array[i]));\n      }\n\n      return this.geometryFactory.createMultiLineString(lineStrings);\n    },\n\n    /**\n     * Convert an Array to a Polygon\n     *\n     * @param {Array}\n     *          array Array with shell and holes.\n     *\n     * @return {Polygon} Polygon.\n     */\n    Polygon: function Polygon(array) {\n      var shellCoordinates = parse$1.coordinates.call(this, array[0]);\n      var shell = this.geometryFactory.createLinearRing(shellCoordinates);\n      var holes = [];\n\n      for (var i = 1; i < array.length; ++i) {\n        var hole = array[i];\n        var coordinates = parse$1.coordinates.call(this, hole);\n        var linearRing = this.geometryFactory.createLinearRing(coordinates);\n        holes.push(linearRing);\n      }\n\n      return this.geometryFactory.createPolygon(shell, holes);\n    },\n\n    /**\n     * Convert an Array to a MultiPolygon\n     *\n     * @param {Array}\n     *          array Array of arrays with shell and rings.\n     *\n     * @return {MultiPolygon} MultiPolygon.\n     */\n    MultiPolygon: function MultiPolygon(array) {\n      var polygons = [];\n\n      for (var i = 0; i < array.length; ++i) {\n        var polygon = array[i];\n        polygons.push(parse$1.Polygon.call(this, polygon));\n      }\n\n      return this.geometryFactory.createMultiPolygon(polygons);\n    },\n\n    /**\n     * Convert an Array to a GeometryCollection\n     *\n     * @param {Array}\n     *          array Array of GeoJSON geometries.\n     *\n     * @return {GeometryCollection} GeometryCollection.\n     */\n    GeometryCollection: function GeometryCollection(array) {\n      var geometries = [];\n\n      for (var i = 0; i < array.length; ++i) {\n        var geometry = array[i];\n        geometries.push(this.read(geometry));\n      }\n\n      return this.geometryFactory.createGeometryCollection(geometries);\n    }\n  };\n  var extract$1 = {\n    /**\n     * Convert a Coordinate to an Array\n     *\n     * @param {Coordinate}\n     *          coordinate Coordinate to convert.\n     *\n     * @return {Array} Array of ordinates.\n     */\n    coordinate: function coordinate(_coordinate) {\n      return [_coordinate.x, _coordinate.y];\n    },\n\n    /**\n     * Convert a Point to a GeoJSON object\n     *\n     * @param {Point}\n     *          point Point to convert.\n     *\n     * @return {Array} Array of 2 ordinates (paired to a coordinate).\n     */\n    Point: function Point(point) {\n      var array = extract$1.coordinate.call(this, point.getCoordinate());\n      return {\n        type: 'Point',\n        coordinates: array\n      };\n    },\n\n    /**\n     * Convert a MultiPoint to a GeoJSON object\n     *\n     * @param {MultiPoint}\n     *          multipoint MultiPoint to convert.\n     *\n     * @return {Array} Array of coordinates.\n     */\n    MultiPoint: function MultiPoint(multipoint) {\n      var array = [];\n\n      for (var i = 0; i < multipoint._geometries.length; ++i) {\n        var point = multipoint._geometries[i];\n        var geoJson = extract$1.Point.call(this, point);\n        array.push(geoJson.coordinates);\n      }\n\n      return {\n        type: 'MultiPoint',\n        coordinates: array\n      };\n    },\n\n    /**\n     * Convert a LineString to a GeoJSON object\n     *\n     * @param {LineString}\n     *          linestring LineString to convert.\n     *\n     * @return {Array} Array of coordinates.\n     */\n    LineString: function LineString(linestring) {\n      var array = [];\n      var coordinates = linestring.getCoordinates();\n\n      for (var i = 0; i < coordinates.length; ++i) {\n        var coordinate = coordinates[i];\n        array.push(extract$1.coordinate.call(this, coordinate));\n      }\n\n      return {\n        type: 'LineString',\n        coordinates: array\n      };\n    },\n\n    /**\n     * Convert a MultiLineString to a GeoJSON object\n     *\n     * @param {MultiLineString}\n     *          multilinestring MultiLineString to convert.\n     *\n     * @return {Array} Array of Array of coordinates.\n     */\n    MultiLineString: function MultiLineString(multilinestring) {\n      var array = [];\n\n      for (var i = 0; i < multilinestring._geometries.length; ++i) {\n        var linestring = multilinestring._geometries[i];\n        var geoJson = extract$1.LineString.call(this, linestring);\n        array.push(geoJson.coordinates);\n      }\n\n      return {\n        type: 'MultiLineString',\n        coordinates: array\n      };\n    },\n\n    /**\n     * Convert a Polygon to a GeoJSON object\n     *\n     * @param {Polygon}\n     *          polygon Polygon to convert.\n     *\n     * @return {Array} Array with shell, holes.\n     */\n    Polygon: function Polygon(polygon) {\n      var array = [];\n      var shellGeoJson = extract$1.LineString.call(this, polygon._shell);\n      array.push(shellGeoJson.coordinates);\n\n      for (var i = 0; i < polygon._holes.length; ++i) {\n        var hole = polygon._holes[i];\n        var holeGeoJson = extract$1.LineString.call(this, hole);\n        array.push(holeGeoJson.coordinates);\n      }\n\n      return {\n        type: 'Polygon',\n        coordinates: array\n      };\n    },\n\n    /**\n     * Convert a MultiPolygon to a GeoJSON object\n     *\n     * @param {MultiPolygon}\n     *          multipolygon MultiPolygon to convert.\n     *\n     * @return {Array} Array of polygons.\n     */\n    MultiPolygon: function MultiPolygon(multipolygon) {\n      var array = [];\n\n      for (var i = 0; i < multipolygon._geometries.length; ++i) {\n        var polygon = multipolygon._geometries[i];\n        var geoJson = extract$1.Polygon.call(this, polygon);\n        array.push(geoJson.coordinates);\n      }\n\n      return {\n        type: 'MultiPolygon',\n        coordinates: array\n      };\n    },\n\n    /**\n     * Convert a GeometryCollection to a GeoJSON object\n     *\n     * @param {GeometryCollection}\n     *          collection GeometryCollection to convert.\n     *\n     * @return {Array} Array of geometries.\n     */\n    GeometryCollection: function GeometryCollection(collection) {\n      var array = [];\n\n      for (var i = 0; i < collection._geometries.length; ++i) {\n        var geometry = collection._geometries[i];\n        var type = geometry.getGeometryType();\n        array.push(extract$1[type].call(this, geometry));\n      }\n\n      return {\n        type: 'GeometryCollection',\n        geometries: array\n      };\n    }\n  };\n\n  /**\n   * @module org/locationtech/jts/io/GeoJSONReader\n   */\n  /**\n   * Converts a geometry in GeoJSON to a {@link Geometry}.\n   */\n\n  /**\n   * A <code>GeoJSONReader</code> is parameterized by a <code>GeometryFactory</code>,\n   * to allow it to create <code>Geometry</code> objects of the appropriate\n   * implementation. In particular, the <code>GeometryFactory</code> determines\n   * the <code>PrecisionModel</code> and <code>SRID</code> that is used.\n   *\n   * @param {GeometryFactory} geometryFactory\n   * @constructor\n   */\n\n  function GeoJSONReader(geometryFactory) {\n    this.parser = new GeoJSONParser(geometryFactory || new GeometryFactory());\n  }\n  extend(GeoJSONReader.prototype, {\n    /**\n     * Reads a GeoJSON representation of a {@link Geometry}\n     *\n     * Will also parse GeoJSON Features/FeatureCollections as custom objects.\n     *\n     * @param {Object|String} geoJson a GeoJSON Object or String.\n     * @return {Geometry|Object} a <code>Geometry or Feature/FeatureCollection representation.</code>\n     * @memberof module:org/locationtech/jts/io/GeoJSONReader#\n     */\n    read: function read(geoJson) {\n      var geometry = this.parser.read(geoJson);\n      return geometry;\n    }\n  });\n\n  /**\n   * @module org/locationtech/jts/io/GeoJSONWriter\n   */\n  /**\n   * Writes the GeoJSON representation of a {@link Geometry}. The\n   * The GeoJSON format is defined <A\n   * HREF=\"http://geojson.org/geojson-spec.html\">here</A>.\n   */\n\n  /**\n   * The <code>GeoJSONWriter</code> outputs coordinates rounded to the precision\n   * model. Only the maximum number of decimal places necessary to represent the\n   * ordinates to the required precision will be output.\n   *\n   * @param {GeometryFactory} geometryFactory\n   * @constructor\n   */\n\n  function GeoJSONWriter() {\n    this.parser = new GeoJSONParser(this.geometryFactory);\n  }\n  extend(GeoJSONWriter.prototype, {\n    /**\n     * Converts a <code>Geometry</code> to its GeoJSON representation.\n     *\n     * @param {Geometry}\n     *          geometry a <code>Geometry</code> to process.\n     * @return {Object} The GeoJSON representation of the Geometry.\n     * @memberof module:org/locationtech/jts/io/GeoJSONWriter#\n     */\n    write: function write(geometry) {\n      return this.parser.write(geometry);\n    }\n  });\n\n  /**\n   * @module org/locationtech/jts/io/WKTReader\n   */\n  /**\n   * Converts a geometry in Well-Known Text format to a {@link Geometry}.\n   * <p>\n   * <code>WKTReader</code> supports extracting <code>Geometry</code> objects\n   * from either {@link Reader}s or {@link String}s. This allows it to function\n   * as a parser to read <code>Geometry</code> objects from text blocks embedded\n   * in other data formats (e.g. XML).\n   */\n\n  /**\n   * A <code>WKTReader</code> is parameterized by a <code>GeometryFactory</code>,\n   * to allow it to create <code>Geometry</code> objects of the appropriate\n   * implementation. In particular, the <code>GeometryFactory</code> determines\n   * the <code>PrecisionModel</code> and <code>SRID</code> that is used.\n   * @param {GeometryFactory} geometryFactory\n   * @constructor\n   */\n\n  function WKTReader(geometryFactory) {\n    this.parser = new WKTParser(geometryFactory || new GeometryFactory());\n  }\n  extend(WKTReader.prototype, {\n    /**\n     * Reads a Well-Known Text representation of a {@link Geometry}\n     *\n     * @param {string}\n     *          wkt a <Geometry Tagged Text> string (see the OpenGIS Simple Features\n     *          Specification).\n     * @return {Geometry} a <code>Geometry</code> read from\n     *         <code>string.</code>\n     * @memberof module:org/locationtech/jts/io/WKTReader#\n     */\n    read: function read(wkt) {\n      var geometry = this.parser.read(wkt);\n      return geometry;\n    }\n  });\n\n  /*eslint-disable no-undef */\n\n  function p2c(p) {\n    return [p.x, p.y];\n  }\n  /**\n   * OpenLayers Geometry parser and writer\n   * @param {GeometryFactory} geometryFactory\n   * @param {ol} olReference \n   * @constructor\n   */\n\n\n  function OL3Parser(geometryFactory, olReference) {\n    this.geometryFactory = geometryFactory || new GeometryFactory();\n    this.ol = olReference || typeof ol !== 'undefined' && ol;\n  }\n  extend(OL3Parser.prototype, {\n    /**\n     * Inject OpenLayers geom classes\n     */\n    inject: function inject(Point, LineString, LinearRing, Polygon, MultiPoint, MultiLineString, MultiPolygon, GeometryCollection) {\n      this.ol = {\n        geom: {\n          Point: Point,\n          LineString: LineString,\n          LinearRing: LinearRing,\n          Polygon: Polygon,\n          MultiPoint: MultiPoint,\n          MultiLineString: MultiLineString,\n          MultiPolygon: MultiPolygon,\n          GeometryCollection: GeometryCollection\n        }\n      };\n    },\n\n    /**\n     * @param geometry {ol.geom.Geometry}\n     * @return {Geometry}\n     * @memberof module:org/locationtech/jts/io/OL3Parser#\n     */\n    read: function read(geometry) {\n      var ol = this.ol;\n\n      if (geometry instanceof ol.geom.Point) {\n        return this.convertFromPoint(geometry);\n      } else if (geometry instanceof ol.geom.LineString) {\n        return this.convertFromLineString(geometry);\n      } else if (geometry instanceof ol.geom.LinearRing) {\n        return this.convertFromLinearRing(geometry);\n      } else if (geometry instanceof ol.geom.Polygon) {\n        return this.convertFromPolygon(geometry);\n      } else if (geometry instanceof ol.geom.MultiPoint) {\n        return this.convertFromMultiPoint(geometry);\n      } else if (geometry instanceof ol.geom.MultiLineString) {\n        return this.convertFromMultiLineString(geometry);\n      } else if (geometry instanceof ol.geom.MultiPolygon) {\n        return this.convertFromMultiPolygon(geometry);\n      } else if (geometry instanceof ol.geom.GeometryCollection) {\n        return this.convertFromCollection(geometry);\n      }\n    },\n    convertFromPoint: function convertFromPoint(point) {\n      var coordinates = point.getCoordinates();\n      return this.geometryFactory.createPoint(new Coordinate(coordinates[0], coordinates[1]));\n    },\n    convertFromLineString: function convertFromLineString(lineString) {\n      return this.geometryFactory.createLineString(lineString.getCoordinates().map(function (coordinates) {\n        return new Coordinate(coordinates[0], coordinates[1]);\n      }));\n    },\n    convertFromLinearRing: function convertFromLinearRing(linearRing) {\n      return this.geometryFactory.createLinearRing(linearRing.getCoordinates().map(function (coordinates) {\n        return new Coordinate(coordinates[0], coordinates[1]);\n      }));\n    },\n    convertFromPolygon: function convertFromPolygon(polygon) {\n      var linearRings = polygon.getLinearRings();\n      var shell = null;\n      var holes = [];\n\n      for (var i = 0; i < linearRings.length; i++) {\n        var linearRing = this.convertFromLinearRing(linearRings[i]);\n\n        if (i === 0) {\n          shell = linearRing;\n        } else {\n          holes.push(linearRing);\n        }\n      }\n\n      return this.geometryFactory.createPolygon(shell, holes);\n    },\n    convertFromMultiPoint: function convertFromMultiPoint(multiPoint) {\n      var points = multiPoint.getPoints().map(function (point) {\n        return this.convertFromPoint(point);\n      }, this);\n      return this.geometryFactory.createMultiPoint(points);\n    },\n    convertFromMultiLineString: function convertFromMultiLineString(multiLineString) {\n      var lineStrings = multiLineString.getLineStrings().map(function (lineString) {\n        return this.convertFromLineString(lineString);\n      }, this);\n      return this.geometryFactory.createMultiLineString(lineStrings);\n    },\n    convertFromMultiPolygon: function convertFromMultiPolygon(multiPolygon) {\n      var polygons = multiPolygon.getPolygons().map(function (polygon) {\n        return this.convertFromPolygon(polygon);\n      }, this);\n      return this.geometryFactory.createMultiPolygon(polygons);\n    },\n    convertFromCollection: function convertFromCollection(collection) {\n      var geometries = collection.getGeometries().map(function (geometry) {\n        return this.read(geometry);\n      }, this);\n      return this.geometryFactory.createGeometryCollection(geometries);\n    },\n\n    /**\n     * @param geometry\n     *          {Geometry}\n     * @return {ol.geom.Geometry}\n     * @memberof module:org/locationtech/jts/io/OL3Parser#\n     */\n    write: function write(geometry) {\n      if (geometry.getGeometryType() === 'Point') {\n        return this.convertToPoint(geometry.getCoordinate());\n      } else if (geometry.getGeometryType() === 'LineString') {\n        return this.convertToLineString(geometry);\n      } else if (geometry.getGeometryType() === 'LinearRing') {\n        return this.convertToLinearRing(geometry);\n      } else if (geometry.getGeometryType() === 'Polygon') {\n        return this.convertToPolygon(geometry);\n      } else if (geometry.getGeometryType() === 'MultiPoint') {\n        return this.convertToMultiPoint(geometry);\n      } else if (geometry.getGeometryType() === 'MultiLineString') {\n        return this.convertToMultiLineString(geometry);\n      } else if (geometry.getGeometryType() === 'MultiPolygon') {\n        return this.convertToMultiPolygon(geometry);\n      } else if (geometry.getGeometryType() === 'GeometryCollection') {\n        return this.convertToCollection(geometry);\n      }\n    },\n    convertToPoint: function convertToPoint(coordinate) {\n      return new this.ol.geom.Point([coordinate.x, coordinate.y]);\n    },\n    convertToLineString: function convertToLineString(lineString) {\n      var points = lineString._points._coordinates.map(p2c);\n\n      return new this.ol.geom.LineString(points);\n    },\n    convertToLinearRing: function convertToLinearRing(linearRing) {\n      var points = linearRing._points._coordinates.map(p2c);\n\n      return new this.ol.geom.LinearRing(points);\n    },\n    convertToPolygon: function convertToPolygon(polygon) {\n      var rings = [polygon._shell._points._coordinates.map(p2c)];\n\n      for (var i = 0; i < polygon._holes.length; i++) {\n        rings.push(polygon._holes[i]._points._coordinates.map(p2c));\n      }\n\n      return new this.ol.geom.Polygon(rings);\n    },\n    convertToMultiPoint: function convertToMultiPoint(multiPoint) {\n      return new this.ol.geom.MultiPoint(multiPoint.getCoordinates().map(p2c));\n    },\n    convertToMultiLineString: function convertToMultiLineString(multiLineString) {\n      var lineStrings = [];\n\n      for (var i = 0; i < multiLineString._geometries.length; i++) {\n        lineStrings.push(this.convertToLineString(multiLineString._geometries[i]).getCoordinates());\n      }\n\n      return new this.ol.geom.MultiLineString(lineStrings);\n    },\n    convertToMultiPolygon: function convertToMultiPolygon(multiPolygon) {\n      var polygons = [];\n\n      for (var i = 0; i < multiPolygon._geometries.length; i++) {\n        polygons.push(this.convertToPolygon(multiPolygon._geometries[i]).getCoordinates());\n      }\n\n      return new this.ol.geom.MultiPolygon(polygons);\n    },\n    convertToCollection: function convertToCollection(geometryCollection) {\n      var geometries = [];\n\n      for (var i = 0; i < geometryCollection._geometries.length; i++) {\n        var geometry = geometryCollection._geometries[i];\n        geometries.push(this.write(geometry));\n      }\n\n      return new this.ol.geom.GeometryCollection(geometries);\n    }\n  });\n\n\n\n  var io = /*#__PURE__*/Object.freeze({\n    GeoJSONReader: GeoJSONReader,\n    GeoJSONWriter: GeoJSONWriter,\n    OL3Parser: OL3Parser,\n    WKTReader: WKTReader,\n    WKTWriter: WKTWriter\n  });\n\n  function SegmentPointComparator() {}\n  extend(SegmentPointComparator.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return SegmentPointComparator;\n    }\n  });\n\n  SegmentPointComparator.relativeSign = function (x0, x1) {\n    if (x0 < x1) return -1;\n    if (x0 > x1) return 1;\n    return 0;\n  };\n\n  SegmentPointComparator.compare = function (octant, p0, p1) {\n    if (p0.equals2D(p1)) return 0;\n    var xSign = SegmentPointComparator.relativeSign(p0.x, p1.x);\n    var ySign = SegmentPointComparator.relativeSign(p0.y, p1.y);\n\n    switch (octant) {\n      case 0:\n        return SegmentPointComparator.compareValue(xSign, ySign);\n\n      case 1:\n        return SegmentPointComparator.compareValue(ySign, xSign);\n\n      case 2:\n        return SegmentPointComparator.compareValue(ySign, -xSign);\n\n      case 3:\n        return SegmentPointComparator.compareValue(-xSign, ySign);\n\n      case 4:\n        return SegmentPointComparator.compareValue(-xSign, -ySign);\n\n      case 5:\n        return SegmentPointComparator.compareValue(-ySign, -xSign);\n\n      case 6:\n        return SegmentPointComparator.compareValue(-ySign, xSign);\n\n      case 7:\n        return SegmentPointComparator.compareValue(xSign, -ySign);\n    }\n\n    Assert.shouldNeverReachHere(\"invalid octant value\");\n    return 0;\n  };\n\n  SegmentPointComparator.compareValue = function (compareSign0, compareSign1) {\n    if (compareSign0 < 0) return -1;\n    if (compareSign0 > 0) return 1;\n    if (compareSign1 < 0) return -1;\n    if (compareSign1 > 0) return 1;\n    return 0;\n  };\n\n  function SegmentNode() {\n    this._segString = null;\n    this.coord = null;\n    this.segmentIndex = null;\n    this._segmentOctant = null;\n    this._isInterior = null;\n    var segString = arguments[0],\n        coord = arguments[1],\n        segmentIndex = arguments[2],\n        segmentOctant = arguments[3];\n    this._segString = segString;\n    this.coord = new Coordinate(coord);\n    this.segmentIndex = segmentIndex;\n    this._segmentOctant = segmentOctant;\n    this._isInterior = !coord.equals2D(segString.getCoordinate(segmentIndex));\n  }\n  extend(SegmentNode.prototype, {\n    getCoordinate: function getCoordinate() {\n      return this.coord;\n    },\n    print: function print(out) {\n      out.print(this.coord);\n      out.print(\" seg # = \" + this.segmentIndex);\n    },\n    compareTo: function compareTo(obj) {\n      var other = obj;\n      if (this.segmentIndex < other.segmentIndex) return -1;\n      if (this.segmentIndex > other.segmentIndex) return 1;\n      if (this.coord.equals2D(other.coord)) return 0;\n      return SegmentPointComparator.compare(this._segmentOctant, this.coord, other.coord);\n    },\n    isEndPoint: function isEndPoint(maxSegmentIndex) {\n      if (this.segmentIndex === 0 && !this._isInterior) return true;\n      if (this.segmentIndex === maxSegmentIndex) return true;\n      return false;\n    },\n    isInterior: function isInterior() {\n      return this._isInterior;\n    },\n    interfaces_: function interfaces_() {\n      return [Comparable];\n    },\n    getClass: function getClass() {\n      return SegmentNode;\n    }\n  });\n\n  function SegmentNodeList() {\n    this._nodeMap = new TreeMap();\n    this._edge = null;\n    var edge = arguments[0];\n    this._edge = edge;\n  }\n  extend(SegmentNodeList.prototype, {\n    getSplitCoordinates: function getSplitCoordinates() {\n      var coordList = new CoordinateList();\n      this.addEndpoints();\n      var it = this.iterator();\n      var eiPrev = it.next();\n\n      while (it.hasNext()) {\n        var ei = it.next();\n        this.addEdgeCoordinates(eiPrev, ei, coordList);\n        eiPrev = ei;\n      }\n\n      return coordList.toCoordinateArray();\n    },\n    addCollapsedNodes: function addCollapsedNodes() {\n      var collapsedVertexIndexes = new ArrayList();\n      this.findCollapsesFromInsertedNodes(collapsedVertexIndexes);\n      this.findCollapsesFromExistingVertices(collapsedVertexIndexes);\n\n      for (var it = collapsedVertexIndexes.iterator(); it.hasNext();) {\n        var vertexIndex = it.next().intValue();\n        this.add(this._edge.getCoordinate(vertexIndex), vertexIndex);\n      }\n    },\n    print: function print(out) {\n      out.println(\"Intersections:\");\n\n      for (var it = this.iterator(); it.hasNext();) {\n        var ei = it.next();\n        ei.print(out);\n      }\n    },\n    findCollapsesFromExistingVertices: function findCollapsesFromExistingVertices(collapsedVertexIndexes) {\n      for (var i = 0; i < this._edge.size() - 2; i++) {\n        var p0 = this._edge.getCoordinate(i);\n\n        var p1 = this._edge.getCoordinate(i + 1);\n\n        var p2 = this._edge.getCoordinate(i + 2);\n\n        if (p0.equals2D(p2)) {\n          collapsedVertexIndexes.add(new Integer(i + 1));\n        }\n      }\n    },\n    addEdgeCoordinates: function addEdgeCoordinates(ei0, ei1, coordList) {\n      var npts = ei1.segmentIndex - ei0.segmentIndex + 2;\n\n      var lastSegStartPt = this._edge.getCoordinate(ei1.segmentIndex);\n\n      var useIntPt1 = ei1.isInterior() || !ei1.coord.equals2D(lastSegStartPt);\n\n      if (!useIntPt1) {\n        npts--;\n      }\n      coordList.add(new Coordinate(ei0.coord), false);\n\n      for (var i = ei0.segmentIndex + 1; i <= ei1.segmentIndex; i++) {\n        coordList.add(this._edge.getCoordinate(i));\n      }\n\n      if (useIntPt1) {\n        coordList.add(new Coordinate(ei1.coord));\n      }\n    },\n    iterator: function iterator() {\n      return this._nodeMap.values().iterator();\n    },\n    addSplitEdges: function addSplitEdges(edgeList) {\n      this.addEndpoints();\n      this.addCollapsedNodes();\n      var it = this.iterator();\n      var eiPrev = it.next();\n\n      while (it.hasNext()) {\n        var ei = it.next();\n        var newEdge = this.createSplitEdge(eiPrev, ei);\n        edgeList.add(newEdge);\n        eiPrev = ei;\n      }\n    },\n    findCollapseIndex: function findCollapseIndex(ei0, ei1, collapsedVertexIndex) {\n      if (!ei0.coord.equals2D(ei1.coord)) return false;\n      var numVerticesBetween = ei1.segmentIndex - ei0.segmentIndex;\n\n      if (!ei1.isInterior()) {\n        numVerticesBetween--;\n      }\n\n      if (numVerticesBetween === 1) {\n        collapsedVertexIndex[0] = ei0.segmentIndex + 1;\n        return true;\n      }\n\n      return false;\n    },\n    findCollapsesFromInsertedNodes: function findCollapsesFromInsertedNodes(collapsedVertexIndexes) {\n      var collapsedVertexIndex = new Array(1).fill(null);\n      var it = this.iterator();\n      var eiPrev = it.next();\n\n      while (it.hasNext()) {\n        var ei = it.next();\n        var isCollapsed = this.findCollapseIndex(eiPrev, ei, collapsedVertexIndex);\n        if (isCollapsed) collapsedVertexIndexes.add(new Integer(collapsedVertexIndex[0]));\n        eiPrev = ei;\n      }\n    },\n    getEdge: function getEdge() {\n      return this._edge;\n    },\n    addEndpoints: function addEndpoints() {\n      var maxSegIndex = this._edge.size() - 1;\n      this.add(this._edge.getCoordinate(0), 0);\n      this.add(this._edge.getCoordinate(maxSegIndex), maxSegIndex);\n    },\n    createSplitEdge: function createSplitEdge(ei0, ei1) {\n      var npts = ei1.segmentIndex - ei0.segmentIndex + 2;\n\n      var lastSegStartPt = this._edge.getCoordinate(ei1.segmentIndex);\n\n      var useIntPt1 = ei1.isInterior() || !ei1.coord.equals2D(lastSegStartPt);\n\n      if (!useIntPt1) {\n        npts--;\n      }\n\n      var pts = new Array(npts).fill(null);\n      var ipt = 0;\n      pts[ipt++] = new Coordinate(ei0.coord);\n\n      for (var i = ei0.segmentIndex + 1; i <= ei1.segmentIndex; i++) {\n        pts[ipt++] = this._edge.getCoordinate(i);\n      }\n\n      if (useIntPt1) pts[ipt] = new Coordinate(ei1.coord);\n      return new NodedSegmentString(pts, this._edge.getData());\n    },\n    add: function add(intPt, segmentIndex) {\n      var eiNew = new SegmentNode(this._edge, intPt, segmentIndex, this._edge.getSegmentOctant(segmentIndex));\n\n      var ei = this._nodeMap.get(eiNew);\n\n      if (ei !== null) {\n        Assert.isTrue(ei.coord.equals2D(intPt), \"Found equal nodes with different coordinates\");\n        return ei;\n      }\n\n      this._nodeMap.put(eiNew, eiNew);\n\n      return eiNew;\n    },\n    checkSplitEdgesCorrectness: function checkSplitEdgesCorrectness(splitEdges) {\n      var edgePts = this._edge.getCoordinates();\n\n      var split0 = splitEdges.get(0);\n      var pt0 = split0.getCoordinate(0);\n      if (!pt0.equals2D(edgePts[0])) throw new RuntimeException(\"bad split edge start point at \" + pt0);\n      var splitn = splitEdges.get(splitEdges.size() - 1);\n      var splitnPts = splitn.getCoordinates();\n      var ptn = splitnPts[splitnPts.length - 1];\n      if (!ptn.equals2D(edgePts[edgePts.length - 1])) throw new RuntimeException(\"bad split edge end point at \" + ptn);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return SegmentNodeList;\n    }\n  });\n\n  function NodeVertexIterator() {\n    this._nodeList = null;\n    this._edge = null;\n    this._nodeIt = null;\n    this._currNode = null;\n    this._nextNode = null;\n    this._currSegIndex = 0;\n    var nodeList = arguments[0];\n    this._nodeList = nodeList;\n    this._edge = nodeList.getEdge();\n    this._nodeIt = nodeList.iterator();\n    this.readNextNode();\n  }\n\n  extend(NodeVertexIterator.prototype, {\n    next: function next() {\n      if (this._currNode === null) {\n        this._currNode = this._nextNode;\n        this._currSegIndex = this._currNode.segmentIndex;\n        this.readNextNode();\n        return this._currNode;\n      }\n\n      if (this._nextNode === null) return null;\n\n      if (this._nextNode.segmentIndex === this._currNode.segmentIndex) {\n        this._currNode = this._nextNode;\n        this._currSegIndex = this._currNode.segmentIndex;\n        this.readNextNode();\n        return this._currNode;\n      }\n\n      if (this._nextNode.segmentIndex > this._currNode.segmentIndex) ;\n\n      return null;\n    },\n    remove: function remove() {\n      throw new UnsupportedOperationException(this.getClass().getName());\n    },\n    hasNext: function hasNext() {\n      if (this._nextNode === null) return false;\n      return true;\n    },\n    readNextNode: function readNextNode() {\n      if (this._nodeIt.hasNext()) this._nextNode = this._nodeIt.next();else this._nextNode = null;\n    },\n    interfaces_: function interfaces_() {\n      return [Iterator];\n    },\n    getClass: function getClass() {\n      return NodeVertexIterator;\n    }\n  });\n\n  function Octant() {}\n  extend(Octant.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Octant;\n    }\n  });\n\n  Octant.octant = function () {\n    if (typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\") {\n      var _dx = arguments[0],\n          _dy = arguments[1];\n      if (_dx === 0.0 && _dy === 0.0) throw new IllegalArgumentException(\"Cannot compute the octant for point ( \" + _dx + \", \" + _dy + \" )\");\n      var adx = Math.abs(_dx);\n      var ady = Math.abs(_dy);\n\n      if (_dx >= 0) {\n        if (_dy >= 0) {\n          if (adx >= ady) return 0;else return 1;\n        } else {\n          if (adx >= ady) return 7;else return 6;\n        }\n      } else {\n        if (_dy >= 0) {\n          if (adx >= ady) return 3;else return 2;\n        } else {\n          if (adx >= ady) return 4;else return 5;\n        }\n      }\n    } else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Coordinate) {\n      var p0 = arguments[0],\n          p1 = arguments[1];\n      var dx = p1.x - p0.x;\n      var dy = p1.y - p0.y;\n      if (dx === 0.0 && dy === 0.0) throw new IllegalArgumentException(\"Cannot compute the octant for two identical points \" + p0);\n      return Octant.octant(dx, dy);\n    }\n  };\n\n  function SegmentString() {}\n  extend(SegmentString.prototype, {\n    getCoordinates: function getCoordinates() {},\n    size: function size() {},\n    getCoordinate: function getCoordinate(i) {},\n    isClosed: function isClosed() {},\n    setData: function setData(data) {},\n    getData: function getData() {},\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return SegmentString;\n    }\n  });\n\n  function NodableSegmentString() {}\n  extend(NodableSegmentString.prototype, {\n    addIntersection: function addIntersection(intPt, segmentIndex) {},\n    interfaces_: function interfaces_() {\n      return [SegmentString];\n    },\n    getClass: function getClass() {\n      return NodableSegmentString;\n    }\n  });\n\n  function NodedSegmentString() {\n    this._nodeList = new SegmentNodeList(this);\n    this._pts = null;\n    this._data = null;\n    var pts = arguments[0],\n        data = arguments[1];\n    this._pts = pts;\n    this._data = data;\n  }\n  extend(NodedSegmentString.prototype, {\n    getCoordinates: function getCoordinates() {\n      return this._pts;\n    },\n    size: function size() {\n      return this._pts.length;\n    },\n    getCoordinate: function getCoordinate(i) {\n      return this._pts[i];\n    },\n    isClosed: function isClosed() {\n      return this._pts[0].equals(this._pts[this._pts.length - 1]);\n    },\n    getSegmentOctant: function getSegmentOctant(index) {\n      if (index === this._pts.length - 1) return -1;\n      return this.safeOctant(this.getCoordinate(index), this.getCoordinate(index + 1));\n    },\n    setData: function setData(data) {\n      this._data = data;\n    },\n    safeOctant: function safeOctant(p0, p1) {\n      if (p0.equals2D(p1)) return 0;\n      return Octant.octant(p0, p1);\n    },\n    getData: function getData() {\n      return this._data;\n    },\n    addIntersection: function addIntersection() {\n      if (arguments.length === 2) {\n        var _intPt = arguments[0],\n            segmentIndex = arguments[1];\n        this.addIntersectionNode(_intPt, segmentIndex);\n      } else if (arguments.length === 4) {\n        var li = arguments[0],\n            _segmentIndex = arguments[1],\n            intIndex = arguments[3];\n        var intPt = new Coordinate(li.getIntersection(intIndex));\n        this.addIntersection(intPt, _segmentIndex);\n      }\n    },\n    toString: function toString() {\n      return WKTWriter.toLineString(new CoordinateArraySequence(this._pts));\n    },\n    getNodeList: function getNodeList() {\n      return this._nodeList;\n    },\n    addIntersectionNode: function addIntersectionNode(intPt, segmentIndex) {\n      var normalizedSegmentIndex = segmentIndex;\n      var nextSegIndex = normalizedSegmentIndex + 1;\n\n      if (nextSegIndex < this._pts.length) {\n        var nextPt = this._pts[nextSegIndex];\n\n        if (intPt.equals2D(nextPt)) {\n          normalizedSegmentIndex = nextSegIndex;\n        }\n      }\n\n      var ei = this._nodeList.add(intPt, normalizedSegmentIndex);\n\n      return ei;\n    },\n    addIntersections: function addIntersections(li, segmentIndex, geomIndex) {\n      for (var i = 0; i < li.getIntersectionNum(); i++) {\n        this.addIntersection(li, segmentIndex, geomIndex, i);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [NodableSegmentString];\n    },\n    getClass: function getClass() {\n      return NodedSegmentString;\n    }\n  });\n\n  NodedSegmentString.getNodedSubstrings = function () {\n    if (arguments.length === 1) {\n      var segStrings = arguments[0];\n      var resultEdgelist = new ArrayList();\n      NodedSegmentString.getNodedSubstrings(segStrings, resultEdgelist);\n      return resultEdgelist;\n    } else if (arguments.length === 2) {\n      var _segStrings = arguments[0],\n          _resultEdgelist = arguments[1];\n\n      for (var i = _segStrings.iterator(); i.hasNext();) {\n        var ss = i.next();\n        ss.getNodeList().addSplitEdges(_resultEdgelist);\n      }\n    }\n  };\n\n  function MonotoneChainOverlapAction() {\n    this._overlapSeg1 = new LineSegment();\n    this._overlapSeg2 = new LineSegment();\n  }\n  extend(MonotoneChainOverlapAction.prototype, {\n    overlap: function overlap() {\n      if (arguments.length === 2) ; else if (arguments.length === 4) {\n        var mc1 = arguments[0],\n            start1 = arguments[1],\n            mc2 = arguments[2],\n            start2 = arguments[3];\n        mc1.getLineSegment(start1, this._overlapSeg1);\n        mc2.getLineSegment(start2, this._overlapSeg2);\n        this.overlap(this._overlapSeg1, this._overlapSeg2);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return MonotoneChainOverlapAction;\n    }\n  });\n\n  function Noder() {}\n  extend(Noder.prototype, {\n    computeNodes: function computeNodes(segStrings) {},\n    getNodedSubstrings: function getNodedSubstrings() {},\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Noder;\n    }\n  });\n\n  function SinglePassNoder() {\n    this._segInt = null;\n\n    if (arguments.length === 0) ; else if (arguments.length === 1) {\n      var segInt = arguments[0];\n      this.setSegmentIntersector(segInt);\n    }\n  }\n  extend(SinglePassNoder.prototype, {\n    setSegmentIntersector: function setSegmentIntersector(segInt) {\n      this._segInt = segInt;\n    },\n    interfaces_: function interfaces_() {\n      return [Noder];\n    },\n    getClass: function getClass() {\n      return SinglePassNoder;\n    }\n  });\n\n  function MCIndexNoder() {\n    this._monoChains = new ArrayList();\n    this._index = new STRtree();\n    this._idCounter = 0;\n    this._nodedSegStrings = null;\n    this._nOverlaps = 0;\n\n    if (arguments.length === 0) ; else if (arguments.length === 1) {\n      var si = arguments[0];\n      SinglePassNoder.call(this, si);\n    }\n  }\n  inherits(MCIndexNoder, SinglePassNoder);\n  extend(MCIndexNoder.prototype, {\n    getMonotoneChains: function getMonotoneChains() {\n      return this._monoChains;\n    },\n    getNodedSubstrings: function getNodedSubstrings() {\n      return NodedSegmentString.getNodedSubstrings(this._nodedSegStrings);\n    },\n    getIndex: function getIndex() {\n      return this._index;\n    },\n    add: function add(segStr) {\n      var segChains = MonotoneChainBuilder.getChains(segStr.getCoordinates(), segStr);\n\n      for (var i = segChains.iterator(); i.hasNext();) {\n        var mc = i.next();\n        mc.setId(this._idCounter++);\n\n        this._index.insert(mc.getEnvelope(), mc);\n\n        this._monoChains.add(mc);\n      }\n    },\n    computeNodes: function computeNodes(inputSegStrings) {\n      this._nodedSegStrings = inputSegStrings;\n\n      for (var i = inputSegStrings.iterator(); i.hasNext();) {\n        this.add(i.next());\n      }\n\n      this.intersectChains();\n    },\n    intersectChains: function intersectChains() {\n      var overlapAction = new SegmentOverlapAction(this._segInt);\n\n      for (var i = this._monoChains.iterator(); i.hasNext();) {\n        var queryChain = i.next();\n\n        var overlapChains = this._index.query(queryChain.getEnvelope());\n\n        for (var j = overlapChains.iterator(); j.hasNext();) {\n          var testChain = j.next();\n\n          if (testChain.getId() > queryChain.getId()) {\n            queryChain.computeOverlaps(testChain, overlapAction);\n            this._nOverlaps++;\n          }\n\n          if (this._segInt.isDone()) return null;\n        }\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return MCIndexNoder;\n    }\n  });\n\n  function SegmentOverlapAction() {\n    MonotoneChainOverlapAction.apply(this);\n    this._si = null;\n    var si = arguments[0];\n    this._si = si;\n  }\n\n  inherits(SegmentOverlapAction, MonotoneChainOverlapAction);\n  extend(SegmentOverlapAction.prototype, {\n    overlap: function overlap() {\n      if (arguments.length === 4) {\n        var mc1 = arguments[0],\n            start1 = arguments[1],\n            mc2 = arguments[2],\n            start2 = arguments[3];\n        var ss1 = mc1.getContext();\n        var ss2 = mc2.getContext();\n\n        this._si.processIntersections(ss1, start1, ss2, start2);\n      } else return MonotoneChainOverlapAction.prototype.overlap.apply(this, arguments);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return SegmentOverlapAction;\n    }\n  });\n  MCIndexNoder.SegmentOverlapAction = SegmentOverlapAction;\n\n  function ScaledNoder() {\n    this._noder = null;\n    this._scaleFactor = null;\n    this._offsetX = null;\n    this._offsetY = null;\n    this._isScaled = false;\n\n    if (arguments.length === 2) {\n      var noder = arguments[0],\n          scaleFactor = arguments[1];\n      ScaledNoder.call(this, noder, scaleFactor, 0, 0);\n    } else if (arguments.length === 4) {\n      var _noder = arguments[0],\n          _scaleFactor = arguments[1];\n      this._noder = _noder;\n      this._scaleFactor = _scaleFactor;\n      this._isScaled = !this.isIntegerPrecision();\n    }\n  }\n  extend(ScaledNoder.prototype, {\n    rescale: function rescale() {\n      if (hasInterface(arguments[0], Collection)) {\n        var segStrings = arguments[0];\n\n        for (var i = segStrings.iterator(); i.hasNext();) {\n          var ss = i.next();\n          this.rescale(ss.getCoordinates());\n        }\n      } else if (arguments[0] instanceof Array) {\n        var pts = arguments[0];\n        var p0 = null;\n        var p1 = null;\n\n        if (pts.length === 2) {\n          p0 = new Coordinate(pts[0]);\n          p1 = new Coordinate(pts[1]);\n        }\n\n        for (var i = 0; i < pts.length; i++) {\n          pts[i].x = pts[i].x / this._scaleFactor + this._offsetX;\n          pts[i].y = pts[i].y / this._scaleFactor + this._offsetY;\n        }\n\n        if (pts.length === 2 && pts[0].equals2D(pts[1])) {\n          System.out.println(pts);\n        }\n      }\n    },\n    scale: function scale() {\n      if (hasInterface(arguments[0], Collection)) {\n        var segStrings = arguments[0];\n        var nodedSegmentStrings = new ArrayList(segStrings.size());\n\n        for (var i = segStrings.iterator(); i.hasNext();) {\n          var ss = i.next();\n          nodedSegmentStrings.add(new NodedSegmentString(this.scale(ss.getCoordinates()), ss.getData()));\n        }\n\n        return nodedSegmentStrings;\n      } else if (arguments[0] instanceof Array) {\n        var pts = arguments[0];\n        var roundPts = new Array(pts.length).fill(null);\n\n        for (var i = 0; i < pts.length; i++) {\n          roundPts[i] = new Coordinate(Math.round((pts[i].x - this._offsetX) * this._scaleFactor), Math.round((pts[i].y - this._offsetY) * this._scaleFactor), pts[i].z);\n        }\n\n        var roundPtsNoDup = CoordinateArrays.removeRepeatedPoints(roundPts);\n        return roundPtsNoDup;\n      }\n    },\n    isIntegerPrecision: function isIntegerPrecision() {\n      return this._scaleFactor === 1.0;\n    },\n    getNodedSubstrings: function getNodedSubstrings() {\n      var splitSS = this._noder.getNodedSubstrings();\n\n      if (this._isScaled) this.rescale(splitSS);\n      return splitSS;\n    },\n    computeNodes: function computeNodes(inputSegStrings) {\n      var intSegStrings = inputSegStrings;\n      if (this._isScaled) intSegStrings = this.scale(inputSegStrings);\n\n      this._noder.computeNodes(intSegStrings);\n    },\n    interfaces_: function interfaces_() {\n      return [Noder];\n    },\n    getClass: function getClass() {\n      return ScaledNoder;\n    }\n  });\n\n\n\n  var noding = /*#__PURE__*/Object.freeze({\n    MCIndexNoder: MCIndexNoder,\n    ScaledNoder: ScaledNoder,\n    SegmentString: SegmentString\n  });\n\n  function IsSimpleOp() {\n    this._inputGeom = null;\n    this._isClosedEndpointsInInterior = true;\n    this._nonSimpleLocation = null;\n\n    if (arguments.length === 1) {\n      var geom = arguments[0];\n      this._inputGeom = geom;\n    } else if (arguments.length === 2) {\n      var _geom = arguments[0],\n          boundaryNodeRule = arguments[1];\n      this._inputGeom = _geom;\n      this._isClosedEndpointsInInterior = !boundaryNodeRule.isInBoundary(2);\n    }\n  }\n  extend(IsSimpleOp.prototype, {\n    isSimpleMultiPoint: function isSimpleMultiPoint(mp) {\n      if (mp.isEmpty()) return true;\n      var points = new TreeSet();\n\n      for (var i = 0; i < mp.getNumGeometries(); i++) {\n        var pt = mp.getGeometryN(i);\n        var p = pt.getCoordinate();\n\n        if (points.contains(p)) {\n          this._nonSimpleLocation = p;\n          return false;\n        }\n\n        points.add(p);\n      }\n\n      return true;\n    },\n    isSimplePolygonal: function isSimplePolygonal(geom) {\n      var rings = LinearComponentExtracter.getLines(geom);\n\n      for (var i = rings.iterator(); i.hasNext();) {\n        var ring = i.next();\n        if (!this.isSimpleLinearGeometry(ring)) return false;\n      }\n\n      return true;\n    },\n    hasClosedEndpointIntersection: function hasClosedEndpointIntersection(graph) {\n      var endPoints = new TreeMap();\n\n      for (var i = graph.getEdgeIterator(); i.hasNext();) {\n        var e = i.next();\n        var maxSegmentIndex = e.getMaximumSegmentIndex();\n        var isClosed = e.isClosed();\n        var p0 = e.getCoordinate(0);\n        this.addEndpoint(endPoints, p0, isClosed);\n        var p1 = e.getCoordinate(e.getNumPoints() - 1);\n        this.addEndpoint(endPoints, p1, isClosed);\n      }\n\n      for (var i = endPoints.values().iterator(); i.hasNext();) {\n        var eiInfo = i.next();\n\n        if (eiInfo.isClosed && eiInfo.degree !== 2) {\n          this._nonSimpleLocation = eiInfo.getCoordinate();\n          return true;\n        }\n      }\n\n      return false;\n    },\n    getNonSimpleLocation: function getNonSimpleLocation() {\n      return this._nonSimpleLocation;\n    },\n    isSimpleLinearGeometry: function isSimpleLinearGeometry(geom) {\n      if (geom.isEmpty()) return true;\n      var graph = new GeometryGraph(0, geom);\n      var li = new RobustLineIntersector();\n      var si = graph.computeSelfNodes(li, true);\n      if (!si.hasIntersection()) return true;\n\n      if (si.hasProperIntersection()) {\n        this._nonSimpleLocation = si.getProperIntersectionPoint();\n        return false;\n      }\n\n      if (this.hasNonEndpointIntersection(graph)) return false;\n\n      if (this._isClosedEndpointsInInterior) {\n        if (this.hasClosedEndpointIntersection(graph)) return false;\n      }\n\n      return true;\n    },\n    hasNonEndpointIntersection: function hasNonEndpointIntersection(graph) {\n      for (var i = graph.getEdgeIterator(); i.hasNext();) {\n        var e = i.next();\n        var maxSegmentIndex = e.getMaximumSegmentIndex();\n\n        for (var eiIt = e.getEdgeIntersectionList().iterator(); eiIt.hasNext();) {\n          var ei = eiIt.next();\n\n          if (!ei.isEndPoint(maxSegmentIndex)) {\n            this._nonSimpleLocation = ei.getCoordinate();\n            return true;\n          }\n        }\n      }\n\n      return false;\n    },\n    addEndpoint: function addEndpoint(endPoints, p, isClosed) {\n      var eiInfo = endPoints.get(p);\n\n      if (eiInfo === null) {\n        eiInfo = new EndpointInfo(p);\n        endPoints.put(p, eiInfo);\n      }\n\n      eiInfo.addEndpoint(isClosed);\n    },\n    computeSimple: function computeSimple(geom) {\n      this._nonSimpleLocation = null;\n      if (geom.isEmpty()) return true;\n      if (geom instanceof LineString) return this.isSimpleLinearGeometry(geom);\n      if (geom instanceof MultiLineString) return this.isSimpleLinearGeometry(geom);\n      if (geom instanceof MultiPoint) return this.isSimpleMultiPoint(geom);\n      if (hasInterface(geom, Polygonal)) return this.isSimplePolygonal(geom);\n      if (geom instanceof GeometryCollection) return this.isSimpleGeometryCollection(geom);\n      return true;\n    },\n    isSimple: function isSimple() {\n      this._nonSimpleLocation = null;\n      return this.computeSimple(this._inputGeom);\n    },\n    isSimpleGeometryCollection: function isSimpleGeometryCollection(geom) {\n      for (var i = 0; i < geom.getNumGeometries(); i++) {\n        var comp = geom.getGeometryN(i);\n        if (!this.computeSimple(comp)) return false;\n      }\n\n      return true;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return IsSimpleOp;\n    }\n  });\n\n  IsSimpleOp.isSimple = function () {\n    if (arguments.length === 1) {\n      var geom = arguments[0];\n      var op = new IsSimpleOp(geom);\n      return op.isSimple();\n    } else if (arguments.length === 2) {\n      var _geom2 = arguments[0],\n          boundaryNodeRule = arguments[1];\n      var op = new IsSimpleOp(_geom2, boundaryNodeRule);\n      return op.isSimple();\n    }\n  };\n\n  function EndpointInfo() {\n    this.pt = null;\n    this.isClosed = null;\n    this.degree = null;\n    var pt = arguments[0];\n    this.pt = pt;\n    this.isClosed = false;\n    this.degree = 0;\n  }\n\n  extend(EndpointInfo.prototype, {\n    addEndpoint: function addEndpoint(isClosed) {\n      this.degree++;\n      this.isClosed |= isClosed;\n    },\n    getCoordinate: function getCoordinate() {\n      return this.pt;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return EndpointInfo;\n    }\n  });\n  IsSimpleOp.EndpointInfo = EndpointInfo;\n\n  function BufferParameters() {\n    this._quadrantSegments = BufferParameters.DEFAULT_QUADRANT_SEGMENTS;\n    this._endCapStyle = BufferParameters.CAP_ROUND;\n    this._joinStyle = BufferParameters.JOIN_ROUND;\n    this._mitreLimit = BufferParameters.DEFAULT_MITRE_LIMIT;\n    this._isSingleSided = false;\n    this._simplifyFactor = BufferParameters.DEFAULT_SIMPLIFY_FACTOR;\n\n    if (arguments.length === 0) ; else if (arguments.length === 1) {\n      var quadrantSegments = arguments[0];\n      this.setQuadrantSegments(quadrantSegments);\n    } else if (arguments.length === 2) {\n      var _quadrantSegments = arguments[0],\n          endCapStyle = arguments[1];\n      this.setQuadrantSegments(_quadrantSegments);\n      this.setEndCapStyle(endCapStyle);\n    } else if (arguments.length === 4) {\n      var _quadrantSegments2 = arguments[0],\n          _endCapStyle = arguments[1],\n          joinStyle = arguments[2],\n          mitreLimit = arguments[3];\n      this.setQuadrantSegments(_quadrantSegments2);\n      this.setEndCapStyle(_endCapStyle);\n      this.setJoinStyle(joinStyle);\n      this.setMitreLimit(mitreLimit);\n    }\n  }\n  extend(BufferParameters.prototype, {\n    getEndCapStyle: function getEndCapStyle() {\n      return this._endCapStyle;\n    },\n    isSingleSided: function isSingleSided() {\n      return this._isSingleSided;\n    },\n    setQuadrantSegments: function setQuadrantSegments(quadSegs) {\n      this._quadrantSegments = quadSegs;\n      if (this._quadrantSegments === 0) this._joinStyle = BufferParameters.JOIN_BEVEL;\n\n      if (this._quadrantSegments < 0) {\n        this._joinStyle = BufferParameters.JOIN_MITRE;\n        this._mitreLimit = Math.abs(this._quadrantSegments);\n      }\n\n      if (quadSegs <= 0) {\n        this._quadrantSegments = 1;\n      }\n\n      if (this._joinStyle !== BufferParameters.JOIN_ROUND) {\n        this._quadrantSegments = BufferParameters.DEFAULT_QUADRANT_SEGMENTS;\n      }\n    },\n    getJoinStyle: function getJoinStyle() {\n      return this._joinStyle;\n    },\n    setJoinStyle: function setJoinStyle(joinStyle) {\n      this._joinStyle = joinStyle;\n    },\n    setSimplifyFactor: function setSimplifyFactor(simplifyFactor) {\n      this._simplifyFactor = simplifyFactor < 0 ? 0 : simplifyFactor;\n    },\n    getSimplifyFactor: function getSimplifyFactor() {\n      return this._simplifyFactor;\n    },\n    getQuadrantSegments: function getQuadrantSegments() {\n      return this._quadrantSegments;\n    },\n    setEndCapStyle: function setEndCapStyle(endCapStyle) {\n      this._endCapStyle = endCapStyle;\n    },\n    getMitreLimit: function getMitreLimit() {\n      return this._mitreLimit;\n    },\n    setMitreLimit: function setMitreLimit(mitreLimit) {\n      this._mitreLimit = mitreLimit;\n    },\n    setSingleSided: function setSingleSided(isSingleSided) {\n      this._isSingleSided = isSingleSided;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return BufferParameters;\n    }\n  });\n\n  BufferParameters.bufferDistanceError = function (quadSegs) {\n    var alpha = Math.PI / 2.0 / quadSegs;\n    return 1 - Math.cos(alpha / 2.0);\n  };\n\n  BufferParameters.CAP_ROUND = 1;\n  BufferParameters.CAP_FLAT = 2;\n  BufferParameters.CAP_SQUARE = 3;\n  BufferParameters.JOIN_ROUND = 1;\n  BufferParameters.JOIN_MITRE = 2;\n  BufferParameters.JOIN_BEVEL = 3;\n  BufferParameters.DEFAULT_QUADRANT_SEGMENTS = 8;\n  BufferParameters.DEFAULT_MITRE_LIMIT = 5.0;\n  BufferParameters.DEFAULT_SIMPLIFY_FACTOR = 0.01;\n\n  function RightmostEdgeFinder() {\n    this._minIndex = -1;\n    this._minCoord = null;\n    this._minDe = null;\n    this._orientedDe = null;\n  }\n  extend(RightmostEdgeFinder.prototype, {\n    getCoordinate: function getCoordinate() {\n      return this._minCoord;\n    },\n    getRightmostSide: function getRightmostSide(de, index) {\n      var side = this.getRightmostSideOfSegment(de, index);\n      if (side < 0) side = this.getRightmostSideOfSegment(de, index - 1);\n\n      if (side < 0) {\n        this._minCoord = null;\n        this.checkForRightmostCoordinate(de);\n      }\n\n      return side;\n    },\n    findRightmostEdgeAtVertex: function findRightmostEdgeAtVertex() {\n      var pts = this._minDe.getEdge().getCoordinates();\n\n      Assert.isTrue(this._minIndex > 0 && this._minIndex < pts.length, \"rightmost point expected to be interior vertex of edge\");\n      var pPrev = pts[this._minIndex - 1];\n      var pNext = pts[this._minIndex + 1];\n      var orientation = Orientation.index(this._minCoord, pNext, pPrev);\n      var usePrev = false;\n\n      if (pPrev.y < this._minCoord.y && pNext.y < this._minCoord.y && orientation === Orientation.COUNTERCLOCKWISE) {\n        usePrev = true;\n      } else if (pPrev.y > this._minCoord.y && pNext.y > this._minCoord.y && orientation === Orientation.CLOCKWISE) {\n        usePrev = true;\n      }\n\n      if (usePrev) {\n        this._minIndex = this._minIndex - 1;\n      }\n    },\n    getRightmostSideOfSegment: function getRightmostSideOfSegment(de, i) {\n      var e = de.getEdge();\n      var coord = e.getCoordinates();\n      if (i < 0 || i + 1 >= coord.length) return -1;\n      if (coord[i].y === coord[i + 1].y) return -1;\n      var pos = Position.LEFT;\n      if (coord[i].y < coord[i + 1].y) pos = Position.RIGHT;\n      return pos;\n    },\n    getEdge: function getEdge() {\n      return this._orientedDe;\n    },\n    checkForRightmostCoordinate: function checkForRightmostCoordinate(de) {\n      var coord = de.getEdge().getCoordinates();\n\n      for (var i = 0; i < coord.length - 1; i++) {\n        if (this._minCoord === null || coord[i].x > this._minCoord.x) {\n          this._minDe = de;\n          this._minIndex = i;\n          this._minCoord = coord[i];\n        }\n      }\n    },\n    findRightmostEdgeAtNode: function findRightmostEdgeAtNode() {\n      var node = this._minDe.getNode();\n\n      var star = node.getEdges();\n      this._minDe = star.getRightmostEdge();\n\n      if (!this._minDe.isForward()) {\n        this._minDe = this._minDe.getSym();\n        this._minIndex = this._minDe.getEdge().getCoordinates().length - 1;\n      }\n    },\n    findEdge: function findEdge(dirEdgeList) {\n      for (var i = dirEdgeList.iterator(); i.hasNext();) {\n        var de = i.next();\n        if (!de.isForward()) continue;\n        this.checkForRightmostCoordinate(de);\n      }\n\n      Assert.isTrue(this._minIndex !== 0 || this._minCoord.equals(this._minDe.getCoordinate()), \"inconsistency in rightmost processing\");\n\n      if (this._minIndex === 0) {\n        this.findRightmostEdgeAtNode();\n      } else {\n        this.findRightmostEdgeAtVertex();\n      }\n\n      this._orientedDe = this._minDe;\n      var rightmostSide = this.getRightmostSide(this._minDe, this._minIndex);\n\n      if (rightmostSide === Position.LEFT) {\n        this._orientedDe = this._minDe.getSym();\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return RightmostEdgeFinder;\n    }\n  });\n\n  function LinkedList() {\n    this.array_ = [];\n  }\n\n  LinkedList.prototype.addLast = function (e) {\n    this.array_.push(e);\n  };\n\n  LinkedList.prototype.removeFirst = function () {\n    return this.array_.shift();\n  };\n\n  LinkedList.prototype.isEmpty = function () {\n    return this.array_.length === 0;\n  };\n\n  function BufferSubgraph() {\n    this._finder = null;\n    this._dirEdgeList = new ArrayList();\n    this._nodes = new ArrayList();\n    this._rightMostCoord = null;\n    this._env = null;\n    this._finder = new RightmostEdgeFinder();\n  }\n  extend(BufferSubgraph.prototype, {\n    clearVisitedEdges: function clearVisitedEdges() {\n      for (var it = this._dirEdgeList.iterator(); it.hasNext();) {\n        var de = it.next();\n        de.setVisited(false);\n      }\n    },\n    getRightmostCoordinate: function getRightmostCoordinate() {\n      return this._rightMostCoord;\n    },\n    computeNodeDepth: function computeNodeDepth(n) {\n      var startEdge = null;\n\n      for (var i = n.getEdges().iterator(); i.hasNext();) {\n        var de = i.next();\n\n        if (de.isVisited() || de.getSym().isVisited()) {\n          startEdge = de;\n          break;\n        }\n      }\n\n      if (startEdge === null) throw new TopologyException(\"unable to find edge to compute depths at \" + n.getCoordinate());\n      n.getEdges().computeDepths(startEdge);\n\n      for (var i = n.getEdges().iterator(); i.hasNext();) {\n        var de = i.next();\n        de.setVisited(true);\n        this.copySymDepths(de);\n      }\n    },\n    computeDepth: function computeDepth(outsideDepth) {\n      this.clearVisitedEdges();\n\n      var de = this._finder.getEdge();\n\n      var n = de.getNode();\n      var label = de.getLabel();\n      de.setEdgeDepths(Position.RIGHT, outsideDepth);\n      this.copySymDepths(de);\n      this.computeDepths(de);\n    },\n    create: function create(node) {\n      this.addReachable(node);\n\n      this._finder.findEdge(this._dirEdgeList);\n\n      this._rightMostCoord = this._finder.getCoordinate();\n    },\n    findResultEdges: function findResultEdges() {\n      for (var it = this._dirEdgeList.iterator(); it.hasNext();) {\n        var de = it.next();\n\n        if (de.getDepth(Position.RIGHT) >= 1 && de.getDepth(Position.LEFT) <= 0 && !de.isInteriorAreaEdge()) {\n          de.setInResult(true);\n        }\n      }\n    },\n    computeDepths: function computeDepths(startEdge) {\n      var nodesVisited = new HashSet();\n      var nodeQueue = new LinkedList();\n      var startNode = startEdge.getNode();\n      nodeQueue.addLast(startNode);\n      nodesVisited.add(startNode);\n      startEdge.setVisited(true);\n\n      while (!nodeQueue.isEmpty()) {\n        var n = nodeQueue.removeFirst();\n        nodesVisited.add(n);\n        this.computeNodeDepth(n);\n\n        for (var i = n.getEdges().iterator(); i.hasNext();) {\n          var de = i.next();\n          var sym = de.getSym();\n          if (sym.isVisited()) continue;\n          var adjNode = sym.getNode();\n\n          if (!nodesVisited.contains(adjNode)) {\n            nodeQueue.addLast(adjNode);\n            nodesVisited.add(adjNode);\n          }\n        }\n      }\n    },\n    compareTo: function compareTo(o) {\n      var graph = o;\n\n      if (this._rightMostCoord.x < graph._rightMostCoord.x) {\n        return -1;\n      }\n\n      if (this._rightMostCoord.x > graph._rightMostCoord.x) {\n        return 1;\n      }\n\n      return 0;\n    },\n    getEnvelope: function getEnvelope() {\n      if (this._env === null) {\n        var edgeEnv = new Envelope();\n\n        for (var it = this._dirEdgeList.iterator(); it.hasNext();) {\n          var dirEdge = it.next();\n          var pts = dirEdge.getEdge().getCoordinates();\n\n          for (var i = 0; i < pts.length - 1; i++) {\n            edgeEnv.expandToInclude(pts[i]);\n          }\n        }\n\n        this._env = edgeEnv;\n      }\n\n      return this._env;\n    },\n    addReachable: function addReachable(startNode) {\n      var nodeStack = new Stack();\n      nodeStack.add(startNode);\n\n      while (!nodeStack.empty()) {\n        var node = nodeStack.pop();\n        this.add(node, nodeStack);\n      }\n    },\n    copySymDepths: function copySymDepths(de) {\n      var sym = de.getSym();\n      sym.setDepth(Position.LEFT, de.getDepth(Position.RIGHT));\n      sym.setDepth(Position.RIGHT, de.getDepth(Position.LEFT));\n    },\n    add: function add(node, nodeStack) {\n      node.setVisited(true);\n\n      this._nodes.add(node);\n\n      for (var i = node.getEdges().iterator(); i.hasNext();) {\n        var de = i.next();\n\n        this._dirEdgeList.add(de);\n\n        var sym = de.getSym();\n        var symNode = sym.getNode();\n        if (!symNode.isVisited()) nodeStack.push(symNode);\n      }\n    },\n    getNodes: function getNodes() {\n      return this._nodes;\n    },\n    getDirectedEdges: function getDirectedEdges() {\n      return this._dirEdgeList;\n    },\n    interfaces_: function interfaces_() {\n      return [Comparable];\n    },\n    getClass: function getClass() {\n      return BufferSubgraph;\n    }\n  });\n\n  function EdgeRing() {\n    this._startDe = null;\n    this._maxNodeDegree = -1;\n    this._edges = new ArrayList();\n    this._pts = new ArrayList();\n    this._label = new Label(Location.NONE);\n    this._ring = null;\n    this._isHole = null;\n    this._shell = null;\n    this._holes = new ArrayList();\n    this._geometryFactory = null;\n    var start = arguments[0],\n        geometryFactory = arguments[1];\n    this._geometryFactory = geometryFactory;\n    this.computePoints(start);\n    this.computeRing();\n  }\n  extend(EdgeRing.prototype, {\n    computeRing: function computeRing() {\n      if (this._ring !== null) return null;\n      var coord = new Array(this._pts.size()).fill(null);\n\n      for (var i = 0; i < this._pts.size(); i++) {\n        coord[i] = this._pts.get(i);\n      }\n\n      this._ring = this._geometryFactory.createLinearRing(coord);\n      this._isHole = Orientation.isCCW(this._ring.getCoordinates());\n    },\n    isIsolated: function isIsolated() {\n      return this._label.getGeometryCount() === 1;\n    },\n    computePoints: function computePoints(start) {\n      this._startDe = start;\n      var de = start;\n      var isFirstEdge = true;\n\n      do {\n        if (de === null) throw new TopologyException(\"Found null DirectedEdge\");\n        if (de.getEdgeRing() === this) throw new TopologyException(\"Directed Edge visited twice during ring-building at \" + de.getCoordinate());\n\n        this._edges.add(de);\n\n        var label = de.getLabel();\n        Assert.isTrue(label.isArea());\n        this.mergeLabel(label);\n        this.addPoints(de.getEdge(), de.isForward(), isFirstEdge);\n        isFirstEdge = false;\n        this.setEdgeRing(de, this);\n        de = this.getNext(de);\n      } while (de !== this._startDe);\n    },\n    getLinearRing: function getLinearRing() {\n      return this._ring;\n    },\n    getCoordinate: function getCoordinate(i) {\n      return this._pts.get(i);\n    },\n    computeMaxNodeDegree: function computeMaxNodeDegree() {\n      this._maxNodeDegree = 0;\n      var de = this._startDe;\n\n      do {\n        var node = de.getNode();\n        var degree = node.getEdges().getOutgoingDegree(this);\n        if (degree > this._maxNodeDegree) this._maxNodeDegree = degree;\n        de = this.getNext(de);\n      } while (de !== this._startDe);\n\n      this._maxNodeDegree *= 2;\n    },\n    addPoints: function addPoints(edge, isForward, isFirstEdge) {\n      var edgePts = edge.getCoordinates();\n\n      if (isForward) {\n        var startIndex = 1;\n        if (isFirstEdge) startIndex = 0;\n\n        for (var i = startIndex; i < edgePts.length; i++) {\n          this._pts.add(edgePts[i]);\n        }\n      } else {\n        var startIndex = edgePts.length - 2;\n        if (isFirstEdge) startIndex = edgePts.length - 1;\n\n        for (var i = startIndex; i >= 0; i--) {\n          this._pts.add(edgePts[i]);\n        }\n      }\n    },\n    isHole: function isHole() {\n      return this._isHole;\n    },\n    setInResult: function setInResult() {\n      var de = this._startDe;\n\n      do {\n        de.getEdge().setInResult(true);\n        de = de.getNext();\n      } while (de !== this._startDe);\n    },\n    containsPoint: function containsPoint(p) {\n      var shell = this.getLinearRing();\n      var env = shell.getEnvelopeInternal();\n      if (!env.contains(p)) return false;\n      if (!PointLocation.isInRing(p, shell.getCoordinates())) return false;\n\n      for (var i = this._holes.iterator(); i.hasNext();) {\n        var hole = i.next();\n        if (hole.containsPoint(p)) return false;\n      }\n\n      return true;\n    },\n    addHole: function addHole(ring) {\n      this._holes.add(ring);\n    },\n    isShell: function isShell() {\n      return this._shell === null;\n    },\n    getLabel: function getLabel() {\n      return this._label;\n    },\n    getEdges: function getEdges() {\n      return this._edges;\n    },\n    getMaxNodeDegree: function getMaxNodeDegree() {\n      if (this._maxNodeDegree < 0) this.computeMaxNodeDegree();\n      return this._maxNodeDegree;\n    },\n    getShell: function getShell() {\n      return this._shell;\n    },\n    mergeLabel: function mergeLabel() {\n      if (arguments.length === 1) {\n        var deLabel = arguments[0];\n        this.mergeLabel(deLabel, 0);\n        this.mergeLabel(deLabel, 1);\n      } else if (arguments.length === 2) {\n        var _deLabel = arguments[0],\n            geomIndex = arguments[1];\n\n        var loc = _deLabel.getLocation(geomIndex, Position.RIGHT);\n\n        if (loc === Location.NONE) return null;\n\n        if (this._label.getLocation(geomIndex) === Location.NONE) {\n          this._label.setLocation(geomIndex, loc);\n\n          return null;\n        }\n      }\n    },\n    setShell: function setShell(shell) {\n      this._shell = shell;\n      if (shell !== null) shell.addHole(this);\n    },\n    toPolygon: function toPolygon(geometryFactory) {\n      var holeLR = new Array(this._holes.size()).fill(null);\n\n      for (var i = 0; i < this._holes.size(); i++) {\n        holeLR[i] = this._holes.get(i).getLinearRing();\n      }\n\n      var poly = geometryFactory.createPolygon(this.getLinearRing(), holeLR);\n      return poly;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return EdgeRing;\n    }\n  });\n\n  function MinimalEdgeRing() {\n    var start = arguments[0],\n        geometryFactory = arguments[1];\n    EdgeRing.call(this, start, geometryFactory);\n  }\n  inherits(MinimalEdgeRing, EdgeRing);\n  extend(MinimalEdgeRing.prototype, {\n    setEdgeRing: function setEdgeRing(de, er) {\n      de.setMinEdgeRing(er);\n    },\n    getNext: function getNext(de) {\n      return de.getNextMin();\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return MinimalEdgeRing;\n    }\n  });\n\n  function MaximalEdgeRing() {\n    var start = arguments[0],\n        geometryFactory = arguments[1];\n    EdgeRing.call(this, start, geometryFactory);\n  }\n  inherits(MaximalEdgeRing, EdgeRing);\n  extend(MaximalEdgeRing.prototype, {\n    buildMinimalRings: function buildMinimalRings() {\n      var minEdgeRings = new ArrayList();\n      var de = this._startDe;\n\n      do {\n        if (de.getMinEdgeRing() === null) {\n          var minEr = new MinimalEdgeRing(de, this._geometryFactory);\n          minEdgeRings.add(minEr);\n        }\n\n        de = de.getNext();\n      } while (de !== this._startDe);\n\n      return minEdgeRings;\n    },\n    setEdgeRing: function setEdgeRing(de, er) {\n      de.setEdgeRing(er);\n    },\n    linkDirectedEdgesForMinimalEdgeRings: function linkDirectedEdgesForMinimalEdgeRings() {\n      var de = this._startDe;\n\n      do {\n        var node = de.getNode();\n        node.getEdges().linkMinimalDirectedEdges(this);\n        de = de.getNext();\n      } while (de !== this._startDe);\n    },\n    getNext: function getNext(de) {\n      return de.getNext();\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return MaximalEdgeRing;\n    }\n  });\n\n  function PolygonBuilder() {\n    this._geometryFactory = null;\n    this._shellList = new ArrayList();\n    var geometryFactory = arguments[0];\n    this._geometryFactory = geometryFactory;\n  }\n  extend(PolygonBuilder.prototype, {\n    sortShellsAndHoles: function sortShellsAndHoles(edgeRings, shellList, freeHoleList) {\n      for (var it = edgeRings.iterator(); it.hasNext();) {\n        var er = it.next();\n\n        if (er.isHole()) {\n          freeHoleList.add(er);\n        } else {\n          shellList.add(er);\n        }\n      }\n    },\n    computePolygons: function computePolygons(shellList) {\n      var resultPolyList = new ArrayList();\n\n      for (var it = shellList.iterator(); it.hasNext();) {\n        var er = it.next();\n        var poly = er.toPolygon(this._geometryFactory);\n        resultPolyList.add(poly);\n      }\n\n      return resultPolyList;\n    },\n    placeFreeHoles: function placeFreeHoles(shellList, freeHoleList) {\n      for (var it = freeHoleList.iterator(); it.hasNext();) {\n        var hole = it.next();\n\n        if (hole.getShell() === null) {\n          var shell = this.findEdgeRingContaining(hole, shellList);\n          if (shell === null) throw new TopologyException(\"unable to assign hole to a shell\", hole.getCoordinate(0));\n          hole.setShell(shell);\n        }\n      }\n    },\n    buildMinimalEdgeRings: function buildMinimalEdgeRings(maxEdgeRings, shellList, freeHoleList) {\n      var edgeRings = new ArrayList();\n\n      for (var it = maxEdgeRings.iterator(); it.hasNext();) {\n        var er = it.next();\n\n        if (er.getMaxNodeDegree() > 2) {\n          er.linkDirectedEdgesForMinimalEdgeRings();\n          var minEdgeRings = er.buildMinimalRings();\n          var shell = this.findShell(minEdgeRings);\n\n          if (shell !== null) {\n            this.placePolygonHoles(shell, minEdgeRings);\n            shellList.add(shell);\n          } else {\n            freeHoleList.addAll(minEdgeRings);\n          }\n        } else {\n          edgeRings.add(er);\n        }\n      }\n\n      return edgeRings;\n    },\n    containsPoint: function containsPoint(p) {\n      for (var it = this._shellList.iterator(); it.hasNext();) {\n        var er = it.next();\n        if (er.containsPoint(p)) return true;\n      }\n\n      return false;\n    },\n    buildMaximalEdgeRings: function buildMaximalEdgeRings(dirEdges) {\n      var maxEdgeRings = new ArrayList();\n\n      for (var it = dirEdges.iterator(); it.hasNext();) {\n        var de = it.next();\n\n        if (de.isInResult() && de.getLabel().isArea()) {\n          if (de.getEdgeRing() === null) {\n            var er = new MaximalEdgeRing(de, this._geometryFactory);\n            maxEdgeRings.add(er);\n            er.setInResult();\n          }\n        }\n      }\n\n      return maxEdgeRings;\n    },\n    placePolygonHoles: function placePolygonHoles(shell, minEdgeRings) {\n      for (var it = minEdgeRings.iterator(); it.hasNext();) {\n        var er = it.next();\n\n        if (er.isHole()) {\n          er.setShell(shell);\n        }\n      }\n    },\n    getPolygons: function getPolygons() {\n      var resultPolyList = this.computePolygons(this._shellList);\n      return resultPolyList;\n    },\n    findEdgeRingContaining: function findEdgeRingContaining(testEr, shellList) {\n      var testRing = testEr.getLinearRing();\n      var testEnv = testRing.getEnvelopeInternal();\n      var testPt = testRing.getCoordinateN(0);\n      var minShell = null;\n      var minEnv = null;\n\n      for (var it = shellList.iterator(); it.hasNext();) {\n        var tryShell = it.next();\n        var tryRing = tryShell.getLinearRing();\n        var tryEnv = tryRing.getEnvelopeInternal();\n        if (minShell !== null) minEnv = minShell.getLinearRing().getEnvelopeInternal();\n        var isContained = false;\n        if (tryEnv.contains(testEnv) && PointLocation.isInRing(testPt, tryRing.getCoordinates())) isContained = true;\n\n        if (isContained) {\n          if (minShell === null || minEnv.contains(tryEnv)) {\n            minShell = tryShell;\n          }\n        }\n      }\n\n      return minShell;\n    },\n    findShell: function findShell(minEdgeRings) {\n      var shellCount = 0;\n      var shell = null;\n\n      for (var it = minEdgeRings.iterator(); it.hasNext();) {\n        var er = it.next();\n\n        if (!er.isHole()) {\n          shell = er;\n          shellCount++;\n        }\n      }\n\n      Assert.isTrue(shellCount <= 1, \"found two shells in MinimalEdgeRing list\");\n      return shell;\n    },\n    add: function add() {\n      if (arguments.length === 1) {\n        var graph = arguments[0];\n        this.add(graph.getEdgeEnds(), graph.getNodes());\n      } else if (arguments.length === 2) {\n        var dirEdges = arguments[0],\n            nodes = arguments[1];\n        PlanarGraph.linkResultDirectedEdges(nodes);\n        var maxEdgeRings = this.buildMaximalEdgeRings(dirEdges);\n        var freeHoleList = new ArrayList();\n        var edgeRings = this.buildMinimalEdgeRings(maxEdgeRings, this._shellList, freeHoleList);\n        this.sortShellsAndHoles(edgeRings, this._shellList, freeHoleList);\n        this.placeFreeHoles(this._shellList, freeHoleList);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return PolygonBuilder;\n    }\n  });\n\n  function BufferInputLineSimplifier() {\n    this._inputLine = null;\n    this._distanceTol = null;\n    this._isDeleted = null;\n    this._angleOrientation = Orientation.COUNTERCLOCKWISE;\n    var inputLine = arguments[0];\n    this._inputLine = inputLine;\n  }\n  extend(BufferInputLineSimplifier.prototype, {\n    isDeletable: function isDeletable(i0, i1, i2, distanceTol) {\n      var p0 = this._inputLine[i0];\n      var p1 = this._inputLine[i1];\n      var p2 = this._inputLine[i2];\n      if (!this.isConcave(p0, p1, p2)) return false;\n      if (!this.isShallow(p0, p1, p2, distanceTol)) return false;\n      return this.isShallowSampled(p0, p1, i0, i2, distanceTol);\n    },\n    deleteShallowConcavities: function deleteShallowConcavities() {\n      var index = 1;\n      var maxIndex = this._inputLine.length - 1;\n      var midIndex = this.findNextNonDeletedIndex(index);\n      var lastIndex = this.findNextNonDeletedIndex(midIndex);\n      var isChanged = false;\n\n      while (lastIndex < this._inputLine.length) {\n        var isMiddleVertexDeleted = false;\n\n        if (this.isDeletable(index, midIndex, lastIndex, this._distanceTol)) {\n          this._isDeleted[midIndex] = BufferInputLineSimplifier.DELETE;\n          isMiddleVertexDeleted = true;\n          isChanged = true;\n        }\n\n        if (isMiddleVertexDeleted) index = lastIndex;else index = midIndex;\n        midIndex = this.findNextNonDeletedIndex(index);\n        lastIndex = this.findNextNonDeletedIndex(midIndex);\n      }\n\n      return isChanged;\n    },\n    isShallowConcavity: function isShallowConcavity(p0, p1, p2, distanceTol) {\n      var orientation = Orientation.index(p0, p1, p2);\n      var isAngleToSimplify = orientation === this._angleOrientation;\n      if (!isAngleToSimplify) return false;\n      var dist = Distance.pointToSegment(p1, p0, p2);\n      return dist < distanceTol;\n    },\n    isShallowSampled: function isShallowSampled(p0, p2, i0, i2, distanceTol) {\n      var inc = Math.trunc((i2 - i0) / BufferInputLineSimplifier.NUM_PTS_TO_CHECK);\n      if (inc <= 0) inc = 1;\n\n      for (var i = i0; i < i2; i += inc) {\n        if (!this.isShallow(p0, p2, this._inputLine[i], distanceTol)) return false;\n      }\n\n      return true;\n    },\n    isConcave: function isConcave(p0, p1, p2) {\n      var orientation = Orientation.index(p0, p1, p2);\n      var isConcave = orientation === this._angleOrientation;\n      return isConcave;\n    },\n    simplify: function simplify(distanceTol) {\n      this._distanceTol = Math.abs(distanceTol);\n      if (distanceTol < 0) this._angleOrientation = Orientation.CLOCKWISE;\n      this._isDeleted = new Array(this._inputLine.length).fill(null);\n      var isChanged = false;\n\n      do {\n        isChanged = this.deleteShallowConcavities();\n      } while (isChanged);\n\n      return this.collapseLine();\n    },\n    findNextNonDeletedIndex: function findNextNonDeletedIndex(index) {\n      var next = index + 1;\n\n      while (next < this._inputLine.length && this._isDeleted[next] === BufferInputLineSimplifier.DELETE) {\n        next++;\n      }\n\n      return next;\n    },\n    isShallow: function isShallow(p0, p1, p2, distanceTol) {\n      var dist = Distance.pointToSegment(p1, p0, p2);\n      return dist < distanceTol;\n    },\n    collapseLine: function collapseLine() {\n      var coordList = new CoordinateList();\n\n      for (var i = 0; i < this._inputLine.length; i++) {\n        if (this._isDeleted[i] !== BufferInputLineSimplifier.DELETE) coordList.add(this._inputLine[i]);\n      }\n\n      return coordList.toCoordinateArray();\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return BufferInputLineSimplifier;\n    }\n  });\n\n  BufferInputLineSimplifier.simplify = function (inputLine, distanceTol) {\n    var simp = new BufferInputLineSimplifier(inputLine);\n    return simp.simplify(distanceTol);\n  };\n\n  BufferInputLineSimplifier.INIT = 0;\n  BufferInputLineSimplifier.DELETE = 1;\n  BufferInputLineSimplifier.KEEP = 1;\n  BufferInputLineSimplifier.NUM_PTS_TO_CHECK = 10;\n\n  function OffsetSegmentString() {\n    this._ptList = null;\n    this._precisionModel = null;\n    this._minimimVertexDistance = 0.0;\n    this._ptList = new ArrayList();\n  }\n  extend(OffsetSegmentString.prototype, {\n    getCoordinates: function getCoordinates() {\n      var coord = this._ptList.toArray(OffsetSegmentString.COORDINATE_ARRAY_TYPE);\n\n      return coord;\n    },\n    setPrecisionModel: function setPrecisionModel(precisionModel) {\n      this._precisionModel = precisionModel;\n    },\n    addPt: function addPt(pt) {\n      var bufPt = new Coordinate(pt);\n\n      this._precisionModel.makePrecise(bufPt);\n\n      if (this.isRedundant(bufPt)) return null;\n\n      this._ptList.add(bufPt);\n    },\n    reverse: function reverse() {},\n    addPts: function addPts(pt, isForward) {\n      if (isForward) {\n        for (var i = 0; i < pt.length; i++) {\n          this.addPt(pt[i]);\n        }\n      } else {\n        for (var i = pt.length - 1; i >= 0; i--) {\n          this.addPt(pt[i]);\n        }\n      }\n    },\n    isRedundant: function isRedundant(pt) {\n      if (this._ptList.size() < 1) return false;\n\n      var lastPt = this._ptList.get(this._ptList.size() - 1);\n\n      var ptDist = pt.distance(lastPt);\n      if (ptDist < this._minimimVertexDistance) return true;\n      return false;\n    },\n    toString: function toString() {\n      var fact = new GeometryFactory();\n      var line = fact.createLineString(this.getCoordinates());\n      return line.toString();\n    },\n    closeRing: function closeRing() {\n      if (this._ptList.size() < 1) return null;\n      var startPt = new Coordinate(this._ptList.get(0));\n\n      var lastPt = this._ptList.get(this._ptList.size() - 1);\n\n      var last2Pt = null;\n      if (this._ptList.size() >= 2) last2Pt = this._ptList.get(this._ptList.size() - 2);\n      if (startPt.equals(lastPt)) return null;\n\n      this._ptList.add(startPt);\n    },\n    setMinimumVertexDistance: function setMinimumVertexDistance(minimimVertexDistance) {\n      this._minimimVertexDistance = minimimVertexDistance;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return OffsetSegmentString;\n    }\n  });\n  OffsetSegmentString.COORDINATE_ARRAY_TYPE = new Array(0).fill(null);\n\n  function OffsetSegmentGenerator() {\n    this._maxCurveSegmentError = 0.0;\n    this._filletAngleQuantum = null;\n    this._closingSegLengthFactor = 1;\n    this._segList = null;\n    this._distance = 0.0;\n    this._precisionModel = null;\n    this._bufParams = null;\n    this._li = null;\n    this._s0 = null;\n    this._s1 = null;\n    this._s2 = null;\n    this._seg0 = new LineSegment();\n    this._seg1 = new LineSegment();\n    this._offset0 = new LineSegment();\n    this._offset1 = new LineSegment();\n    this._side = 0;\n    this._hasNarrowConcaveAngle = false;\n    var precisionModel = arguments[0],\n        bufParams = arguments[1],\n        distance = arguments[2];\n    this._precisionModel = precisionModel;\n    this._bufParams = bufParams;\n    this._li = new RobustLineIntersector();\n    this._filletAngleQuantum = Math.PI / 2.0 / bufParams.getQuadrantSegments();\n    if (bufParams.getQuadrantSegments() >= 8 && bufParams.getJoinStyle() === BufferParameters.JOIN_ROUND) this._closingSegLengthFactor = OffsetSegmentGenerator.MAX_CLOSING_SEG_LEN_FACTOR;\n    this.init(distance);\n  }\n  extend(OffsetSegmentGenerator.prototype, {\n    addNextSegment: function addNextSegment(p, addStartPoint) {\n      this._s0 = this._s1;\n      this._s1 = this._s2;\n      this._s2 = p;\n\n      this._seg0.setCoordinates(this._s0, this._s1);\n\n      this.computeOffsetSegment(this._seg0, this._side, this._distance, this._offset0);\n\n      this._seg1.setCoordinates(this._s1, this._s2);\n\n      this.computeOffsetSegment(this._seg1, this._side, this._distance, this._offset1);\n      if (this._s1.equals(this._s2)) return null;\n      var orientation = Orientation.index(this._s0, this._s1, this._s2);\n      var outsideTurn = orientation === Orientation.CLOCKWISE && this._side === Position.LEFT || orientation === Orientation.COUNTERCLOCKWISE && this._side === Position.RIGHT;\n\n      if (orientation === 0) {\n        this.addCollinear(addStartPoint);\n      } else if (outsideTurn) {\n        this.addOutsideTurn(orientation, addStartPoint);\n      } else {\n        this.addInsideTurn(orientation, addStartPoint);\n      }\n    },\n    addLineEndCap: function addLineEndCap(p0, p1) {\n      var seg = new LineSegment(p0, p1);\n      var offsetL = new LineSegment();\n      this.computeOffsetSegment(seg, Position.LEFT, this._distance, offsetL);\n      var offsetR = new LineSegment();\n      this.computeOffsetSegment(seg, Position.RIGHT, this._distance, offsetR);\n      var dx = p1.x - p0.x;\n      var dy = p1.y - p0.y;\n      var angle = Math.atan2(dy, dx);\n\n      switch (this._bufParams.getEndCapStyle()) {\n        case BufferParameters.CAP_ROUND:\n          this._segList.addPt(offsetL.p1);\n\n          this.addDirectedFillet(p1, angle + Math.PI / 2, angle - Math.PI / 2, Orientation.CLOCKWISE, this._distance);\n\n          this._segList.addPt(offsetR.p1);\n\n          break;\n\n        case BufferParameters.CAP_FLAT:\n          this._segList.addPt(offsetL.p1);\n\n          this._segList.addPt(offsetR.p1);\n\n          break;\n\n        case BufferParameters.CAP_SQUARE:\n          var squareCapSideOffset = new Coordinate();\n          squareCapSideOffset.x = Math.abs(this._distance) * Math.cos(angle);\n          squareCapSideOffset.y = Math.abs(this._distance) * Math.sin(angle);\n          var squareCapLOffset = new Coordinate(offsetL.p1.x + squareCapSideOffset.x, offsetL.p1.y + squareCapSideOffset.y);\n          var squareCapROffset = new Coordinate(offsetR.p1.x + squareCapSideOffset.x, offsetR.p1.y + squareCapSideOffset.y);\n\n          this._segList.addPt(squareCapLOffset);\n\n          this._segList.addPt(squareCapROffset);\n\n          break;\n      }\n    },\n    getCoordinates: function getCoordinates() {\n      var pts = this._segList.getCoordinates();\n\n      return pts;\n    },\n    addMitreJoin: function addMitreJoin(p, offset0, offset1, distance) {\n      var isMitreWithinLimit = true;\n      var intPt = null;\n\n      try {\n        intPt = HCoordinate.intersection(offset0.p0, offset0.p1, offset1.p0, offset1.p1);\n        var mitreRatio = distance <= 0.0 ? 1.0 : intPt.distance(p) / Math.abs(distance);\n        if (mitreRatio > this._bufParams.getMitreLimit()) isMitreWithinLimit = false;\n      } catch (ex) {\n        if (ex instanceof NotRepresentableException) {\n          intPt = new Coordinate(0, 0);\n          isMitreWithinLimit = false;\n        } else throw ex;\n      } finally {}\n\n      if (isMitreWithinLimit) {\n        this._segList.addPt(intPt);\n      } else {\n        this.addLimitedMitreJoin(offset0, offset1, distance, this._bufParams.getMitreLimit());\n      }\n    },\n    addOutsideTurn: function addOutsideTurn(orientation, addStartPoint) {\n      if (this._offset0.p1.distance(this._offset1.p0) < this._distance * OffsetSegmentGenerator.OFFSET_SEGMENT_SEPARATION_FACTOR) {\n        this._segList.addPt(this._offset0.p1);\n\n        return null;\n      }\n\n      if (this._bufParams.getJoinStyle() === BufferParameters.JOIN_MITRE) {\n        this.addMitreJoin(this._s1, this._offset0, this._offset1, this._distance);\n      } else if (this._bufParams.getJoinStyle() === BufferParameters.JOIN_BEVEL) {\n        this.addBevelJoin(this._offset0, this._offset1);\n      } else {\n        if (addStartPoint) this._segList.addPt(this._offset0.p1);\n        this.addCornerFillet(this._s1, this._offset0.p1, this._offset1.p0, orientation, this._distance);\n\n        this._segList.addPt(this._offset1.p0);\n      }\n    },\n    createSquare: function createSquare(p) {\n      this._segList.addPt(new Coordinate(p.x + this._distance, p.y + this._distance));\n\n      this._segList.addPt(new Coordinate(p.x + this._distance, p.y - this._distance));\n\n      this._segList.addPt(new Coordinate(p.x - this._distance, p.y - this._distance));\n\n      this._segList.addPt(new Coordinate(p.x - this._distance, p.y + this._distance));\n\n      this._segList.closeRing();\n    },\n    addSegments: function addSegments(pt, isForward) {\n      this._segList.addPts(pt, isForward);\n    },\n    addFirstSegment: function addFirstSegment() {\n      this._segList.addPt(this._offset1.p0);\n    },\n    addCornerFillet: function addCornerFillet(p, p0, p1, direction, radius) {\n      var dx0 = p0.x - p.x;\n      var dy0 = p0.y - p.y;\n      var startAngle = Math.atan2(dy0, dx0);\n      var dx1 = p1.x - p.x;\n      var dy1 = p1.y - p.y;\n      var endAngle = Math.atan2(dy1, dx1);\n\n      if (direction === Orientation.CLOCKWISE) {\n        if (startAngle <= endAngle) startAngle += 2.0 * Math.PI;\n      } else {\n        if (startAngle >= endAngle) startAngle -= 2.0 * Math.PI;\n      }\n\n      this._segList.addPt(p0);\n\n      this.addDirectedFillet(p, startAngle, endAngle, direction, radius);\n\n      this._segList.addPt(p1);\n    },\n    addLastSegment: function addLastSegment() {\n      this._segList.addPt(this._offset1.p1);\n    },\n    initSideSegments: function initSideSegments(s1, s2, side) {\n      this._s1 = s1;\n      this._s2 = s2;\n      this._side = side;\n\n      this._seg1.setCoordinates(s1, s2);\n\n      this.computeOffsetSegment(this._seg1, side, this._distance, this._offset1);\n    },\n    addLimitedMitreJoin: function addLimitedMitreJoin(offset0, offset1, distance, mitreLimit) {\n      var basePt = this._seg0.p1;\n      var ang0 = Angle.angle(basePt, this._seg0.p0);\n      var ang1 = Angle.angle(basePt, this._seg1.p1);\n      var angDiff = Angle.angleBetweenOriented(this._seg0.p0, basePt, this._seg1.p1);\n      var angDiffHalf = angDiff / 2;\n      var midAng = Angle.normalize(ang0 + angDiffHalf);\n      var mitreMidAng = Angle.normalize(midAng + Math.PI);\n      var mitreDist = mitreLimit * distance;\n      var bevelDelta = mitreDist * Math.abs(Math.sin(angDiffHalf));\n      var bevelHalfLen = distance - bevelDelta;\n      var bevelMidX = basePt.x + mitreDist * Math.cos(mitreMidAng);\n      var bevelMidY = basePt.y + mitreDist * Math.sin(mitreMidAng);\n      var bevelMidPt = new Coordinate(bevelMidX, bevelMidY);\n      var mitreMidLine = new LineSegment(basePt, bevelMidPt);\n      var bevelEndLeft = mitreMidLine.pointAlongOffset(1.0, bevelHalfLen);\n      var bevelEndRight = mitreMidLine.pointAlongOffset(1.0, -bevelHalfLen);\n\n      if (this._side === Position.LEFT) {\n        this._segList.addPt(bevelEndLeft);\n\n        this._segList.addPt(bevelEndRight);\n      } else {\n        this._segList.addPt(bevelEndRight);\n\n        this._segList.addPt(bevelEndLeft);\n      }\n    },\n    addDirectedFillet: function addDirectedFillet(p, startAngle, endAngle, direction, radius) {\n      var directionFactor = direction === Orientation.CLOCKWISE ? -1 : 1;\n      var totalAngle = Math.abs(startAngle - endAngle);\n      var nSegs = Math.trunc(totalAngle / this._filletAngleQuantum + 0.5);\n      if (nSegs < 1) return null;\n      var initAngle = null,\n          currAngleInc = null;\n      initAngle = 0.0;\n      currAngleInc = totalAngle / nSegs;\n      var currAngle = initAngle;\n      var pt = new Coordinate();\n\n      while (currAngle < totalAngle) {\n        var angle = startAngle + directionFactor * currAngle;\n        pt.x = p.x + radius * Math.cos(angle);\n        pt.y = p.y + radius * Math.sin(angle);\n\n        this._segList.addPt(pt);\n\n        currAngle += currAngleInc;\n      }\n    },\n    computeOffsetSegment: function computeOffsetSegment(seg, side, distance, offset) {\n      var sideSign = side === Position.LEFT ? 1 : -1;\n      var dx = seg.p1.x - seg.p0.x;\n      var dy = seg.p1.y - seg.p0.y;\n      var len = Math.sqrt(dx * dx + dy * dy);\n      var ux = sideSign * distance * dx / len;\n      var uy = sideSign * distance * dy / len;\n      offset.p0.x = seg.p0.x - uy;\n      offset.p0.y = seg.p0.y + ux;\n      offset.p1.x = seg.p1.x - uy;\n      offset.p1.y = seg.p1.y + ux;\n    },\n    addInsideTurn: function addInsideTurn(orientation, addStartPoint) {\n      this._li.computeIntersection(this._offset0.p0, this._offset0.p1, this._offset1.p0, this._offset1.p1);\n\n      if (this._li.hasIntersection()) {\n        this._segList.addPt(this._li.getIntersection(0));\n      } else {\n        this._hasNarrowConcaveAngle = true;\n\n        if (this._offset0.p1.distance(this._offset1.p0) < this._distance * OffsetSegmentGenerator.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR) {\n          this._segList.addPt(this._offset0.p1);\n        } else {\n          this._segList.addPt(this._offset0.p1);\n\n          if (this._closingSegLengthFactor > 0) {\n            var mid0 = new Coordinate((this._closingSegLengthFactor * this._offset0.p1.x + this._s1.x) / (this._closingSegLengthFactor + 1), (this._closingSegLengthFactor * this._offset0.p1.y + this._s1.y) / (this._closingSegLengthFactor + 1));\n\n            this._segList.addPt(mid0);\n\n            var mid1 = new Coordinate((this._closingSegLengthFactor * this._offset1.p0.x + this._s1.x) / (this._closingSegLengthFactor + 1), (this._closingSegLengthFactor * this._offset1.p0.y + this._s1.y) / (this._closingSegLengthFactor + 1));\n\n            this._segList.addPt(mid1);\n          } else {\n            this._segList.addPt(this._s1);\n          }\n\n          this._segList.addPt(this._offset1.p0);\n        }\n      }\n    },\n    createCircle: function createCircle(p) {\n      var pt = new Coordinate(p.x + this._distance, p.y);\n\n      this._segList.addPt(pt);\n\n      this.addDirectedFillet(p, 0.0, 2.0 * Math.PI, -1, this._distance);\n\n      this._segList.closeRing();\n    },\n    addBevelJoin: function addBevelJoin(offset0, offset1) {\n      this._segList.addPt(offset0.p1);\n\n      this._segList.addPt(offset1.p0);\n    },\n    init: function init(distance) {\n      this._distance = distance;\n      this._maxCurveSegmentError = distance * (1 - Math.cos(this._filletAngleQuantum / 2.0));\n      this._segList = new OffsetSegmentString();\n\n      this._segList.setPrecisionModel(this._precisionModel);\n\n      this._segList.setMinimumVertexDistance(distance * OffsetSegmentGenerator.CURVE_VERTEX_SNAP_DISTANCE_FACTOR);\n    },\n    addCollinear: function addCollinear(addStartPoint) {\n      this._li.computeIntersection(this._s0, this._s1, this._s1, this._s2);\n\n      var numInt = this._li.getIntersectionNum();\n\n      if (numInt >= 2) {\n        if (this._bufParams.getJoinStyle() === BufferParameters.JOIN_BEVEL || this._bufParams.getJoinStyle() === BufferParameters.JOIN_MITRE) {\n          if (addStartPoint) this._segList.addPt(this._offset0.p1);\n\n          this._segList.addPt(this._offset1.p0);\n        } else {\n          this.addCornerFillet(this._s1, this._offset0.p1, this._offset1.p0, Orientation.CLOCKWISE, this._distance);\n        }\n      }\n    },\n    closeRing: function closeRing() {\n      this._segList.closeRing();\n    },\n    hasNarrowConcaveAngle: function hasNarrowConcaveAngle() {\n      return this._hasNarrowConcaveAngle;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return OffsetSegmentGenerator;\n    }\n  });\n  OffsetSegmentGenerator.OFFSET_SEGMENT_SEPARATION_FACTOR = 1.0E-3;\n  OffsetSegmentGenerator.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR = 1.0E-3;\n  OffsetSegmentGenerator.CURVE_VERTEX_SNAP_DISTANCE_FACTOR = 1.0E-6;\n  OffsetSegmentGenerator.MAX_CLOSING_SEG_LEN_FACTOR = 80;\n\n  function OffsetCurveBuilder() {\n    this._distance = 0.0;\n    this._precisionModel = null;\n    this._bufParams = null;\n    var precisionModel = arguments[0],\n        bufParams = arguments[1];\n    this._precisionModel = precisionModel;\n    this._bufParams = bufParams;\n  }\n  extend(OffsetCurveBuilder.prototype, {\n    getOffsetCurve: function getOffsetCurve(inputPts, distance) {\n      this._distance = distance;\n      if (distance === 0.0) return null;\n      var isRightSide = distance < 0.0;\n      var posDistance = Math.abs(distance);\n      var segGen = this.getSegGen(posDistance);\n\n      if (inputPts.length <= 1) {\n        this.computePointCurve(inputPts[0], segGen);\n      } else {\n        this.computeOffsetCurve(inputPts, isRightSide, segGen);\n      }\n\n      var curvePts = segGen.getCoordinates();\n      if (isRightSide) CoordinateArrays.reverse(curvePts);\n      return curvePts;\n    },\n    computeSingleSidedBufferCurve: function computeSingleSidedBufferCurve(inputPts, isRightSide, segGen) {\n      var distTol = this.simplifyTolerance(this._distance);\n\n      if (isRightSide) {\n        segGen.addSegments(inputPts, true);\n        var simp2 = BufferInputLineSimplifier.simplify(inputPts, -distTol);\n        var n2 = simp2.length - 1;\n        segGen.initSideSegments(simp2[n2], simp2[n2 - 1], Position.LEFT);\n        segGen.addFirstSegment();\n\n        for (var i = n2 - 2; i >= 0; i--) {\n          segGen.addNextSegment(simp2[i], true);\n        }\n      } else {\n        segGen.addSegments(inputPts, false);\n        var simp1 = BufferInputLineSimplifier.simplify(inputPts, distTol);\n        var n1 = simp1.length - 1;\n        segGen.initSideSegments(simp1[0], simp1[1], Position.LEFT);\n        segGen.addFirstSegment();\n\n        for (var i = 2; i <= n1; i++) {\n          segGen.addNextSegment(simp1[i], true);\n        }\n      }\n\n      segGen.addLastSegment();\n      segGen.closeRing();\n    },\n    computeRingBufferCurve: function computeRingBufferCurve(inputPts, side, segGen) {\n      var distTol = this.simplifyTolerance(this._distance);\n      if (side === Position.RIGHT) distTol = -distTol;\n      var simp = BufferInputLineSimplifier.simplify(inputPts, distTol);\n      var n = simp.length - 1;\n      segGen.initSideSegments(simp[n - 1], simp[0], side);\n\n      for (var i = 1; i <= n; i++) {\n        var addStartPoint = i !== 1;\n        segGen.addNextSegment(simp[i], addStartPoint);\n      }\n\n      segGen.closeRing();\n    },\n    computeLineBufferCurve: function computeLineBufferCurve(inputPts, segGen) {\n      var distTol = this.simplifyTolerance(this._distance);\n      var simp1 = BufferInputLineSimplifier.simplify(inputPts, distTol);\n      var n1 = simp1.length - 1;\n      segGen.initSideSegments(simp1[0], simp1[1], Position.LEFT);\n\n      for (var i = 2; i <= n1; i++) {\n        segGen.addNextSegment(simp1[i], true);\n      }\n\n      segGen.addLastSegment();\n      segGen.addLineEndCap(simp1[n1 - 1], simp1[n1]);\n      var simp2 = BufferInputLineSimplifier.simplify(inputPts, -distTol);\n      var n2 = simp2.length - 1;\n      segGen.initSideSegments(simp2[n2], simp2[n2 - 1], Position.LEFT);\n\n      for (var i = n2 - 2; i >= 0; i--) {\n        segGen.addNextSegment(simp2[i], true);\n      }\n\n      segGen.addLastSegment();\n      segGen.addLineEndCap(simp2[1], simp2[0]);\n      segGen.closeRing();\n    },\n    computePointCurve: function computePointCurve(pt, segGen) {\n      switch (this._bufParams.getEndCapStyle()) {\n        case BufferParameters.CAP_ROUND:\n          segGen.createCircle(pt);\n          break;\n\n        case BufferParameters.CAP_SQUARE:\n          segGen.createSquare(pt);\n          break;\n      }\n    },\n    getLineCurve: function getLineCurve(inputPts, distance) {\n      this._distance = distance;\n      if (distance < 0.0 && !this._bufParams.isSingleSided()) return null;\n      if (distance === 0.0) return null;\n      var posDistance = Math.abs(distance);\n      var segGen = this.getSegGen(posDistance);\n\n      if (inputPts.length <= 1) {\n        this.computePointCurve(inputPts[0], segGen);\n      } else {\n        if (this._bufParams.isSingleSided()) {\n          var isRightSide = distance < 0.0;\n          this.computeSingleSidedBufferCurve(inputPts, isRightSide, segGen);\n        } else this.computeLineBufferCurve(inputPts, segGen);\n      }\n\n      var lineCoord = segGen.getCoordinates();\n      return lineCoord;\n    },\n    getBufferParameters: function getBufferParameters() {\n      return this._bufParams;\n    },\n    simplifyTolerance: function simplifyTolerance(bufDistance) {\n      return bufDistance * this._bufParams.getSimplifyFactor();\n    },\n    getRingCurve: function getRingCurve(inputPts, side, distance) {\n      this._distance = distance;\n      if (inputPts.length <= 2) return this.getLineCurve(inputPts, distance);\n\n      if (distance === 0.0) {\n        return OffsetCurveBuilder.copyCoordinates(inputPts);\n      }\n\n      var segGen = this.getSegGen(distance);\n      this.computeRingBufferCurve(inputPts, side, segGen);\n      return segGen.getCoordinates();\n    },\n    computeOffsetCurve: function computeOffsetCurve(inputPts, isRightSide, segGen) {\n      var distTol = this.simplifyTolerance(this._distance);\n\n      if (isRightSide) {\n        var simp2 = BufferInputLineSimplifier.simplify(inputPts, -distTol);\n        var n2 = simp2.length - 1;\n        segGen.initSideSegments(simp2[n2], simp2[n2 - 1], Position.LEFT);\n        segGen.addFirstSegment();\n\n        for (var i = n2 - 2; i >= 0; i--) {\n          segGen.addNextSegment(simp2[i], true);\n        }\n      } else {\n        var simp1 = BufferInputLineSimplifier.simplify(inputPts, distTol);\n        var n1 = simp1.length - 1;\n        segGen.initSideSegments(simp1[0], simp1[1], Position.LEFT);\n        segGen.addFirstSegment();\n\n        for (var i = 2; i <= n1; i++) {\n          segGen.addNextSegment(simp1[i], true);\n        }\n      }\n\n      segGen.addLastSegment();\n    },\n    getSegGen: function getSegGen(distance) {\n      return new OffsetSegmentGenerator(this._precisionModel, this._bufParams, distance);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return OffsetCurveBuilder;\n    }\n  });\n\n  OffsetCurveBuilder.copyCoordinates = function (pts) {\n    var copy = new Array(pts.length).fill(null);\n\n    for (var i = 0; i < copy.length; i++) {\n      copy[i] = new Coordinate(pts[i]);\n    }\n\n    return copy;\n  };\n\n  function SubgraphDepthLocater() {\n    this._subgraphs = null;\n    this._seg = new LineSegment();\n    var subgraphs = arguments[0];\n    this._subgraphs = subgraphs;\n  }\n  extend(SubgraphDepthLocater.prototype, {\n    findStabbedSegments: function findStabbedSegments() {\n      if (arguments.length === 1) {\n        var stabbingRayLeftPt = arguments[0];\n        var stabbedSegments = new ArrayList();\n\n        for (var i = this._subgraphs.iterator(); i.hasNext();) {\n          var bsg = i.next();\n          var env = bsg.getEnvelope();\n          if (stabbingRayLeftPt.y < env.getMinY() || stabbingRayLeftPt.y > env.getMaxY()) continue;\n          this.findStabbedSegments(stabbingRayLeftPt, bsg.getDirectedEdges(), stabbedSegments);\n        }\n\n        return stabbedSegments;\n      } else if (arguments.length === 3) {\n        if (hasInterface(arguments[2], List) && arguments[0] instanceof Coordinate && arguments[1] instanceof DirectedEdge) {\n          var _stabbingRayLeftPt = arguments[0],\n              dirEdge = arguments[1],\n              _stabbedSegments = arguments[2];\n          var pts = dirEdge.getEdge().getCoordinates();\n\n          for (var i = 0; i < pts.length - 1; i++) {\n            this._seg.p0 = pts[i];\n            this._seg.p1 = pts[i + 1];\n            if (this._seg.p0.y > this._seg.p1.y) this._seg.reverse();\n            var maxx = Math.max(this._seg.p0.x, this._seg.p1.x);\n            if (maxx < _stabbingRayLeftPt.x) continue;\n            if (this._seg.isHorizontal()) continue;\n            if (_stabbingRayLeftPt.y < this._seg.p0.y || _stabbingRayLeftPt.y > this._seg.p1.y) continue;\n            if (Orientation.index(this._seg.p0, this._seg.p1, _stabbingRayLeftPt) === Orientation.RIGHT) continue;\n            var depth = dirEdge.getDepth(Position.LEFT);\n            if (!this._seg.p0.equals(pts[i])) depth = dirEdge.getDepth(Position.RIGHT);\n            var ds = new DepthSegment(this._seg, depth);\n\n            _stabbedSegments.add(ds);\n          }\n        } else if (hasInterface(arguments[2], List) && arguments[0] instanceof Coordinate && hasInterface(arguments[1], List)) {\n          var _stabbingRayLeftPt2 = arguments[0],\n              dirEdges = arguments[1],\n              _stabbedSegments2 = arguments[2];\n\n          for (var i = dirEdges.iterator(); i.hasNext();) {\n            var de = i.next();\n            if (!de.isForward()) continue;\n            this.findStabbedSegments(_stabbingRayLeftPt2, de, _stabbedSegments2);\n          }\n        }\n      }\n    },\n    getDepth: function getDepth(p) {\n      var stabbedSegments = this.findStabbedSegments(p);\n      if (stabbedSegments.size() === 0) return 0;\n      var ds = Collections.min(stabbedSegments);\n      return ds._leftDepth;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return SubgraphDepthLocater;\n    }\n  });\n\n  function DepthSegment() {\n    this._upwardSeg = null;\n    this._leftDepth = null;\n    var seg = arguments[0],\n        depth = arguments[1];\n    this._upwardSeg = new LineSegment(seg);\n    this._leftDepth = depth;\n  }\n\n  extend(DepthSegment.prototype, {\n    compareTo: function compareTo(obj) {\n      var other = obj;\n      if (this._upwardSeg.minX() >= other._upwardSeg.maxX()) return 1;\n      if (this._upwardSeg.maxX() <= other._upwardSeg.minX()) return -1;\n\n      var orientIndex = this._upwardSeg.orientationIndex(other._upwardSeg);\n\n      if (orientIndex !== 0) return orientIndex;\n      orientIndex = -1 * other._upwardSeg.orientationIndex(this._upwardSeg);\n      if (orientIndex !== 0) return orientIndex;\n      return this._upwardSeg.compareTo(other._upwardSeg);\n    },\n    compareX: function compareX(seg0, seg1) {\n      var compare0 = seg0.p0.compareTo(seg1.p0);\n      if (compare0 !== 0) return compare0;\n      return seg0.p1.compareTo(seg1.p1);\n    },\n    toString: function toString() {\n      return this._upwardSeg.toString();\n    },\n    interfaces_: function interfaces_() {\n      return [Comparable];\n    },\n    getClass: function getClass() {\n      return DepthSegment;\n    }\n  });\n  SubgraphDepthLocater.DepthSegment = DepthSegment;\n\n  function OffsetCurveSetBuilder() {\n    this._inputGeom = null;\n    this._distance = null;\n    this._curveBuilder = null;\n    this._curveList = new ArrayList();\n    var inputGeom = arguments[0],\n        distance = arguments[1],\n        curveBuilder = arguments[2];\n    this._inputGeom = inputGeom;\n    this._distance = distance;\n    this._curveBuilder = curveBuilder;\n  }\n  extend(OffsetCurveSetBuilder.prototype, {\n    addPoint: function addPoint(p) {\n      if (this._distance <= 0.0) return null;\n      var coord = p.getCoordinates();\n\n      var curve = this._curveBuilder.getLineCurve(coord, this._distance);\n\n      this.addCurve(curve, Location.EXTERIOR, Location.INTERIOR);\n    },\n    addPolygon: function addPolygon(p) {\n      var offsetDistance = this._distance;\n      var offsetSide = Position.LEFT;\n\n      if (this._distance < 0.0) {\n        offsetDistance = -this._distance;\n        offsetSide = Position.RIGHT;\n      }\n\n      var shell = p.getExteriorRing();\n      var shellCoord = CoordinateArrays.removeRepeatedPoints(shell.getCoordinates());\n      if (this._distance < 0.0 && this.isErodedCompletely(shell, this._distance)) return null;\n      if (this._distance <= 0.0 && shellCoord.length < 3) return null;\n      this.addPolygonRing(shellCoord, offsetDistance, offsetSide, Location.EXTERIOR, Location.INTERIOR);\n\n      for (var i = 0; i < p.getNumInteriorRing(); i++) {\n        var hole = p.getInteriorRingN(i);\n        var holeCoord = CoordinateArrays.removeRepeatedPoints(hole.getCoordinates());\n        if (this._distance > 0.0 && this.isErodedCompletely(hole, -this._distance)) continue;\n        this.addPolygonRing(holeCoord, offsetDistance, Position.opposite(offsetSide), Location.INTERIOR, Location.EXTERIOR);\n      }\n    },\n    isTriangleErodedCompletely: function isTriangleErodedCompletely(triangleCoord, bufferDistance) {\n      var tri = new Triangle(triangleCoord[0], triangleCoord[1], triangleCoord[2]);\n      var inCentre = tri.inCentre();\n      var distToCentre = Distance.pointToSegment(inCentre, tri.p0, tri.p1);\n      return distToCentre < Math.abs(bufferDistance);\n    },\n    addLineString: function addLineString(line) {\n      if (this._distance <= 0.0 && !this._curveBuilder.getBufferParameters().isSingleSided()) return null;\n      var coord = CoordinateArrays.removeRepeatedPoints(line.getCoordinates());\n\n      var curve = this._curveBuilder.getLineCurve(coord, this._distance);\n\n      this.addCurve(curve, Location.EXTERIOR, Location.INTERIOR);\n    },\n    addCurve: function addCurve(coord, leftLoc, rightLoc) {\n      if (coord === null || coord.length < 2) return null;\n      var e = new NodedSegmentString(coord, new Label(0, Location.BOUNDARY, leftLoc, rightLoc));\n\n      this._curveList.add(e);\n    },\n    getCurves: function getCurves() {\n      this.add(this._inputGeom);\n      return this._curveList;\n    },\n    addPolygonRing: function addPolygonRing(coord, offsetDistance, side, cwLeftLoc, cwRightLoc) {\n      if (offsetDistance === 0.0 && coord.length < LinearRing.MINIMUM_VALID_SIZE) return null;\n      var leftLoc = cwLeftLoc;\n      var rightLoc = cwRightLoc;\n\n      if (coord.length >= LinearRing.MINIMUM_VALID_SIZE && Orientation.isCCW(coord)) {\n        leftLoc = cwRightLoc;\n        rightLoc = cwLeftLoc;\n        side = Position.opposite(side);\n      }\n\n      var curve = this._curveBuilder.getRingCurve(coord, side, offsetDistance);\n\n      this.addCurve(curve, leftLoc, rightLoc);\n    },\n    add: function add(g) {\n      if (g.isEmpty()) return null;\n      if (g instanceof Polygon) this.addPolygon(g);else if (g instanceof LineString) this.addLineString(g);else if (g instanceof Point) this.addPoint(g);else if (g instanceof MultiPoint) this.addCollection(g);else if (g instanceof MultiLineString) this.addCollection(g);else if (g instanceof MultiPolygon) this.addCollection(g);else if (g instanceof GeometryCollection) this.addCollection(g);else throw new UnsupportedOperationException(g.getClass().getName());\n    },\n    isErodedCompletely: function isErodedCompletely(ring, bufferDistance) {\n      var ringCoord = ring.getCoordinates();\n      if (ringCoord.length < 4) return bufferDistance < 0;\n      if (ringCoord.length === 4) return this.isTriangleErodedCompletely(ringCoord, bufferDistance);\n      var env = ring.getEnvelopeInternal();\n      var envMinDimension = Math.min(env.getHeight(), env.getWidth());\n      if (bufferDistance < 0.0 && 2 * Math.abs(bufferDistance) > envMinDimension) return true;\n      return false;\n    },\n    addCollection: function addCollection(gc) {\n      for (var i = 0; i < gc.getNumGeometries(); i++) {\n        var g = gc.getGeometryN(i);\n        this.add(g);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return OffsetCurveSetBuilder;\n    }\n  });\n\n  function EdgeEndStar() {\n    this._edgeMap = new TreeMap();\n    this._edgeList = null;\n    this._ptInAreaLocation = [Location.NONE, Location.NONE];\n  }\n  extend(EdgeEndStar.prototype, {\n    getNextCW: function getNextCW(ee) {\n      this.getEdges();\n\n      var i = this._edgeList.indexOf(ee);\n\n      var iNextCW = i - 1;\n      if (i === 0) iNextCW = this._edgeList.size() - 1;\n      return this._edgeList.get(iNextCW);\n    },\n    propagateSideLabels: function propagateSideLabels(geomIndex) {\n      var startLoc = Location.NONE;\n\n      for (var it = this.iterator(); it.hasNext();) {\n        var e = it.next();\n        var label = e.getLabel();\n        if (label.isArea(geomIndex) && label.getLocation(geomIndex, Position.LEFT) !== Location.NONE) startLoc = label.getLocation(geomIndex, Position.LEFT);\n      }\n\n      if (startLoc === Location.NONE) return null;\n      var currLoc = startLoc;\n\n      for (var it = this.iterator(); it.hasNext();) {\n        var e = it.next();\n        var label = e.getLabel();\n        if (label.getLocation(geomIndex, Position.ON) === Location.NONE) label.setLocation(geomIndex, Position.ON, currLoc);\n\n        if (label.isArea(geomIndex)) {\n          var leftLoc = label.getLocation(geomIndex, Position.LEFT);\n          var rightLoc = label.getLocation(geomIndex, Position.RIGHT);\n\n          if (rightLoc !== Location.NONE) {\n            if (rightLoc !== currLoc) throw new TopologyException(\"side location conflict\", e.getCoordinate());\n\n            if (leftLoc === Location.NONE) {\n              Assert.shouldNeverReachHere(\"found single null side (at \" + e.getCoordinate() + \")\");\n            }\n\n            currLoc = leftLoc;\n          } else {\n            Assert.isTrue(label.getLocation(geomIndex, Position.LEFT) === Location.NONE, \"found single null side\");\n            label.setLocation(geomIndex, Position.RIGHT, currLoc);\n            label.setLocation(geomIndex, Position.LEFT, currLoc);\n          }\n        }\n      }\n    },\n    getCoordinate: function getCoordinate() {\n      var it = this.iterator();\n      if (!it.hasNext()) return null;\n      var e = it.next();\n      return e.getCoordinate();\n    },\n    print: function print(out) {\n      System.out.println(\"EdgeEndStar:   \" + this.getCoordinate());\n\n      for (var it = this.iterator(); it.hasNext();) {\n        var e = it.next();\n        e.print(out);\n      }\n    },\n    isAreaLabelsConsistent: function isAreaLabelsConsistent(geomGraph) {\n      this.computeEdgeEndLabels(geomGraph.getBoundaryNodeRule());\n      return this.checkAreaLabelsConsistent(0);\n    },\n    checkAreaLabelsConsistent: function checkAreaLabelsConsistent(geomIndex) {\n      var edges = this.getEdges();\n      if (edges.size() <= 0) return true;\n      var lastEdgeIndex = edges.size() - 1;\n      var startLabel = edges.get(lastEdgeIndex).getLabel();\n      var startLoc = startLabel.getLocation(geomIndex, Position.LEFT);\n      Assert.isTrue(startLoc !== Location.NONE, \"Found unlabelled area edge\");\n      var currLoc = startLoc;\n\n      for (var it = this.iterator(); it.hasNext();) {\n        var e = it.next();\n        var label = e.getLabel();\n        Assert.isTrue(label.isArea(geomIndex), \"Found non-area edge\");\n        var leftLoc = label.getLocation(geomIndex, Position.LEFT);\n        var rightLoc = label.getLocation(geomIndex, Position.RIGHT);\n\n        if (leftLoc === rightLoc) {\n          return false;\n        }\n\n        if (rightLoc !== currLoc) {\n          return false;\n        }\n\n        currLoc = leftLoc;\n      }\n\n      return true;\n    },\n    findIndex: function findIndex(eSearch) {\n      this.iterator();\n\n      for (var i = 0; i < this._edgeList.size(); i++) {\n        var e = this._edgeList.get(i);\n\n        if (e === eSearch) return i;\n      }\n\n      return -1;\n    },\n    iterator: function iterator() {\n      return this.getEdges().iterator();\n    },\n    getEdges: function getEdges() {\n      if (this._edgeList === null) {\n        this._edgeList = new ArrayList(this._edgeMap.values());\n      }\n\n      return this._edgeList;\n    },\n    getLocation: function getLocation(geomIndex, p, geom) {\n      if (this._ptInAreaLocation[geomIndex] === Location.NONE) {\n        this._ptInAreaLocation[geomIndex] = SimplePointInAreaLocator.locate(p, geom[geomIndex].getGeometry());\n      }\n\n      return this._ptInAreaLocation[geomIndex];\n    },\n    toString: function toString() {\n      var buf = new StringBuffer();\n      buf.append(\"EdgeEndStar:   \" + this.getCoordinate());\n      buf.append(\"\\n\");\n\n      for (var it = this.iterator(); it.hasNext();) {\n        var e = it.next();\n        buf.append(e);\n        buf.append(\"\\n\");\n      }\n\n      return buf.toString();\n    },\n    computeEdgeEndLabels: function computeEdgeEndLabels(boundaryNodeRule) {\n      for (var it = this.iterator(); it.hasNext();) {\n        var ee = it.next();\n        ee.computeLabel(boundaryNodeRule);\n      }\n    },\n    computeLabelling: function computeLabelling(geomGraph) {\n      this.computeEdgeEndLabels(geomGraph[0].getBoundaryNodeRule());\n      this.propagateSideLabels(0);\n      this.propagateSideLabels(1);\n      var hasDimensionalCollapseEdge = [false, false];\n\n      for (var it = this.iterator(); it.hasNext();) {\n        var e = it.next();\n        var label = e.getLabel();\n\n        for (var geomi = 0; geomi < 2; geomi++) {\n          if (label.isLine(geomi) && label.getLocation(geomi) === Location.BOUNDARY) hasDimensionalCollapseEdge[geomi] = true;\n        }\n      }\n\n      for (var it = this.iterator(); it.hasNext();) {\n        var e = it.next();\n        var label = e.getLabel();\n\n        for (var geomi = 0; geomi < 2; geomi++) {\n          if (label.isAnyNull(geomi)) {\n            var loc = Location.NONE;\n\n            if (hasDimensionalCollapseEdge[geomi]) {\n              loc = Location.EXTERIOR;\n            } else {\n              var p = e.getCoordinate();\n              loc = this.getLocation(geomi, p, geomGraph);\n            }\n\n            label.setAllLocationsIfNull(geomi, loc);\n          }\n        }\n      }\n    },\n    getDegree: function getDegree() {\n      return this._edgeMap.size();\n    },\n    insertEdgeEnd: function insertEdgeEnd(e, obj) {\n      this._edgeMap.put(e, obj);\n\n      this._edgeList = null;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return EdgeEndStar;\n    }\n  });\n\n  function DirectedEdgeStar() {\n    EdgeEndStar.apply(this);\n    this._resultAreaEdgeList = null;\n    this._label = null;\n    this._SCANNING_FOR_INCOMING = 1;\n    this._LINKING_TO_OUTGOING = 2;\n  }\n  inherits(DirectedEdgeStar, EdgeEndStar);\n  extend(DirectedEdgeStar.prototype, {\n    linkResultDirectedEdges: function linkResultDirectedEdges() {\n      this.getResultAreaEdges();\n      var firstOut = null;\n      var incoming = null;\n      var state = this._SCANNING_FOR_INCOMING;\n\n      for (var i = 0; i < this._resultAreaEdgeList.size(); i++) {\n        var nextOut = this._resultAreaEdgeList.get(i);\n\n        var nextIn = nextOut.getSym();\n        if (!nextOut.getLabel().isArea()) continue;\n        if (firstOut === null && nextOut.isInResult()) firstOut = nextOut;\n\n        switch (state) {\n          case this._SCANNING_FOR_INCOMING:\n            if (!nextIn.isInResult()) continue;\n            incoming = nextIn;\n            state = this._LINKING_TO_OUTGOING;\n            break;\n\n          case this._LINKING_TO_OUTGOING:\n            if (!nextOut.isInResult()) continue;\n            incoming.setNext(nextOut);\n            state = this._SCANNING_FOR_INCOMING;\n            break;\n        }\n      }\n\n      if (state === this._LINKING_TO_OUTGOING) {\n        if (firstOut === null) throw new TopologyException(\"no outgoing dirEdge found\", this.getCoordinate());\n        Assert.isTrue(firstOut.isInResult(), \"unable to link last incoming dirEdge\");\n        incoming.setNext(firstOut);\n      }\n    },\n    insert: function insert(ee) {\n      var de = ee;\n      this.insertEdgeEnd(de, de);\n    },\n    getRightmostEdge: function getRightmostEdge() {\n      var edges = this.getEdges();\n      var size = edges.size();\n      if (size < 1) return null;\n      var de0 = edges.get(0);\n      if (size === 1) return de0;\n      var deLast = edges.get(size - 1);\n      var quad0 = de0.getQuadrant();\n      var quad1 = deLast.getQuadrant();\n      if (Quadrant.isNorthern(quad0) && Quadrant.isNorthern(quad1)) return de0;else if (!Quadrant.isNorthern(quad0) && !Quadrant.isNorthern(quad1)) return deLast;else {\n        if (de0.getDy() !== 0) return de0;else if (deLast.getDy() !== 0) return deLast;\n      }\n      Assert.shouldNeverReachHere(\"found two horizontal edges incident on node\");\n      return null;\n    },\n    print: function print(out) {\n      System.out.println(\"DirectedEdgeStar: \" + this.getCoordinate());\n\n      for (var it = this.iterator(); it.hasNext();) {\n        var de = it.next();\n        out.print(\"out \");\n        de.print(out);\n        out.println();\n        out.print(\"in \");\n        de.getSym().print(out);\n        out.println();\n      }\n    },\n    getResultAreaEdges: function getResultAreaEdges() {\n      if (this._resultAreaEdgeList !== null) return this._resultAreaEdgeList;\n      this._resultAreaEdgeList = new ArrayList();\n\n      for (var it = this.iterator(); it.hasNext();) {\n        var de = it.next();\n        if (de.isInResult() || de.getSym().isInResult()) this._resultAreaEdgeList.add(de);\n      }\n\n      return this._resultAreaEdgeList;\n    },\n    updateLabelling: function updateLabelling(nodeLabel) {\n      for (var it = this.iterator(); it.hasNext();) {\n        var de = it.next();\n        var label = de.getLabel();\n        label.setAllLocationsIfNull(0, nodeLabel.getLocation(0));\n        label.setAllLocationsIfNull(1, nodeLabel.getLocation(1));\n      }\n    },\n    linkAllDirectedEdges: function linkAllDirectedEdges() {\n      this.getEdges();\n      var prevOut = null;\n      var firstIn = null;\n\n      for (var i = this._edgeList.size() - 1; i >= 0; i--) {\n        var nextOut = this._edgeList.get(i);\n\n        var nextIn = nextOut.getSym();\n        if (firstIn === null) firstIn = nextIn;\n        if (prevOut !== null) nextIn.setNext(prevOut);\n        prevOut = nextOut;\n      }\n\n      firstIn.setNext(prevOut);\n    },\n    computeDepths: function computeDepths() {\n      if (arguments.length === 1) {\n        var de = arguments[0];\n        var edgeIndex = this.findIndex(de);\n        var label = de.getLabel();\n        var startDepth = de.getDepth(Position.LEFT);\n        var targetLastDepth = de.getDepth(Position.RIGHT);\n        var nextDepth = this.computeDepths(edgeIndex + 1, this._edgeList.size(), startDepth);\n        var lastDepth = this.computeDepths(0, edgeIndex, nextDepth);\n        if (lastDepth !== targetLastDepth) throw new TopologyException(\"depth mismatch at \" + de.getCoordinate());\n      } else if (arguments.length === 3) {\n        var startIndex = arguments[0],\n            endIndex = arguments[1],\n            _startDepth = arguments[2];\n        var currDepth = _startDepth;\n\n        for (var i = startIndex; i < endIndex; i++) {\n          var nextDe = this._edgeList.get(i);\n\n          var label = nextDe.getLabel();\n          nextDe.setEdgeDepths(Position.RIGHT, currDepth);\n          currDepth = nextDe.getDepth(Position.LEFT);\n        }\n\n        return currDepth;\n      }\n    },\n    mergeSymLabels: function mergeSymLabels() {\n      for (var it = this.iterator(); it.hasNext();) {\n        var de = it.next();\n        var label = de.getLabel();\n        label.merge(de.getSym().getLabel());\n      }\n    },\n    linkMinimalDirectedEdges: function linkMinimalDirectedEdges(er) {\n      var firstOut = null;\n      var incoming = null;\n      var state = this._SCANNING_FOR_INCOMING;\n\n      for (var i = this._resultAreaEdgeList.size() - 1; i >= 0; i--) {\n        var nextOut = this._resultAreaEdgeList.get(i);\n\n        var nextIn = nextOut.getSym();\n        if (firstOut === null && nextOut.getEdgeRing() === er) firstOut = nextOut;\n\n        switch (state) {\n          case this._SCANNING_FOR_INCOMING:\n            if (nextIn.getEdgeRing() !== er) continue;\n            incoming = nextIn;\n            state = this._LINKING_TO_OUTGOING;\n            break;\n\n          case this._LINKING_TO_OUTGOING:\n            if (nextOut.getEdgeRing() !== er) continue;\n            incoming.setNextMin(nextOut);\n            state = this._SCANNING_FOR_INCOMING;\n            break;\n        }\n      }\n\n      if (state === this._LINKING_TO_OUTGOING) {\n        Assert.isTrue(firstOut !== null, \"found null for first outgoing dirEdge\");\n        Assert.isTrue(firstOut.getEdgeRing() === er, \"unable to link last incoming dirEdge\");\n        incoming.setNextMin(firstOut);\n      }\n    },\n    getOutgoingDegree: function getOutgoingDegree() {\n      if (arguments.length === 0) {\n        var degree = 0;\n\n        for (var it = this.iterator(); it.hasNext();) {\n          var de = it.next();\n          if (de.isInResult()) degree++;\n        }\n\n        return degree;\n      } else if (arguments.length === 1) {\n        var er = arguments[0];\n        var degree = 0;\n\n        for (var it = this.iterator(); it.hasNext();) {\n          var de = it.next();\n          if (de.getEdgeRing() === er) degree++;\n        }\n\n        return degree;\n      }\n    },\n    getLabel: function getLabel() {\n      return this._label;\n    },\n    findCoveredLineEdges: function findCoveredLineEdges() {\n      var startLoc = Location.NONE;\n\n      for (var it = this.iterator(); it.hasNext();) {\n        var nextOut = it.next();\n        var nextIn = nextOut.getSym();\n\n        if (!nextOut.isLineEdge()) {\n          if (nextOut.isInResult()) {\n            startLoc = Location.INTERIOR;\n            break;\n          }\n\n          if (nextIn.isInResult()) {\n            startLoc = Location.EXTERIOR;\n            break;\n          }\n        }\n      }\n\n      if (startLoc === Location.NONE) return null;\n      var currLoc = startLoc;\n\n      for (var it = this.iterator(); it.hasNext();) {\n        var nextOut = it.next();\n        var nextIn = nextOut.getSym();\n\n        if (nextOut.isLineEdge()) {\n          nextOut.getEdge().setCovered(currLoc === Location.INTERIOR);\n        } else {\n          if (nextOut.isInResult()) currLoc = Location.EXTERIOR;\n          if (nextIn.isInResult()) currLoc = Location.INTERIOR;\n        }\n      }\n    },\n    computeLabelling: function computeLabelling(geom) {\n      EdgeEndStar.prototype.computeLabelling.call(this, geom);\n      this._label = new Label(Location.NONE);\n\n      for (var it = this.iterator(); it.hasNext();) {\n        var ee = it.next();\n        var e = ee.getEdge();\n        var eLabel = e.getLabel();\n\n        for (var i = 0; i < 2; i++) {\n          var eLoc = eLabel.getLocation(i);\n          if (eLoc === Location.INTERIOR || eLoc === Location.BOUNDARY) this._label.setLocation(i, Location.INTERIOR);\n        }\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return DirectedEdgeStar;\n    }\n  });\n\n  function OverlayNodeFactory() {\n    NodeFactory.apply(this);\n  }\n  inherits(OverlayNodeFactory, NodeFactory);\n  extend(OverlayNodeFactory.prototype, {\n    createNode: function createNode(coord) {\n      return new Node$1(coord, new DirectedEdgeStar());\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return OverlayNodeFactory;\n    }\n  });\n\n  function OrientedCoordinateArray() {\n    this._pts = null;\n    this._orientation = null;\n    var pts = arguments[0];\n    this._pts = pts;\n    this._orientation = OrientedCoordinateArray.orientation(pts);\n  }\n  extend(OrientedCoordinateArray.prototype, {\n    compareTo: function compareTo(o1) {\n      var oca = o1;\n      var comp = OrientedCoordinateArray.compareOriented(this._pts, this._orientation, oca._pts, oca._orientation);\n      return comp;\n    },\n    interfaces_: function interfaces_() {\n      return [Comparable];\n    },\n    getClass: function getClass() {\n      return OrientedCoordinateArray;\n    }\n  });\n\n  OrientedCoordinateArray.orientation = function (pts) {\n    return CoordinateArrays.increasingDirection(pts) === 1;\n  };\n\n  OrientedCoordinateArray.compareOriented = function (pts1, orientation1, pts2, orientation2) {\n    var dir1 = orientation1 ? 1 : -1;\n    var dir2 = orientation2 ? 1 : -1;\n    var limit1 = orientation1 ? pts1.length : -1;\n    var limit2 = orientation2 ? pts2.length : -1;\n    var i1 = orientation1 ? 0 : pts1.length - 1;\n    var i2 = orientation2 ? 0 : pts2.length - 1;\n\n    while (true) {\n      var compPt = pts1[i1].compareTo(pts2[i2]);\n      if (compPt !== 0) return compPt;\n      i1 += dir1;\n      i2 += dir2;\n      var done1 = i1 === limit1;\n      var done2 = i2 === limit2;\n      if (done1 && !done2) return -1;\n      if (!done1 && done2) return 1;\n      if (done1 && done2) return 0;\n    }\n  };\n\n  function EdgeList() {\n    this._edges = new ArrayList();\n    this._ocaMap = new TreeMap();\n  }\n  extend(EdgeList.prototype, {\n    print: function print(out) {\n      out.print(\"MULTILINESTRING ( \");\n\n      for (var j = 0; j < this._edges.size(); j++) {\n        var e = this._edges.get(j);\n\n        if (j > 0) out.print(\",\");\n        out.print(\"(\");\n        var pts = e.getCoordinates();\n\n        for (var i = 0; i < pts.length; i++) {\n          if (i > 0) out.print(\",\");\n          out.print(pts[i].x + \" \" + pts[i].y);\n        }\n\n        out.println(\")\");\n      }\n\n      out.print(\")  \");\n    },\n    addAll: function addAll(edgeColl) {\n      for (var i = edgeColl.iterator(); i.hasNext();) {\n        this.add(i.next());\n      }\n    },\n    findEdgeIndex: function findEdgeIndex(e) {\n      for (var i = 0; i < this._edges.size(); i++) {\n        if (this._edges.get(i).equals(e)) return i;\n      }\n\n      return -1;\n    },\n    iterator: function iterator() {\n      return this._edges.iterator();\n    },\n    getEdges: function getEdges() {\n      return this._edges;\n    },\n    get: function get(i) {\n      return this._edges.get(i);\n    },\n    findEqualEdge: function findEqualEdge(e) {\n      var oca = new OrientedCoordinateArray(e.getCoordinates());\n\n      var matchEdge = this._ocaMap.get(oca);\n\n      return matchEdge;\n    },\n    add: function add(e) {\n      this._edges.add(e);\n\n      var oca = new OrientedCoordinateArray(e.getCoordinates());\n\n      this._ocaMap.put(oca, e);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return EdgeList;\n    }\n  });\n\n  function SegmentIntersector$1() {}\n  extend(SegmentIntersector$1.prototype, {\n    processIntersections: function processIntersections(e0, segIndex0, e1, segIndex1) {},\n    isDone: function isDone() {},\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return SegmentIntersector$1;\n    }\n  });\n\n  function IntersectionAdder() {\n    this._hasIntersection = false;\n    this._hasProper = false;\n    this._hasProperInterior = false;\n    this._hasInterior = false;\n    this._properIntersectionPoint = null;\n    this._li = null;\n    this._isSelfIntersection = null;\n    this.numIntersections = 0;\n    this.numInteriorIntersections = 0;\n    this.numProperIntersections = 0;\n    this.numTests = 0;\n    var li = arguments[0];\n    this._li = li;\n  }\n  extend(IntersectionAdder.prototype, {\n    isTrivialIntersection: function isTrivialIntersection(e0, segIndex0, e1, segIndex1) {\n      if (e0 === e1) {\n        if (this._li.getIntersectionNum() === 1) {\n          if (IntersectionAdder.isAdjacentSegments(segIndex0, segIndex1)) return true;\n\n          if (e0.isClosed()) {\n            var maxSegIndex = e0.size() - 1;\n\n            if (segIndex0 === 0 && segIndex1 === maxSegIndex || segIndex1 === 0 && segIndex0 === maxSegIndex) {\n              return true;\n            }\n          }\n        }\n      }\n\n      return false;\n    },\n    getProperIntersectionPoint: function getProperIntersectionPoint() {\n      return this._properIntersectionPoint;\n    },\n    hasProperInteriorIntersection: function hasProperInteriorIntersection() {\n      return this._hasProperInterior;\n    },\n    getLineIntersector: function getLineIntersector() {\n      return this._li;\n    },\n    hasProperIntersection: function hasProperIntersection() {\n      return this._hasProper;\n    },\n    processIntersections: function processIntersections(e0, segIndex0, e1, segIndex1) {\n      if (e0 === e1 && segIndex0 === segIndex1) return null;\n      this.numTests++;\n      var p00 = e0.getCoordinates()[segIndex0];\n      var p01 = e0.getCoordinates()[segIndex0 + 1];\n      var p10 = e1.getCoordinates()[segIndex1];\n      var p11 = e1.getCoordinates()[segIndex1 + 1];\n\n      this._li.computeIntersection(p00, p01, p10, p11);\n\n      if (this._li.hasIntersection()) {\n        this.numIntersections++;\n\n        if (this._li.isInteriorIntersection()) {\n          this.numInteriorIntersections++;\n          this._hasInterior = true;\n        }\n\n        if (!this.isTrivialIntersection(e0, segIndex0, e1, segIndex1)) {\n          this._hasIntersection = true;\n          e0.addIntersections(this._li, segIndex0, 0);\n          e1.addIntersections(this._li, segIndex1, 1);\n\n          if (this._li.isProper()) {\n            this.numProperIntersections++;\n            this._hasProper = true;\n            this._hasProperInterior = true;\n          }\n        }\n      }\n    },\n    hasIntersection: function hasIntersection() {\n      return this._hasIntersection;\n    },\n    isDone: function isDone() {\n      return false;\n    },\n    hasInteriorIntersection: function hasInteriorIntersection() {\n      return this._hasInterior;\n    },\n    interfaces_: function interfaces_() {\n      return [SegmentIntersector$1];\n    },\n    getClass: function getClass() {\n      return IntersectionAdder;\n    }\n  });\n\n  IntersectionAdder.isAdjacentSegments = function (i1, i2) {\n    return Math.abs(i1 - i2) === 1;\n  };\n\n  function BufferBuilder() {\n    this._bufParams = null;\n    this._workingPrecisionModel = null;\n    this._workingNoder = null;\n    this._geomFact = null;\n    this._graph = null;\n    this._edgeList = new EdgeList();\n    var bufParams = arguments[0];\n    this._bufParams = bufParams;\n  }\n  extend(BufferBuilder.prototype, {\n    setWorkingPrecisionModel: function setWorkingPrecisionModel(pm) {\n      this._workingPrecisionModel = pm;\n    },\n    insertUniqueEdge: function insertUniqueEdge(e) {\n      var existingEdge = this._edgeList.findEqualEdge(e);\n\n      if (existingEdge !== null) {\n        var existingLabel = existingEdge.getLabel();\n        var labelToMerge = e.getLabel();\n\n        if (!existingEdge.isPointwiseEqual(e)) {\n          labelToMerge = new Label(e.getLabel());\n          labelToMerge.flip();\n        }\n\n        existingLabel.merge(labelToMerge);\n        var mergeDelta = BufferBuilder.depthDelta(labelToMerge);\n        var existingDelta = existingEdge.getDepthDelta();\n        var newDelta = existingDelta + mergeDelta;\n        existingEdge.setDepthDelta(newDelta);\n      } else {\n        this._edgeList.add(e);\n\n        e.setDepthDelta(BufferBuilder.depthDelta(e.getLabel()));\n      }\n    },\n    buildSubgraphs: function buildSubgraphs(subgraphList, polyBuilder) {\n      var processedGraphs = new ArrayList();\n\n      for (var i = subgraphList.iterator(); i.hasNext();) {\n        var subgraph = i.next();\n        var p = subgraph.getRightmostCoordinate();\n        var locater = new SubgraphDepthLocater(processedGraphs);\n        var outsideDepth = locater.getDepth(p);\n        subgraph.computeDepth(outsideDepth);\n        subgraph.findResultEdges();\n        processedGraphs.add(subgraph);\n        polyBuilder.add(subgraph.getDirectedEdges(), subgraph.getNodes());\n      }\n    },\n    createSubgraphs: function createSubgraphs(graph) {\n      var subgraphList = new ArrayList();\n\n      for (var i = graph.getNodes().iterator(); i.hasNext();) {\n        var node = i.next();\n\n        if (!node.isVisited()) {\n          var subgraph = new BufferSubgraph();\n          subgraph.create(node);\n          subgraphList.add(subgraph);\n        }\n      }\n\n      Collections.sort(subgraphList, Collections.reverseOrder());\n      return subgraphList;\n    },\n    createEmptyResultGeometry: function createEmptyResultGeometry() {\n      var emptyGeom = this._geomFact.createPolygon();\n\n      return emptyGeom;\n    },\n    getNoder: function getNoder(precisionModel) {\n      if (this._workingNoder !== null) return this._workingNoder;\n      var noder = new MCIndexNoder();\n      var li = new RobustLineIntersector();\n      li.setPrecisionModel(precisionModel);\n      noder.setSegmentIntersector(new IntersectionAdder(li));\n      return noder;\n    },\n    buffer: function buffer(g, distance) {\n      var precisionModel = this._workingPrecisionModel;\n      if (precisionModel === null) precisionModel = g.getPrecisionModel();\n      this._geomFact = g.getFactory();\n      var curveBuilder = new OffsetCurveBuilder(precisionModel, this._bufParams);\n      var curveSetBuilder = new OffsetCurveSetBuilder(g, distance, curveBuilder);\n      var bufferSegStrList = curveSetBuilder.getCurves();\n\n      if (bufferSegStrList.size() <= 0) {\n        return this.createEmptyResultGeometry();\n      }\n\n      this.computeNodedEdges(bufferSegStrList, precisionModel);\n      this._graph = new PlanarGraph(new OverlayNodeFactory());\n\n      this._graph.addEdges(this._edgeList.getEdges());\n\n      var subgraphList = this.createSubgraphs(this._graph);\n      var polyBuilder = new PolygonBuilder(this._geomFact);\n      this.buildSubgraphs(subgraphList, polyBuilder);\n      var resultPolyList = polyBuilder.getPolygons();\n\n      if (resultPolyList.size() <= 0) {\n        return this.createEmptyResultGeometry();\n      }\n\n      var resultGeom = this._geomFact.buildGeometry(resultPolyList);\n\n      return resultGeom;\n    },\n    computeNodedEdges: function computeNodedEdges(bufferSegStrList, precisionModel) {\n      var noder = this.getNoder(precisionModel);\n      noder.computeNodes(bufferSegStrList);\n      var nodedSegStrings = noder.getNodedSubstrings();\n\n      for (var i = nodedSegStrings.iterator(); i.hasNext();) {\n        var segStr = i.next();\n        var pts = segStr.getCoordinates();\n        if (pts.length === 2 && pts[0].equals2D(pts[1])) continue;\n        var oldLabel = segStr.getData();\n        var edge = new Edge(segStr.getCoordinates(), new Label(oldLabel));\n        this.insertUniqueEdge(edge);\n      }\n    },\n    setNoder: function setNoder(noder) {\n      this._workingNoder = noder;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return BufferBuilder;\n    }\n  });\n\n  BufferBuilder.depthDelta = function (label) {\n    var lLoc = label.getLocation(0, Position.LEFT);\n    var rLoc = label.getLocation(0, Position.RIGHT);\n    if (lLoc === Location.INTERIOR && rLoc === Location.EXTERIOR) return 1;else if (lLoc === Location.EXTERIOR && rLoc === Location.INTERIOR) return -1;\n    return 0;\n  };\n\n  BufferBuilder.convertSegStrings = function (it) {\n    var fact = new GeometryFactory();\n    var lines = new ArrayList();\n\n    while (it.hasNext()) {\n      var ss = it.next();\n      var line = fact.createLineString(ss.getCoordinates());\n      lines.add(line);\n    }\n\n    return fact.buildGeometry(lines);\n  };\n\n  function NodingValidator() {\n    this._li = new RobustLineIntersector();\n    this._segStrings = null;\n    var segStrings = arguments[0];\n    this._segStrings = segStrings;\n  }\n  extend(NodingValidator.prototype, {\n    checkEndPtVertexIntersections: function checkEndPtVertexIntersections() {\n      if (arguments.length === 0) {\n        for (var i = this._segStrings.iterator(); i.hasNext();) {\n          var ss = i.next();\n          var pts = ss.getCoordinates();\n          this.checkEndPtVertexIntersections(pts[0], this._segStrings);\n          this.checkEndPtVertexIntersections(pts[pts.length - 1], this._segStrings);\n        }\n      } else if (arguments.length === 2) {\n        var testPt = arguments[0],\n            segStrings = arguments[1];\n\n        for (var i = segStrings.iterator(); i.hasNext();) {\n          var ss = i.next();\n          var pts = ss.getCoordinates();\n\n          for (var j = 1; j < pts.length - 1; j++) {\n            if (pts[j].equals(testPt)) throw new RuntimeException(\"found endpt/interior pt intersection at index \" + j + \" :pt \" + testPt);\n          }\n        }\n      }\n    },\n    checkInteriorIntersections: function checkInteriorIntersections() {\n      if (arguments.length === 0) {\n        for (var i = this._segStrings.iterator(); i.hasNext();) {\n          var ss0 = i.next();\n\n          for (var j = this._segStrings.iterator(); j.hasNext();) {\n            var ss1 = j.next();\n            this.checkInteriorIntersections(ss0, ss1);\n          }\n        }\n      } else if (arguments.length === 2) {\n        var _ss = arguments[0],\n            _ss2 = arguments[1];\n\n        var pts0 = _ss.getCoordinates();\n\n        var pts1 = _ss2.getCoordinates();\n\n        for (var i0 = 0; i0 < pts0.length - 1; i0++) {\n          for (var i1 = 0; i1 < pts1.length - 1; i1++) {\n            this.checkInteriorIntersections(_ss, i0, _ss2, i1);\n          }\n        }\n      } else if (arguments.length === 4) {\n        var e0 = arguments[0],\n            segIndex0 = arguments[1],\n            e1 = arguments[2],\n            segIndex1 = arguments[3];\n        if (e0 === e1 && segIndex0 === segIndex1) return null;\n        var p00 = e0.getCoordinates()[segIndex0];\n        var p01 = e0.getCoordinates()[segIndex0 + 1];\n        var p10 = e1.getCoordinates()[segIndex1];\n        var p11 = e1.getCoordinates()[segIndex1 + 1];\n\n        this._li.computeIntersection(p00, p01, p10, p11);\n\n        if (this._li.hasIntersection()) {\n          if (this._li.isProper() || this.hasInteriorIntersection(this._li, p00, p01) || this.hasInteriorIntersection(this._li, p10, p11)) {\n            throw new RuntimeException(\"found non-noded intersection at \" + p00 + \"-\" + p01 + \" and \" + p10 + \"-\" + p11);\n          }\n        }\n      }\n    },\n    checkValid: function checkValid() {\n      this.checkEndPtVertexIntersections();\n      this.checkInteriorIntersections();\n      this.checkCollapses();\n    },\n    checkCollapses: function checkCollapses() {\n      if (arguments.length === 0) {\n        for (var i = this._segStrings.iterator(); i.hasNext();) {\n          var ss = i.next();\n          this.checkCollapses(ss);\n        }\n      } else if (arguments.length === 1) {\n        var _ss3 = arguments[0];\n\n        var pts = _ss3.getCoordinates();\n\n        for (var i = 0; i < pts.length - 2; i++) {\n          this.checkCollapse(pts[i], pts[i + 1], pts[i + 2]);\n        }\n      }\n    },\n    hasInteriorIntersection: function hasInteriorIntersection(li, p0, p1) {\n      for (var i = 0; i < li.getIntersectionNum(); i++) {\n        var intPt = li.getIntersection(i);\n        if (!(intPt.equals(p0) || intPt.equals(p1))) return true;\n      }\n\n      return false;\n    },\n    checkCollapse: function checkCollapse(p0, p1, p2) {\n      if (p0.equals(p2)) throw new RuntimeException(\"found non-noded collapse at \" + NodingValidator.fact.createLineString([p0, p1, p2]));\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return NodingValidator;\n    }\n  });\n  NodingValidator.fact = new GeometryFactory();\n\n  function HotPixel() {\n    this._li = null;\n    this._pt = null;\n    this._originalPt = null;\n    this._ptScaled = null;\n    this._p0Scaled = null;\n    this._p1Scaled = null;\n    this._scaleFactor = null;\n    this._minx = null;\n    this._maxx = null;\n    this._miny = null;\n    this._maxy = null;\n    this._corner = new Array(4).fill(null);\n    this._safeEnv = null;\n    var pt = arguments[0],\n        scaleFactor = arguments[1],\n        li = arguments[2];\n    this._originalPt = pt;\n    this._pt = pt;\n    this._scaleFactor = scaleFactor;\n    this._li = li;\n    if (scaleFactor <= 0) throw new IllegalArgumentException(\"Scale factor must be non-zero\");\n\n    if (scaleFactor !== 1.0) {\n      this._pt = new Coordinate(this.scale(pt.x), this.scale(pt.y));\n      this._p0Scaled = new Coordinate();\n      this._p1Scaled = new Coordinate();\n    }\n\n    this.initCorners(this._pt);\n  }\n  extend(HotPixel.prototype, {\n    intersectsScaled: function intersectsScaled(p0, p1) {\n      var segMinx = Math.min(p0.x, p1.x);\n      var segMaxx = Math.max(p0.x, p1.x);\n      var segMiny = Math.min(p0.y, p1.y);\n      var segMaxy = Math.max(p0.y, p1.y);\n      var isOutsidePixelEnv = this._maxx < segMinx || this._minx > segMaxx || this._maxy < segMiny || this._miny > segMaxy;\n      if (isOutsidePixelEnv) return false;\n      var intersects = this.intersectsToleranceSquare(p0, p1);\n      Assert.isTrue(!(isOutsidePixelEnv && intersects), \"Found bad envelope test\");\n      return intersects;\n    },\n    initCorners: function initCorners(pt) {\n      var tolerance = 0.5;\n      this._minx = pt.x - tolerance;\n      this._maxx = pt.x + tolerance;\n      this._miny = pt.y - tolerance;\n      this._maxy = pt.y + tolerance;\n      this._corner[0] = new Coordinate(this._maxx, this._maxy);\n      this._corner[1] = new Coordinate(this._minx, this._maxy);\n      this._corner[2] = new Coordinate(this._minx, this._miny);\n      this._corner[3] = new Coordinate(this._maxx, this._miny);\n    },\n    intersects: function intersects(p0, p1) {\n      if (this._scaleFactor === 1.0) return this.intersectsScaled(p0, p1);\n      this.copyScaled(p0, this._p0Scaled);\n      this.copyScaled(p1, this._p1Scaled);\n      return this.intersectsScaled(this._p0Scaled, this._p1Scaled);\n    },\n    scale: function scale(val) {\n      return Math.round(val * this._scaleFactor);\n    },\n    getCoordinate: function getCoordinate() {\n      return this._originalPt;\n    },\n    copyScaled: function copyScaled(p, pScaled) {\n      pScaled.x = this.scale(p.x);\n      pScaled.y = this.scale(p.y);\n    },\n    getSafeEnvelope: function getSafeEnvelope() {\n      if (this._safeEnv === null) {\n        var safeTolerance = HotPixel.SAFE_ENV_EXPANSION_FACTOR / this._scaleFactor;\n        this._safeEnv = new Envelope(this._originalPt.x - safeTolerance, this._originalPt.x + safeTolerance, this._originalPt.y - safeTolerance, this._originalPt.y + safeTolerance);\n      }\n\n      return this._safeEnv;\n    },\n    intersectsPixelClosure: function intersectsPixelClosure(p0, p1) {\n      this._li.computeIntersection(p0, p1, this._corner[0], this._corner[1]);\n\n      if (this._li.hasIntersection()) return true;\n\n      this._li.computeIntersection(p0, p1, this._corner[1], this._corner[2]);\n\n      if (this._li.hasIntersection()) return true;\n\n      this._li.computeIntersection(p0, p1, this._corner[2], this._corner[3]);\n\n      if (this._li.hasIntersection()) return true;\n\n      this._li.computeIntersection(p0, p1, this._corner[3], this._corner[0]);\n\n      if (this._li.hasIntersection()) return true;\n      return false;\n    },\n    intersectsToleranceSquare: function intersectsToleranceSquare(p0, p1) {\n      var intersectsLeft = false;\n      var intersectsBottom = false;\n\n      this._li.computeIntersection(p0, p1, this._corner[0], this._corner[1]);\n\n      if (this._li.isProper()) return true;\n\n      this._li.computeIntersection(p0, p1, this._corner[1], this._corner[2]);\n\n      if (this._li.isProper()) return true;\n      if (this._li.hasIntersection()) intersectsLeft = true;\n\n      this._li.computeIntersection(p0, p1, this._corner[2], this._corner[3]);\n\n      if (this._li.isProper()) return true;\n      if (this._li.hasIntersection()) intersectsBottom = true;\n\n      this._li.computeIntersection(p0, p1, this._corner[3], this._corner[0]);\n\n      if (this._li.isProper()) return true;\n      if (intersectsLeft && intersectsBottom) return true;\n      if (p0.equals(this._pt)) return true;\n      if (p1.equals(this._pt)) return true;\n      return false;\n    },\n    addSnappedNode: function addSnappedNode(segStr, segIndex) {\n      var p0 = segStr.getCoordinate(segIndex);\n      var p1 = segStr.getCoordinate(segIndex + 1);\n\n      if (this.intersects(p0, p1)) {\n        segStr.addIntersection(this.getCoordinate(), segIndex);\n        return true;\n      }\n\n      return false;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return HotPixel;\n    }\n  });\n  HotPixel.SAFE_ENV_EXPANSION_FACTOR = 0.75;\n\n  function MCIndexPointSnapper() {\n    this._index = null;\n    var index = arguments[0];\n    this._index = index;\n  }\n  extend(MCIndexPointSnapper.prototype, {\n    snap: function snap() {\n      if (arguments.length === 1) {\n        var hotPixel = arguments[0];\n        return this.snap(hotPixel, null, -1);\n      } else if (arguments.length === 3) {\n        var _hotPixel = arguments[0],\n            parentEdge = arguments[1],\n            hotPixelVertexIndex = arguments[2];\n\n        var pixelEnv = _hotPixel.getSafeEnvelope();\n\n        var hotPixelSnapAction = new HotPixelSnapAction(_hotPixel, parentEdge, hotPixelVertexIndex);\n\n        this._index.query(pixelEnv, {\n          interfaces_: function interfaces_() {\n            return [ItemVisitor];\n          },\n          visitItem: function visitItem(item) {\n            var testChain = item;\n            testChain.select(pixelEnv, hotPixelSnapAction);\n          }\n        });\n\n        return hotPixelSnapAction.isNodeAdded();\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return MCIndexPointSnapper;\n    }\n  });\n\n  function HotPixelSnapAction() {\n    MonotoneChainSelectAction.apply(this);\n    this._hotPixel = null;\n    this._parentEdge = null;\n    this._hotPixelVertexIndex = null;\n    this._isNodeAdded = false;\n    var hotPixel = arguments[0],\n        parentEdge = arguments[1],\n        hotPixelVertexIndex = arguments[2];\n    this._hotPixel = hotPixel;\n    this._parentEdge = parentEdge;\n    this._hotPixelVertexIndex = hotPixelVertexIndex;\n  }\n\n  inherits(HotPixelSnapAction, MonotoneChainSelectAction);\n  extend(HotPixelSnapAction.prototype, {\n    isNodeAdded: function isNodeAdded() {\n      return this._isNodeAdded;\n    },\n    select: function select() {\n      if (arguments.length === 2 && Number.isInteger(arguments[1]) && arguments[0] instanceof MonotoneChain) {\n        var mc = arguments[0],\n            startIndex = arguments[1];\n        var ss = mc.getContext();\n\n        if (this._parentEdge !== null) {\n          if (ss === this._parentEdge && startIndex === this._hotPixelVertexIndex) return null;\n        }\n\n        this._isNodeAdded = this._hotPixel.addSnappedNode(ss, startIndex);\n      } else return MonotoneChainSelectAction.prototype.select.apply(this, arguments);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return HotPixelSnapAction;\n    }\n  });\n  MCIndexPointSnapper.HotPixelSnapAction = HotPixelSnapAction;\n\n  function InteriorIntersectionFinderAdder() {\n    this._li = null;\n    this._interiorIntersections = null;\n    var li = arguments[0];\n    this._li = li;\n    this._interiorIntersections = new ArrayList();\n  }\n  extend(InteriorIntersectionFinderAdder.prototype, {\n    processIntersections: function processIntersections(e0, segIndex0, e1, segIndex1) {\n      if (e0 === e1 && segIndex0 === segIndex1) return null;\n      var p00 = e0.getCoordinates()[segIndex0];\n      var p01 = e0.getCoordinates()[segIndex0 + 1];\n      var p10 = e1.getCoordinates()[segIndex1];\n      var p11 = e1.getCoordinates()[segIndex1 + 1];\n\n      this._li.computeIntersection(p00, p01, p10, p11);\n\n      if (this._li.hasIntersection()) {\n        if (this._li.isInteriorIntersection()) {\n          for (var intIndex = 0; intIndex < this._li.getIntersectionNum(); intIndex++) {\n            this._interiorIntersections.add(this._li.getIntersection(intIndex));\n          }\n\n          e0.addIntersections(this._li, segIndex0, 0);\n          e1.addIntersections(this._li, segIndex1, 1);\n        }\n      }\n    },\n    isDone: function isDone() {\n      return false;\n    },\n    getInteriorIntersections: function getInteriorIntersections() {\n      return this._interiorIntersections;\n    },\n    interfaces_: function interfaces_() {\n      return [SegmentIntersector$1];\n    },\n    getClass: function getClass() {\n      return InteriorIntersectionFinderAdder;\n    }\n  });\n\n  function MCIndexSnapRounder() {\n    this._pm = null;\n    this._li = null;\n    this._scaleFactor = null;\n    this._noder = null;\n    this._pointSnapper = null;\n    this._nodedSegStrings = null;\n    var pm = arguments[0];\n    this._pm = pm;\n    this._li = new RobustLineIntersector();\n\n    this._li.setPrecisionModel(pm);\n\n    this._scaleFactor = pm.getScale();\n  }\n  extend(MCIndexSnapRounder.prototype, {\n    checkCorrectness: function checkCorrectness(inputSegmentStrings) {\n      var resultSegStrings = NodedSegmentString.getNodedSubstrings(inputSegmentStrings);\n      var nv = new NodingValidator(resultSegStrings);\n\n      try {\n        nv.checkValid();\n      } catch (ex) {\n        if (ex instanceof Exception) {\n          ex.printStackTrace();\n        } else throw ex;\n      } finally {}\n    },\n    getNodedSubstrings: function getNodedSubstrings() {\n      return NodedSegmentString.getNodedSubstrings(this._nodedSegStrings);\n    },\n    snapRound: function snapRound(segStrings, li) {\n      var intersections = this.findInteriorIntersections(segStrings, li);\n      this.computeIntersectionSnaps(intersections);\n      this.computeVertexSnaps(segStrings);\n    },\n    findInteriorIntersections: function findInteriorIntersections(segStrings, li) {\n      var intFinderAdder = new InteriorIntersectionFinderAdder(li);\n\n      this._noder.setSegmentIntersector(intFinderAdder);\n\n      this._noder.computeNodes(segStrings);\n\n      return intFinderAdder.getInteriorIntersections();\n    },\n    computeVertexSnaps: function computeVertexSnaps() {\n      if (hasInterface(arguments[0], Collection)) {\n        var edges = arguments[0];\n\n        for (var i0 = edges.iterator(); i0.hasNext();) {\n          var edge0 = i0.next();\n          this.computeVertexSnaps(edge0);\n        }\n      } else if (arguments[0] instanceof NodedSegmentString) {\n        var e = arguments[0];\n        var pts0 = e.getCoordinates();\n\n        for (var i = 0; i < pts0.length; i++) {\n          var hotPixel = new HotPixel(pts0[i], this._scaleFactor, this._li);\n\n          var isNodeAdded = this._pointSnapper.snap(hotPixel, e, i);\n\n          if (isNodeAdded) {\n            e.addIntersection(pts0[i], i);\n          }\n        }\n      }\n    },\n    computeNodes: function computeNodes(inputSegmentStrings) {\n      this._nodedSegStrings = inputSegmentStrings;\n      this._noder = new MCIndexNoder();\n      this._pointSnapper = new MCIndexPointSnapper(this._noder.getIndex());\n      this.snapRound(inputSegmentStrings, this._li);\n    },\n    computeIntersectionSnaps: function computeIntersectionSnaps(snapPts) {\n      for (var it = snapPts.iterator(); it.hasNext();) {\n        var snapPt = it.next();\n        var hotPixel = new HotPixel(snapPt, this._scaleFactor, this._li);\n\n        this._pointSnapper.snap(hotPixel);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [Noder];\n    },\n    getClass: function getClass() {\n      return MCIndexSnapRounder;\n    }\n  });\n\n  function BufferOp() {\n    this._argGeom = null;\n    this._distance = null;\n    this._bufParams = new BufferParameters();\n    this._resultGeometry = null;\n    this._saveException = null;\n\n    if (arguments.length === 1) {\n      var g = arguments[0];\n      this._argGeom = g;\n    } else if (arguments.length === 2) {\n      var _g = arguments[0],\n          bufParams = arguments[1];\n      this._argGeom = _g;\n      this._bufParams = bufParams;\n    }\n  }\n  extend(BufferOp.prototype, {\n    bufferFixedPrecision: function bufferFixedPrecision(fixedPM) {\n      var noder = new ScaledNoder(new MCIndexSnapRounder(new PrecisionModel(1.0)), fixedPM.getScale());\n      var bufBuilder = new BufferBuilder(this._bufParams);\n      bufBuilder.setWorkingPrecisionModel(fixedPM);\n      bufBuilder.setNoder(noder);\n      this._resultGeometry = bufBuilder.buffer(this._argGeom, this._distance);\n    },\n    bufferReducedPrecision: function bufferReducedPrecision() {\n      if (arguments.length === 0) {\n        for (var precDigits = BufferOp.MAX_PRECISION_DIGITS; precDigits >= 0; precDigits--) {\n          try {\n            this.bufferReducedPrecision(precDigits);\n          } catch (ex) {\n            if (ex instanceof TopologyException) {\n              this._saveException = ex;\n            } else throw ex;\n          } finally {}\n\n          if (this._resultGeometry !== null) return null;\n        }\n\n        throw this._saveException;\n      } else if (arguments.length === 1) {\n        var precisionDigits = arguments[0];\n        var sizeBasedScaleFactor = BufferOp.precisionScaleFactor(this._argGeom, this._distance, precisionDigits);\n        var fixedPM = new PrecisionModel(sizeBasedScaleFactor);\n        this.bufferFixedPrecision(fixedPM);\n      }\n    },\n    computeGeometry: function computeGeometry() {\n      this.bufferOriginalPrecision();\n      if (this._resultGeometry !== null) return null;\n\n      var argPM = this._argGeom.getFactory().getPrecisionModel();\n\n      if (argPM.getType() === PrecisionModel.FIXED) this.bufferFixedPrecision(argPM);else this.bufferReducedPrecision();\n    },\n    setQuadrantSegments: function setQuadrantSegments(quadrantSegments) {\n      this._bufParams.setQuadrantSegments(quadrantSegments);\n    },\n    bufferOriginalPrecision: function bufferOriginalPrecision() {\n      try {\n        var bufBuilder = new BufferBuilder(this._bufParams);\n        this._resultGeometry = bufBuilder.buffer(this._argGeom, this._distance);\n      } catch (ex) {\n        if (ex instanceof RuntimeException) {\n          this._saveException = ex;\n        } else throw ex;\n      } finally {}\n    },\n    getResultGeometry: function getResultGeometry(distance) {\n      this._distance = distance;\n      this.computeGeometry();\n      return this._resultGeometry;\n    },\n    setEndCapStyle: function setEndCapStyle(endCapStyle) {\n      this._bufParams.setEndCapStyle(endCapStyle);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return BufferOp;\n    }\n  });\n\n  BufferOp.bufferOp = function () {\n    if (arguments.length === 2) {\n      var g = arguments[0],\n          distance = arguments[1];\n      var gBuf = new BufferOp(g);\n      var geomBuf = gBuf.getResultGeometry(distance);\n      return geomBuf;\n    } else if (arguments.length === 3) {\n      if (Number.isInteger(arguments[2]) && arguments[0] instanceof Geometry && typeof arguments[1] === \"number\") {\n        var _g2 = arguments[0],\n            _distance = arguments[1],\n            quadrantSegments = arguments[2];\n        var bufOp = new BufferOp(_g2);\n        bufOp.setQuadrantSegments(quadrantSegments);\n        var geomBuf = bufOp.getResultGeometry(_distance);\n        return geomBuf;\n      } else if (arguments[2] instanceof BufferParameters && arguments[0] instanceof Geometry && typeof arguments[1] === \"number\") {\n        var _g3 = arguments[0],\n            _distance2 = arguments[1],\n            params = arguments[2];\n        var bufOp = new BufferOp(_g3, params);\n        var geomBuf = bufOp.getResultGeometry(_distance2);\n        return geomBuf;\n      }\n    } else if (arguments.length === 4) {\n      var _g4 = arguments[0],\n          _distance3 = arguments[1],\n          _quadrantSegments = arguments[2],\n          endCapStyle = arguments[3];\n      var bufOp = new BufferOp(_g4);\n      bufOp.setQuadrantSegments(_quadrantSegments);\n      bufOp.setEndCapStyle(endCapStyle);\n      var geomBuf = bufOp.getResultGeometry(_distance3);\n      return geomBuf;\n    }\n  };\n\n  BufferOp.precisionScaleFactor = function (g, distance, maxPrecisionDigits) {\n    var env = g.getEnvelopeInternal();\n    var envMax = MathUtil.max(Math.abs(env.getMaxX()), Math.abs(env.getMaxY()), Math.abs(env.getMinX()), Math.abs(env.getMinY()));\n    var expandByDistance = distance > 0.0 ? distance : 0.0;\n    var bufEnvMax = envMax + 2 * expandByDistance;\n    var bufEnvPrecisionDigits = Math.trunc(Math.log(bufEnvMax) / Math.log(10) + 1.0);\n    var minUnitLog10 = maxPrecisionDigits - bufEnvPrecisionDigits;\n    var scaleFactor = Math.pow(10.0, minUnitLog10);\n    return scaleFactor;\n  };\n\n  BufferOp.CAP_ROUND = BufferParameters.CAP_ROUND;\n  BufferOp.CAP_BUTT = BufferParameters.CAP_FLAT;\n  BufferOp.CAP_FLAT = BufferParameters.CAP_FLAT;\n  BufferOp.CAP_SQUARE = BufferParameters.CAP_SQUARE;\n  BufferOp.MAX_PRECISION_DIGITS = 12;\n\n\n\n  var buffer = /*#__PURE__*/Object.freeze({\n    BufferOp: BufferOp,\n    BufferParameters: BufferParameters\n  });\n\n  function PolygonExtracter() {\n    this._comps = null;\n    var comps = arguments[0];\n    this._comps = comps;\n  }\n  extend(PolygonExtracter.prototype, {\n    filter: function filter(geom) {\n      if (geom instanceof Polygon) this._comps.add(geom);\n    },\n    interfaces_: function interfaces_() {\n      return [GeometryFilter];\n    },\n    getClass: function getClass() {\n      return PolygonExtracter;\n    }\n  });\n\n  PolygonExtracter.getPolygons = function () {\n    if (arguments.length === 1) {\n      var geom = arguments[0];\n      return PolygonExtracter.getPolygons(geom, new ArrayList());\n    } else if (arguments.length === 2) {\n      var _geom = arguments[0],\n          list = arguments[1];\n\n      if (_geom instanceof Polygon) {\n        list.add(_geom);\n      } else if (_geom instanceof GeometryCollection) {\n        _geom.apply(new PolygonExtracter(list));\n      }\n\n      return list;\n    }\n  };\n\n  function GeometryLocation() {\n    this._component = null;\n    this._segIndex = null;\n    this._pt = null;\n\n    if (arguments.length === 2) {\n      var component = arguments[0],\n          pt = arguments[1];\n      GeometryLocation.call(this, component, GeometryLocation.INSIDE_AREA, pt);\n    } else if (arguments.length === 3) {\n      var _component = arguments[0],\n          segIndex = arguments[1],\n          _pt = arguments[2];\n      this._component = _component;\n      this._segIndex = segIndex;\n      this._pt = _pt;\n    }\n  }\n  extend(GeometryLocation.prototype, {\n    isInsideArea: function isInsideArea() {\n      return this._segIndex === GeometryLocation.INSIDE_AREA;\n    },\n    getCoordinate: function getCoordinate() {\n      return this._pt;\n    },\n    getGeometryComponent: function getGeometryComponent() {\n      return this._component;\n    },\n    getSegmentIndex: function getSegmentIndex() {\n      return this._segIndex;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return GeometryLocation;\n    }\n  });\n  GeometryLocation.INSIDE_AREA = -1;\n\n  function PointExtracter() {\n    this._pts = null;\n    var pts = arguments[0];\n    this._pts = pts;\n  }\n  extend(PointExtracter.prototype, {\n    filter: function filter(geom) {\n      if (geom instanceof Point) this._pts.add(geom);\n    },\n    interfaces_: function interfaces_() {\n      return [GeometryFilter];\n    },\n    getClass: function getClass() {\n      return PointExtracter;\n    }\n  });\n\n  PointExtracter.getPoints = function () {\n    if (arguments.length === 1) {\n      var geom = arguments[0];\n\n      if (geom instanceof Point) {\n        return Collections.singletonList(geom);\n      }\n\n      return PointExtracter.getPoints(geom, new ArrayList());\n    } else if (arguments.length === 2) {\n      var _geom = arguments[0],\n          list = arguments[1];\n\n      if (_geom instanceof Point) {\n        list.add(_geom);\n      } else if (_geom instanceof GeometryCollection) {\n        _geom.apply(new PointExtracter(list));\n      }\n\n      return list;\n    }\n  };\n\n  function ConnectedElementLocationFilter() {\n    this._locations = null;\n    var locations = arguments[0];\n    this._locations = locations;\n  }\n  extend(ConnectedElementLocationFilter.prototype, {\n    filter: function filter(geom) {\n      if (geom instanceof Point || geom instanceof LineString || geom instanceof Polygon) this._locations.add(new GeometryLocation(geom, 0, geom.getCoordinate()));\n    },\n    interfaces_: function interfaces_() {\n      return [GeometryFilter];\n    },\n    getClass: function getClass() {\n      return ConnectedElementLocationFilter;\n    }\n  });\n\n  ConnectedElementLocationFilter.getLocations = function (geom) {\n    var locations = new ArrayList();\n    geom.apply(new ConnectedElementLocationFilter(locations));\n    return locations;\n  };\n\n  function DistanceOp() {\n    this._geom = null;\n    this._terminateDistance = 0.0;\n    this._ptLocator = new PointLocator();\n    this._minDistanceLocation = null;\n    this._minDistance = Double.MAX_VALUE;\n\n    if (arguments.length === 2) {\n      var g0 = arguments[0],\n          g1 = arguments[1];\n      DistanceOp.call(this, g0, g1, 0.0);\n    } else if (arguments.length === 3) {\n      var _g = arguments[0],\n          _g2 = arguments[1],\n          terminateDistance = arguments[2];\n      this._geom = new Array(2).fill(null);\n      this._geom[0] = _g;\n      this._geom[1] = _g2;\n      this._terminateDistance = terminateDistance;\n    }\n  }\n  extend(DistanceOp.prototype, {\n    computeContainmentDistance: function computeContainmentDistance() {\n      if (arguments.length === 0) {\n        var locPtPoly = new Array(2).fill(null);\n        this.computeContainmentDistance(0, locPtPoly);\n        if (this._minDistance <= this._terminateDistance) return null;\n        this.computeContainmentDistance(1, locPtPoly);\n      } else if (arguments.length === 2) {\n        var polyGeomIndex = arguments[0],\n            _locPtPoly = arguments[1];\n        var polyGeom = this._geom[polyGeomIndex];\n        if (polyGeom.getDimension() < 2) return null;\n        var locationsIndex = 1 - polyGeomIndex;\n        var polys = PolygonExtracter.getPolygons(polyGeom);\n\n        if (polys.size() > 0) {\n          var insideLocs = ConnectedElementLocationFilter.getLocations(this._geom[locationsIndex]);\n          this.computeContainmentDistance(insideLocs, polys, _locPtPoly);\n\n          if (this._minDistance <= this._terminateDistance) {\n            this._minDistanceLocation[locationsIndex] = _locPtPoly[0];\n            this._minDistanceLocation[polyGeomIndex] = _locPtPoly[1];\n            return null;\n          }\n        }\n      } else if (arguments.length === 3) {\n        if (arguments[2] instanceof Array && hasInterface(arguments[0], List) && hasInterface(arguments[1], List)) {\n          var locs = arguments[0],\n              _polys = arguments[1],\n              _locPtPoly2 = arguments[2];\n\n          for (var i = 0; i < locs.size(); i++) {\n            var loc = locs.get(i);\n\n            for (var j = 0; j < _polys.size(); j++) {\n              this.computeContainmentDistance(loc, _polys.get(j), _locPtPoly2);\n              if (this._minDistance <= this._terminateDistance) return null;\n            }\n          }\n        } else if (arguments[2] instanceof Array && arguments[0] instanceof GeometryLocation && arguments[1] instanceof Polygon) {\n          var ptLoc = arguments[0],\n              poly = arguments[1],\n              _locPtPoly3 = arguments[2];\n          var pt = ptLoc.getCoordinate();\n\n          if (Location.EXTERIOR !== this._ptLocator.locate(pt, poly)) {\n            this._minDistance = 0.0;\n            _locPtPoly3[0] = ptLoc;\n            _locPtPoly3[1] = new GeometryLocation(poly, pt);\n            return null;\n          }\n        }\n      }\n    },\n    computeMinDistanceLinesPoints: function computeMinDistanceLinesPoints(lines, points, locGeom) {\n      for (var i = 0; i < lines.size(); i++) {\n        var line = lines.get(i);\n\n        for (var j = 0; j < points.size(); j++) {\n          var pt = points.get(j);\n          this.computeMinDistance(line, pt, locGeom);\n          if (this._minDistance <= this._terminateDistance) return null;\n        }\n      }\n    },\n    computeFacetDistance: function computeFacetDistance() {\n      var locGeom = new Array(2).fill(null);\n      var lines0 = LinearComponentExtracter.getLines(this._geom[0]);\n      var lines1 = LinearComponentExtracter.getLines(this._geom[1]);\n      var pts0 = PointExtracter.getPoints(this._geom[0]);\n      var pts1 = PointExtracter.getPoints(this._geom[1]);\n      this.computeMinDistanceLines(lines0, lines1, locGeom);\n      this.updateMinDistance(locGeom, false);\n      if (this._minDistance <= this._terminateDistance) return null;\n      locGeom[0] = null;\n      locGeom[1] = null;\n      this.computeMinDistanceLinesPoints(lines0, pts1, locGeom);\n      this.updateMinDistance(locGeom, false);\n      if (this._minDistance <= this._terminateDistance) return null;\n      locGeom[0] = null;\n      locGeom[1] = null;\n      this.computeMinDistanceLinesPoints(lines1, pts0, locGeom);\n      this.updateMinDistance(locGeom, true);\n      if (this._minDistance <= this._terminateDistance) return null;\n      locGeom[0] = null;\n      locGeom[1] = null;\n      this.computeMinDistancePoints(pts0, pts1, locGeom);\n      this.updateMinDistance(locGeom, false);\n    },\n    nearestLocations: function nearestLocations() {\n      this.computeMinDistance();\n      return this._minDistanceLocation;\n    },\n    updateMinDistance: function updateMinDistance(locGeom, flip) {\n      if (locGeom[0] === null) return null;\n\n      if (flip) {\n        this._minDistanceLocation[0] = locGeom[1];\n        this._minDistanceLocation[1] = locGeom[0];\n      } else {\n        this._minDistanceLocation[0] = locGeom[0];\n        this._minDistanceLocation[1] = locGeom[1];\n      }\n    },\n    nearestPoints: function nearestPoints() {\n      this.computeMinDistance();\n      var nearestPts = [this._minDistanceLocation[0].getCoordinate(), this._minDistanceLocation[1].getCoordinate()];\n      return nearestPts;\n    },\n    computeMinDistance: function computeMinDistance() {\n      if (arguments.length === 0) {\n        if (this._minDistanceLocation !== null) return null;\n        this._minDistanceLocation = new Array(2).fill(null);\n        this.computeContainmentDistance();\n        if (this._minDistance <= this._terminateDistance) return null;\n        this.computeFacetDistance();\n      } else if (arguments.length === 3) {\n        if (arguments[2] instanceof Array && arguments[0] instanceof LineString && arguments[1] instanceof Point) {\n          var line = arguments[0],\n              pt = arguments[1],\n              locGeom = arguments[2];\n          if (line.getEnvelopeInternal().distance(pt.getEnvelopeInternal()) > this._minDistance) return null;\n          var coord0 = line.getCoordinates();\n          var coord = pt.getCoordinate();\n\n          for (var i = 0; i < coord0.length - 1; i++) {\n            var dist = Distance.pointToSegment(coord, coord0[i], coord0[i + 1]);\n\n            if (dist < this._minDistance) {\n              this._minDistance = dist;\n              var seg = new LineSegment(coord0[i], coord0[i + 1]);\n              var segClosestPoint = seg.closestPoint(coord);\n              locGeom[0] = new GeometryLocation(line, i, segClosestPoint);\n              locGeom[1] = new GeometryLocation(pt, 0, coord);\n            }\n\n            if (this._minDistance <= this._terminateDistance) return null;\n          }\n        } else if (arguments[2] instanceof Array && arguments[0] instanceof LineString && arguments[1] instanceof LineString) {\n          var line0 = arguments[0],\n              line1 = arguments[1],\n              _locGeom = arguments[2];\n          if (line0.getEnvelopeInternal().distance(line1.getEnvelopeInternal()) > this._minDistance) return null;\n          var coord0 = line0.getCoordinates();\n          var coord1 = line1.getCoordinates();\n\n          for (var i = 0; i < coord0.length - 1; i++) {\n            for (var j = 0; j < coord1.length - 1; j++) {\n              var dist = Distance.segmentToSegment(coord0[i], coord0[i + 1], coord1[j], coord1[j + 1]);\n\n              if (dist < this._minDistance) {\n                this._minDistance = dist;\n                var seg0 = new LineSegment(coord0[i], coord0[i + 1]);\n                var seg1 = new LineSegment(coord1[j], coord1[j + 1]);\n                var closestPt = seg0.closestPoints(seg1);\n                _locGeom[0] = new GeometryLocation(line0, i, closestPt[0]);\n                _locGeom[1] = new GeometryLocation(line1, j, closestPt[1]);\n              }\n\n              if (this._minDistance <= this._terminateDistance) return null;\n            }\n          }\n        }\n      }\n    },\n    computeMinDistancePoints: function computeMinDistancePoints(points0, points1, locGeom) {\n      for (var i = 0; i < points0.size(); i++) {\n        var pt0 = points0.get(i);\n\n        for (var j = 0; j < points1.size(); j++) {\n          var pt1 = points1.get(j);\n          var dist = pt0.getCoordinate().distance(pt1.getCoordinate());\n\n          if (dist < this._minDistance) {\n            this._minDistance = dist;\n            locGeom[0] = new GeometryLocation(pt0, 0, pt0.getCoordinate());\n            locGeom[1] = new GeometryLocation(pt1, 0, pt1.getCoordinate());\n          }\n\n          if (this._minDistance <= this._terminateDistance) return null;\n        }\n      }\n    },\n    distance: function distance() {\n      if (this._geom[0] === null || this._geom[1] === null) throw new IllegalArgumentException(\"null geometries are not supported\");\n      if (this._geom[0].isEmpty() || this._geom[1].isEmpty()) return 0.0;\n      this.computeMinDistance();\n      return this._minDistance;\n    },\n    computeMinDistanceLines: function computeMinDistanceLines(lines0, lines1, locGeom) {\n      for (var i = 0; i < lines0.size(); i++) {\n        var line0 = lines0.get(i);\n\n        for (var j = 0; j < lines1.size(); j++) {\n          var line1 = lines1.get(j);\n          this.computeMinDistance(line0, line1, locGeom);\n          if (this._minDistance <= this._terminateDistance) return null;\n        }\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return DistanceOp;\n    }\n  });\n\n  DistanceOp.distance = function (g0, g1) {\n    var distOp = new DistanceOp(g0, g1);\n    return distOp.distance();\n  };\n\n  DistanceOp.isWithinDistance = function (g0, g1, distance) {\n    var envDist = g0.getEnvelopeInternal().distance(g1.getEnvelopeInternal());\n    if (envDist > distance) return false;\n    var distOp = new DistanceOp(g0, g1, distance);\n    return distOp.distance() <= distance;\n  };\n\n  DistanceOp.nearestPoints = function (g0, g1) {\n    var distOp = new DistanceOp(g0, g1);\n    return distOp.nearestPoints();\n  };\n\n\n\n  var distance = /*#__PURE__*/Object.freeze({\n    DistanceOp: DistanceOp\n  });\n\n  function EdgeString() {\n    this._factory = null;\n    this._directedEdges = new ArrayList();\n    this._coordinates = null;\n    var factory = arguments[0];\n    this._factory = factory;\n  }\n  extend(EdgeString.prototype, {\n    getCoordinates: function getCoordinates() {\n      if (this._coordinates === null) {\n        var forwardDirectedEdges = 0;\n        var reverseDirectedEdges = 0;\n        var coordinateList = new CoordinateList();\n\n        for (var i = this._directedEdges.iterator(); i.hasNext();) {\n          var directedEdge = i.next();\n\n          if (directedEdge.getEdgeDirection()) {\n            forwardDirectedEdges++;\n          } else {\n            reverseDirectedEdges++;\n          }\n\n          coordinateList.add(directedEdge.getEdge().getLine().getCoordinates(), false, directedEdge.getEdgeDirection());\n        }\n\n        this._coordinates = coordinateList.toCoordinateArray();\n\n        if (reverseDirectedEdges > forwardDirectedEdges) {\n          CoordinateArrays.reverse(this._coordinates);\n        }\n      }\n\n      return this._coordinates;\n    },\n    toLineString: function toLineString() {\n      return this._factory.createLineString(this.getCoordinates());\n    },\n    add: function add(directedEdge) {\n      this._directedEdges.add(directedEdge);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return EdgeString;\n    }\n  });\n\n  function GraphComponent$1() {\n    this._isMarked = false;\n    this._isVisited = false;\n    this._data = null;\n  }\n  extend(GraphComponent$1.prototype, {\n    setVisited: function setVisited(isVisited) {\n      this._isVisited = isVisited;\n    },\n    isMarked: function isMarked() {\n      return this._isMarked;\n    },\n    setData: function setData(data) {\n      this._data = data;\n    },\n    getData: function getData() {\n      return this._data;\n    },\n    setMarked: function setMarked(isMarked) {\n      this._isMarked = isMarked;\n    },\n    getContext: function getContext() {\n      return this._data;\n    },\n    isVisited: function isVisited() {\n      return this._isVisited;\n    },\n    setContext: function setContext(data) {\n      this._data = data;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return GraphComponent$1;\n    }\n  });\n\n  GraphComponent$1.getComponentWithVisitedState = function (i, visitedState) {\n    while (i.hasNext()) {\n      var comp = i.next();\n      if (comp.isVisited() === visitedState) return comp;\n    }\n\n    return null;\n  };\n\n  GraphComponent$1.setVisited = function (i, visited) {\n    while (i.hasNext()) {\n      var comp = i.next();\n      comp.setVisited(visited);\n    }\n  };\n\n  GraphComponent$1.setMarked = function (i, marked) {\n    while (i.hasNext()) {\n      var comp = i.next();\n      comp.setMarked(marked);\n    }\n  };\n\n  function DirectedEdge$1() {\n    GraphComponent$1.apply(this);\n    this._parentEdge = null;\n    this._from = null;\n    this._to = null;\n    this._p0 = null;\n    this._p1 = null;\n    this._sym = null;\n    this._edgeDirection = null;\n    this._quadrant = null;\n    this._angle = null;\n    var from = arguments[0],\n        to = arguments[1],\n        directionPt = arguments[2],\n        edgeDirection = arguments[3];\n    this._from = from;\n    this._to = to;\n    this._edgeDirection = edgeDirection;\n    this._p0 = from.getCoordinate();\n    this._p1 = directionPt;\n    var dx = this._p1.x - this._p0.x;\n    var dy = this._p1.y - this._p0.y;\n    this._quadrant = Quadrant.quadrant(dx, dy);\n    this._angle = Math.atan2(dy, dx);\n  }\n  inherits(DirectedEdge$1, GraphComponent$1);\n  extend(DirectedEdge$1.prototype, {\n    isRemoved: function isRemoved() {\n      return this._parentEdge === null;\n    },\n    compareDirection: function compareDirection(e) {\n      if (this._quadrant > e._quadrant) return 1;\n      if (this._quadrant < e._quadrant) return -1;\n      return Orientation.index(e._p0, e._p1, this._p1);\n    },\n    getCoordinate: function getCoordinate() {\n      return this._from.getCoordinate();\n    },\n    print: function print(out) {\n      var className = this.getClass().getName();\n      var lastDotPos = className.lastIndexOf('.');\n      var name = className.substring(lastDotPos + 1);\n      out.print(\"  \" + name + \": \" + this._p0 + \" - \" + this._p1 + \" \" + this._quadrant + \":\" + this._angle);\n    },\n    getDirectionPt: function getDirectionPt() {\n      return this._p1;\n    },\n    getAngle: function getAngle() {\n      return this._angle;\n    },\n    compareTo: function compareTo(obj) {\n      var de = obj;\n      return this.compareDirection(de);\n    },\n    getFromNode: function getFromNode() {\n      return this._from;\n    },\n    getSym: function getSym() {\n      return this._sym;\n    },\n    setEdge: function setEdge(parentEdge) {\n      this._parentEdge = parentEdge;\n    },\n    remove: function remove() {\n      this._sym = null;\n      this._parentEdge = null;\n    },\n    getEdge: function getEdge() {\n      return this._parentEdge;\n    },\n    getQuadrant: function getQuadrant() {\n      return this._quadrant;\n    },\n    setSym: function setSym(sym) {\n      this._sym = sym;\n    },\n    getToNode: function getToNode() {\n      return this._to;\n    },\n    getEdgeDirection: function getEdgeDirection() {\n      return this._edgeDirection;\n    },\n    interfaces_: function interfaces_() {\n      return [Comparable];\n    },\n    getClass: function getClass() {\n      return DirectedEdge$1;\n    }\n  });\n\n  DirectedEdge$1.toEdges = function (dirEdges) {\n    var edges = new ArrayList();\n\n    for (var i = dirEdges.iterator(); i.hasNext();) {\n      edges.add(i.next()._parentEdge);\n    }\n\n    return edges;\n  };\n\n  function LineMergeDirectedEdge() {\n    var from = arguments[0],\n        to = arguments[1],\n        directionPt = arguments[2],\n        edgeDirection = arguments[3];\n    DirectedEdge$1.call(this, from, to, directionPt, edgeDirection);\n  }\n  inherits(LineMergeDirectedEdge, DirectedEdge$1);\n  extend(LineMergeDirectedEdge.prototype, {\n    getNext: function getNext() {\n      if (this.getToNode().getDegree() !== 2) {\n        return null;\n      }\n\n      if (this.getToNode().getOutEdges().getEdges().get(0) === this.getSym()) {\n        return this.getToNode().getOutEdges().getEdges().get(1);\n      }\n\n      Assert.isTrue(this.getToNode().getOutEdges().getEdges().get(1) === this.getSym());\n      return this.getToNode().getOutEdges().getEdges().get(0);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LineMergeDirectedEdge;\n    }\n  });\n\n  function Edge$1() {\n    GraphComponent$1.apply(this);\n    this._dirEdge = null;\n\n    if (arguments.length === 0) ; else if (arguments.length === 2) {\n      var de0 = arguments[0],\n          de1 = arguments[1];\n      this.setDirectedEdges(de0, de1);\n    }\n  }\n  inherits(Edge$1, GraphComponent$1);\n  extend(Edge$1.prototype, {\n    isRemoved: function isRemoved() {\n      return this._dirEdge === null;\n    },\n    setDirectedEdges: function setDirectedEdges(de0, de1) {\n      this._dirEdge = [de0, de1];\n      de0.setEdge(this);\n      de1.setEdge(this);\n      de0.setSym(de1);\n      de1.setSym(de0);\n      de0.getFromNode().addOutEdge(de0);\n      de1.getFromNode().addOutEdge(de1);\n    },\n    getDirEdge: function getDirEdge() {\n      if (Number.isInteger(arguments[0])) {\n        var i = arguments[0];\n        return this._dirEdge[i];\n      } else if (arguments[0] instanceof Node$3) {\n        var fromNode = arguments[0];\n        if (this._dirEdge[0].getFromNode() === fromNode) return this._dirEdge[0];\n        if (this._dirEdge[1].getFromNode() === fromNode) return this._dirEdge[1];\n        return null;\n      }\n    },\n    remove: function remove() {\n      this._dirEdge = null;\n    },\n    getOppositeNode: function getOppositeNode(node) {\n      if (this._dirEdge[0].getFromNode() === node) return this._dirEdge[0].getToNode();\n      if (this._dirEdge[1].getFromNode() === node) return this._dirEdge[1].getToNode();\n      return null;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Edge$1;\n    }\n  });\n\n  function DirectedEdgeStar$1() {\n    this._outEdges = new ArrayList();\n    this._sorted = false;\n  }\n  extend(DirectedEdgeStar$1.prototype, {\n    getNextEdge: function getNextEdge(dirEdge) {\n      var i = this.getIndex(dirEdge);\n      return this._outEdges.get(this.getIndex(i + 1));\n    },\n    getCoordinate: function getCoordinate() {\n      var it = this.iterator();\n      if (!it.hasNext()) return null;\n      var e = it.next();\n      return e.getCoordinate();\n    },\n    iterator: function iterator() {\n      this.sortEdges();\n      return this._outEdges.iterator();\n    },\n    sortEdges: function sortEdges() {\n      if (!this._sorted) {\n        Collections.sort(this._outEdges);\n        this._sorted = true;\n      }\n    },\n    remove: function remove(de) {\n      this._outEdges.remove(de);\n    },\n    getEdges: function getEdges() {\n      this.sortEdges();\n      return this._outEdges;\n    },\n    getNextCWEdge: function getNextCWEdge(dirEdge) {\n      var i = this.getIndex(dirEdge);\n      return this._outEdges.get(this.getIndex(i - 1));\n    },\n    getIndex: function getIndex() {\n      if (arguments[0] instanceof Edge$1) {\n        var edge = arguments[0];\n        this.sortEdges();\n\n        for (var i = 0; i < this._outEdges.size(); i++) {\n          var de = this._outEdges.get(i);\n\n          if (de.getEdge() === edge) return i;\n        }\n\n        return -1;\n      } else if (arguments[0] instanceof DirectedEdge$1) {\n        var dirEdge = arguments[0];\n        this.sortEdges();\n\n        for (var i = 0; i < this._outEdges.size(); i++) {\n          var de = this._outEdges.get(i);\n\n          if (de === dirEdge) return i;\n        }\n\n        return -1;\n      } else if (Number.isInteger(arguments[0])) {\n        var _i = arguments[0];\n\n        var modi = _i % this._outEdges.size();\n\n        if (modi < 0) modi += this._outEdges.size();\n        return modi;\n      }\n    },\n    add: function add(de) {\n      this._outEdges.add(de);\n\n      this._sorted = false;\n    },\n    getDegree: function getDegree() {\n      return this._outEdges.size();\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return DirectedEdgeStar$1;\n    }\n  });\n\n  function Node$3() {\n    GraphComponent$1.apply(this);\n    this._pt = null;\n    this._deStar = null;\n\n    if (arguments.length === 1) {\n      var pt = arguments[0];\n      Node$3.call(this, pt, new DirectedEdgeStar$1());\n    } else if (arguments.length === 2) {\n      var _pt = arguments[0],\n          deStar = arguments[1];\n      this._pt = _pt;\n      this._deStar = deStar;\n    }\n  }\n  inherits(Node$3, GraphComponent$1);\n  extend(Node$3.prototype, {\n    isRemoved: function isRemoved() {\n      return this._pt === null;\n    },\n    addOutEdge: function addOutEdge(de) {\n      this._deStar.add(de);\n    },\n    getCoordinate: function getCoordinate() {\n      return this._pt;\n    },\n    getOutEdges: function getOutEdges() {\n      return this._deStar;\n    },\n    remove: function remove() {\n      if (arguments.length === 0) {\n        this._pt = null;\n      } else if (arguments.length === 1) {\n        var de = arguments[0];\n\n        this._deStar.remove(de);\n      }\n    },\n    getIndex: function getIndex(edge) {\n      return this._deStar.getIndex(edge);\n    },\n    getDegree: function getDegree() {\n      return this._deStar.getDegree();\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Node$3;\n    }\n  });\n\n  Node$3.getEdgesBetween = function (node0, node1) {\n    var edges0 = DirectedEdge$1.toEdges(node0.getOutEdges().getEdges());\n    var commonEdges = new HashSet(edges0);\n    var edges1 = DirectedEdge$1.toEdges(node1.getOutEdges().getEdges());\n    commonEdges.retainAll(edges1);\n    return commonEdges;\n  };\n\n  function LineMergeEdge() {\n    Edge$1.apply(this);\n    this._line = null;\n    var line = arguments[0];\n    this._line = line;\n  }\n  inherits(LineMergeEdge, Edge$1);\n  extend(LineMergeEdge.prototype, {\n    getLine: function getLine() {\n      return this._line;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LineMergeEdge;\n    }\n  });\n\n  function NodeMap$1() {\n    this._nodeMap = new TreeMap();\n  }\n  extend(NodeMap$1.prototype, {\n    find: function find(coord) {\n      return this._nodeMap.get(coord);\n    },\n    iterator: function iterator() {\n      return this._nodeMap.values().iterator();\n    },\n    remove: function remove(pt) {\n      return this._nodeMap.remove(pt);\n    },\n    values: function values() {\n      return this._nodeMap.values();\n    },\n    add: function add(n) {\n      this._nodeMap.put(n.getCoordinate(), n);\n\n      return n;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return NodeMap$1;\n    }\n  });\n\n  function PlanarGraph$1() {\n    this._edges = new HashSet();\n    this._dirEdges = new HashSet();\n    this._nodeMap = new NodeMap$1();\n  }\n  extend(PlanarGraph$1.prototype, {\n    findNodesOfDegree: function findNodesOfDegree(degree) {\n      var nodesFound = new ArrayList();\n\n      for (var i = this.nodeIterator(); i.hasNext();) {\n        var node = i.next();\n        if (node.getDegree() === degree) nodesFound.add(node);\n      }\n\n      return nodesFound;\n    },\n    dirEdgeIterator: function dirEdgeIterator() {\n      return this._dirEdges.iterator();\n    },\n    edgeIterator: function edgeIterator() {\n      return this._edges.iterator();\n    },\n    remove: function remove() {\n      if (arguments[0] instanceof Edge$1) {\n        var _edge = arguments[0];\n        this.remove(_edge.getDirEdge(0));\n        this.remove(_edge.getDirEdge(1));\n\n        this._edges.remove(_edge);\n\n        _edge.remove();\n      } else if (arguments[0] instanceof DirectedEdge$1) {\n        var _de = arguments[0];\n\n        var sym = _de.getSym();\n\n        if (sym !== null) sym.setSym(null);\n\n        _de.getFromNode().remove(_de);\n\n        _de.remove();\n\n        this._dirEdges.remove(_de);\n      } else if (arguments[0] instanceof Node$3) {\n        var node = arguments[0];\n        var outEdges = node.getOutEdges().getEdges();\n\n        for (var i = outEdges.iterator(); i.hasNext();) {\n          var de = i.next();\n          var sym = de.getSym();\n          if (sym !== null) this.remove(sym);\n\n          this._dirEdges.remove(de);\n\n          var edge = de.getEdge();\n\n          if (edge !== null) {\n            this._edges.remove(edge);\n          }\n        }\n\n        this._nodeMap.remove(node.getCoordinate());\n\n        node.remove();\n      }\n    },\n    findNode: function findNode(pt) {\n      return this._nodeMap.find(pt);\n    },\n    getEdges: function getEdges() {\n      return this._edges;\n    },\n    nodeIterator: function nodeIterator() {\n      return this._nodeMap.iterator();\n    },\n    contains: function contains() {\n      if (arguments[0] instanceof Edge$1) {\n        var e = arguments[0];\n        return this._edges.contains(e);\n      } else if (arguments[0] instanceof DirectedEdge$1) {\n        var de = arguments[0];\n        return this._dirEdges.contains(de);\n      }\n    },\n    add: function add() {\n      if (arguments[0] instanceof Node$3) {\n        var node = arguments[0];\n\n        this._nodeMap.add(node);\n      } else if (arguments[0] instanceof Edge$1) {\n        var edge = arguments[0];\n\n        this._edges.add(edge);\n\n        this.add(edge.getDirEdge(0));\n        this.add(edge.getDirEdge(1));\n      } else if (arguments[0] instanceof DirectedEdge$1) {\n        var dirEdge = arguments[0];\n\n        this._dirEdges.add(dirEdge);\n      }\n    },\n    getNodes: function getNodes() {\n      return this._nodeMap.values();\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return PlanarGraph$1;\n    }\n  });\n\n  function LineMergeGraph() {\n    PlanarGraph$1.apply(this);\n  }\n  inherits(LineMergeGraph, PlanarGraph$1);\n  extend(LineMergeGraph.prototype, {\n    addEdge: function addEdge(lineString) {\n      if (lineString.isEmpty()) {\n        return null;\n      }\n\n      var coordinates = CoordinateArrays.removeRepeatedPoints(lineString.getCoordinates());\n      if (coordinates.length <= 1) return null;\n      var startCoordinate = coordinates[0];\n      var endCoordinate = coordinates[coordinates.length - 1];\n      var startNode = this.getNode(startCoordinate);\n      var endNode = this.getNode(endCoordinate);\n      var directedEdge0 = new LineMergeDirectedEdge(startNode, endNode, coordinates[1], true);\n      var directedEdge1 = new LineMergeDirectedEdge(endNode, startNode, coordinates[coordinates.length - 2], false);\n      var edge = new LineMergeEdge(lineString);\n      edge.setDirectedEdges(directedEdge0, directedEdge1);\n      this.add(edge);\n    },\n    getNode: function getNode(coordinate) {\n      var node = this.findNode(coordinate);\n\n      if (node === null) {\n        node = new Node$3(coordinate);\n        this.add(node);\n      }\n\n      return node;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LineMergeGraph;\n    }\n  });\n\n  function LineMerger() {\n    this._graph = new LineMergeGraph();\n    this._mergedLineStrings = null;\n    this._factory = null;\n    this._edgeStrings = null;\n  }\n  extend(LineMerger.prototype, {\n    buildEdgeStringsForUnprocessedNodes: function buildEdgeStringsForUnprocessedNodes() {\n      for (var i = this._graph.getNodes().iterator(); i.hasNext();) {\n        var node = i.next();\n\n        if (!node.isMarked()) {\n          Assert.isTrue(node.getDegree() === 2);\n          this.buildEdgeStringsStartingAt(node);\n          node.setMarked(true);\n        }\n      }\n    },\n    buildEdgeStringsForNonDegree2Nodes: function buildEdgeStringsForNonDegree2Nodes() {\n      for (var i = this._graph.getNodes().iterator(); i.hasNext();) {\n        var node = i.next();\n\n        if (node.getDegree() !== 2) {\n          this.buildEdgeStringsStartingAt(node);\n          node.setMarked(true);\n        }\n      }\n    },\n    buildEdgeStringsForObviousStartNodes: function buildEdgeStringsForObviousStartNodes() {\n      this.buildEdgeStringsForNonDegree2Nodes();\n    },\n    getMergedLineStrings: function getMergedLineStrings() {\n      this.merge();\n      return this._mergedLineStrings;\n    },\n    buildEdgeStringsStartingAt: function buildEdgeStringsStartingAt(node) {\n      for (var i = node.getOutEdges().iterator(); i.hasNext();) {\n        var directedEdge = i.next();\n\n        if (directedEdge.getEdge().isMarked()) {\n          continue;\n        }\n\n        this._edgeStrings.add(this.buildEdgeStringStartingWith(directedEdge));\n      }\n    },\n    merge: function merge() {\n      if (this._mergedLineStrings !== null) {\n        return null;\n      }\n\n      GraphComponent$1.setMarked(this._graph.nodeIterator(), false);\n      GraphComponent$1.setMarked(this._graph.edgeIterator(), false);\n      this._edgeStrings = new ArrayList();\n      this.buildEdgeStringsForObviousStartNodes();\n      this.buildEdgeStringsForIsolatedLoops();\n      this._mergedLineStrings = new ArrayList();\n\n      for (var i = this._edgeStrings.iterator(); i.hasNext();) {\n        var edgeString = i.next();\n\n        this._mergedLineStrings.add(edgeString.toLineString());\n      }\n    },\n    buildEdgeStringStartingWith: function buildEdgeStringStartingWith(start) {\n      var edgeString = new EdgeString(this._factory);\n      var current = start;\n\n      do {\n        edgeString.add(current);\n        current.getEdge().setMarked(true);\n        current = current.getNext();\n      } while (current !== null && current !== start);\n\n      return edgeString;\n    },\n    add: function add() {\n      if (arguments[0] instanceof Geometry) {\n        var _geometry = arguments[0];\n\n        _geometry.apply({\n          interfaces_: function interfaces_() {\n            return [GeometryComponentFilter];\n          },\n          filter: function filter(component) {\n            if (component instanceof LineString) {\n              this.add(component);\n            }\n          }\n        });\n      } else if (hasInterface(arguments[0], Collection)) {\n        var geometries = arguments[0];\n        this._mergedLineStrings = null;\n\n        for (var i = geometries.iterator(); i.hasNext();) {\n          var geometry = i.next();\n          this.add(geometry);\n        }\n      } else if (arguments[0] instanceof LineString) {\n        var lineString = arguments[0];\n\n        if (this._factory === null) {\n          this._factory = lineString.getFactory();\n        }\n\n        this._graph.addEdge(lineString);\n      }\n    },\n    buildEdgeStringsForIsolatedLoops: function buildEdgeStringsForIsolatedLoops() {\n      this.buildEdgeStringsForUnprocessedNodes();\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LineMerger;\n    }\n  });\n\n\n\n  var linemerge = /*#__PURE__*/Object.freeze({\n    LineMerger: LineMerger\n  });\n\n  function BasicSegmentString() {\n    this._pts = null;\n    this._data = null;\n    var pts = arguments[0],\n        data = arguments[1];\n    this._pts = pts;\n    this._data = data;\n  }\n  extend(BasicSegmentString.prototype, {\n    getCoordinates: function getCoordinates() {\n      return this._pts;\n    },\n    size: function size() {\n      return this._pts.length;\n    },\n    getCoordinate: function getCoordinate(i) {\n      return this._pts[i];\n    },\n    isClosed: function isClosed() {\n      return this._pts[0].equals(this._pts[this._pts.length - 1]);\n    },\n    getSegmentOctant: function getSegmentOctant(index) {\n      if (index === this._pts.length - 1) return -1;\n      return Octant.octant(this.getCoordinate(index), this.getCoordinate(index + 1));\n    },\n    setData: function setData(data) {\n      this._data = data;\n    },\n    getData: function getData() {\n      return this._data;\n    },\n    toString: function toString() {\n      return WKTWriter.toLineString(new CoordinateArraySequence(this._pts));\n    },\n    interfaces_: function interfaces_() {\n      return [SegmentString];\n    },\n    getClass: function getClass() {\n      return BasicSegmentString;\n    }\n  });\n\n  function InteriorIntersectionFinder() {\n    this._findAllIntersections = false;\n    this._isCheckEndSegmentsOnly = false;\n    this._li = null;\n    this._interiorIntersection = null;\n    this._intSegments = null;\n    this._intersections = new ArrayList();\n    this._intersectionCount = 0;\n    this._keepIntersections = true;\n    var li = arguments[0];\n    this._li = li;\n    this._interiorIntersection = null;\n  }\n  extend(InteriorIntersectionFinder.prototype, {\n    getInteriorIntersection: function getInteriorIntersection() {\n      return this._interiorIntersection;\n    },\n    setCheckEndSegmentsOnly: function setCheckEndSegmentsOnly(isCheckEndSegmentsOnly) {\n      this._isCheckEndSegmentsOnly = isCheckEndSegmentsOnly;\n    },\n    getIntersectionSegments: function getIntersectionSegments() {\n      return this._intSegments;\n    },\n    count: function count() {\n      return this._intersectionCount;\n    },\n    getIntersections: function getIntersections() {\n      return this._intersections;\n    },\n    setFindAllIntersections: function setFindAllIntersections(findAllIntersections) {\n      this._findAllIntersections = findAllIntersections;\n    },\n    setKeepIntersections: function setKeepIntersections(keepIntersections) {\n      this._keepIntersections = keepIntersections;\n    },\n    processIntersections: function processIntersections(e0, segIndex0, e1, segIndex1) {\n      if (!this._findAllIntersections && this.hasIntersection()) return null;\n      if (e0 === e1 && segIndex0 === segIndex1) return null;\n\n      if (this._isCheckEndSegmentsOnly) {\n        var isEndSegPresent = this.isEndSegment(e0, segIndex0) || this.isEndSegment(e1, segIndex1);\n        if (!isEndSegPresent) return null;\n      }\n\n      var p00 = e0.getCoordinates()[segIndex0];\n      var p01 = e0.getCoordinates()[segIndex0 + 1];\n      var p10 = e1.getCoordinates()[segIndex1];\n      var p11 = e1.getCoordinates()[segIndex1 + 1];\n\n      this._li.computeIntersection(p00, p01, p10, p11);\n\n      if (this._li.hasIntersection()) {\n        if (this._li.isInteriorIntersection()) {\n          this._intSegments = new Array(4).fill(null);\n          this._intSegments[0] = p00;\n          this._intSegments[1] = p01;\n          this._intSegments[2] = p10;\n          this._intSegments[3] = p11;\n          this._interiorIntersection = this._li.getIntersection(0);\n          if (this._keepIntersections) this._intersections.add(this._interiorIntersection);\n          this._intersectionCount++;\n        }\n      }\n    },\n    isEndSegment: function isEndSegment(segStr, index) {\n      if (index === 0) return true;\n      if (index >= segStr.size() - 2) return true;\n      return false;\n    },\n    hasIntersection: function hasIntersection() {\n      return this._interiorIntersection !== null;\n    },\n    isDone: function isDone() {\n      if (this._findAllIntersections) return false;\n      return this._interiorIntersection !== null;\n    },\n    interfaces_: function interfaces_() {\n      return [SegmentIntersector$1];\n    },\n    getClass: function getClass() {\n      return InteriorIntersectionFinder;\n    }\n  });\n\n  InteriorIntersectionFinder.createAllIntersectionsFinder = function (li) {\n    var finder = new InteriorIntersectionFinder(li);\n    finder.setFindAllIntersections(true);\n    return finder;\n  };\n\n  InteriorIntersectionFinder.createAnyIntersectionFinder = function (li) {\n    return new InteriorIntersectionFinder(li);\n  };\n\n  InteriorIntersectionFinder.createIntersectionCounter = function (li) {\n    var finder = new InteriorIntersectionFinder(li);\n    finder.setFindAllIntersections(true);\n    finder.setKeepIntersections(false);\n    return finder;\n  };\n\n  function FastNodingValidator() {\n    this._li = new RobustLineIntersector();\n    this._segStrings = null;\n    this._findAllIntersections = false;\n    this._segInt = null;\n    this._isValid = true;\n    var segStrings = arguments[0];\n    this._segStrings = segStrings;\n  }\n  extend(FastNodingValidator.prototype, {\n    execute: function execute() {\n      if (this._segInt !== null) return null;\n      this.checkInteriorIntersections();\n    },\n    getIntersections: function getIntersections() {\n      return this._segInt.getIntersections();\n    },\n    isValid: function isValid() {\n      this.execute();\n      return this._isValid;\n    },\n    setFindAllIntersections: function setFindAllIntersections(findAllIntersections) {\n      this._findAllIntersections = findAllIntersections;\n    },\n    checkInteriorIntersections: function checkInteriorIntersections() {\n      this._isValid = true;\n      this._segInt = new InteriorIntersectionFinder(this._li);\n\n      this._segInt.setFindAllIntersections(this._findAllIntersections);\n\n      var noder = new MCIndexNoder();\n      noder.setSegmentIntersector(this._segInt);\n      noder.computeNodes(this._segStrings);\n\n      if (this._segInt.hasIntersection()) {\n        this._isValid = false;\n        return null;\n      }\n    },\n    checkValid: function checkValid() {\n      this.execute();\n      if (!this._isValid) throw new TopologyException(this.getErrorMessage(), this._segInt.getInteriorIntersection());\n    },\n    getErrorMessage: function getErrorMessage() {\n      if (this._isValid) return \"no intersections found\";\n\n      var intSegs = this._segInt.getIntersectionSegments();\n\n      return \"found non-noded intersection between \" + WKTWriter.toLineString(intSegs[0], intSegs[1]) + \" and \" + WKTWriter.toLineString(intSegs[2], intSegs[3]);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return FastNodingValidator;\n    }\n  });\n\n  FastNodingValidator.computeIntersections = function (segStrings) {\n    var nv = new FastNodingValidator(segStrings);\n    nv.setFindAllIntersections(true);\n    nv.isValid();\n    return nv.getIntersections();\n  };\n\n  function EdgeNodingValidator() {\n    this._nv = null;\n    var edges = arguments[0];\n    this._nv = new FastNodingValidator(EdgeNodingValidator.toSegmentStrings(edges));\n  }\n  extend(EdgeNodingValidator.prototype, {\n    checkValid: function checkValid() {\n      this._nv.checkValid();\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return EdgeNodingValidator;\n    }\n  });\n\n  EdgeNodingValidator.toSegmentStrings = function (edges) {\n    var segStrings = new ArrayList();\n\n    for (var i = edges.iterator(); i.hasNext();) {\n      var e = i.next();\n      segStrings.add(new BasicSegmentString(e.getCoordinates(), e));\n    }\n\n    return segStrings;\n  };\n\n  EdgeNodingValidator.checkValid = function (edges) {\n    var validator = new EdgeNodingValidator(edges);\n    validator.checkValid();\n  };\n\n  function GeometryCollectionMapper() {\n    this._mapOp = null;\n    var mapOp = arguments[0];\n    this._mapOp = mapOp;\n  }\n  extend(GeometryCollectionMapper.prototype, {\n    map: function map(gc) {\n      var mapped = new ArrayList();\n\n      for (var i = 0; i < gc.getNumGeometries(); i++) {\n        var g = this._mapOp.map(gc.getGeometryN(i));\n\n        if (!g.isEmpty()) mapped.add(g);\n      }\n\n      return gc.getFactory().createGeometryCollection(GeometryFactory.toGeometryArray(mapped));\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return GeometryCollectionMapper;\n    }\n  });\n\n  GeometryCollectionMapper.map = function (gc, op) {\n    var mapper = new GeometryCollectionMapper(op);\n    return mapper.map(gc);\n  };\n\n  function LineBuilder() {\n    this._op = null;\n    this._geometryFactory = null;\n    this._ptLocator = null;\n    this._lineEdgesList = new ArrayList();\n    this._resultLineList = new ArrayList();\n    var op = arguments[0],\n        geometryFactory = arguments[1],\n        ptLocator = arguments[2];\n    this._op = op;\n    this._geometryFactory = geometryFactory;\n    this._ptLocator = ptLocator;\n  }\n  extend(LineBuilder.prototype, {\n    collectLines: function collectLines(opCode) {\n      for (var it = this._op.getGraph().getEdgeEnds().iterator(); it.hasNext();) {\n        var de = it.next();\n        this.collectLineEdge(de, opCode, this._lineEdgesList);\n        this.collectBoundaryTouchEdge(de, opCode, this._lineEdgesList);\n      }\n    },\n    labelIsolatedLine: function labelIsolatedLine(e, targetIndex) {\n      var loc = this._ptLocator.locate(e.getCoordinate(), this._op.getArgGeometry(targetIndex));\n\n      e.getLabel().setLocation(targetIndex, loc);\n    },\n    build: function build(opCode) {\n      this.findCoveredLineEdges();\n      this.collectLines(opCode);\n      this.buildLines(opCode);\n      return this._resultLineList;\n    },\n    collectLineEdge: function collectLineEdge(de, opCode, edges) {\n      var label = de.getLabel();\n      var e = de.getEdge();\n\n      if (de.isLineEdge()) {\n        if (!de.isVisited() && OverlayOp.isResultOfOp(label, opCode) && !e.isCovered()) {\n          edges.add(e);\n          de.setVisitedEdge(true);\n        }\n      }\n    },\n    findCoveredLineEdges: function findCoveredLineEdges() {\n      for (var nodeit = this._op.getGraph().getNodes().iterator(); nodeit.hasNext();) {\n        var node = nodeit.next();\n        node.getEdges().findCoveredLineEdges();\n      }\n\n      for (var it = this._op.getGraph().getEdgeEnds().iterator(); it.hasNext();) {\n        var de = it.next();\n        var e = de.getEdge();\n\n        if (de.isLineEdge() && !e.isCoveredSet()) {\n          var isCovered = this._op.isCoveredByA(de.getCoordinate());\n\n          e.setCovered(isCovered);\n        }\n      }\n    },\n    labelIsolatedLines: function labelIsolatedLines(edgesList) {\n      for (var it = edgesList.iterator(); it.hasNext();) {\n        var e = it.next();\n        var label = e.getLabel();\n\n        if (e.isIsolated()) {\n          if (label.isNull(0)) this.labelIsolatedLine(e, 0);else this.labelIsolatedLine(e, 1);\n        }\n      }\n    },\n    buildLines: function buildLines(opCode) {\n      for (var it = this._lineEdgesList.iterator(); it.hasNext();) {\n        var e = it.next();\n        var label = e.getLabel();\n\n        var line = this._geometryFactory.createLineString(e.getCoordinates());\n\n        this._resultLineList.add(line);\n\n        e.setInResult(true);\n      }\n    },\n    collectBoundaryTouchEdge: function collectBoundaryTouchEdge(de, opCode, edges) {\n      var label = de.getLabel();\n      if (de.isLineEdge()) return null;\n      if (de.isVisited()) return null;\n      if (de.isInteriorAreaEdge()) return null;\n      if (de.getEdge().isInResult()) return null;\n      Assert.isTrue(!(de.isInResult() || de.getSym().isInResult()) || !de.getEdge().isInResult());\n\n      if (OverlayOp.isResultOfOp(label, opCode) && opCode === OverlayOp.INTERSECTION) {\n        edges.add(de.getEdge());\n        de.setVisitedEdge(true);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LineBuilder;\n    }\n  });\n\n  function PointBuilder() {\n    this._op = null;\n    this._geometryFactory = null;\n    this._resultPointList = new ArrayList();\n    var op = arguments[0],\n        geometryFactory = arguments[1];\n    this._op = op;\n    this._geometryFactory = geometryFactory;\n  }\n  extend(PointBuilder.prototype, {\n    filterCoveredNodeToPoint: function filterCoveredNodeToPoint(n) {\n      var coord = n.getCoordinate();\n\n      if (!this._op.isCoveredByLA(coord)) {\n        var pt = this._geometryFactory.createPoint(coord);\n\n        this._resultPointList.add(pt);\n      }\n    },\n    extractNonCoveredResultNodes: function extractNonCoveredResultNodes(opCode) {\n      for (var nodeit = this._op.getGraph().getNodes().iterator(); nodeit.hasNext();) {\n        var n = nodeit.next();\n        if (n.isInResult()) continue;\n        if (n.isIncidentEdgeInResult()) continue;\n\n        if (n.getEdges().getDegree() === 0 || opCode === OverlayOp.INTERSECTION) {\n          var label = n.getLabel();\n\n          if (OverlayOp.isResultOfOp(label, opCode)) {\n            this.filterCoveredNodeToPoint(n);\n          }\n        }\n      }\n    },\n    build: function build(opCode) {\n      this.extractNonCoveredResultNodes(opCode);\n      return this._resultPointList;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return PointBuilder;\n    }\n  });\n\n  function LineStringSnapper() {\n    this._snapTolerance = 0.0;\n    this._srcPts = null;\n    this._seg = new LineSegment();\n    this._allowSnappingToSourceVertices = false;\n    this._isClosed = false;\n\n    if (arguments[0] instanceof LineString && typeof arguments[1] === \"number\") {\n      var srcLine = arguments[0],\n          snapTolerance = arguments[1];\n      LineStringSnapper.call(this, srcLine.getCoordinates(), snapTolerance);\n    } else if (arguments[0] instanceof Array && typeof arguments[1] === \"number\") {\n      var srcPts = arguments[0],\n          _snapTolerance = arguments[1];\n      this._srcPts = srcPts;\n      this._isClosed = LineStringSnapper.isClosed(srcPts);\n      this._snapTolerance = _snapTolerance;\n    }\n  }\n  extend(LineStringSnapper.prototype, {\n    snapVertices: function snapVertices(srcCoords, snapPts) {\n      var end = this._isClosed ? srcCoords.size() - 1 : srcCoords.size();\n\n      for (var i = 0; i < end; i++) {\n        var srcPt = srcCoords.get(i);\n        var snapVert = this.findSnapForVertex(srcPt, snapPts);\n\n        if (snapVert !== null) {\n          srcCoords.set(i, new Coordinate(snapVert));\n          if (i === 0 && this._isClosed) srcCoords.set(srcCoords.size() - 1, new Coordinate(snapVert));\n        }\n      }\n    },\n    findSnapForVertex: function findSnapForVertex(pt, snapPts) {\n      for (var i = 0; i < snapPts.length; i++) {\n        if (pt.equals2D(snapPts[i])) return null;\n        if (pt.distance(snapPts[i]) < this._snapTolerance) return snapPts[i];\n      }\n\n      return null;\n    },\n    snapTo: function snapTo(snapPts) {\n      var coordList = new CoordinateList(this._srcPts);\n      this.snapVertices(coordList, snapPts);\n      this.snapSegments(coordList, snapPts);\n      var newPts = coordList.toCoordinateArray();\n      return newPts;\n    },\n    snapSegments: function snapSegments(srcCoords, snapPts) {\n      if (snapPts.length === 0) return null;\n      var distinctPtCount = snapPts.length;\n      if (snapPts[0].equals2D(snapPts[snapPts.length - 1])) distinctPtCount = snapPts.length - 1;\n\n      for (var i = 0; i < distinctPtCount; i++) {\n        var snapPt = snapPts[i];\n        var index = this.findSegmentIndexToSnap(snapPt, srcCoords);\n\n        if (index >= 0) {\n          srcCoords.add(index + 1, new Coordinate(snapPt), false);\n        }\n      }\n    },\n    findSegmentIndexToSnap: function findSegmentIndexToSnap(snapPt, srcCoords) {\n      var minDist = Double.MAX_VALUE;\n      var snapIndex = -1;\n\n      for (var i = 0; i < srcCoords.size() - 1; i++) {\n        this._seg.p0 = srcCoords.get(i);\n        this._seg.p1 = srcCoords.get(i + 1);\n\n        if (this._seg.p0.equals2D(snapPt) || this._seg.p1.equals2D(snapPt)) {\n          if (this._allowSnappingToSourceVertices) continue;else return -1;\n        }\n\n        var dist = this._seg.distance(snapPt);\n\n        if (dist < this._snapTolerance && dist < minDist) {\n          minDist = dist;\n          snapIndex = i;\n        }\n      }\n\n      return snapIndex;\n    },\n    setAllowSnappingToSourceVertices: function setAllowSnappingToSourceVertices(allowSnappingToSourceVertices) {\n      this._allowSnappingToSourceVertices = allowSnappingToSourceVertices;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LineStringSnapper;\n    }\n  });\n\n  LineStringSnapper.isClosed = function (pts) {\n    if (pts.length <= 1) return false;\n    return pts[0].equals2D(pts[pts.length - 1]);\n  };\n\n  function GeometrySnapper() {\n    this._srcGeom = null;\n    var srcGeom = arguments[0];\n    this._srcGeom = srcGeom;\n  }\n  extend(GeometrySnapper.prototype, {\n    snapTo: function snapTo(snapGeom, snapTolerance) {\n      var snapPts = this.extractTargetCoordinates(snapGeom);\n      var snapTrans = new SnapTransformer(snapTolerance, snapPts);\n      return snapTrans.transform(this._srcGeom);\n    },\n    snapToSelf: function snapToSelf(snapTolerance, cleanResult) {\n      var snapPts = this.extractTargetCoordinates(this._srcGeom);\n      var snapTrans = new SnapTransformer(snapTolerance, snapPts, true);\n      var snappedGeom = snapTrans.transform(this._srcGeom);\n      var result = snappedGeom;\n\n      if (cleanResult && hasInterface(result, Polygonal)) {\n        result = snappedGeom.buffer(0);\n      }\n\n      return result;\n    },\n    computeSnapTolerance: function computeSnapTolerance(ringPts) {\n      var minSegLen = this.computeMinimumSegmentLength(ringPts);\n      var snapTol = minSegLen / 10;\n      return snapTol;\n    },\n    extractTargetCoordinates: function extractTargetCoordinates(g) {\n      var ptSet = new TreeSet();\n      var pts = g.getCoordinates();\n\n      for (var i = 0; i < pts.length; i++) {\n        ptSet.add(pts[i]);\n      }\n\n      return ptSet.toArray(new Array(0).fill(null));\n    },\n    computeMinimumSegmentLength: function computeMinimumSegmentLength(pts) {\n      var minSegLen = Double.MAX_VALUE;\n\n      for (var i = 0; i < pts.length - 1; i++) {\n        var segLen = pts[i].distance(pts[i + 1]);\n        if (segLen < minSegLen) minSegLen = segLen;\n      }\n\n      return minSegLen;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return GeometrySnapper;\n    }\n  });\n\n  GeometrySnapper.snap = function (g0, g1, snapTolerance) {\n    var snapGeom = new Array(2).fill(null);\n    var snapper0 = new GeometrySnapper(g0);\n    snapGeom[0] = snapper0.snapTo(g1, snapTolerance);\n    var snapper1 = new GeometrySnapper(g1);\n    snapGeom[1] = snapper1.snapTo(snapGeom[0], snapTolerance);\n    return snapGeom;\n  };\n\n  GeometrySnapper.computeOverlaySnapTolerance = function () {\n    if (arguments.length === 1) {\n      var g = arguments[0];\n      var snapTolerance = GeometrySnapper.computeSizeBasedSnapTolerance(g);\n      var pm = g.getPrecisionModel();\n\n      if (pm.getType() === PrecisionModel.FIXED) {\n        var fixedSnapTol = 1 / pm.getScale() * 2 / 1.415;\n        if (fixedSnapTol > snapTolerance) snapTolerance = fixedSnapTol;\n      }\n\n      return snapTolerance;\n    } else if (arguments.length === 2) {\n      var g0 = arguments[0],\n          g1 = arguments[1];\n      return Math.min(GeometrySnapper.computeOverlaySnapTolerance(g0), GeometrySnapper.computeOverlaySnapTolerance(g1));\n    }\n  };\n\n  GeometrySnapper.computeSizeBasedSnapTolerance = function (g) {\n    var env = g.getEnvelopeInternal();\n    var minDimension = Math.min(env.getHeight(), env.getWidth());\n    var snapTol = minDimension * GeometrySnapper.SNAP_PRECISION_FACTOR;\n    return snapTol;\n  };\n\n  GeometrySnapper.snapToSelf = function (geom, snapTolerance, cleanResult) {\n    var snapper0 = new GeometrySnapper(geom);\n    return snapper0.snapToSelf(snapTolerance, cleanResult);\n  };\n\n  GeometrySnapper.SNAP_PRECISION_FACTOR = 1e-9;\n\n  function SnapTransformer() {\n    GeometryTransformer.apply(this);\n    this._snapTolerance = null;\n    this._snapPts = null;\n    this._isSelfSnap = false;\n\n    if (arguments.length === 2) {\n      var snapTolerance = arguments[0],\n          snapPts = arguments[1];\n      this._snapTolerance = snapTolerance;\n      this._snapPts = snapPts;\n    } else if (arguments.length === 3) {\n      var _snapTolerance = arguments[0],\n          _snapPts = arguments[1],\n          isSelfSnap = arguments[2];\n      this._snapTolerance = _snapTolerance;\n      this._snapPts = _snapPts;\n      this._isSelfSnap = isSelfSnap;\n    }\n  }\n\n  inherits(SnapTransformer, GeometryTransformer);\n  extend(SnapTransformer.prototype, {\n    snapLine: function snapLine(srcPts, snapPts) {\n      var snapper = new LineStringSnapper(srcPts, this._snapTolerance);\n      snapper.setAllowSnappingToSourceVertices(this._isSelfSnap);\n      return snapper.snapTo(snapPts);\n    },\n    transformCoordinates: function transformCoordinates(coords, parent) {\n      var srcPts = coords.toCoordinateArray();\n      var newPts = this.snapLine(srcPts, this._snapPts);\n      return this._factory.getCoordinateSequenceFactory().create(newPts);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return SnapTransformer;\n    }\n  });\n\n  function CommonBits() {\n    this._isFirst = true;\n    this._commonMantissaBitsCount = 53;\n    this._commonBits = new Long();\n    this._commonSignExp = null;\n  }\n  extend(CommonBits.prototype, {\n    getCommon: function getCommon() {\n      return Double.longBitsToDouble(this._commonBits);\n    },\n    add: function add(num) {\n      var numBits = Double.doubleToLongBits(num);\n\n      if (this._isFirst) {\n        this._commonBits = numBits;\n        this._commonSignExp = CommonBits.signExpBits(this._commonBits);\n        this._isFirst = false;\n        return null;\n      }\n\n      var numSignExp = CommonBits.signExpBits(numBits);\n\n      if (numSignExp !== this._commonSignExp) {\n        this._commonBits.high = 0 | 0;\n        this._commonBits.low = 0 | 0;\n        return null;\n      }\n\n      this._commonMantissaBitsCount = CommonBits.numCommonMostSigMantissaBits(this._commonBits, numBits);\n      this._commonBits = CommonBits.zeroLowerBits(this._commonBits, 64 - (12 + this._commonMantissaBitsCount));\n    },\n    toString: function toString() {\n      if (arguments.length === 1) {\n        var bits = arguments[0];\n        var x = Double.longBitsToDouble(bits);\n        var numStr = Long.toBinaryString(bits);\n        var padStr = \"0000000000000000000000000000000000000000000000000000000000000000\" + numStr;\n        var bitStr = padStr.substring(padStr.length - 64);\n        var str = bitStr.substring(0, 1) + \"  \" + bitStr.substring(1, 12) + \"(exp) \" + bitStr.substring(12) + \" [ \" + x + \" ]\";\n        return str;\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return CommonBits;\n    }\n  });\n\n  CommonBits.getBit = function (bits, i) {\n    var mask = 1 << i % 32;\n\n    if (i < 32) {\n      return (bits.low & mask) != 0 ? 1 : 0;\n    }\n\n    return (bits.high & mask) != 0 ? 1 : 0;\n  };\n\n  CommonBits.signExpBits = function (num) {\n    return num.high >>> 20;\n  };\n\n  CommonBits.zeroLowerBits = function (bits, nBits) {\n    var prop = 'low';\n\n    if (nBits > 32) {\n      bits.low = 0 | 0;\n      nBits %= 32;\n      prop = 'high';\n    }\n\n    if (nBits > 0) {\n      var mask = nBits < 32 ? ~((1 << nBits) - 1) : 0;\n      bits[prop] &= mask;\n    }\n\n    return bits;\n  };\n\n  CommonBits.numCommonMostSigMantissaBits = function (num1, num2) {\n    var count = 0;\n\n    for (var i = 52; i >= 0; i--) {\n      if (CommonBits.getBit(num1, i) !== CommonBits.getBit(num2, i)) return count;\n      count++;\n    }\n\n    return 52;\n  };\n\n  function CommonBitsRemover() {\n    this._commonCoord = null;\n    this._ccFilter = new CommonCoordinateFilter();\n  }\n  extend(CommonBitsRemover.prototype, {\n    addCommonBits: function addCommonBits(geom) {\n      var trans = new Translater(this._commonCoord);\n      geom.apply(trans);\n      geom.geometryChanged();\n    },\n    removeCommonBits: function removeCommonBits(geom) {\n      if (this._commonCoord.x === 0.0 && this._commonCoord.y === 0.0) return geom;\n      var invCoord = new Coordinate(this._commonCoord);\n      invCoord.x = -invCoord.x;\n      invCoord.y = -invCoord.y;\n      var trans = new Translater(invCoord);\n      geom.apply(trans);\n      geom.geometryChanged();\n      return geom;\n    },\n    getCommonCoordinate: function getCommonCoordinate() {\n      return this._commonCoord;\n    },\n    add: function add(geom) {\n      geom.apply(this._ccFilter);\n      this._commonCoord = this._ccFilter.getCommonCoordinate();\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return CommonBitsRemover;\n    }\n  });\n\n  function CommonCoordinateFilter() {\n    this._commonBitsX = new CommonBits();\n    this._commonBitsY = new CommonBits();\n  }\n\n  extend(CommonCoordinateFilter.prototype, {\n    filter: function filter(coord) {\n      this._commonBitsX.add(coord.x);\n\n      this._commonBitsY.add(coord.y);\n    },\n    getCommonCoordinate: function getCommonCoordinate() {\n      return new Coordinate(this._commonBitsX.getCommon(), this._commonBitsY.getCommon());\n    },\n    interfaces_: function interfaces_() {\n      return [CoordinateFilter];\n    },\n    getClass: function getClass() {\n      return CommonCoordinateFilter;\n    }\n  });\n\n  function Translater() {\n    this.trans = null;\n    var trans = arguments[0];\n    this.trans = trans;\n  }\n\n  extend(Translater.prototype, {\n    filter: function filter(seq, i) {\n      var xp = seq.getOrdinate(i, 0) + this.trans.x;\n      var yp = seq.getOrdinate(i, 1) + this.trans.y;\n      seq.setOrdinate(i, 0, xp);\n      seq.setOrdinate(i, 1, yp);\n    },\n    isDone: function isDone() {\n      return false;\n    },\n    isGeometryChanged: function isGeometryChanged() {\n      return true;\n    },\n    interfaces_: function interfaces_() {\n      return [CoordinateSequenceFilter];\n    },\n    getClass: function getClass() {\n      return Translater;\n    }\n  });\n  CommonBitsRemover.CommonCoordinateFilter = CommonCoordinateFilter;\n  CommonBitsRemover.Translater = Translater;\n\n  function SnapOverlayOp() {\n    this._geom = new Array(2).fill(null);\n    this._snapTolerance = null;\n    this._cbr = null;\n    var g1 = arguments[0],\n        g2 = arguments[1];\n    this._geom[0] = g1;\n    this._geom[1] = g2;\n    this.computeSnapTolerance();\n  }\n  extend(SnapOverlayOp.prototype, {\n    selfSnap: function selfSnap(geom) {\n      var snapper0 = new GeometrySnapper(geom);\n      var snapGeom = snapper0.snapTo(geom, this._snapTolerance);\n      return snapGeom;\n    },\n    removeCommonBits: function removeCommonBits(geom) {\n      this._cbr = new CommonBitsRemover();\n\n      this._cbr.add(geom[0]);\n\n      this._cbr.add(geom[1]);\n\n      var remGeom = new Array(2).fill(null);\n      remGeom[0] = this._cbr.removeCommonBits(geom[0].copy());\n      remGeom[1] = this._cbr.removeCommonBits(geom[1].copy());\n      return remGeom;\n    },\n    prepareResult: function prepareResult(geom) {\n      this._cbr.addCommonBits(geom);\n\n      return geom;\n    },\n    getResultGeometry: function getResultGeometry(opCode) {\n      var prepGeom = this.snap(this._geom);\n      var result = OverlayOp.overlayOp(prepGeom[0], prepGeom[1], opCode);\n      return this.prepareResult(result);\n    },\n    checkValid: function checkValid(g) {\n      if (!g.isValid()) {\n        System.out.println(\"Snapped geometry is invalid\");\n      }\n    },\n    computeSnapTolerance: function computeSnapTolerance() {\n      this._snapTolerance = GeometrySnapper.computeOverlaySnapTolerance(this._geom[0], this._geom[1]);\n    },\n    snap: function snap(geom) {\n      var remGeom = this.removeCommonBits(geom);\n      var snapGeom = GeometrySnapper.snap(remGeom[0], remGeom[1], this._snapTolerance);\n      return snapGeom;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return SnapOverlayOp;\n    }\n  });\n\n  SnapOverlayOp.overlayOp = function (g0, g1, opCode) {\n    var op = new SnapOverlayOp(g0, g1);\n    return op.getResultGeometry(opCode);\n  };\n\n  SnapOverlayOp.union = function (g0, g1) {\n    return SnapOverlayOp.overlayOp(g0, g1, OverlayOp.UNION);\n  };\n\n  SnapOverlayOp.intersection = function (g0, g1) {\n    return SnapOverlayOp.overlayOp(g0, g1, OverlayOp.INTERSECTION);\n  };\n\n  SnapOverlayOp.symDifference = function (g0, g1) {\n    return SnapOverlayOp.overlayOp(g0, g1, OverlayOp.SYMDIFFERENCE);\n  };\n\n  SnapOverlayOp.difference = function (g0, g1) {\n    return SnapOverlayOp.overlayOp(g0, g1, OverlayOp.DIFFERENCE);\n  };\n\n  function SnapIfNeededOverlayOp() {\n    this._geom = new Array(2).fill(null);\n    var g1 = arguments[0],\n        g2 = arguments[1];\n    this._geom[0] = g1;\n    this._geom[1] = g2;\n  }\n  extend(SnapIfNeededOverlayOp.prototype, {\n    getResultGeometry: function getResultGeometry(opCode) {\n      var result = null;\n      var isSuccess = false;\n      var savedException = null;\n\n      try {\n        result = OverlayOp.overlayOp(this._geom[0], this._geom[1], opCode);\n        isSuccess = true;\n      } catch (ex) {\n        if (ex instanceof RuntimeException) {\n          savedException = ex;\n        } else throw ex;\n      } finally {}\n\n      if (!isSuccess) {\n        try {\n          result = SnapOverlayOp.overlayOp(this._geom[0], this._geom[1], opCode);\n        } catch (ex) {\n          if (ex instanceof RuntimeException) {\n            throw savedException;\n          } else throw ex;\n        } finally {}\n      }\n\n      return result;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return SnapIfNeededOverlayOp;\n    }\n  });\n\n  SnapIfNeededOverlayOp.overlayOp = function (g0, g1, opCode) {\n    var op = new SnapIfNeededOverlayOp(g0, g1);\n    return op.getResultGeometry(opCode);\n  };\n\n  SnapIfNeededOverlayOp.union = function (g0, g1) {\n    return SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.UNION);\n  };\n\n  SnapIfNeededOverlayOp.intersection = function (g0, g1) {\n    return SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.INTERSECTION);\n  };\n\n  SnapIfNeededOverlayOp.symDifference = function (g0, g1) {\n    return SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.SYMDIFFERENCE);\n  };\n\n  SnapIfNeededOverlayOp.difference = function (g0, g1) {\n    return SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.DIFFERENCE);\n  };\n\n  function GeometryGraphOperation() {\n    this._li = new RobustLineIntersector();\n    this._resultPrecisionModel = null;\n    this._arg = null;\n\n    if (arguments.length === 1) {\n      var g0 = arguments[0];\n      this.setComputationPrecision(g0.getPrecisionModel());\n      this._arg = new Array(1).fill(null);\n      this._arg[0] = new GeometryGraph(0, g0);\n    } else if (arguments.length === 2) {\n      var _g = arguments[0],\n          g1 = arguments[1];\n      GeometryGraphOperation.call(this, _g, g1, BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE);\n    } else if (arguments.length === 3) {\n      var _g2 = arguments[0],\n          _g3 = arguments[1],\n          boundaryNodeRule = arguments[2];\n      if (_g2.getPrecisionModel().compareTo(_g3.getPrecisionModel()) >= 0) this.setComputationPrecision(_g2.getPrecisionModel());else this.setComputationPrecision(_g3.getPrecisionModel());\n      this._arg = new Array(2).fill(null);\n      this._arg[0] = new GeometryGraph(0, _g2, boundaryNodeRule);\n      this._arg[1] = new GeometryGraph(1, _g3, boundaryNodeRule);\n    }\n  }\n  extend(GeometryGraphOperation.prototype, {\n    getArgGeometry: function getArgGeometry(i) {\n      return this._arg[i].getGeometry();\n    },\n    setComputationPrecision: function setComputationPrecision(pm) {\n      this._resultPrecisionModel = pm;\n\n      this._li.setPrecisionModel(this._resultPrecisionModel);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return GeometryGraphOperation;\n    }\n  });\n\n  function OverlayOp() {\n    this._ptLocator = new PointLocator();\n    this._geomFact = null;\n    this._resultGeom = null;\n    this._graph = null;\n    this._edgeList = new EdgeList();\n    this._resultPolyList = new ArrayList();\n    this._resultLineList = new ArrayList();\n    this._resultPointList = new ArrayList();\n    var g0 = arguments[0],\n        g1 = arguments[1];\n    GeometryGraphOperation.call(this, g0, g1);\n    this._graph = new PlanarGraph(new OverlayNodeFactory());\n    this._geomFact = g0.getFactory();\n  }\n  inherits(OverlayOp, GeometryGraphOperation);\n  extend(OverlayOp.prototype, {\n    insertUniqueEdge: function insertUniqueEdge(e) {\n      var existingEdge = this._edgeList.findEqualEdge(e);\n\n      if (existingEdge !== null) {\n        var existingLabel = existingEdge.getLabel();\n        var labelToMerge = e.getLabel();\n\n        if (!existingEdge.isPointwiseEqual(e)) {\n          labelToMerge = new Label(e.getLabel());\n          labelToMerge.flip();\n        }\n\n        var depth = existingEdge.getDepth();\n\n        if (depth.isNull()) {\n          depth.add(existingLabel);\n        }\n\n        depth.add(labelToMerge);\n        existingLabel.merge(labelToMerge);\n      } else {\n        this._edgeList.add(e);\n      }\n    },\n    getGraph: function getGraph() {\n      return this._graph;\n    },\n    cancelDuplicateResultEdges: function cancelDuplicateResultEdges() {\n      for (var it = this._graph.getEdgeEnds().iterator(); it.hasNext();) {\n        var de = it.next();\n        var sym = de.getSym();\n\n        if (de.isInResult() && sym.isInResult()) {\n          de.setInResult(false);\n          sym.setInResult(false);\n        }\n      }\n    },\n    isCoveredByLA: function isCoveredByLA(coord) {\n      if (this.isCovered(coord, this._resultLineList)) return true;\n      if (this.isCovered(coord, this._resultPolyList)) return true;\n      return false;\n    },\n    computeGeometry: function computeGeometry(resultPointList, resultLineList, resultPolyList, opcode) {\n      var geomList = new ArrayList();\n      geomList.addAll(resultPointList);\n      geomList.addAll(resultLineList);\n      geomList.addAll(resultPolyList);\n      if (geomList.isEmpty()) return OverlayOp.createEmptyResult(opcode, this._arg[0].getGeometry(), this._arg[1].getGeometry(), this._geomFact);\n      return this._geomFact.buildGeometry(geomList);\n    },\n    mergeSymLabels: function mergeSymLabels() {\n      for (var nodeit = this._graph.getNodes().iterator(); nodeit.hasNext();) {\n        var node = nodeit.next();\n        node.getEdges().mergeSymLabels();\n      }\n    },\n    isCovered: function isCovered(coord, geomList) {\n      for (var it = geomList.iterator(); it.hasNext();) {\n        var geom = it.next();\n\n        var loc = this._ptLocator.locate(coord, geom);\n\n        if (loc !== Location.EXTERIOR) return true;\n      }\n\n      return false;\n    },\n    replaceCollapsedEdges: function replaceCollapsedEdges() {\n      var newEdges = new ArrayList();\n\n      for (var it = this._edgeList.iterator(); it.hasNext();) {\n        var e = it.next();\n\n        if (e.isCollapsed()) {\n          it.remove();\n          newEdges.add(e.getCollapsedEdge());\n        }\n      }\n\n      this._edgeList.addAll(newEdges);\n    },\n    updateNodeLabelling: function updateNodeLabelling() {\n      for (var nodeit = this._graph.getNodes().iterator(); nodeit.hasNext();) {\n        var node = nodeit.next();\n        var lbl = node.getEdges().getLabel();\n        node.getLabel().merge(lbl);\n      }\n    },\n    getResultGeometry: function getResultGeometry(overlayOpCode) {\n      this.computeOverlay(overlayOpCode);\n      return this._resultGeom;\n    },\n    insertUniqueEdges: function insertUniqueEdges(edges) {\n      for (var i = edges.iterator(); i.hasNext();) {\n        var e = i.next();\n        this.insertUniqueEdge(e);\n      }\n    },\n    computeOverlay: function computeOverlay(opCode) {\n      this.copyPoints(0);\n      this.copyPoints(1);\n\n      this._arg[0].computeSelfNodes(this._li, false);\n\n      this._arg[1].computeSelfNodes(this._li, false);\n\n      this._arg[0].computeEdgeIntersections(this._arg[1], this._li, true);\n\n      var baseSplitEdges = new ArrayList();\n\n      this._arg[0].computeSplitEdges(baseSplitEdges);\n\n      this._arg[1].computeSplitEdges(baseSplitEdges);\n      this.insertUniqueEdges(baseSplitEdges);\n      this.computeLabelsFromDepths();\n      this.replaceCollapsedEdges();\n      EdgeNodingValidator.checkValid(this._edgeList.getEdges());\n\n      this._graph.addEdges(this._edgeList.getEdges());\n\n      this.computeLabelling();\n      this.labelIncompleteNodes();\n      this.findResultAreaEdges(opCode);\n      this.cancelDuplicateResultEdges();\n      var polyBuilder = new PolygonBuilder(this._geomFact);\n      polyBuilder.add(this._graph);\n      this._resultPolyList = polyBuilder.getPolygons();\n      var lineBuilder = new LineBuilder(this, this._geomFact, this._ptLocator);\n      this._resultLineList = lineBuilder.build(opCode);\n      var pointBuilder = new PointBuilder(this, this._geomFact, this._ptLocator);\n      this._resultPointList = pointBuilder.build(opCode);\n      this._resultGeom = this.computeGeometry(this._resultPointList, this._resultLineList, this._resultPolyList, opCode);\n    },\n    labelIncompleteNode: function labelIncompleteNode(n, targetIndex) {\n      var loc = this._ptLocator.locate(n.getCoordinate(), this._arg[targetIndex].getGeometry());\n\n      n.getLabel().setLocation(targetIndex, loc);\n    },\n    copyPoints: function copyPoints(argIndex) {\n      for (var i = this._arg[argIndex].getNodeIterator(); i.hasNext();) {\n        var graphNode = i.next();\n\n        var newNode = this._graph.addNode(graphNode.getCoordinate());\n\n        newNode.setLabel(argIndex, graphNode.getLabel().getLocation(argIndex));\n      }\n    },\n    findResultAreaEdges: function findResultAreaEdges(opCode) {\n      for (var it = this._graph.getEdgeEnds().iterator(); it.hasNext();) {\n        var de = it.next();\n        var label = de.getLabel();\n\n        if (label.isArea() && !de.isInteriorAreaEdge() && OverlayOp.isResultOfOp(label.getLocation(0, Position.RIGHT), label.getLocation(1, Position.RIGHT), opCode)) {\n          de.setInResult(true);\n        }\n      }\n    },\n    computeLabelsFromDepths: function computeLabelsFromDepths() {\n      for (var it = this._edgeList.iterator(); it.hasNext();) {\n        var e = it.next();\n        var lbl = e.getLabel();\n        var depth = e.getDepth();\n\n        if (!depth.isNull()) {\n          depth.normalize();\n\n          for (var i = 0; i < 2; i++) {\n            if (!lbl.isNull(i) && lbl.isArea() && !depth.isNull(i)) {\n              if (depth.getDelta(i) === 0) {\n                lbl.toLine(i);\n              } else {\n                Assert.isTrue(!depth.isNull(i, Position.LEFT), \"depth of LEFT side has not been initialized\");\n                lbl.setLocation(i, Position.LEFT, depth.getLocation(i, Position.LEFT));\n                Assert.isTrue(!depth.isNull(i, Position.RIGHT), \"depth of RIGHT side has not been initialized\");\n                lbl.setLocation(i, Position.RIGHT, depth.getLocation(i, Position.RIGHT));\n              }\n            }\n          }\n        }\n      }\n    },\n    computeLabelling: function computeLabelling() {\n      for (var nodeit = this._graph.getNodes().iterator(); nodeit.hasNext();) {\n        var node = nodeit.next();\n        node.getEdges().computeLabelling(this._arg);\n      }\n\n      this.mergeSymLabels();\n      this.updateNodeLabelling();\n    },\n    labelIncompleteNodes: function labelIncompleteNodes() {\n\n      for (var ni = this._graph.getNodes().iterator(); ni.hasNext();) {\n        var n = ni.next();\n        var label = n.getLabel();\n\n        if (n.isIsolated()) {\n          if (label.isNull(0)) this.labelIncompleteNode(n, 0);else this.labelIncompleteNode(n, 1);\n        }\n\n        n.getEdges().updateLabelling(label);\n      }\n    },\n    isCoveredByA: function isCoveredByA(coord) {\n      if (this.isCovered(coord, this._resultPolyList)) return true;\n      return false;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return OverlayOp;\n    }\n  });\n\n  OverlayOp.overlayOp = function (geom0, geom1, opCode) {\n    var gov = new OverlayOp(geom0, geom1);\n    var geomOv = gov.getResultGeometry(opCode);\n    return geomOv;\n  };\n\n  OverlayOp.union = function (geom, other) {\n    if (geom.isEmpty() || other.isEmpty()) {\n      if (geom.isEmpty() && other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.UNION, geom, other, geom.getFactory());\n      if (geom.isEmpty()) return other.copy();\n      if (other.isEmpty()) return geom.copy();\n    }\n\n    if (geom.isGeometryCollection() || other.isGeometryCollection()) throw new IllegalArgumentException(\"This method does not support GeometryCollection arguments\");\n    return SnapIfNeededOverlayOp.overlayOp(geom, other, OverlayOp.UNION);\n  };\n\n  OverlayOp.intersection = function (geom, other) {\n    if (geom.isEmpty() || other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.INTERSECTION, geom, other, geom.getFactory());\n\n    if (geom.isGeometryCollection()) {\n      var g2 = other;\n      return GeometryCollectionMapper.map(geom, {\n        interfaces_: function interfaces_() {\n          return [MapOp];\n        },\n        map: function map(g) {\n          return g.intersection(g2);\n        }\n      });\n    }\n\n    if (geom.isGeometryCollection() || other.isGeometryCollection()) throw new IllegalArgumentException(\"This method does not support GeometryCollection arguments\");\n    return SnapIfNeededOverlayOp.overlayOp(geom, other, OverlayOp.INTERSECTION);\n  };\n\n  OverlayOp.symDifference = function (geom, other) {\n    if (geom.isEmpty() || other.isEmpty()) {\n      if (geom.isEmpty() && other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.SYMDIFFERENCE, geom, other, geom.getFactory());\n      if (geom.isEmpty()) return other.copy();\n      if (other.isEmpty()) return geom.copy();\n    }\n\n    if (geom.isGeometryCollection() || other.isGeometryCollection()) throw new IllegalArgumentException(\"This method does not support GeometryCollection arguments\");\n    return SnapIfNeededOverlayOp.overlayOp(geom, other, OverlayOp.SYMDIFFERENCE);\n  };\n\n  OverlayOp.resultDimension = function (opCode, g0, g1) {\n    var dim0 = g0.getDimension();\n    var dim1 = g1.getDimension();\n    var resultDimension = -1;\n\n    switch (opCode) {\n      case OverlayOp.INTERSECTION:\n        resultDimension = Math.min(dim0, dim1);\n        break;\n\n      case OverlayOp.UNION:\n        resultDimension = Math.max(dim0, dim1);\n        break;\n\n      case OverlayOp.DIFFERENCE:\n        resultDimension = dim0;\n        break;\n\n      case OverlayOp.SYMDIFFERENCE:\n        resultDimension = Math.max(dim0, dim1);\n        break;\n    }\n\n    return resultDimension;\n  };\n\n  OverlayOp.createEmptyResult = function (overlayOpCode, a, b, geomFact) {\n    var result = null;\n\n    switch (OverlayOp.resultDimension(overlayOpCode, a, b)) {\n      case -1:\n        result = geomFact.createGeometryCollection();\n        break;\n\n      case 0:\n        result = geomFact.createPoint();\n        break;\n\n      case 1:\n        result = geomFact.createLineString();\n        break;\n\n      case 2:\n        result = geomFact.createPolygon();\n        break;\n    }\n\n    return result;\n  };\n\n  OverlayOp.difference = function (geom, other) {\n    if (geom.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.DIFFERENCE, geom, other, geom.getFactory());\n    if (other.isEmpty()) return geom.copy();\n    if (geom.isGeometryCollection() || other.isGeometryCollection()) throw new IllegalArgumentException(\"This method does not support GeometryCollection arguments\");\n    return SnapIfNeededOverlayOp.overlayOp(geom, other, OverlayOp.DIFFERENCE);\n  };\n\n  OverlayOp.isResultOfOp = function () {\n    if (arguments.length === 2) {\n      var label = arguments[0],\n          opCode = arguments[1];\n      var loc0 = label.getLocation(0);\n      var loc1 = label.getLocation(1);\n      return OverlayOp.isResultOfOp(loc0, loc1, opCode);\n    } else if (arguments.length === 3) {\n      var _loc = arguments[0],\n          _loc2 = arguments[1],\n          overlayOpCode = arguments[2];\n      if (_loc === Location.BOUNDARY) _loc = Location.INTERIOR;\n      if (_loc2 === Location.BOUNDARY) _loc2 = Location.INTERIOR;\n\n      switch (overlayOpCode) {\n        case OverlayOp.INTERSECTION:\n          return _loc === Location.INTERIOR && _loc2 === Location.INTERIOR;\n\n        case OverlayOp.UNION:\n          return _loc === Location.INTERIOR || _loc2 === Location.INTERIOR;\n\n        case OverlayOp.DIFFERENCE:\n          return _loc === Location.INTERIOR && _loc2 !== Location.INTERIOR;\n\n        case OverlayOp.SYMDIFFERENCE:\n          return _loc === Location.INTERIOR && _loc2 !== Location.INTERIOR || _loc !== Location.INTERIOR && _loc2 === Location.INTERIOR;\n      }\n\n      return false;\n    }\n  };\n\n  OverlayOp.INTERSECTION = 1;\n  OverlayOp.UNION = 2;\n  OverlayOp.DIFFERENCE = 3;\n  OverlayOp.SYMDIFFERENCE = 4;\n\n\n\n  var overlay = /*#__PURE__*/Object.freeze({\n    OverlayOp: OverlayOp\n  });\n\n  function PolygonizeDirectedEdge() {\n    this._edgeRing = null;\n    this._next = null;\n    this._label = -1;\n    var from = arguments[0],\n        to = arguments[1],\n        directionPt = arguments[2],\n        edgeDirection = arguments[3];\n    DirectedEdge$1.call(this, from, to, directionPt, edgeDirection);\n  }\n  inherits(PolygonizeDirectedEdge, DirectedEdge$1);\n  extend(PolygonizeDirectedEdge.prototype, {\n    getNext: function getNext() {\n      return this._next;\n    },\n    isInRing: function isInRing() {\n      return this._edgeRing !== null;\n    },\n    setRing: function setRing(edgeRing) {\n      this._edgeRing = edgeRing;\n    },\n    setLabel: function setLabel(label) {\n      this._label = label;\n    },\n    getLabel: function getLabel() {\n      return this._label;\n    },\n    setNext: function setNext(next) {\n      this._next = next;\n    },\n    getRing: function getRing() {\n      return this._edgeRing;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return PolygonizeDirectedEdge;\n    }\n  });\n\n  function PolygonizeEdge() {\n    Edge$1.apply(this);\n    this._line = null;\n    var line = arguments[0];\n    this._line = line;\n  }\n  inherits(PolygonizeEdge, Edge$1);\n  extend(PolygonizeEdge.prototype, {\n    getLine: function getLine() {\n      return this._line;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return PolygonizeEdge;\n    }\n  });\n\n  function EdgeRing$1() {\n    this._factory = null;\n    this._deList = new ArrayList();\n    this._lowestEdge = null;\n    this._ring = null;\n    this._ringPts = null;\n    this._holes = null;\n    this._shell = null;\n    this._isHole = null;\n    this._isProcessed = false;\n    this._isIncludedSet = false;\n    this._isIncluded = false;\n    var factory = arguments[0];\n    this._factory = factory;\n  }\n  extend(EdgeRing$1.prototype, {\n    isIncluded: function isIncluded() {\n      return this._isIncluded;\n    },\n    getCoordinates: function getCoordinates() {\n      if (this._ringPts === null) {\n        var coordList = new CoordinateList();\n\n        for (var i = this._deList.iterator(); i.hasNext();) {\n          var de = i.next();\n          var edge = de.getEdge();\n          EdgeRing$1.addEdge(edge.getLine().getCoordinates(), de.getEdgeDirection(), coordList);\n        }\n\n        this._ringPts = coordList.toCoordinateArray();\n      }\n\n      return this._ringPts;\n    },\n    isIncludedSet: function isIncludedSet() {\n      return this._isIncludedSet;\n    },\n    isValid: function isValid() {\n      this.getCoordinates();\n      if (this._ringPts.length <= 3) return false;\n      this.getRing();\n      return this._ring.isValid();\n    },\n    build: function build(startDE) {\n      var de = startDE;\n\n      do {\n        this.add(de);\n        de.setRing(this);\n        de = de.getNext();\n        Assert.isTrue(de !== null, \"found null DE in ring\");\n        Assert.isTrue(de === startDE || !de.isInRing(), \"found DE already in ring\");\n      } while (de !== startDE);\n    },\n    isOuterHole: function isOuterHole() {\n      if (!this._isHole) return false;\n      return !this.hasShell();\n    },\n    getPolygon: function getPolygon() {\n      var holeLR = null;\n\n      if (this._holes !== null) {\n        holeLR = new Array(this._holes.size()).fill(null);\n\n        for (var i = 0; i < this._holes.size(); i++) {\n          holeLR[i] = this._holes.get(i);\n        }\n      }\n\n      var poly = this._factory.createPolygon(this._ring, holeLR);\n\n      return poly;\n    },\n    isHole: function isHole() {\n      return this._isHole;\n    },\n    isProcessed: function isProcessed() {\n      return this._isProcessed;\n    },\n    addHole: function addHole() {\n      if (arguments[0] instanceof LinearRing) {\n        var _hole = arguments[0];\n        if (this._holes === null) this._holes = new ArrayList();\n\n        this._holes.add(_hole);\n      } else if (arguments[0] instanceof EdgeRing$1) {\n        var holeER = arguments[0];\n        holeER.setShell(this);\n        var hole = holeER.getRing();\n        if (this._holes === null) this._holes = new ArrayList();\n\n        this._holes.add(hole);\n      }\n    },\n    setIncluded: function setIncluded(isIncluded) {\n      this._isIncluded = isIncluded;\n      this._isIncludedSet = true;\n    },\n    getOuterHole: function getOuterHole() {\n      if (this.isHole()) return null;\n\n      for (var i = 0; i < this._deList.size(); i++) {\n        var de = this._deList.get(i);\n\n        var adjRing = de.getSym().getRing();\n        if (adjRing.isOuterHole()) return adjRing;\n      }\n\n      return null;\n    },\n    computeHole: function computeHole() {\n      var ring = this.getRing();\n      this._isHole = Orientation.isCCW(ring.getCoordinates());\n    },\n    hasShell: function hasShell() {\n      return this._shell !== null;\n    },\n    isOuterShell: function isOuterShell() {\n      return this.getOuterHole() !== null;\n    },\n    getLineString: function getLineString() {\n      this.getCoordinates();\n      return this._factory.createLineString(this._ringPts);\n    },\n    toString: function toString() {\n      return WKTWriter.toLineString(new CoordinateArraySequence(this.getCoordinates()));\n    },\n    getShell: function getShell() {\n      if (this.isHole()) return this._shell;\n      return this;\n    },\n    add: function add(de) {\n      this._deList.add(de);\n    },\n    getRing: function getRing() {\n      if (this._ring !== null) return this._ring;\n      this.getCoordinates();\n      if (this._ringPts.length < 3) System.out.println(this._ringPts);\n\n      try {\n        this._ring = this._factory.createLinearRing(this._ringPts);\n      } catch (ex) {\n        if (ex instanceof Exception) {\n          System.out.println(this._ringPts);\n        } else throw ex;\n      } finally {}\n\n      return this._ring;\n    },\n    updateIncluded: function updateIncluded() {\n      if (this.isHole()) return null;\n\n      for (var i = 0; i < this._deList.size(); i++) {\n        var de = this._deList.get(i);\n\n        var adjShell = de.getSym().getRing().getShell();\n\n        if (adjShell !== null && adjShell.isIncludedSet()) {\n          this.setIncluded(!adjShell.isIncluded());\n          return null;\n        }\n      }\n    },\n    setShell: function setShell(shell) {\n      this._shell = shell;\n    },\n    setProcessed: function setProcessed(isProcessed) {\n      this._isProcessed = isProcessed;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return EdgeRing$1;\n    }\n  });\n\n  EdgeRing$1.findDirEdgesInRing = function (startDE) {\n    var de = startDE;\n    var edges = new ArrayList();\n\n    do {\n      edges.add(de);\n      de = de.getNext();\n      Assert.isTrue(de !== null, \"found null DE in ring\");\n      Assert.isTrue(de === startDE || !de.isInRing(), \"found DE already in ring\");\n    } while (de !== startDE);\n\n    return edges;\n  };\n\n  EdgeRing$1.addEdge = function (coords, isForward, coordList) {\n    if (isForward) {\n      for (var i = 0; i < coords.length; i++) {\n        coordList.add(coords[i], false);\n      }\n    } else {\n      for (var i = coords.length - 1; i >= 0; i--) {\n        coordList.add(coords[i], false);\n      }\n    }\n  };\n\n  EdgeRing$1.findEdgeRingContaining = function (testEr, shellList) {\n    var testRing = testEr.getRing();\n    var testEnv = testRing.getEnvelopeInternal();\n    var testPt = testRing.getCoordinateN(0);\n    var minShell = null;\n    var minShellEnv = null;\n\n    for (var it = shellList.iterator(); it.hasNext();) {\n      var tryShell = it.next();\n      var tryShellRing = tryShell.getRing();\n      var tryShellEnv = tryShellRing.getEnvelopeInternal();\n      if (tryShellEnv.equals(testEnv)) continue;\n      if (!tryShellEnv.contains(testEnv)) continue;\n      testPt = CoordinateArrays.ptNotInList(testRing.getCoordinates(), tryShellRing.getCoordinates());\n      var isContained = false;\n      if (PointLocation.isInRing(testPt, tryShellRing.getCoordinates())) isContained = true;\n\n      if (isContained) {\n        if (minShell === null || minShellEnv.contains(tryShellEnv)) {\n          minShell = tryShell;\n          minShellEnv = minShell.getRing().getEnvelopeInternal();\n        }\n      }\n    }\n\n    return minShell;\n  };\n\n  function EnvelopeComparator() {}\n\n  extend(EnvelopeComparator.prototype, {\n    compare: function compare(obj0, obj1) {\n      var r0 = obj0;\n      var r1 = obj1;\n      return r0.getRing().getEnvelope().compareTo(r1.getRing().getEnvelope());\n    },\n    interfaces_: function interfaces_() {\n      return [Comparator];\n    },\n    getClass: function getClass() {\n      return EnvelopeComparator;\n    }\n  });\n  EdgeRing$1.EnvelopeComparator = EnvelopeComparator;\n\n  function PolygonizeGraph() {\n    PlanarGraph$1.apply(this);\n    this._factory = null;\n    var factory = arguments[0];\n    this._factory = factory;\n  }\n  inherits(PolygonizeGraph, PlanarGraph$1);\n  extend(PolygonizeGraph.prototype, {\n    findEdgeRing: function findEdgeRing(startDE) {\n      var er = new EdgeRing$1(this._factory);\n      er.build(startDE);\n      return er;\n    },\n    computeDepthParity: function computeDepthParity() {\n      if (arguments.length === 0) {\n        while (true) {\n          var de = null;\n          return null;\n          this.computeDepthParity(de);\n        }\n      }\n    },\n    computeNextCWEdges: function computeNextCWEdges() {\n      for (var iNode = this.nodeIterator(); iNode.hasNext();) {\n        var node = iNode.next();\n        PolygonizeGraph.computeNextCWEdges(node);\n      }\n    },\n    addEdge: function addEdge(line) {\n      if (line.isEmpty()) {\n        return null;\n      }\n\n      var linePts = CoordinateArrays.removeRepeatedPoints(line.getCoordinates());\n\n      if (linePts.length < 2) {\n        return null;\n      }\n\n      var startPt = linePts[0];\n      var endPt = linePts[linePts.length - 1];\n      var nStart = this.getNode(startPt);\n      var nEnd = this.getNode(endPt);\n      var de0 = new PolygonizeDirectedEdge(nStart, nEnd, linePts[1], true);\n      var de1 = new PolygonizeDirectedEdge(nEnd, nStart, linePts[linePts.length - 2], false);\n      var edge = new PolygonizeEdge(line);\n      edge.setDirectedEdges(de0, de1);\n      this.add(edge);\n    },\n    deleteCutEdges: function deleteCutEdges() {\n      this.computeNextCWEdges();\n      PolygonizeGraph.findLabeledEdgeRings(this._dirEdges);\n      var cutLines = new ArrayList();\n\n      for (var i = this._dirEdges.iterator(); i.hasNext();) {\n        var de = i.next();\n        if (de.isMarked()) continue;\n        var sym = de.getSym();\n\n        if (de.getLabel() === sym.getLabel()) {\n          de.setMarked(true);\n          sym.setMarked(true);\n          var e = de.getEdge();\n          cutLines.add(e.getLine());\n        }\n      }\n\n      return cutLines;\n    },\n    getEdgeRings: function getEdgeRings() {\n      this.computeNextCWEdges();\n      PolygonizeGraph.label(this._dirEdges, -1);\n      var maximalRings = PolygonizeGraph.findLabeledEdgeRings(this._dirEdges);\n      this.convertMaximalToMinimalEdgeRings(maximalRings);\n      var edgeRingList = new ArrayList();\n\n      for (var i = this._dirEdges.iterator(); i.hasNext();) {\n        var de = i.next();\n        if (de.isMarked()) continue;\n        if (de.isInRing()) continue;\n        var er = this.findEdgeRing(de);\n        edgeRingList.add(er);\n      }\n\n      return edgeRingList;\n    },\n    getNode: function getNode(pt) {\n      var node = this.findNode(pt);\n\n      if (node === null) {\n        node = new Node$3(pt);\n        this.add(node);\n      }\n\n      return node;\n    },\n    convertMaximalToMinimalEdgeRings: function convertMaximalToMinimalEdgeRings(ringEdges) {\n      for (var i = ringEdges.iterator(); i.hasNext();) {\n        var de = i.next();\n        var label = de.getLabel();\n        var intNodes = PolygonizeGraph.findIntersectionNodes(de, label);\n        if (intNodes === null) continue;\n\n        for (var iNode = intNodes.iterator(); iNode.hasNext();) {\n          var node = iNode.next();\n          PolygonizeGraph.computeNextCCWEdges(node, label);\n        }\n      }\n    },\n    deleteDangles: function deleteDangles() {\n      var nodesToRemove = this.findNodesOfDegree(1);\n      var dangleLines = new HashSet();\n      var nodeStack = new Stack();\n\n      for (var i = nodesToRemove.iterator(); i.hasNext();) {\n        nodeStack.push(i.next());\n      }\n\n      while (!nodeStack.isEmpty()) {\n        var node = nodeStack.pop();\n        PolygonizeGraph.deleteAllEdges(node);\n        var nodeOutEdges = node.getOutEdges().getEdges();\n\n        for (var i = nodeOutEdges.iterator(); i.hasNext();) {\n          var de = i.next();\n          de.setMarked(true);\n          var sym = de.getSym();\n          if (sym !== null) sym.setMarked(true);\n          var e = de.getEdge();\n          dangleLines.add(e.getLine());\n          var toNode = de.getToNode();\n          if (PolygonizeGraph.getDegreeNonDeleted(toNode) === 1) nodeStack.push(toNode);\n        }\n      }\n\n      return dangleLines;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return PolygonizeGraph;\n    }\n  });\n\n  PolygonizeGraph.findLabeledEdgeRings = function (dirEdges) {\n    var edgeRingStarts = new ArrayList();\n    var currLabel = 1;\n\n    for (var i = dirEdges.iterator(); i.hasNext();) {\n      var de = i.next();\n      if (de.isMarked()) continue;\n      if (de.getLabel() >= 0) continue;\n      edgeRingStarts.add(de);\n      var edges = EdgeRing$1.findDirEdgesInRing(de);\n      PolygonizeGraph.label(edges, currLabel);\n      currLabel++;\n    }\n\n    return edgeRingStarts;\n  };\n\n  PolygonizeGraph.getDegreeNonDeleted = function (node) {\n    var edges = node.getOutEdges().getEdges();\n    var degree = 0;\n\n    for (var i = edges.iterator(); i.hasNext();) {\n      var de = i.next();\n      if (!de.isMarked()) degree++;\n    }\n\n    return degree;\n  };\n\n  PolygonizeGraph.deleteAllEdges = function (node) {\n    var edges = node.getOutEdges().getEdges();\n\n    for (var i = edges.iterator(); i.hasNext();) {\n      var de = i.next();\n      de.setMarked(true);\n      var sym = de.getSym();\n      if (sym !== null) sym.setMarked(true);\n    }\n  };\n\n  PolygonizeGraph.label = function (dirEdges, label) {\n    for (var i = dirEdges.iterator(); i.hasNext();) {\n      var de = i.next();\n      de.setLabel(label);\n    }\n  };\n\n  PolygonizeGraph.computeNextCWEdges = function (node) {\n    var deStar = node.getOutEdges();\n    var startDE = null;\n    var prevDE = null;\n\n    for (var i = deStar.getEdges().iterator(); i.hasNext();) {\n      var outDE = i.next();\n      if (outDE.isMarked()) continue;\n      if (startDE === null) startDE = outDE;\n\n      if (prevDE !== null) {\n        var sym = prevDE.getSym();\n        sym.setNext(outDE);\n      }\n\n      prevDE = outDE;\n    }\n\n    if (prevDE !== null) {\n      var sym = prevDE.getSym();\n      sym.setNext(startDE);\n    }\n  };\n\n  PolygonizeGraph.computeNextCCWEdges = function (node, label) {\n    var deStar = node.getOutEdges();\n    var firstOutDE = null;\n    var prevInDE = null;\n    var edges = deStar.getEdges();\n\n    for (var i = edges.size() - 1; i >= 0; i--) {\n      var de = edges.get(i);\n      var sym = de.getSym();\n      var outDE = null;\n      if (de.getLabel() === label) outDE = de;\n      var inDE = null;\n      if (sym.getLabel() === label) inDE = sym;\n      if (outDE === null && inDE === null) continue;\n\n      if (inDE !== null) {\n        prevInDE = inDE;\n      }\n\n      if (outDE !== null) {\n        if (prevInDE !== null) {\n          prevInDE.setNext(outDE);\n          prevInDE = null;\n        }\n\n        if (firstOutDE === null) firstOutDE = outDE;\n      }\n    }\n\n    if (prevInDE !== null) {\n      Assert.isTrue(firstOutDE !== null);\n      prevInDE.setNext(firstOutDE);\n    }\n  };\n\n  PolygonizeGraph.getDegree = function (node, label) {\n    var edges = node.getOutEdges().getEdges();\n    var degree = 0;\n\n    for (var i = edges.iterator(); i.hasNext();) {\n      var de = i.next();\n      if (de.getLabel() === label) degree++;\n    }\n\n    return degree;\n  };\n\n  PolygonizeGraph.findIntersectionNodes = function (startDE, label) {\n    var de = startDE;\n    var intNodes = null;\n\n    do {\n      var node = de.getFromNode();\n\n      if (PolygonizeGraph.getDegree(node, label) > 1) {\n        if (intNodes === null) intNodes = new ArrayList();\n        intNodes.add(node);\n      }\n\n      de = de.getNext();\n      Assert.isTrue(de !== null, \"found null DE in ring\");\n      Assert.isTrue(de === startDE || !de.isInRing(), \"found DE already in ring\");\n    } while (de !== startDE);\n\n    return intNodes;\n  };\n\n  function Polygonizer() {\n    this._lineStringAdder = new LineStringAdder(this);\n    this._graph = null;\n    this._dangles = new ArrayList();\n    this._cutEdges = new ArrayList();\n    this._invalidRingLines = new ArrayList();\n    this._holeList = null;\n    this._shellList = null;\n    this._polyList = null;\n    this._isCheckingRingsValid = true;\n    this._extractOnlyPolygonal = null;\n    this._geomFactory = null;\n\n    if (arguments.length === 0) {\n      Polygonizer.call(this, false);\n    } else if (arguments.length === 1) {\n      var extractOnlyPolygonal = arguments[0];\n      this._extractOnlyPolygonal = extractOnlyPolygonal;\n    }\n  }\n  extend(Polygonizer.prototype, {\n    getGeometry: function getGeometry() {\n      if (this._geomFactory === null) this._geomFactory = new GeometryFactory();\n      this.polygonize();\n\n      if (this._extractOnlyPolygonal) {\n        return this._geomFactory.buildGeometry(this._polyList);\n      }\n\n      return this._geomFactory.createGeometryCollection(GeometryFactory.toGeometryArray(this._polyList));\n    },\n    getInvalidRingLines: function getInvalidRingLines() {\n      this.polygonize();\n      return this._invalidRingLines;\n    },\n    findValidRings: function findValidRings(edgeRingList, validEdgeRingList, invalidRingList) {\n      for (var i = edgeRingList.iterator(); i.hasNext();) {\n        var er = i.next();\n        if (er.isValid()) validEdgeRingList.add(er);else invalidRingList.add(er.getLineString());\n      }\n    },\n    polygonize: function polygonize() {\n      if (this._polyList !== null) return null;\n      this._polyList = new ArrayList();\n      if (this._graph === null) return null;\n      this._dangles = this._graph.deleteDangles();\n      this._cutEdges = this._graph.deleteCutEdges();\n\n      var edgeRingList = this._graph.getEdgeRings();\n\n      var validEdgeRingList = new ArrayList();\n      this._invalidRingLines = new ArrayList();\n\n      if (this._isCheckingRingsValid) {\n        this.findValidRings(edgeRingList, validEdgeRingList, this._invalidRingLines);\n      } else {\n        validEdgeRingList = edgeRingList;\n      }\n\n      this.findShellsAndHoles(validEdgeRingList);\n      Polygonizer.assignHolesToShells(this._holeList, this._shellList);\n      Collections.sort(this._shellList, new EdgeRing$1.EnvelopeComparator());\n      var includeAll = true;\n\n      if (this._extractOnlyPolygonal) {\n        Polygonizer.findDisjointShells(this._shellList);\n        includeAll = false;\n      }\n\n      this._polyList = Polygonizer.extractPolygons(this._shellList, includeAll);\n    },\n    getDangles: function getDangles() {\n      this.polygonize();\n      return this._dangles;\n    },\n    getCutEdges: function getCutEdges() {\n      this.polygonize();\n      return this._cutEdges;\n    },\n    getPolygons: function getPolygons() {\n      this.polygonize();\n      return this._polyList;\n    },\n    add: function add() {\n      if (hasInterface(arguments[0], Collection)) {\n        var geomList = arguments[0];\n\n        for (var i = geomList.iterator(); i.hasNext();) {\n          var geometry = i.next();\n          this.add(geometry);\n        }\n      } else if (arguments[0] instanceof LineString) {\n        var line = arguments[0];\n        this._geomFactory = line.getFactory();\n        if (this._graph === null) this._graph = new PolygonizeGraph(this._geomFactory);\n\n        this._graph.addEdge(line);\n      } else if (arguments[0] instanceof Geometry) {\n        var g = arguments[0];\n        g.apply(this._lineStringAdder);\n      }\n    },\n    setCheckRingsValid: function setCheckRingsValid(isCheckingRingsValid) {\n      this._isCheckingRingsValid = isCheckingRingsValid;\n    },\n    findShellsAndHoles: function findShellsAndHoles(edgeRingList) {\n      this._holeList = new ArrayList();\n      this._shellList = new ArrayList();\n\n      for (var i = edgeRingList.iterator(); i.hasNext();) {\n        var er = i.next();\n        er.computeHole();\n        if (er.isHole()) this._holeList.add(er);else this._shellList.add(er);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Polygonizer;\n    }\n  });\n\n  Polygonizer.findOuterShells = function (shellList) {\n    for (var i = shellList.iterator(); i.hasNext();) {\n      var er = i.next();\n      var outerHoleER = er.getOuterHole();\n\n      if (outerHoleER !== null && !outerHoleER.isProcessed()) {\n        er.setIncluded(true);\n        outerHoleER.setProcessed(true);\n      }\n    }\n  };\n\n  Polygonizer.extractPolygons = function (shellList, includeAll) {\n    var polyList = new ArrayList();\n\n    for (var i = shellList.iterator(); i.hasNext();) {\n      var er = i.next();\n\n      if (includeAll || er.isIncluded()) {\n        polyList.add(er.getPolygon());\n      }\n    }\n\n    return polyList;\n  };\n\n  Polygonizer.assignHolesToShells = function (holeList, shellList) {\n    for (var i = holeList.iterator(); i.hasNext();) {\n      var holeER = i.next();\n      Polygonizer.assignHoleToShell(holeER, shellList);\n    }\n  };\n\n  Polygonizer.assignHoleToShell = function (holeER, shellList) {\n    var shell = EdgeRing$1.findEdgeRingContaining(holeER, shellList);\n\n    if (shell !== null) {\n      shell.addHole(holeER);\n    }\n  };\n\n  Polygonizer.findDisjointShells = function (shellList) {\n    Polygonizer.findOuterShells(shellList);\n    var isMoreToScan = null;\n\n    do {\n      isMoreToScan = false;\n\n      for (var i = shellList.iterator(); i.hasNext();) {\n        var er = i.next();\n        if (er.isIncludedSet()) continue;\n        er.updateIncluded();\n\n        if (!er.isIncludedSet()) {\n          isMoreToScan = true;\n        }\n      }\n    } while (isMoreToScan);\n  };\n\n  function LineStringAdder() {\n    this.p = null;\n    var p = arguments[0];\n    this.p = p;\n  }\n\n  extend(LineStringAdder.prototype, {\n    filter: function filter(g) {\n      if (g instanceof LineString) this.p.add(g);\n    },\n    interfaces_: function interfaces_() {\n      return [GeometryComponentFilter];\n    },\n    getClass: function getClass() {\n      return LineStringAdder;\n    }\n  });\n  Polygonizer.LineStringAdder = LineStringAdder;\n\n\n\n  var polygonize = /*#__PURE__*/Object.freeze({\n    Polygonizer: Polygonizer\n  });\n\n  function EdgeEndBuilder() {}\n  extend(EdgeEndBuilder.prototype, {\n    createEdgeEndForNext: function createEdgeEndForNext(edge, l, eiCurr, eiNext) {\n      var iNext = eiCurr.segmentIndex + 1;\n      if (iNext >= edge.getNumPoints() && eiNext === null) return null;\n      var pNext = edge.getCoordinate(iNext);\n      if (eiNext !== null && eiNext.segmentIndex === eiCurr.segmentIndex) pNext = eiNext.coord;\n      var e = new EdgeEnd(edge, eiCurr.coord, pNext, new Label(edge.getLabel()));\n      l.add(e);\n    },\n    createEdgeEndForPrev: function createEdgeEndForPrev(edge, l, eiCurr, eiPrev) {\n      var iPrev = eiCurr.segmentIndex;\n\n      if (eiCurr.dist === 0.0) {\n        if (iPrev === 0) return null;\n        iPrev--;\n      }\n\n      var pPrev = edge.getCoordinate(iPrev);\n      if (eiPrev !== null && eiPrev.segmentIndex >= iPrev) pPrev = eiPrev.coord;\n      var label = new Label(edge.getLabel());\n      label.flip();\n      var e = new EdgeEnd(edge, eiCurr.coord, pPrev, label);\n      l.add(e);\n    },\n    computeEdgeEnds: function computeEdgeEnds() {\n      if (arguments.length === 1) {\n        var edges = arguments[0];\n        var l = new ArrayList();\n\n        for (var i = edges; i.hasNext();) {\n          var e = i.next();\n          this.computeEdgeEnds(e, l);\n        }\n\n        return l;\n      } else if (arguments.length === 2) {\n        var edge = arguments[0],\n            _l = arguments[1];\n        var eiList = edge.getEdgeIntersectionList();\n        eiList.addEndpoints();\n        var it = eiList.iterator();\n        var eiPrev = null;\n        var eiCurr = null;\n        if (!it.hasNext()) return null;\n        var eiNext = it.next();\n\n        do {\n          eiPrev = eiCurr;\n          eiCurr = eiNext;\n          eiNext = null;\n          if (it.hasNext()) eiNext = it.next();\n\n          if (eiCurr !== null) {\n            this.createEdgeEndForPrev(edge, _l, eiCurr, eiPrev);\n            this.createEdgeEndForNext(edge, _l, eiCurr, eiNext);\n          }\n        } while (eiCurr !== null);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return EdgeEndBuilder;\n    }\n  });\n\n  function EdgeEndBundle() {\n    this._edgeEnds = new ArrayList();\n\n    if (arguments.length === 1) {\n      var e = arguments[0];\n      EdgeEndBundle.call(this, null, e);\n    } else if (arguments.length === 2) {\n      var _e = arguments[1];\n      EdgeEnd.call(this, _e.getEdge(), _e.getCoordinate(), _e.getDirectedCoordinate(), new Label(_e.getLabel()));\n      this.insert(_e);\n    }\n  }\n  inherits(EdgeEndBundle, EdgeEnd);\n  extend(EdgeEndBundle.prototype, {\n    insert: function insert(e) {\n      this._edgeEnds.add(e);\n    },\n    print: function print(out) {\n      out.println(\"EdgeEndBundle--> Label: \" + this._label);\n\n      for (var it = this.iterator(); it.hasNext();) {\n        var ee = it.next();\n        ee.print(out);\n        out.println();\n      }\n    },\n    iterator: function iterator() {\n      return this._edgeEnds.iterator();\n    },\n    getEdgeEnds: function getEdgeEnds() {\n      return this._edgeEnds;\n    },\n    computeLabelOn: function computeLabelOn(geomIndex, boundaryNodeRule) {\n      var boundaryCount = 0;\n      var foundInterior = false;\n\n      for (var it = this.iterator(); it.hasNext();) {\n        var e = it.next();\n        var loc = e.getLabel().getLocation(geomIndex);\n        if (loc === Location.BOUNDARY) boundaryCount++;\n        if (loc === Location.INTERIOR) foundInterior = true;\n      }\n\n      var loc = Location.NONE;\n      if (foundInterior) loc = Location.INTERIOR;\n\n      if (boundaryCount > 0) {\n        loc = GeometryGraph.determineBoundary(boundaryNodeRule, boundaryCount);\n      }\n\n      this._label.setLocation(geomIndex, loc);\n    },\n    computeLabelSide: function computeLabelSide(geomIndex, side) {\n      for (var it = this.iterator(); it.hasNext();) {\n        var e = it.next();\n\n        if (e.getLabel().isArea()) {\n          var loc = e.getLabel().getLocation(geomIndex, side);\n\n          if (loc === Location.INTERIOR) {\n            this._label.setLocation(geomIndex, side, Location.INTERIOR);\n\n            return null;\n          } else if (loc === Location.EXTERIOR) this._label.setLocation(geomIndex, side, Location.EXTERIOR);\n        }\n      }\n    },\n    getLabel: function getLabel() {\n      return this._label;\n    },\n    computeLabelSides: function computeLabelSides(geomIndex) {\n      this.computeLabelSide(geomIndex, Position.LEFT);\n      this.computeLabelSide(geomIndex, Position.RIGHT);\n    },\n    updateIM: function updateIM(im) {\n      Edge.updateIM(this._label, im);\n    },\n    computeLabel: function computeLabel(boundaryNodeRule) {\n      var isArea = false;\n\n      for (var it = this.iterator(); it.hasNext();) {\n        var e = it.next();\n        if (e.getLabel().isArea()) isArea = true;\n      }\n\n      if (isArea) this._label = new Label(Location.NONE, Location.NONE, Location.NONE);else this._label = new Label(Location.NONE);\n\n      for (var i = 0; i < 2; i++) {\n        this.computeLabelOn(i, boundaryNodeRule);\n        if (isArea) this.computeLabelSides(i);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return EdgeEndBundle;\n    }\n  });\n\n  function EdgeEndBundleStar() {\n    EdgeEndStar.apply(this);\n  }\n  inherits(EdgeEndBundleStar, EdgeEndStar);\n  extend(EdgeEndBundleStar.prototype, {\n    updateIM: function updateIM(im) {\n      for (var it = this.iterator(); it.hasNext();) {\n        var esb = it.next();\n        esb.updateIM(im);\n      }\n    },\n    insert: function insert(e) {\n      var eb = this._edgeMap.get(e);\n\n      if (eb === null) {\n        eb = new EdgeEndBundle(e);\n        this.insertEdgeEnd(e, eb);\n      } else {\n        eb.insert(e);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return EdgeEndBundleStar;\n    }\n  });\n\n  function RelateNode() {\n    var coord = arguments[0],\n        edges = arguments[1];\n    Node$1.call(this, coord, edges);\n  }\n  inherits(RelateNode, Node$1);\n  extend(RelateNode.prototype, {\n    updateIMFromEdges: function updateIMFromEdges(im) {\n      this._edges.updateIM(im);\n    },\n    computeIM: function computeIM(im) {\n      im.setAtLeastIfValid(this._label.getLocation(0), this._label.getLocation(1), 0);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return RelateNode;\n    }\n  });\n\n  function RelateNodeFactory() {\n    NodeFactory.apply(this);\n  }\n  inherits(RelateNodeFactory, NodeFactory);\n  extend(RelateNodeFactory.prototype, {\n    createNode: function createNode(coord) {\n      return new RelateNode(coord, new EdgeEndBundleStar());\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return RelateNodeFactory;\n    }\n  });\n\n  function RelateComputer() {\n    this._li = new RobustLineIntersector();\n    this._ptLocator = new PointLocator();\n    this._arg = null;\n    this._nodes = new NodeMap(new RelateNodeFactory());\n    this._im = null;\n    this._isolatedEdges = new ArrayList();\n    this._invalidPoint = null;\n    var arg = arguments[0];\n    this._arg = arg;\n  }\n  extend(RelateComputer.prototype, {\n    insertEdgeEnds: function insertEdgeEnds(ee) {\n      for (var i = ee.iterator(); i.hasNext();) {\n        var e = i.next();\n\n        this._nodes.add(e);\n      }\n    },\n    computeProperIntersectionIM: function computeProperIntersectionIM(intersector, im) {\n      var dimA = this._arg[0].getGeometry().getDimension();\n\n      var dimB = this._arg[1].getGeometry().getDimension();\n\n      var hasProper = intersector.hasProperIntersection();\n      var hasProperInterior = intersector.hasProperInteriorIntersection();\n\n      if (dimA === 2 && dimB === 2) {\n        if (hasProper) im.setAtLeast(\"212101212\");\n      } else if (dimA === 2 && dimB === 1) {\n        if (hasProper) im.setAtLeast(\"FFF0FFFF2\");\n        if (hasProperInterior) im.setAtLeast(\"1FFFFF1FF\");\n      } else if (dimA === 1 && dimB === 2) {\n        if (hasProper) im.setAtLeast(\"F0FFFFFF2\");\n        if (hasProperInterior) im.setAtLeast(\"1F1FFFFFF\");\n      } else if (dimA === 1 && dimB === 1) {\n        if (hasProperInterior) im.setAtLeast(\"0FFFFFFFF\");\n      }\n    },\n    labelIsolatedEdges: function labelIsolatedEdges(thisIndex, targetIndex) {\n      for (var ei = this._arg[thisIndex].getEdgeIterator(); ei.hasNext();) {\n        var e = ei.next();\n\n        if (e.isIsolated()) {\n          this.labelIsolatedEdge(e, targetIndex, this._arg[targetIndex].getGeometry());\n\n          this._isolatedEdges.add(e);\n        }\n      }\n    },\n    labelIsolatedEdge: function labelIsolatedEdge(e, targetIndex, target) {\n      if (target.getDimension() > 0) {\n        var loc = this._ptLocator.locate(e.getCoordinate(), target);\n\n        e.getLabel().setAllLocations(targetIndex, loc);\n      } else {\n        e.getLabel().setAllLocations(targetIndex, Location.EXTERIOR);\n      }\n    },\n    computeIM: function computeIM() {\n      var im = new IntersectionMatrix();\n      im.set(Location.EXTERIOR, Location.EXTERIOR, 2);\n\n      if (!this._arg[0].getGeometry().getEnvelopeInternal().intersects(this._arg[1].getGeometry().getEnvelopeInternal())) {\n        this.computeDisjointIM(im);\n        return im;\n      }\n\n      this._arg[0].computeSelfNodes(this._li, false);\n\n      this._arg[1].computeSelfNodes(this._li, false);\n\n      var intersector = this._arg[0].computeEdgeIntersections(this._arg[1], this._li, false);\n\n      this.computeIntersectionNodes(0);\n      this.computeIntersectionNodes(1);\n      this.copyNodesAndLabels(0);\n      this.copyNodesAndLabels(1);\n      this.labelIsolatedNodes();\n      this.computeProperIntersectionIM(intersector, im);\n      var eeBuilder = new EdgeEndBuilder();\n      var ee0 = eeBuilder.computeEdgeEnds(this._arg[0].getEdgeIterator());\n      this.insertEdgeEnds(ee0);\n      var ee1 = eeBuilder.computeEdgeEnds(this._arg[1].getEdgeIterator());\n      this.insertEdgeEnds(ee1);\n      this.labelNodeEdges();\n      this.labelIsolatedEdges(0, 1);\n      this.labelIsolatedEdges(1, 0);\n      this.updateIM(im);\n      return im;\n    },\n    labelNodeEdges: function labelNodeEdges() {\n      for (var ni = this._nodes.iterator(); ni.hasNext();) {\n        var node = ni.next();\n        node.getEdges().computeLabelling(this._arg);\n      }\n    },\n    copyNodesAndLabels: function copyNodesAndLabels(argIndex) {\n      for (var i = this._arg[argIndex].getNodeIterator(); i.hasNext();) {\n        var graphNode = i.next();\n\n        var newNode = this._nodes.addNode(graphNode.getCoordinate());\n\n        newNode.setLabel(argIndex, graphNode.getLabel().getLocation(argIndex));\n      }\n    },\n    labelIntersectionNodes: function labelIntersectionNodes(argIndex) {\n      for (var i = this._arg[argIndex].getEdgeIterator(); i.hasNext();) {\n        var e = i.next();\n        var eLoc = e.getLabel().getLocation(argIndex);\n\n        for (var eiIt = e.getEdgeIntersectionList().iterator(); eiIt.hasNext();) {\n          var ei = eiIt.next();\n\n          var n = this._nodes.find(ei.coord);\n\n          if (n.getLabel().isNull(argIndex)) {\n            if (eLoc === Location.BOUNDARY) n.setLabelBoundary(argIndex);else n.setLabel(argIndex, Location.INTERIOR);\n          }\n        }\n      }\n    },\n    labelIsolatedNode: function labelIsolatedNode(n, targetIndex) {\n      var loc = this._ptLocator.locate(n.getCoordinate(), this._arg[targetIndex].getGeometry());\n\n      n.getLabel().setAllLocations(targetIndex, loc);\n    },\n    computeIntersectionNodes: function computeIntersectionNodes(argIndex) {\n      for (var i = this._arg[argIndex].getEdgeIterator(); i.hasNext();) {\n        var e = i.next();\n        var eLoc = e.getLabel().getLocation(argIndex);\n\n        for (var eiIt = e.getEdgeIntersectionList().iterator(); eiIt.hasNext();) {\n          var ei = eiIt.next();\n\n          var n = this._nodes.addNode(ei.coord);\n\n          if (eLoc === Location.BOUNDARY) n.setLabelBoundary(argIndex);else {\n            if (n.getLabel().isNull(argIndex)) n.setLabel(argIndex, Location.INTERIOR);\n          }\n        }\n      }\n    },\n    labelIsolatedNodes: function labelIsolatedNodes() {\n      for (var ni = this._nodes.iterator(); ni.hasNext();) {\n        var n = ni.next();\n        var label = n.getLabel();\n        Assert.isTrue(label.getGeometryCount() > 0, \"node with empty label found\");\n\n        if (n.isIsolated()) {\n          if (label.isNull(0)) this.labelIsolatedNode(n, 0);else this.labelIsolatedNode(n, 1);\n        }\n      }\n    },\n    updateIM: function updateIM(im) {\n      for (var ei = this._isolatedEdges.iterator(); ei.hasNext();) {\n        var e = ei.next();\n        e.updateIM(im);\n      }\n\n      for (var ni = this._nodes.iterator(); ni.hasNext();) {\n        var node = ni.next();\n        node.updateIM(im);\n        node.updateIMFromEdges(im);\n      }\n    },\n    computeDisjointIM: function computeDisjointIM(im) {\n      var ga = this._arg[0].getGeometry();\n\n      if (!ga.isEmpty()) {\n        im.set(Location.INTERIOR, Location.EXTERIOR, ga.getDimension());\n        im.set(Location.BOUNDARY, Location.EXTERIOR, ga.getBoundaryDimension());\n      }\n\n      var gb = this._arg[1].getGeometry();\n\n      if (!gb.isEmpty()) {\n        im.set(Location.EXTERIOR, Location.INTERIOR, gb.getDimension());\n        im.set(Location.EXTERIOR, Location.BOUNDARY, gb.getBoundaryDimension());\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return RelateComputer;\n    }\n  });\n\n  function RectangleContains() {\n    this._rectEnv = null;\n    var rectangle = arguments[0];\n    this._rectEnv = rectangle.getEnvelopeInternal();\n  }\n  extend(RectangleContains.prototype, {\n    isContainedInBoundary: function isContainedInBoundary(geom) {\n      if (geom instanceof Polygon) return false;\n      if (geom instanceof Point) return this.isPointContainedInBoundary(geom);\n      if (geom instanceof LineString) return this.isLineStringContainedInBoundary(geom);\n\n      for (var i = 0; i < geom.getNumGeometries(); i++) {\n        var comp = geom.getGeometryN(i);\n        if (!this.isContainedInBoundary(comp)) return false;\n      }\n\n      return true;\n    },\n    isLineSegmentContainedInBoundary: function isLineSegmentContainedInBoundary(p0, p1) {\n      if (p0.equals(p1)) return this.isPointContainedInBoundary(p0);\n\n      if (p0.x === p1.x) {\n        if (p0.x === this._rectEnv.getMinX() || p0.x === this._rectEnv.getMaxX()) return true;\n      } else if (p0.y === p1.y) {\n        if (p0.y === this._rectEnv.getMinY() || p0.y === this._rectEnv.getMaxY()) return true;\n      }\n\n      return false;\n    },\n    isLineStringContainedInBoundary: function isLineStringContainedInBoundary(line) {\n      var seq = line.getCoordinateSequence();\n      var p0 = new Coordinate();\n      var p1 = new Coordinate();\n\n      for (var i = 0; i < seq.size() - 1; i++) {\n        seq.getCoordinate(i, p0);\n        seq.getCoordinate(i + 1, p1);\n        if (!this.isLineSegmentContainedInBoundary(p0, p1)) return false;\n      }\n\n      return true;\n    },\n    isPointContainedInBoundary: function isPointContainedInBoundary() {\n      if (arguments[0] instanceof Point) {\n        var point = arguments[0];\n        return this.isPointContainedInBoundary(point.getCoordinate());\n      } else if (arguments[0] instanceof Coordinate) {\n        var pt = arguments[0];\n        return pt.x === this._rectEnv.getMinX() || pt.x === this._rectEnv.getMaxX() || pt.y === this._rectEnv.getMinY() || pt.y === this._rectEnv.getMaxY();\n      }\n    },\n    contains: function contains(geom) {\n      if (!this._rectEnv.contains(geom.getEnvelopeInternal())) return false;\n      if (this.isContainedInBoundary(geom)) return false;\n      return true;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return RectangleContains;\n    }\n  });\n\n  RectangleContains.contains = function (rectangle, b) {\n    var rc = new RectangleContains(rectangle);\n    return rc.contains(b);\n  };\n\n  function RectangleLineIntersector() {\n    this._li = new RobustLineIntersector();\n    this._rectEnv = null;\n    this._diagUp0 = null;\n    this._diagUp1 = null;\n    this._diagDown0 = null;\n    this._diagDown1 = null;\n    var rectEnv = arguments[0];\n    this._rectEnv = rectEnv;\n    this._diagUp0 = new Coordinate(rectEnv.getMinX(), rectEnv.getMinY());\n    this._diagUp1 = new Coordinate(rectEnv.getMaxX(), rectEnv.getMaxY());\n    this._diagDown0 = new Coordinate(rectEnv.getMinX(), rectEnv.getMaxY());\n    this._diagDown1 = new Coordinate(rectEnv.getMaxX(), rectEnv.getMinY());\n  }\n  extend(RectangleLineIntersector.prototype, {\n    intersects: function intersects(p0, p1) {\n      var segEnv = new Envelope(p0, p1);\n      if (!this._rectEnv.intersects(segEnv)) return false;\n      if (this._rectEnv.intersects(p0)) return true;\n      if (this._rectEnv.intersects(p1)) return true;\n\n      if (p0.compareTo(p1) > 0) {\n        var tmp = p0;\n        p0 = p1;\n        p1 = tmp;\n      }\n\n      var isSegUpwards = false;\n      if (p1.y > p0.y) isSegUpwards = true;\n\n      if (isSegUpwards) {\n        this._li.computeIntersection(p0, p1, this._diagDown0, this._diagDown1);\n      } else {\n        this._li.computeIntersection(p0, p1, this._diagUp0, this._diagUp1);\n      }\n\n      if (this._li.hasIntersection()) return true;\n      return false;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return RectangleLineIntersector;\n    }\n  });\n\n  function ShortCircuitedGeometryVisitor() {\n    this._isDone = false;\n  }\n  extend(ShortCircuitedGeometryVisitor.prototype, {\n    applyTo: function applyTo(geom) {\n      for (var i = 0; i < geom.getNumGeometries() && !this._isDone; i++) {\n        var element = geom.getGeometryN(i);\n\n        if (!(element instanceof GeometryCollection)) {\n          this.visit(element);\n\n          if (this.isDone()) {\n            this._isDone = true;\n            return null;\n          }\n        } else this.applyTo(element);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return ShortCircuitedGeometryVisitor;\n    }\n  });\n\n  function RectangleIntersects() {\n    this._rectangle = null;\n    this._rectEnv = null;\n    var rectangle = arguments[0];\n    this._rectangle = rectangle;\n    this._rectEnv = rectangle.getEnvelopeInternal();\n  }\n  extend(RectangleIntersects.prototype, {\n    intersects: function intersects(geom) {\n      if (!this._rectEnv.intersects(geom.getEnvelopeInternal())) return false;\n      var visitor = new EnvelopeIntersectsVisitor(this._rectEnv);\n      visitor.applyTo(geom);\n      if (visitor.intersects()) return true;\n      var ecpVisitor = new GeometryContainsPointVisitor(this._rectangle);\n      ecpVisitor.applyTo(geom);\n      if (ecpVisitor.containsPoint()) return true;\n      var riVisitor = new RectangleIntersectsSegmentVisitor(this._rectangle);\n      riVisitor.applyTo(geom);\n      if (riVisitor.intersects()) return true;\n      return false;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return RectangleIntersects;\n    }\n  });\n\n  RectangleIntersects.intersects = function (rectangle, b) {\n    var rp = new RectangleIntersects(rectangle);\n    return rp.intersects(b);\n  };\n\n  function EnvelopeIntersectsVisitor() {\n    ShortCircuitedGeometryVisitor.apply(this);\n    this._rectEnv = null;\n    this._intersects = false;\n    var rectEnv = arguments[0];\n    this._rectEnv = rectEnv;\n  }\n\n  inherits(EnvelopeIntersectsVisitor, ShortCircuitedGeometryVisitor);\n  extend(EnvelopeIntersectsVisitor.prototype, {\n    isDone: function isDone() {\n      return this._intersects === true;\n    },\n    visit: function visit(element) {\n      var elementEnv = element.getEnvelopeInternal();\n\n      if (!this._rectEnv.intersects(elementEnv)) {\n        return null;\n      }\n\n      if (this._rectEnv.contains(elementEnv)) {\n        this._intersects = true;\n        return null;\n      }\n\n      if (elementEnv.getMinX() >= this._rectEnv.getMinX() && elementEnv.getMaxX() <= this._rectEnv.getMaxX()) {\n        this._intersects = true;\n        return null;\n      }\n\n      if (elementEnv.getMinY() >= this._rectEnv.getMinY() && elementEnv.getMaxY() <= this._rectEnv.getMaxY()) {\n        this._intersects = true;\n        return null;\n      }\n    },\n    intersects: function intersects() {\n      return this._intersects;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return EnvelopeIntersectsVisitor;\n    }\n  });\n\n  function GeometryContainsPointVisitor() {\n    ShortCircuitedGeometryVisitor.apply(this);\n    this._rectSeq = null;\n    this._rectEnv = null;\n    this._containsPoint = false;\n    var rectangle = arguments[0];\n    this._rectSeq = rectangle.getExteriorRing().getCoordinateSequence();\n    this._rectEnv = rectangle.getEnvelopeInternal();\n  }\n\n  inherits(GeometryContainsPointVisitor, ShortCircuitedGeometryVisitor);\n  extend(GeometryContainsPointVisitor.prototype, {\n    isDone: function isDone() {\n      return this._containsPoint === true;\n    },\n    visit: function visit(geom) {\n      if (!(geom instanceof Polygon)) return null;\n      var elementEnv = geom.getEnvelopeInternal();\n      if (!this._rectEnv.intersects(elementEnv)) return null;\n      var rectPt = new Coordinate();\n\n      for (var i = 0; i < 4; i++) {\n        this._rectSeq.getCoordinate(i, rectPt);\n\n        if (!elementEnv.contains(rectPt)) continue;\n\n        if (SimplePointInAreaLocator.containsPointInPolygon(rectPt, geom)) {\n          this._containsPoint = true;\n          return null;\n        }\n      }\n    },\n    containsPoint: function containsPoint() {\n      return this._containsPoint;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return GeometryContainsPointVisitor;\n    }\n  });\n\n  function RectangleIntersectsSegmentVisitor() {\n    ShortCircuitedGeometryVisitor.apply(this);\n    this._rectEnv = null;\n    this._rectIntersector = null;\n    this._hasIntersection = false;\n    this._p0 = new Coordinate();\n    this._p1 = new Coordinate();\n    var rectangle = arguments[0];\n    this._rectEnv = rectangle.getEnvelopeInternal();\n    this._rectIntersector = new RectangleLineIntersector(this._rectEnv);\n  }\n\n  inherits(RectangleIntersectsSegmentVisitor, ShortCircuitedGeometryVisitor);\n  extend(RectangleIntersectsSegmentVisitor.prototype, {\n    intersects: function intersects() {\n      return this._hasIntersection;\n    },\n    isDone: function isDone() {\n      return this._hasIntersection === true;\n    },\n    visit: function visit(geom) {\n      var elementEnv = geom.getEnvelopeInternal();\n      if (!this._rectEnv.intersects(elementEnv)) return null;\n      var lines = LinearComponentExtracter.getLines(geom);\n      this.checkIntersectionWithLineStrings(lines);\n    },\n    checkIntersectionWithLineStrings: function checkIntersectionWithLineStrings(lines) {\n      for (var i = lines.iterator(); i.hasNext();) {\n        var testLine = i.next();\n        this.checkIntersectionWithSegments(testLine);\n        if (this._hasIntersection) return null;\n      }\n    },\n    checkIntersectionWithSegments: function checkIntersectionWithSegments(testLine) {\n      var seq1 = testLine.getCoordinateSequence();\n\n      for (var j = 1; j < seq1.size(); j++) {\n        seq1.getCoordinate(j - 1, this._p0);\n        seq1.getCoordinate(j, this._p1);\n\n        if (this._rectIntersector.intersects(this._p0, this._p1)) {\n          this._hasIntersection = true;\n          return null;\n        }\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return RectangleIntersectsSegmentVisitor;\n    }\n  });\n\n  function RelateOp() {\n    this._relate = null;\n\n    if (arguments.length === 2) {\n      var g0 = arguments[0],\n          g1 = arguments[1];\n      GeometryGraphOperation.call(this, g0, g1);\n      this._relate = new RelateComputer(this._arg);\n    } else if (arguments.length === 3) {\n      var _g = arguments[0],\n          _g2 = arguments[1],\n          boundaryNodeRule = arguments[2];\n      GeometryGraphOperation.call(this, _g, _g2, boundaryNodeRule);\n      this._relate = new RelateComputer(this._arg);\n    }\n  }\n  inherits(RelateOp, GeometryGraphOperation);\n  extend(RelateOp.prototype, {\n    getIntersectionMatrix: function getIntersectionMatrix() {\n      return this._relate.computeIM();\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return RelateOp;\n    }\n  });\n\n  RelateOp.covers = function (g1, g2) {\n    if (g2.getDimension() === 2 && g1.getDimension() < 2) {\n      return false;\n    }\n\n    if (g2.getDimension() === 1 && g1.getDimension() < 1 && g2.getLength() > 0.0) {\n      return false;\n    }\n\n    if (!g1.getEnvelopeInternal().covers(g2.getEnvelopeInternal())) return false;\n\n    if (g1.isRectangle()) {\n      return true;\n    }\n\n    return new RelateOp(g1, g2).getIntersectionMatrix().isCovers();\n  };\n\n  RelateOp.intersects = function (g1, g2) {\n    if (!g1.getEnvelopeInternal().intersects(g2.getEnvelopeInternal())) return false;\n\n    if (g1.isRectangle()) {\n      return RectangleIntersects.intersects(g1, g2);\n    }\n\n    if (g2.isRectangle()) {\n      return RectangleIntersects.intersects(g2, g1);\n    }\n\n    if (g1.isGeometryCollection() || g2.isGeometryCollection()) {\n\n      for (var i = 0; i < g1.getNumGeometries(); i++) {\n        for (var j = 0; j < g2.getNumGeometries(); j++) {\n          if (g1.getGeometryN(i).intersects(g2.getGeometryN(j))) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    }\n\n    return new RelateOp(g1, g2).getIntersectionMatrix().isIntersects();\n  };\n\n  RelateOp.touches = function (g1, g2) {\n    if (!g1.getEnvelopeInternal().intersects(g2.getEnvelopeInternal())) return false;\n    return new RelateOp(g1, g2).getIntersectionMatrix().isTouches(g1.getDimension(), g2.getDimension());\n  };\n\n  RelateOp.relate = function () {\n    if (arguments.length === 2) {\n      var a = arguments[0],\n          b = arguments[1];\n      var relOp = new RelateOp(a, b);\n      var im = relOp.getIntersectionMatrix();\n      return im;\n    } else if (arguments.length === 3) {\n      var _a = arguments[0],\n          _b = arguments[1],\n          boundaryNodeRule = arguments[2];\n      var relOp = new RelateOp(_a, _b, boundaryNodeRule);\n      var im = relOp.getIntersectionMatrix();\n      return im;\n    }\n  };\n\n  RelateOp.overlaps = function (g1, g2) {\n    if (!g1.getEnvelopeInternal().intersects(g2.getEnvelopeInternal())) return false;\n    return new RelateOp(g1, g2).getIntersectionMatrix().isOverlaps(g1.getDimension(), g2.getDimension());\n  };\n\n  RelateOp.crosses = function (g1, g2) {\n    if (!g1.getEnvelopeInternal().intersects(g2.getEnvelopeInternal())) return false;\n    return new RelateOp(g1, g2).getIntersectionMatrix().isCrosses(g1.getDimension(), g2.getDimension());\n  };\n\n  RelateOp.contains = function (g1, g2) {\n    if (g2.getDimension() === 2 && g1.getDimension() < 2) {\n      return false;\n    }\n\n    if (g2.getDimension() === 1 && g1.getDimension() < 1 && g2.getLength() > 0.0) {\n      return false;\n    }\n\n    if (!g1.getEnvelopeInternal().contains(g2.getEnvelopeInternal())) return false;\n\n    if (g1.isRectangle()) {\n      return RectangleContains.contains(g1, g2);\n    }\n\n    return new RelateOp(g1, g2).getIntersectionMatrix().isContains();\n  };\n\n\n\n  var relate = /*#__PURE__*/Object.freeze({\n    RelateOp: RelateOp\n  });\n\n  function GeometryCombiner() {\n    this._geomFactory = null;\n    this._skipEmpty = false;\n    this._inputGeoms = null;\n    var geoms = arguments[0];\n    this._geomFactory = GeometryCombiner.extractFactory(geoms);\n    this._inputGeoms = geoms;\n  }\n  extend(GeometryCombiner.prototype, {\n    extractElements: function extractElements(geom, elems) {\n      if (geom === null) return null;\n\n      for (var i = 0; i < geom.getNumGeometries(); i++) {\n        var elemGeom = geom.getGeometryN(i);\n        if (this._skipEmpty && elemGeom.isEmpty()) continue;\n        elems.add(elemGeom);\n      }\n    },\n    combine: function combine() {\n      var elems = new ArrayList();\n\n      for (var i = this._inputGeoms.iterator(); i.hasNext();) {\n        var g = i.next();\n        this.extractElements(g, elems);\n      }\n\n      if (elems.size() === 0) {\n        if (this._geomFactory !== null) {\n          return this._geomFactory.createGeometryCollection();\n        }\n\n        return null;\n      }\n\n      return this._geomFactory.buildGeometry(elems);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return GeometryCombiner;\n    }\n  });\n\n  GeometryCombiner.combine = function () {\n    if (arguments.length === 1) {\n      var geoms = arguments[0];\n      var combiner = new GeometryCombiner(geoms);\n      return combiner.combine();\n    } else if (arguments.length === 2) {\n      var g0 = arguments[0],\n          g1 = arguments[1];\n      var combiner = new GeometryCombiner(GeometryCombiner.createList(g0, g1));\n      return combiner.combine();\n    } else if (arguments.length === 3) {\n      var _g = arguments[0],\n          _g2 = arguments[1],\n          g2 = arguments[2];\n      var combiner = new GeometryCombiner(GeometryCombiner.createList(_g, _g2, g2));\n      return combiner.combine();\n    }\n  };\n\n  GeometryCombiner.extractFactory = function (geoms) {\n    if (geoms.isEmpty()) return null;\n    return geoms.iterator().next().getFactory();\n  };\n\n  GeometryCombiner.createList = function () {\n    if (arguments.length === 2) {\n      var obj0 = arguments[0],\n          obj1 = arguments[1];\n      var list = new ArrayList();\n      list.add(obj0);\n      list.add(obj1);\n      return list;\n    } else if (arguments.length === 3) {\n      var _obj = arguments[0],\n          _obj2 = arguments[1],\n          obj2 = arguments[2];\n      var list = new ArrayList();\n      list.add(_obj);\n      list.add(_obj2);\n      list.add(obj2);\n      return list;\n    }\n  };\n\n  function PointGeometryUnion() {\n    this._pointGeom = null;\n    this._otherGeom = null;\n    this._geomFact = null;\n    var pointGeom = arguments[0],\n        otherGeom = arguments[1];\n    this._pointGeom = pointGeom;\n    this._otherGeom = otherGeom;\n    this._geomFact = otherGeom.getFactory();\n  }\n  extend(PointGeometryUnion.prototype, {\n    union: function union() {\n      var locater = new PointLocator();\n      var exteriorCoords = new TreeSet();\n\n      for (var i = 0; i < this._pointGeom.getNumGeometries(); i++) {\n        var point = this._pointGeom.getGeometryN(i);\n\n        var coord = point.getCoordinate();\n        var loc = locater.locate(coord, this._otherGeom);\n        if (loc === Location.EXTERIOR) exteriorCoords.add(coord);\n      }\n\n      if (exteriorCoords.size() === 0) return this._otherGeom;\n      var ptComp = null;\n      var coords = CoordinateArrays.toCoordinateArray(exteriorCoords);\n\n      if (coords.length === 1) {\n        ptComp = this._geomFact.createPoint(coords[0]);\n      } else {\n        ptComp = this._geomFact.createMultiPointFromCoords(coords);\n      }\n\n      return GeometryCombiner.combine(ptComp, this._otherGeom);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return PointGeometryUnion;\n    }\n  });\n\n  PointGeometryUnion.union = function (pointGeom, otherGeom) {\n    var unioner = new PointGeometryUnion(pointGeom, otherGeom);\n    return unioner.union();\n  };\n\n  function GeometryExtracter() {\n    this._geometryType = null;\n    this._comps = null;\n    var geometryType = arguments[0],\n        comps = arguments[1];\n    this._geometryType = geometryType;\n    this._comps = comps;\n  }\n  extend(GeometryExtracter.prototype, {\n    filter: function filter(geom) {\n      if (this._geometryType === null || GeometryExtracter.isOfType(geom, this._geometryType)) this._comps.add(geom);\n    },\n    interfaces_: function interfaces_() {\n      return [GeometryFilter];\n    },\n    getClass: function getClass() {\n      return GeometryExtracter;\n    }\n  });\n\n  GeometryExtracter.isOfType = function (geom, geometryType) {\n    if (geom.getGeometryType() === geometryType) return true;\n    if (geometryType === Geometry.TYPENAME_LINESTRING && geom.getGeometryType() === Geometry.TYPENAME_LINEARRING) return true;\n    return false;\n  };\n\n  GeometryExtracter.extract = function () {\n    if (arguments.length === 2) {\n      var geom = arguments[0],\n          geometryType = arguments[1];\n      return GeometryExtracter.extract(geom, geometryType, new ArrayList());\n    } else if (arguments.length === 3) {\n      if (hasInterface(arguments[2], List) && arguments[0] instanceof Geometry && typeof arguments[1] === \"string\") {\n        var _geom = arguments[0],\n            _geometryType = arguments[1],\n            list = arguments[2];\n\n        if (_geom.getGeometryType() === _geometryType) {\n          list.add(_geom);\n        } else if (_geom instanceof GeometryCollection) {\n          _geom.apply(new GeometryExtracter(_geometryType, list));\n        }\n\n        return list;\n      } else if (hasInterface(arguments[2], List) && arguments[0] instanceof Geometry && arguments[1] instanceof Class) {\n        var _geom2 = arguments[0],\n            clz = arguments[1],\n            _list = arguments[2];\n        return GeometryExtracter.extract(_geom2, GeometryExtracter.toGeometryType(clz), _list);\n      }\n    }\n  };\n\n  function CascadedPolygonUnion() {\n    this._inputPolys = null;\n    this._geomFactory = null;\n    var polys = arguments[0];\n    this._inputPolys = polys;\n    if (this._inputPolys === null) this._inputPolys = new ArrayList();\n  }\n  extend(CascadedPolygonUnion.prototype, {\n    reduceToGeometries: function reduceToGeometries(geomTree) {\n      var geoms = new ArrayList();\n\n      for (var i = geomTree.iterator(); i.hasNext();) {\n        var o = i.next();\n        var geom = null;\n\n        if (hasInterface(o, List)) {\n          geom = this.unionTree(o);\n        } else if (o instanceof Geometry) {\n          geom = o;\n        }\n\n        geoms.add(geom);\n      }\n\n      return geoms;\n    },\n    extractByEnvelope: function extractByEnvelope(env, geom, disjointGeoms) {\n      var intersectingGeoms = new ArrayList();\n\n      for (var i = 0; i < geom.getNumGeometries(); i++) {\n        var elem = geom.getGeometryN(i);\n        if (elem.getEnvelopeInternal().intersects(env)) intersectingGeoms.add(elem);else disjointGeoms.add(elem);\n      }\n\n      return this._geomFactory.buildGeometry(intersectingGeoms);\n    },\n    unionOptimized: function unionOptimized(g0, g1) {\n      var g0Env = g0.getEnvelopeInternal();\n      var g1Env = g1.getEnvelopeInternal();\n\n      if (!g0Env.intersects(g1Env)) {\n        var combo = GeometryCombiner.combine(g0, g1);\n        return combo;\n      }\n\n      if (g0.getNumGeometries() <= 1 && g1.getNumGeometries() <= 1) return this.unionActual(g0, g1);\n      var commonEnv = g0Env.intersection(g1Env);\n      return this.unionUsingEnvelopeIntersection(g0, g1, commonEnv);\n    },\n    union: function union() {\n      if (this._inputPolys === null) throw new IllegalStateException(\"union() method cannot be called twice\");\n      if (this._inputPolys.isEmpty()) return null;\n      this._geomFactory = this._inputPolys.iterator().next().getFactory();\n      var index = new STRtree(CascadedPolygonUnion.STRTREE_NODE_CAPACITY);\n\n      for (var i = this._inputPolys.iterator(); i.hasNext();) {\n        var item = i.next();\n        index.insert(item.getEnvelopeInternal(), item);\n      }\n\n      this._inputPolys = null;\n      var itemTree = index.itemsTree();\n      var unionAll = this.unionTree(itemTree);\n      return unionAll;\n    },\n    binaryUnion: function binaryUnion() {\n      if (arguments.length === 1) {\n        var geoms = arguments[0];\n        return this.binaryUnion(geoms, 0, geoms.size());\n      } else if (arguments.length === 3) {\n        var _geoms = arguments[0],\n            start = arguments[1],\n            end = arguments[2];\n\n        if (end - start <= 1) {\n          var g0 = CascadedPolygonUnion.getGeometry(_geoms, start);\n          return this.unionSafe(g0, null);\n        } else if (end - start === 2) {\n          return this.unionSafe(CascadedPolygonUnion.getGeometry(_geoms, start), CascadedPolygonUnion.getGeometry(_geoms, start + 1));\n        } else {\n          var mid = Math.trunc((end + start) / 2);\n          var g0 = this.binaryUnion(_geoms, start, mid);\n          var g1 = this.binaryUnion(_geoms, mid, end);\n          return this.unionSafe(g0, g1);\n        }\n      }\n    },\n    repeatedUnion: function repeatedUnion(geoms) {\n      var union = null;\n\n      for (var i = geoms.iterator(); i.hasNext();) {\n        var g = i.next();\n        if (union === null) union = g.copy();else union = union.union(g);\n      }\n\n      return union;\n    },\n    unionSafe: function unionSafe(g0, g1) {\n      if (g0 === null && g1 === null) return null;\n      if (g0 === null) return g1.copy();\n      if (g1 === null) return g0.copy();\n      return this.unionOptimized(g0, g1);\n    },\n    unionActual: function unionActual(g0, g1) {\n      return CascadedPolygonUnion.restrictToPolygons(g0.union(g1));\n    },\n    unionTree: function unionTree(geomTree) {\n      var geoms = this.reduceToGeometries(geomTree);\n      var union = this.binaryUnion(geoms);\n      return union;\n    },\n    unionUsingEnvelopeIntersection: function unionUsingEnvelopeIntersection(g0, g1, common) {\n      var disjointPolys = new ArrayList();\n      var g0Int = this.extractByEnvelope(common, g0, disjointPolys);\n      var g1Int = this.extractByEnvelope(common, g1, disjointPolys);\n      var union = this.unionActual(g0Int, g1Int);\n      disjointPolys.add(union);\n      var overallUnion = GeometryCombiner.combine(disjointPolys);\n      return overallUnion;\n    },\n    bufferUnion: function bufferUnion() {\n      if (arguments.length === 1) {\n        var geoms = arguments[0];\n        var factory = geoms.get(0).getFactory();\n        var gColl = factory.buildGeometry(geoms);\n        var unionAll = gColl.buffer(0.0);\n        return unionAll;\n      } else if (arguments.length === 2) {\n        var g0 = arguments[0],\n            g1 = arguments[1];\n        var factory = g0.getFactory();\n        var gColl = factory.createGeometryCollection([g0, g1]);\n        var unionAll = gColl.buffer(0.0);\n        return unionAll;\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return CascadedPolygonUnion;\n    }\n  });\n\n  CascadedPolygonUnion.restrictToPolygons = function (g) {\n    if (hasInterface(g, Polygonal)) {\n      return g;\n    }\n\n    var polygons = PolygonExtracter.getPolygons(g);\n    if (polygons.size() === 1) return polygons.get(0);\n    return g.getFactory().createMultiPolygon(GeometryFactory.toPolygonArray(polygons));\n  };\n\n  CascadedPolygonUnion.getGeometry = function (list, index) {\n    if (index >= list.size()) return null;\n    return list.get(index);\n  };\n\n  CascadedPolygonUnion.union = function (polys) {\n    var op = new CascadedPolygonUnion(polys);\n    return op.union();\n  };\n\n  CascadedPolygonUnion.STRTREE_NODE_CAPACITY = 4;\n\n  function UnaryUnionOp() {\n    this._polygons = new ArrayList();\n    this._lines = new ArrayList();\n    this._points = new ArrayList();\n    this._geomFact = null;\n\n    if (arguments.length === 1) {\n      if (hasInterface(arguments[0], Collection)) {\n        var geoms = arguments[0];\n        this.extract(geoms);\n      } else if (arguments[0] instanceof Geometry) {\n        var geom = arguments[0];\n        this.extract(geom);\n      }\n    } else if (arguments.length === 2) {\n      var _geoms = arguments[0],\n          geomFact = arguments[1];\n      this._geomFact = geomFact;\n      this.extract(_geoms);\n    }\n  }\n  extend(UnaryUnionOp.prototype, {\n    unionNoOpt: function unionNoOpt(g0) {\n      var empty = this._geomFact.createPoint();\n\n      return SnapIfNeededOverlayOp.overlayOp(g0, empty, OverlayOp.UNION);\n    },\n    unionWithNull: function unionWithNull(g0, g1) {\n      if (g0 === null && g1 === null) return null;\n      if (g1 === null) return g0;\n      if (g0 === null) return g1;\n      return g0.union(g1);\n    },\n    extract: function extract() {\n      if (hasInterface(arguments[0], Collection)) {\n        var geoms = arguments[0];\n\n        for (var i = geoms.iterator(); i.hasNext();) {\n          var geom = i.next();\n          this.extract(geom);\n        }\n      } else if (arguments[0] instanceof Geometry) {\n        var _geom = arguments[0];\n        if (this._geomFact === null) this._geomFact = _geom.getFactory();\n        GeometryExtracter.extract(_geom, Geometry.TYPENAME_POLYGON, this._polygons);\n        GeometryExtracter.extract(_geom, Geometry.TYPENAME_LINESTRING, this._lines);\n        GeometryExtracter.extract(_geom, Geometry.TYPENAME_POINT, this._points);\n      }\n    },\n    union: function union() {\n      if (this._geomFact === null) {\n        return null;\n      }\n\n      var unionPoints = null;\n\n      if (this._points.size() > 0) {\n        var ptGeom = this._geomFact.buildGeometry(this._points);\n\n        unionPoints = this.unionNoOpt(ptGeom);\n      }\n\n      var unionLines = null;\n\n      if (this._lines.size() > 0) {\n        var lineGeom = this._geomFact.buildGeometry(this._lines);\n\n        unionLines = this.unionNoOpt(lineGeom);\n      }\n\n      var unionPolygons = null;\n\n      if (this._polygons.size() > 0) {\n        unionPolygons = CascadedPolygonUnion.union(this._polygons);\n      }\n\n      var unionLA = this.unionWithNull(unionLines, unionPolygons);\n      var union = null;\n      if (unionPoints === null) union = unionLA;else if (unionLA === null) union = unionPoints;else union = PointGeometryUnion.union(unionPoints, unionLA);\n      if (union === null) return this._geomFact.createGeometryCollection();\n      return union;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return UnaryUnionOp;\n    }\n  });\n\n  UnaryUnionOp.union = function () {\n    if (arguments.length === 1) {\n      if (hasInterface(arguments[0], Collection)) {\n        var geoms = arguments[0];\n        var op = new UnaryUnionOp(geoms);\n        return op.union();\n      } else if (arguments[0] instanceof Geometry) {\n        var geom = arguments[0];\n        var op = new UnaryUnionOp(geom);\n        return op.union();\n      }\n    } else if (arguments.length === 2) {\n      var _geoms2 = arguments[0],\n          geomFact = arguments[1];\n      var op = new UnaryUnionOp(_geoms2, geomFact);\n      return op.union();\n    }\n  };\n\n\n\n  var union = /*#__PURE__*/Object.freeze({\n    UnaryUnionOp: UnaryUnionOp\n  });\n\n  function ConnectedInteriorTester() {\n    this._geometryFactory = new GeometryFactory();\n    this._geomGraph = null;\n    this._disconnectedRingcoord = null;\n    var geomGraph = arguments[0];\n    this._geomGraph = geomGraph;\n  }\n  extend(ConnectedInteriorTester.prototype, {\n    visitInteriorRing: function visitInteriorRing(ring, graph) {\n      var pts = ring.getCoordinates();\n      var pt0 = pts[0];\n      var pt1 = ConnectedInteriorTester.findDifferentPoint(pts, pt0);\n      var e = graph.findEdgeInSameDirection(pt0, pt1);\n      var de = graph.findEdgeEnd(e);\n      var intDe = null;\n\n      if (de.getLabel().getLocation(0, Position.RIGHT) === Location.INTERIOR) {\n        intDe = de;\n      } else if (de.getSym().getLabel().getLocation(0, Position.RIGHT) === Location.INTERIOR) {\n        intDe = de.getSym();\n      }\n\n      Assert.isTrue(intDe !== null, \"unable to find dirEdge with Interior on RHS\");\n      this.visitLinkedDirectedEdges(intDe);\n    },\n    visitShellInteriors: function visitShellInteriors(g, graph) {\n      if (g instanceof Polygon) {\n        var p = g;\n        this.visitInteriorRing(p.getExteriorRing(), graph);\n      }\n\n      if (g instanceof MultiPolygon) {\n        var mp = g;\n\n        for (var i = 0; i < mp.getNumGeometries(); i++) {\n          var p = mp.getGeometryN(i);\n          this.visitInteriorRing(p.getExteriorRing(), graph);\n        }\n      }\n    },\n    getCoordinate: function getCoordinate() {\n      return this._disconnectedRingcoord;\n    },\n    setInteriorEdgesInResult: function setInteriorEdgesInResult(graph) {\n      for (var it = graph.getEdgeEnds().iterator(); it.hasNext();) {\n        var de = it.next();\n\n        if (de.getLabel().getLocation(0, Position.RIGHT) === Location.INTERIOR) {\n          de.setInResult(true);\n        }\n      }\n    },\n    visitLinkedDirectedEdges: function visitLinkedDirectedEdges(start) {\n      var startDe = start;\n      var de = start;\n\n      do {\n        Assert.isTrue(de !== null, \"found null Directed Edge\");\n        de.setVisited(true);\n        de = de.getNext();\n      } while (de !== startDe);\n    },\n    buildEdgeRings: function buildEdgeRings(dirEdges) {\n      var edgeRings = new ArrayList();\n\n      for (var it = dirEdges.iterator(); it.hasNext();) {\n        var de = it.next();\n\n        if (de.isInResult() && de.getEdgeRing() === null) {\n          var er = new MaximalEdgeRing(de, this._geometryFactory);\n          er.linkDirectedEdgesForMinimalEdgeRings();\n          var minEdgeRings = er.buildMinimalRings();\n          edgeRings.addAll(minEdgeRings);\n        }\n      }\n\n      return edgeRings;\n    },\n    hasUnvisitedShellEdge: function hasUnvisitedShellEdge(edgeRings) {\n      for (var i = 0; i < edgeRings.size(); i++) {\n        var er = edgeRings.get(i);\n        if (er.isHole()) continue;\n        var edges = er.getEdges();\n        var de = edges.get(0);\n        if (de.getLabel().getLocation(0, Position.RIGHT) !== Location.INTERIOR) continue;\n\n        for (var j = 0; j < edges.size(); j++) {\n          de = edges.get(j);\n\n          if (!de.isVisited()) {\n            this._disconnectedRingcoord = de.getCoordinate();\n            return true;\n          }\n        }\n      }\n\n      return false;\n    },\n    isInteriorsConnected: function isInteriorsConnected() {\n      var splitEdges = new ArrayList();\n\n      this._geomGraph.computeSplitEdges(splitEdges);\n\n      var graph = new PlanarGraph(new OverlayNodeFactory());\n      graph.addEdges(splitEdges);\n      this.setInteriorEdgesInResult(graph);\n      graph.linkResultDirectedEdges();\n      var edgeRings = this.buildEdgeRings(graph.getEdgeEnds());\n      this.visitShellInteriors(this._geomGraph.getGeometry(), graph);\n      return !this.hasUnvisitedShellEdge(edgeRings);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return ConnectedInteriorTester;\n    }\n  });\n\n  ConnectedInteriorTester.findDifferentPoint = function (coord, pt) {\n    for (var i = 0; i < coord.length; i++) {\n      if (!coord[i].equals(pt)) return coord[i];\n    }\n\n    return null;\n  };\n\n  function RelateNodeGraph() {\n    this._nodes = new NodeMap(new RelateNodeFactory());\n  }\n  extend(RelateNodeGraph.prototype, {\n    insertEdgeEnds: function insertEdgeEnds(ee) {\n      for (var i = ee.iterator(); i.hasNext();) {\n        var e = i.next();\n\n        this._nodes.add(e);\n      }\n    },\n    getNodeIterator: function getNodeIterator() {\n      return this._nodes.iterator();\n    },\n    copyNodesAndLabels: function copyNodesAndLabels(geomGraph, argIndex) {\n      for (var nodeIt = geomGraph.getNodeIterator(); nodeIt.hasNext();) {\n        var graphNode = nodeIt.next();\n\n        var newNode = this._nodes.addNode(graphNode.getCoordinate());\n\n        newNode.setLabel(argIndex, graphNode.getLabel().getLocation(argIndex));\n      }\n    },\n    build: function build(geomGraph) {\n      this.computeIntersectionNodes(geomGraph, 0);\n      this.copyNodesAndLabels(geomGraph, 0);\n      var eeBuilder = new EdgeEndBuilder();\n      var eeList = eeBuilder.computeEdgeEnds(geomGraph.getEdgeIterator());\n      this.insertEdgeEnds(eeList);\n    },\n    computeIntersectionNodes: function computeIntersectionNodes(geomGraph, argIndex) {\n      for (var edgeIt = geomGraph.getEdgeIterator(); edgeIt.hasNext();) {\n        var e = edgeIt.next();\n        var eLoc = e.getLabel().getLocation(argIndex);\n\n        for (var eiIt = e.getEdgeIntersectionList().iterator(); eiIt.hasNext();) {\n          var ei = eiIt.next();\n\n          var n = this._nodes.addNode(ei.coord);\n\n          if (eLoc === Location.BOUNDARY) n.setLabelBoundary(argIndex);else {\n            if (n.getLabel().isNull(argIndex)) n.setLabel(argIndex, Location.INTERIOR);\n          }\n        }\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return RelateNodeGraph;\n    }\n  });\n\n  function ConsistentAreaTester() {\n    this._li = new RobustLineIntersector();\n    this._geomGraph = null;\n    this._nodeGraph = new RelateNodeGraph();\n    this._invalidPoint = null;\n    var geomGraph = arguments[0];\n    this._geomGraph = geomGraph;\n  }\n  extend(ConsistentAreaTester.prototype, {\n    isNodeEdgeAreaLabelsConsistent: function isNodeEdgeAreaLabelsConsistent() {\n      for (var nodeIt = this._nodeGraph.getNodeIterator(); nodeIt.hasNext();) {\n        var node = nodeIt.next();\n\n        if (!node.getEdges().isAreaLabelsConsistent(this._geomGraph)) {\n          this._invalidPoint = node.getCoordinate().copy();\n          return false;\n        }\n      }\n\n      return true;\n    },\n    getInvalidPoint: function getInvalidPoint() {\n      return this._invalidPoint;\n    },\n    hasDuplicateRings: function hasDuplicateRings() {\n      for (var nodeIt = this._nodeGraph.getNodeIterator(); nodeIt.hasNext();) {\n        var node = nodeIt.next();\n\n        for (var i = node.getEdges().iterator(); i.hasNext();) {\n          var eeb = i.next();\n\n          if (eeb.getEdgeEnds().size() > 1) {\n            this._invalidPoint = eeb.getEdge().getCoordinate(0);\n            return true;\n          }\n        }\n      }\n\n      return false;\n    },\n    isNodeConsistentArea: function isNodeConsistentArea() {\n      var intersector = this._geomGraph.computeSelfNodes(this._li, true, true);\n\n      if (intersector.hasProperIntersection()) {\n        this._invalidPoint = intersector.getProperIntersectionPoint();\n        return false;\n      }\n\n      this._nodeGraph.build(this._geomGraph);\n\n      return this.isNodeEdgeAreaLabelsConsistent();\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return ConsistentAreaTester;\n    }\n  });\n\n  function IndexedNestedRingTester() {\n    this._graph = null;\n    this._rings = new ArrayList();\n    this._totalEnv = new Envelope();\n    this._index = null;\n    this._nestedPt = null;\n    var graph = arguments[0];\n    this._graph = graph;\n  }\n  extend(IndexedNestedRingTester.prototype, {\n    buildIndex: function buildIndex() {\n      this._index = new STRtree();\n\n      for (var i = 0; i < this._rings.size(); i++) {\n        var ring = this._rings.get(i);\n\n        var env = ring.getEnvelopeInternal();\n\n        this._index.insert(env, ring);\n      }\n    },\n    getNestedPoint: function getNestedPoint() {\n      return this._nestedPt;\n    },\n    isNonNested: function isNonNested() {\n      this.buildIndex();\n\n      for (var i = 0; i < this._rings.size(); i++) {\n        var innerRing = this._rings.get(i);\n\n        var innerRingPts = innerRing.getCoordinates();\n\n        var results = this._index.query(innerRing.getEnvelopeInternal());\n\n        for (var j = 0; j < results.size(); j++) {\n          var searchRing = results.get(j);\n          var searchRingPts = searchRing.getCoordinates();\n          if (innerRing === searchRing) continue;\n          if (!innerRing.getEnvelopeInternal().intersects(searchRing.getEnvelopeInternal())) continue;\n          var innerRingPt = IsValidOp.findPtNotNode(innerRingPts, searchRing, this._graph);\n          if (innerRingPt === null) continue;\n          var isInside = PointLocation.isInRing(innerRingPt, searchRingPts);\n\n          if (isInside) {\n            this._nestedPt = innerRingPt;\n            return false;\n          }\n        }\n      }\n\n      return true;\n    },\n    add: function add(ring) {\n      this._rings.add(ring);\n\n      this._totalEnv.expandToInclude(ring.getEnvelopeInternal());\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return IndexedNestedRingTester;\n    }\n  });\n\n  function TopologyValidationError() {\n    this._errorType = null;\n    this._pt = null;\n\n    if (arguments.length === 1) {\n      var errorType = arguments[0];\n      TopologyValidationError.call(this, errorType, null);\n    } else if (arguments.length === 2) {\n      var _errorType = arguments[0],\n          pt = arguments[1];\n      this._errorType = _errorType;\n      if (pt !== null) this._pt = pt.copy();\n    }\n  }\n  extend(TopologyValidationError.prototype, {\n    getErrorType: function getErrorType() {\n      return this._errorType;\n    },\n    getMessage: function getMessage() {\n      return TopologyValidationError.errMsg[this._errorType];\n    },\n    getCoordinate: function getCoordinate() {\n      return this._pt;\n    },\n    toString: function toString() {\n      var locStr = \"\";\n      if (this._pt !== null) locStr = \" at or near point \" + this._pt;\n      return this.getMessage() + locStr;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return TopologyValidationError;\n    }\n  });\n  TopologyValidationError.ERROR = 0;\n  TopologyValidationError.REPEATED_POINT = 1;\n  TopologyValidationError.HOLE_OUTSIDE_SHELL = 2;\n  TopologyValidationError.NESTED_HOLES = 3;\n  TopologyValidationError.DISCONNECTED_INTERIOR = 4;\n  TopologyValidationError.SELF_INTERSECTION = 5;\n  TopologyValidationError.RING_SELF_INTERSECTION = 6;\n  TopologyValidationError.NESTED_SHELLS = 7;\n  TopologyValidationError.DUPLICATE_RINGS = 8;\n  TopologyValidationError.TOO_FEW_POINTS = 9;\n  TopologyValidationError.INVALID_COORDINATE = 10;\n  TopologyValidationError.RING_NOT_CLOSED = 11;\n  TopologyValidationError.errMsg = [\"Topology Validation Error\", \"Repeated Point\", \"Hole lies outside shell\", \"Holes are nested\", \"Interior is disconnected\", \"Self-intersection\", \"Ring Self-intersection\", \"Nested shells\", \"Duplicate Rings\", \"Too few distinct points in geometry component\", \"Invalid Coordinate\", \"Ring is not closed\"];\n\n  function IsValidOp() {\n    this._parentGeometry = null;\n    this._isSelfTouchingRingFormingHoleValid = false;\n    this._validErr = null;\n    var parentGeometry = arguments[0];\n    this._parentGeometry = parentGeometry;\n  }\n  extend(IsValidOp.prototype, {\n    checkInvalidCoordinates: function checkInvalidCoordinates() {\n      if (arguments[0] instanceof Array) {\n        var coords = arguments[0];\n\n        for (var i = 0; i < coords.length; i++) {\n          if (!IsValidOp.isValid(coords[i])) {\n            this._validErr = new TopologyValidationError(TopologyValidationError.INVALID_COORDINATE, coords[i]);\n            return null;\n          }\n        }\n      } else if (arguments[0] instanceof Polygon) {\n        var poly = arguments[0];\n        this.checkInvalidCoordinates(poly.getExteriorRing().getCoordinates());\n        if (this._validErr !== null) return null;\n\n        for (var i = 0; i < poly.getNumInteriorRing(); i++) {\n          this.checkInvalidCoordinates(poly.getInteriorRingN(i).getCoordinates());\n          if (this._validErr !== null) return null;\n        }\n      }\n    },\n    checkHolesNotNested: function checkHolesNotNested(p, graph) {\n      var nestedTester = new IndexedNestedRingTester(graph);\n\n      for (var i = 0; i < p.getNumInteriorRing(); i++) {\n        var innerHole = p.getInteriorRingN(i);\n        nestedTester.add(innerHole);\n      }\n\n      var isNonNested = nestedTester.isNonNested();\n\n      if (!isNonNested) {\n        this._validErr = new TopologyValidationError(TopologyValidationError.NESTED_HOLES, nestedTester.getNestedPoint());\n      }\n    },\n    checkConsistentArea: function checkConsistentArea(graph) {\n      var cat = new ConsistentAreaTester(graph);\n      var isValidArea = cat.isNodeConsistentArea();\n\n      if (!isValidArea) {\n        this._validErr = new TopologyValidationError(TopologyValidationError.SELF_INTERSECTION, cat.getInvalidPoint());\n        return null;\n      }\n\n      if (cat.hasDuplicateRings()) {\n        this._validErr = new TopologyValidationError(TopologyValidationError.DUPLICATE_RINGS, cat.getInvalidPoint());\n      }\n    },\n    isValid: function isValid() {\n      this.checkValid(this._parentGeometry);\n      return this._validErr === null;\n    },\n    checkShellInsideHole: function checkShellInsideHole(shell, hole, graph) {\n      var shellPts = shell.getCoordinates();\n      var holePts = hole.getCoordinates();\n      var shellPt = IsValidOp.findPtNotNode(shellPts, hole, graph);\n\n      if (shellPt !== null) {\n        var insideHole = PointLocation.isInRing(shellPt, holePts);\n\n        if (!insideHole) {\n          return shellPt;\n        }\n      }\n\n      var holePt = IsValidOp.findPtNotNode(holePts, shell, graph);\n\n      if (holePt !== null) {\n        var insideShell = PointLocation.isInRing(holePt, shellPts);\n\n        if (insideShell) {\n          return holePt;\n        }\n\n        return null;\n      }\n\n      Assert.shouldNeverReachHere(\"points in shell and hole appear to be equal\");\n      return null;\n    },\n    checkNoSelfIntersectingRings: function checkNoSelfIntersectingRings(graph) {\n      for (var i = graph.getEdgeIterator(); i.hasNext();) {\n        var e = i.next();\n        this.checkNoSelfIntersectingRing(e.getEdgeIntersectionList());\n        if (this._validErr !== null) return null;\n      }\n    },\n    checkConnectedInteriors: function checkConnectedInteriors(graph) {\n      var cit = new ConnectedInteriorTester(graph);\n      if (!cit.isInteriorsConnected()) this._validErr = new TopologyValidationError(TopologyValidationError.DISCONNECTED_INTERIOR, cit.getCoordinate());\n    },\n    checkNoSelfIntersectingRing: function checkNoSelfIntersectingRing(eiList) {\n      var nodeSet = new TreeSet();\n      var isFirst = true;\n\n      for (var i = eiList.iterator(); i.hasNext();) {\n        var ei = i.next();\n\n        if (isFirst) {\n          isFirst = false;\n          continue;\n        }\n\n        if (nodeSet.contains(ei.coord)) {\n          this._validErr = new TopologyValidationError(TopologyValidationError.RING_SELF_INTERSECTION, ei.coord);\n          return null;\n        } else {\n          nodeSet.add(ei.coord);\n        }\n      }\n    },\n    checkHolesInShell: function checkHolesInShell(p, graph) {\n      var shell = p.getExteriorRing();\n      var pir = new IndexedPointInAreaLocator(shell);\n\n      for (var i = 0; i < p.getNumInteriorRing(); i++) {\n        var hole = p.getInteriorRingN(i);\n        var holePt = IsValidOp.findPtNotNode(hole.getCoordinates(), shell, graph);\n        if (holePt === null) return null;\n        var outside = Location.EXTERIOR === pir.locate(holePt);\n\n        if (outside) {\n          this._validErr = new TopologyValidationError(TopologyValidationError.HOLE_OUTSIDE_SHELL, holePt);\n          return null;\n        }\n      }\n    },\n    checkTooFewPoints: function checkTooFewPoints(graph) {\n      if (graph.hasTooFewPoints()) {\n        this._validErr = new TopologyValidationError(TopologyValidationError.TOO_FEW_POINTS, graph.getInvalidPoint());\n        return null;\n      }\n    },\n    getValidationError: function getValidationError() {\n      this.checkValid(this._parentGeometry);\n      return this._validErr;\n    },\n    checkValid: function checkValid() {\n      if (arguments[0] instanceof Point) {\n        var _g = arguments[0];\n        this.checkInvalidCoordinates(_g.getCoordinates());\n      } else if (arguments[0] instanceof MultiPoint) {\n        var _g2 = arguments[0];\n        this.checkInvalidCoordinates(_g2.getCoordinates());\n      } else if (arguments[0] instanceof LinearRing) {\n        var _g3 = arguments[0];\n        this.checkInvalidCoordinates(_g3.getCoordinates());\n        if (this._validErr !== null) return null;\n        this.checkClosedRing(_g3);\n        if (this._validErr !== null) return null;\n        var graph = new GeometryGraph(0, _g3);\n        this.checkTooFewPoints(graph);\n        if (this._validErr !== null) return null;\n        var li = new RobustLineIntersector();\n        graph.computeSelfNodes(li, true, true);\n        this.checkNoSelfIntersectingRings(graph);\n      } else if (arguments[0] instanceof LineString) {\n        var _g4 = arguments[0];\n        this.checkInvalidCoordinates(_g4.getCoordinates());\n        if (this._validErr !== null) return null;\n        var graph = new GeometryGraph(0, _g4);\n        this.checkTooFewPoints(graph);\n      } else if (arguments[0] instanceof Polygon) {\n        var _g5 = arguments[0];\n        this.checkInvalidCoordinates(_g5);\n        if (this._validErr !== null) return null;\n        this.checkClosedRings(_g5);\n        if (this._validErr !== null) return null;\n        var graph = new GeometryGraph(0, _g5);\n        this.checkTooFewPoints(graph);\n        if (this._validErr !== null) return null;\n        this.checkConsistentArea(graph);\n        if (this._validErr !== null) return null;\n\n        if (!this._isSelfTouchingRingFormingHoleValid) {\n          this.checkNoSelfIntersectingRings(graph);\n          if (this._validErr !== null) return null;\n        }\n\n        this.checkHolesInShell(_g5, graph);\n        if (this._validErr !== null) return null;\n        this.checkHolesNotNested(_g5, graph);\n        if (this._validErr !== null) return null;\n        this.checkConnectedInteriors(graph);\n      } else if (arguments[0] instanceof MultiPolygon) {\n        var _g6 = arguments[0];\n\n        for (var i = 0; i < _g6.getNumGeometries(); i++) {\n          var p = _g6.getGeometryN(i);\n\n          this.checkInvalidCoordinates(p);\n          if (this._validErr !== null) return null;\n          this.checkClosedRings(p);\n          if (this._validErr !== null) return null;\n        }\n\n        var graph = new GeometryGraph(0, _g6);\n        this.checkTooFewPoints(graph);\n        if (this._validErr !== null) return null;\n        this.checkConsistentArea(graph);\n        if (this._validErr !== null) return null;\n\n        if (!this._isSelfTouchingRingFormingHoleValid) {\n          this.checkNoSelfIntersectingRings(graph);\n          if (this._validErr !== null) return null;\n        }\n\n        for (var i = 0; i < _g6.getNumGeometries(); i++) {\n          var p = _g6.getGeometryN(i);\n\n          this.checkHolesInShell(p, graph);\n          if (this._validErr !== null) return null;\n        }\n\n        for (var i = 0; i < _g6.getNumGeometries(); i++) {\n          var p = _g6.getGeometryN(i);\n\n          this.checkHolesNotNested(p, graph);\n          if (this._validErr !== null) return null;\n        }\n\n        this.checkShellsNotNested(_g6, graph);\n        if (this._validErr !== null) return null;\n        this.checkConnectedInteriors(graph);\n      } else if (arguments[0] instanceof GeometryCollection) {\n        var gc = arguments[0];\n\n        for (var i = 0; i < gc.getNumGeometries(); i++) {\n          var g = gc.getGeometryN(i);\n          this.checkValid(g);\n          if (this._validErr !== null) return null;\n        }\n      } else if (arguments[0] instanceof Geometry) {\n        var _g7 = arguments[0];\n        this._validErr = null;\n        if (_g7.isEmpty()) return null;\n        if (_g7 instanceof Point) this.checkValid(_g7);else if (_g7 instanceof MultiPoint) this.checkValid(_g7);else if (_g7 instanceof LinearRing) this.checkValid(_g7);else if (_g7 instanceof LineString) this.checkValid(_g7);else if (_g7 instanceof Polygon) this.checkValid(_g7);else if (_g7 instanceof MultiPolygon) this.checkValid(_g7);else if (_g7 instanceof GeometryCollection) this.checkValid(_g7);else throw new UnsupportedOperationException(_g7.getClass().getName());\n      }\n    },\n    setSelfTouchingRingFormingHoleValid: function setSelfTouchingRingFormingHoleValid(isValid) {\n      this._isSelfTouchingRingFormingHoleValid = isValid;\n    },\n    checkShellNotNested: function checkShellNotNested(shell, p, graph) {\n      var shellPts = shell.getCoordinates();\n      var polyShell = p.getExteriorRing();\n      var polyPts = polyShell.getCoordinates();\n      var shellPt = IsValidOp.findPtNotNode(shellPts, polyShell, graph);\n      if (shellPt === null) return null;\n      var insidePolyShell = PointLocation.isInRing(shellPt, polyPts);\n      if (!insidePolyShell) return null;\n\n      if (p.getNumInteriorRing() <= 0) {\n        this._validErr = new TopologyValidationError(TopologyValidationError.NESTED_SHELLS, shellPt);\n        return null;\n      }\n\n      var badNestedPt = null;\n\n      for (var i = 0; i < p.getNumInteriorRing(); i++) {\n        var hole = p.getInteriorRingN(i);\n        badNestedPt = this.checkShellInsideHole(shell, hole, graph);\n        if (badNestedPt === null) return null;\n      }\n\n      this._validErr = new TopologyValidationError(TopologyValidationError.NESTED_SHELLS, badNestedPt);\n    },\n    checkClosedRings: function checkClosedRings(poly) {\n      this.checkClosedRing(poly.getExteriorRing());\n      if (this._validErr !== null) return null;\n\n      for (var i = 0; i < poly.getNumInteriorRing(); i++) {\n        this.checkClosedRing(poly.getInteriorRingN(i));\n        if (this._validErr !== null) return null;\n      }\n    },\n    checkClosedRing: function checkClosedRing(ring) {\n      if (!ring.isClosed()) {\n        var pt = null;\n        if (ring.getNumPoints() >= 1) pt = ring.getCoordinateN(0);\n        this._validErr = new TopologyValidationError(TopologyValidationError.RING_NOT_CLOSED, pt);\n      }\n    },\n    checkShellsNotNested: function checkShellsNotNested(mp, graph) {\n      for (var i = 0; i < mp.getNumGeometries(); i++) {\n        var p = mp.getGeometryN(i);\n        var shell = p.getExteriorRing();\n\n        for (var j = 0; j < mp.getNumGeometries(); j++) {\n          if (i === j) continue;\n          var p2 = mp.getGeometryN(j);\n          this.checkShellNotNested(shell, p2, graph);\n          if (this._validErr !== null) return null;\n        }\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return IsValidOp;\n    }\n  });\n\n  IsValidOp.findPtNotNode = function (testCoords, searchRing, graph) {\n    var searchEdge = graph.findEdge(searchRing);\n    var eiList = searchEdge.getEdgeIntersectionList();\n\n    for (var i = 0; i < testCoords.length; i++) {\n      var pt = testCoords[i];\n      if (!eiList.isIntersection(pt)) return pt;\n    }\n\n    return null;\n  };\n\n  IsValidOp.isValid = function () {\n    if (arguments[0] instanceof Geometry) {\n      var geom = arguments[0];\n      var isValidOp = new IsValidOp(geom);\n      return isValidOp.isValid();\n    } else if (arguments[0] instanceof Coordinate) {\n      var coord = arguments[0];\n      if (Double.isNaN(coord.x)) return false;\n      if (Double.isInfinite(coord.x)) return false;\n      if (Double.isNaN(coord.y)) return false;\n      if (Double.isInfinite(coord.y)) return false;\n      return true;\n    }\n  };\n\n\n\n  var valid = /*#__PURE__*/Object.freeze({\n    IsValidOp: IsValidOp,\n    ConsistentAreaTester: ConsistentAreaTester\n  });\n\n\n\n  var operation = /*#__PURE__*/Object.freeze({\n    BoundaryOp: BoundaryOp,\n    IsSimpleOp: IsSimpleOp,\n    buffer: buffer,\n    distance: distance,\n    linemerge: linemerge,\n    overlay: overlay,\n    polygonize: polygonize,\n    relate: relate,\n    union: union,\n    valid: valid\n  });\n\n  function PrecisionReducerCoordinateOperation() {\n    GeometryEditor.CoordinateOperation.apply(this);\n    this._targetPM = null;\n    this._removeCollapsed = true;\n    var targetPM = arguments[0],\n        removeCollapsed = arguments[1];\n    this._targetPM = targetPM;\n    this._removeCollapsed = removeCollapsed;\n  }\n  inherits(PrecisionReducerCoordinateOperation, GeometryEditor.CoordinateOperation);\n  extend(PrecisionReducerCoordinateOperation.prototype, {\n    edit: function edit() {\n      if (arguments.length === 2 && arguments[1] instanceof Geometry && arguments[0] instanceof Array) {\n        var coordinates = arguments[0],\n            geom = arguments[1];\n        if (coordinates.length === 0) return null;\n        var reducedCoords = new Array(coordinates.length).fill(null);\n\n        for (var i = 0; i < coordinates.length; i++) {\n          var coord = new Coordinate(coordinates[i]);\n\n          this._targetPM.makePrecise(coord);\n\n          reducedCoords[i] = coord;\n        }\n\n        var noRepeatedCoordList = new CoordinateList(reducedCoords, false);\n        var noRepeatedCoords = noRepeatedCoordList.toCoordinateArray();\n        var minLength = 0;\n        if (geom instanceof LineString) minLength = 2;\n        if (geom instanceof LinearRing) minLength = 4;\n        var collapsedCoords = reducedCoords;\n        if (this._removeCollapsed) collapsedCoords = null;\n\n        if (noRepeatedCoords.length < minLength) {\n          return collapsedCoords;\n        }\n\n        return noRepeatedCoords;\n      } else return GeometryEditor.CoordinateOperation.prototype.edit.apply(this, arguments);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return PrecisionReducerCoordinateOperation;\n    }\n  });\n\n  function GeometryPrecisionReducer() {\n    this._targetPM = null;\n    this._removeCollapsed = true;\n    this._changePrecisionModel = false;\n    this._isPointwise = false;\n    var pm = arguments[0];\n    this._targetPM = pm;\n  }\n  extend(GeometryPrecisionReducer.prototype, {\n    fixPolygonalTopology: function fixPolygonalTopology(geom) {\n      var geomToBuffer = geom;\n\n      if (!this._changePrecisionModel) {\n        geomToBuffer = this.changePM(geom, this._targetPM);\n      }\n\n      var bufGeom = BufferOp.bufferOp(geomToBuffer, 0);\n      var finalGeom = bufGeom;\n\n      if (!this._changePrecisionModel) {\n        finalGeom = bufGeom.copy();\n        this.changePM(finalGeom, geom.getPrecisionModel());\n      }\n\n      return finalGeom;\n    },\n    reducePointwise: function reducePointwise(geom) {\n      var geomEdit = null;\n\n      if (this._changePrecisionModel) {\n        var newFactory = this.createFactory(geom.getFactory(), this._targetPM);\n        geomEdit = new GeometryEditor(newFactory);\n      } else geomEdit = new GeometryEditor();\n\n      var finalRemoveCollapsed = this._removeCollapsed;\n      if (geom.getDimension() >= 2) finalRemoveCollapsed = true;\n      var reduceGeom = geomEdit.edit(geom, new PrecisionReducerCoordinateOperation(this._targetPM, finalRemoveCollapsed));\n      return reduceGeom;\n    },\n    changePM: function changePM(geom, newPM) {\n      var geomEditor = this.createEditor(geom.getFactory(), newPM);\n      return geomEditor.edit(geom, new GeometryEditor.NoOpGeometryOperation());\n    },\n    setRemoveCollapsedComponents: function setRemoveCollapsedComponents(removeCollapsed) {\n      this._removeCollapsed = removeCollapsed;\n    },\n    createFactory: function createFactory(inputFactory, pm) {\n      var newFactory = new GeometryFactory(pm, inputFactory.getSRID(), inputFactory.getCoordinateSequenceFactory());\n      return newFactory;\n    },\n    setChangePrecisionModel: function setChangePrecisionModel(changePrecisionModel) {\n      this._changePrecisionModel = changePrecisionModel;\n    },\n    reduce: function reduce(geom) {\n      var reducePW = this.reducePointwise(geom);\n      if (this._isPointwise) return reducePW;\n      if (!hasInterface(reducePW, Polygonal)) return reducePW;\n      if (IsValidOp.isValid(reducePW)) return reducePW;\n      return this.fixPolygonalTopology(reducePW);\n    },\n    setPointwise: function setPointwise(isPointwise) {\n      this._isPointwise = isPointwise;\n    },\n    createEditor: function createEditor(geomFactory, newPM) {\n      if (geomFactory.getPrecisionModel() === newPM) return new GeometryEditor();\n      var newFactory = this.createFactory(geomFactory, newPM);\n      var geomEdit = new GeometryEditor(newFactory);\n      return geomEdit;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return GeometryPrecisionReducer;\n    }\n  });\n\n  GeometryPrecisionReducer.reduce = function (g, precModel) {\n    var reducer = new GeometryPrecisionReducer(precModel);\n    return reducer.reduce(g);\n  };\n\n  GeometryPrecisionReducer.reducePointwise = function (g, precModel) {\n    var reducer = new GeometryPrecisionReducer(precModel);\n    reducer.setPointwise(true);\n    return reducer.reduce(g);\n  };\n\n\n\n  var precision = /*#__PURE__*/Object.freeze({\n    GeometryPrecisionReducer: GeometryPrecisionReducer\n  });\n\n  function DouglasPeuckerLineSimplifier() {\n    this._pts = null;\n    this._usePt = null;\n    this._distanceTolerance = null;\n    this._seg = new LineSegment();\n    var pts = arguments[0];\n    this._pts = pts;\n  }\n  extend(DouglasPeuckerLineSimplifier.prototype, {\n    simplifySection: function simplifySection(i, j) {\n      if (i + 1 === j) {\n        return null;\n      }\n\n      this._seg.p0 = this._pts[i];\n      this._seg.p1 = this._pts[j];\n      var maxDistance = -1.0;\n      var maxIndex = i;\n\n      for (var k = i + 1; k < j; k++) {\n        var distance = this._seg.distance(this._pts[k]);\n\n        if (distance > maxDistance) {\n          maxDistance = distance;\n          maxIndex = k;\n        }\n      }\n\n      if (maxDistance <= this._distanceTolerance) {\n        for (var k = i + 1; k < j; k++) {\n          this._usePt[k] = false;\n        }\n      } else {\n        this.simplifySection(i, maxIndex);\n        this.simplifySection(maxIndex, j);\n      }\n    },\n    setDistanceTolerance: function setDistanceTolerance(distanceTolerance) {\n      this._distanceTolerance = distanceTolerance;\n    },\n    simplify: function simplify() {\n      this._usePt = new Array(this._pts.length).fill(null);\n\n      for (var i = 0; i < this._pts.length; i++) {\n        this._usePt[i] = true;\n      }\n\n      this.simplifySection(0, this._pts.length - 1);\n      var coordList = new CoordinateList();\n\n      for (var i = 0; i < this._pts.length; i++) {\n        if (this._usePt[i]) coordList.add(new Coordinate(this._pts[i]));\n      }\n\n      return coordList.toCoordinateArray();\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return DouglasPeuckerLineSimplifier;\n    }\n  });\n\n  DouglasPeuckerLineSimplifier.simplify = function (pts, distanceTolerance) {\n    var simp = new DouglasPeuckerLineSimplifier(pts);\n    simp.setDistanceTolerance(distanceTolerance);\n    return simp.simplify();\n  };\n\n  function DouglasPeuckerSimplifier() {\n    this._inputGeom = null;\n    this._distanceTolerance = null;\n    this._isEnsureValidTopology = true;\n    var inputGeom = arguments[0];\n    this._inputGeom = inputGeom;\n  }\n  extend(DouglasPeuckerSimplifier.prototype, {\n    setEnsureValid: function setEnsureValid(isEnsureValidTopology) {\n      this._isEnsureValidTopology = isEnsureValidTopology;\n    },\n    getResultGeometry: function getResultGeometry() {\n      if (this._inputGeom.isEmpty()) return this._inputGeom.copy();\n      return new DPTransformer(this._isEnsureValidTopology, this._distanceTolerance).transform(this._inputGeom);\n    },\n    setDistanceTolerance: function setDistanceTolerance(distanceTolerance) {\n      if (distanceTolerance < 0.0) throw new IllegalArgumentException(\"Tolerance must be non-negative\");\n      this._distanceTolerance = distanceTolerance;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return DouglasPeuckerSimplifier;\n    }\n  });\n\n  DouglasPeuckerSimplifier.simplify = function (geom, distanceTolerance) {\n    var tss = new DouglasPeuckerSimplifier(geom);\n    tss.setDistanceTolerance(distanceTolerance);\n    return tss.getResultGeometry();\n  };\n\n  function DPTransformer() {\n    GeometryTransformer.apply(this);\n    this._isEnsureValidTopology = true;\n    this._distanceTolerance = null;\n    var isEnsureValidTopology = arguments[0],\n        distanceTolerance = arguments[1];\n    this._isEnsureValidTopology = isEnsureValidTopology;\n    this._distanceTolerance = distanceTolerance;\n  }\n\n  inherits(DPTransformer, GeometryTransformer);\n  extend(DPTransformer.prototype, {\n    transformPolygon: function transformPolygon(geom, parent) {\n      if (geom.isEmpty()) return null;\n      var rawGeom = GeometryTransformer.prototype.transformPolygon.call(this, geom, parent);\n\n      if (parent instanceof MultiPolygon) {\n        return rawGeom;\n      }\n\n      return this.createValidArea(rawGeom);\n    },\n    createValidArea: function createValidArea(rawAreaGeom) {\n      if (this._isEnsureValidTopology) return rawAreaGeom.buffer(0.0);\n      return rawAreaGeom;\n    },\n    transformCoordinates: function transformCoordinates(coords, parent) {\n      var inputPts = coords.toCoordinateArray();\n      var newPts = null;\n\n      if (inputPts.length === 0) {\n        newPts = new Array(0).fill(null);\n      } else {\n        newPts = DouglasPeuckerLineSimplifier.simplify(inputPts, this._distanceTolerance);\n      }\n\n      return this._factory.getCoordinateSequenceFactory().create(newPts);\n    },\n    transformMultiPolygon: function transformMultiPolygon(geom, parent) {\n      var rawGeom = GeometryTransformer.prototype.transformMultiPolygon.call(this, geom, parent);\n      return this.createValidArea(rawGeom);\n    },\n    transformLinearRing: function transformLinearRing(geom, parent) {\n      var removeDegenerateRings = parent instanceof Polygon;\n      var simpResult = GeometryTransformer.prototype.transformLinearRing.call(this, geom, parent);\n      if (removeDegenerateRings && !(simpResult instanceof LinearRing)) return null;\n      return simpResult;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return DPTransformer;\n    }\n  });\n  DouglasPeuckerSimplifier.DPTransformer = DPTransformer;\n\n  function TaggedLineSegment() {\n    this._parent = null;\n    this._index = null;\n\n    if (arguments.length === 2) {\n      var p0 = arguments[0],\n          p1 = arguments[1];\n      TaggedLineSegment.call(this, p0, p1, null, -1);\n    } else if (arguments.length === 4) {\n      var _p = arguments[0],\n          _p2 = arguments[1],\n          parent = arguments[2],\n          index = arguments[3];\n      LineSegment.call(this, _p, _p2);\n      this._parent = parent;\n      this._index = index;\n    }\n  }\n  inherits(TaggedLineSegment, LineSegment);\n  extend(TaggedLineSegment.prototype, {\n    getIndex: function getIndex() {\n      return this._index;\n    },\n    getParent: function getParent() {\n      return this._parent;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return TaggedLineSegment;\n    }\n  });\n\n  function TaggedLineString() {\n    this._parentLine = null;\n    this._segs = null;\n    this._resultSegs = new ArrayList();\n    this._minimumSize = null;\n\n    if (arguments.length === 1) {\n      var parentLine = arguments[0];\n      TaggedLineString.call(this, parentLine, 2);\n    } else if (arguments.length === 2) {\n      var _parentLine = arguments[0],\n          minimumSize = arguments[1];\n      this._parentLine = _parentLine;\n      this._minimumSize = minimumSize;\n      this.init();\n    }\n  }\n  extend(TaggedLineString.prototype, {\n    addToResult: function addToResult(seg) {\n      this._resultSegs.add(seg);\n    },\n    asLineString: function asLineString() {\n      return this._parentLine.getFactory().createLineString(TaggedLineString.extractCoordinates(this._resultSegs));\n    },\n    getResultSize: function getResultSize() {\n      var resultSegsSize = this._resultSegs.size();\n\n      return resultSegsSize === 0 ? 0 : resultSegsSize + 1;\n    },\n    getParent: function getParent() {\n      return this._parentLine;\n    },\n    getSegment: function getSegment(i) {\n      return this._segs[i];\n    },\n    getParentCoordinates: function getParentCoordinates() {\n      return this._parentLine.getCoordinates();\n    },\n    getMinimumSize: function getMinimumSize() {\n      return this._minimumSize;\n    },\n    asLinearRing: function asLinearRing() {\n      return this._parentLine.getFactory().createLinearRing(TaggedLineString.extractCoordinates(this._resultSegs));\n    },\n    getSegments: function getSegments() {\n      return this._segs;\n    },\n    init: function init() {\n      var pts = this._parentLine.getCoordinates();\n\n      this._segs = new Array(pts.length - 1).fill(null);\n\n      for (var i = 0; i < pts.length - 1; i++) {\n        var seg = new TaggedLineSegment(pts[i], pts[i + 1], this._parentLine, i);\n        this._segs[i] = seg;\n      }\n    },\n    getResultCoordinates: function getResultCoordinates() {\n      return TaggedLineString.extractCoordinates(this._resultSegs);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return TaggedLineString;\n    }\n  });\n\n  TaggedLineString.extractCoordinates = function (segs) {\n    var pts = new Array(segs.size() + 1).fill(null);\n    var seg = null;\n\n    for (var i = 0; i < segs.size(); i++) {\n      seg = segs.get(i);\n      pts[i] = seg.p0;\n    }\n\n    pts[pts.length - 1] = seg.p1;\n    return pts;\n  };\n\n  function LineSegmentIndex() {\n    this._index = new Quadtree();\n  }\n  extend(LineSegmentIndex.prototype, {\n    remove: function remove(seg) {\n      this._index.remove(new Envelope(seg.p0, seg.p1), seg);\n    },\n    add: function add() {\n      if (arguments[0] instanceof TaggedLineString) {\n        var line = arguments[0];\n        var segs = line.getSegments();\n\n        for (var i = 0; i < segs.length; i++) {\n          var seg = segs[i];\n          this.add(seg);\n        }\n      } else if (arguments[0] instanceof LineSegment) {\n        var _seg = arguments[0];\n\n        this._index.insert(new Envelope(_seg.p0, _seg.p1), _seg);\n      }\n    },\n    query: function query(querySeg) {\n      var env = new Envelope(querySeg.p0, querySeg.p1);\n      var visitor = new LineSegmentVisitor(querySeg);\n\n      this._index.query(env, visitor);\n\n      var itemsFound = visitor.getItems();\n      return itemsFound;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LineSegmentIndex;\n    }\n  });\n\n  function LineSegmentVisitor() {\n    this._querySeg = null;\n    this._items = new ArrayList();\n    var querySeg = arguments[0];\n    this._querySeg = querySeg;\n  }\n\n  extend(LineSegmentVisitor.prototype, {\n    visitItem: function visitItem(item) {\n      var seg = item;\n      if (Envelope.intersects(seg.p0, seg.p1, this._querySeg.p0, this._querySeg.p1)) this._items.add(item);\n    },\n    getItems: function getItems() {\n      return this._items;\n    },\n    interfaces_: function interfaces_() {\n      return [ItemVisitor];\n    },\n    getClass: function getClass() {\n      return LineSegmentVisitor;\n    }\n  });\n\n  function TaggedLineStringSimplifier() {\n    this._li = new RobustLineIntersector();\n    this._inputIndex = new LineSegmentIndex();\n    this._outputIndex = new LineSegmentIndex();\n    this._line = null;\n    this._linePts = null;\n    this._distanceTolerance = 0.0;\n    var inputIndex = arguments[0],\n        outputIndex = arguments[1];\n    this._inputIndex = inputIndex;\n    this._outputIndex = outputIndex;\n  }\n  extend(TaggedLineStringSimplifier.prototype, {\n    flatten: function flatten(start, end) {\n      var p0 = this._linePts[start];\n      var p1 = this._linePts[end];\n      var newSeg = new LineSegment(p0, p1);\n      this.remove(this._line, start, end);\n\n      this._outputIndex.add(newSeg);\n\n      return newSeg;\n    },\n    hasBadIntersection: function hasBadIntersection(parentLine, sectionIndex, candidateSeg) {\n      if (this.hasBadOutputIntersection(candidateSeg)) return true;\n      if (this.hasBadInputIntersection(parentLine, sectionIndex, candidateSeg)) return true;\n      return false;\n    },\n    setDistanceTolerance: function setDistanceTolerance(distanceTolerance) {\n      this._distanceTolerance = distanceTolerance;\n    },\n    simplifySection: function simplifySection(i, j, depth) {\n      depth += 1;\n      var sectionIndex = new Array(2).fill(null);\n\n      if (i + 1 === j) {\n        var newSeg = this._line.getSegment(i);\n\n        this._line.addToResult(newSeg);\n\n        return null;\n      }\n\n      var isValidToSimplify = true;\n\n      if (this._line.getResultSize() < this._line.getMinimumSize()) {\n        var worstCaseSize = depth + 1;\n        if (worstCaseSize < this._line.getMinimumSize()) isValidToSimplify = false;\n      }\n\n      var distance = new Array(1).fill(null);\n      var furthestPtIndex = this.findFurthestPoint(this._linePts, i, j, distance);\n      if (distance[0] > this._distanceTolerance) isValidToSimplify = false;\n      var candidateSeg = new LineSegment();\n      candidateSeg.p0 = this._linePts[i];\n      candidateSeg.p1 = this._linePts[j];\n      sectionIndex[0] = i;\n      sectionIndex[1] = j;\n      if (this.hasBadIntersection(this._line, sectionIndex, candidateSeg)) isValidToSimplify = false;\n\n      if (isValidToSimplify) {\n        var newSeg = this.flatten(i, j);\n\n        this._line.addToResult(newSeg);\n\n        return null;\n      }\n\n      this.simplifySection(i, furthestPtIndex, depth);\n      this.simplifySection(furthestPtIndex, j, depth);\n    },\n    hasBadOutputIntersection: function hasBadOutputIntersection(candidateSeg) {\n      var querySegs = this._outputIndex.query(candidateSeg);\n\n      for (var i = querySegs.iterator(); i.hasNext();) {\n        var querySeg = i.next();\n\n        if (this.hasInteriorIntersection(querySeg, candidateSeg)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    findFurthestPoint: function findFurthestPoint(pts, i, j, maxDistance) {\n      var seg = new LineSegment();\n      seg.p0 = pts[i];\n      seg.p1 = pts[j];\n      var maxDist = -1.0;\n      var maxIndex = i;\n\n      for (var k = i + 1; k < j; k++) {\n        var midPt = pts[k];\n        var distance = seg.distance(midPt);\n\n        if (distance > maxDist) {\n          maxDist = distance;\n          maxIndex = k;\n        }\n      }\n\n      maxDistance[0] = maxDist;\n      return maxIndex;\n    },\n    simplify: function simplify(line) {\n      this._line = line;\n      this._linePts = line.getParentCoordinates();\n      this.simplifySection(0, this._linePts.length - 1, 0);\n    },\n    remove: function remove(line, start, end) {\n      for (var i = start; i < end; i++) {\n        var seg = line.getSegment(i);\n\n        this._inputIndex.remove(seg);\n      }\n    },\n    hasInteriorIntersection: function hasInteriorIntersection(seg0, seg1) {\n      this._li.computeIntersection(seg0.p0, seg0.p1, seg1.p0, seg1.p1);\n\n      return this._li.isInteriorIntersection();\n    },\n    hasBadInputIntersection: function hasBadInputIntersection(parentLine, sectionIndex, candidateSeg) {\n      var querySegs = this._inputIndex.query(candidateSeg);\n\n      for (var i = querySegs.iterator(); i.hasNext();) {\n        var querySeg = i.next();\n\n        if (this.hasInteriorIntersection(querySeg, candidateSeg)) {\n          if (TaggedLineStringSimplifier.isInLineSection(parentLine, sectionIndex, querySeg)) continue;\n          return true;\n        }\n      }\n\n      return false;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return TaggedLineStringSimplifier;\n    }\n  });\n\n  TaggedLineStringSimplifier.isInLineSection = function (line, sectionIndex, seg) {\n    if (seg.getParent() !== line.getParent()) return false;\n    var segIndex = seg.getIndex();\n    if (segIndex >= sectionIndex[0] && segIndex < sectionIndex[1]) return true;\n    return false;\n  };\n\n  function TaggedLinesSimplifier() {\n    this._inputIndex = new LineSegmentIndex();\n    this._outputIndex = new LineSegmentIndex();\n    this._distanceTolerance = 0.0;\n  }\n  extend(TaggedLinesSimplifier.prototype, {\n    setDistanceTolerance: function setDistanceTolerance(distanceTolerance) {\n      this._distanceTolerance = distanceTolerance;\n    },\n    simplify: function simplify(taggedLines) {\n      for (var i = taggedLines.iterator(); i.hasNext();) {\n        this._inputIndex.add(i.next());\n      }\n\n      for (var i = taggedLines.iterator(); i.hasNext();) {\n        var tlss = new TaggedLineStringSimplifier(this._inputIndex, this._outputIndex);\n        tlss.setDistanceTolerance(this._distanceTolerance);\n        tlss.simplify(i.next());\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return TaggedLinesSimplifier;\n    }\n  });\n\n  function TopologyPreservingSimplifier() {\n    this._inputGeom = null;\n    this._lineSimplifier = new TaggedLinesSimplifier();\n    this._linestringMap = null;\n    var inputGeom = arguments[0];\n    this._inputGeom = inputGeom;\n  }\n  extend(TopologyPreservingSimplifier.prototype, {\n    getResultGeometry: function getResultGeometry() {\n      if (this._inputGeom.isEmpty()) return this._inputGeom.copy();\n      this._linestringMap = new HashMap();\n\n      this._inputGeom.apply(new LineStringMapBuilderFilter(this));\n\n      this._lineSimplifier.simplify(this._linestringMap.values());\n\n      var result = new LineStringTransformer(this._linestringMap).transform(this._inputGeom);\n      return result;\n    },\n    setDistanceTolerance: function setDistanceTolerance(distanceTolerance) {\n      if (distanceTolerance < 0.0) throw new IllegalArgumentException(\"Tolerance must be non-negative\");\n\n      this._lineSimplifier.setDistanceTolerance(distanceTolerance);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return TopologyPreservingSimplifier;\n    }\n  });\n\n  TopologyPreservingSimplifier.simplify = function (geom, distanceTolerance) {\n    var tss = new TopologyPreservingSimplifier(geom);\n    tss.setDistanceTolerance(distanceTolerance);\n    return tss.getResultGeometry();\n  };\n\n  function LineStringTransformer() {\n    GeometryTransformer.apply(this);\n    this._linestringMap = null;\n    var linestringMap = arguments[0];\n    this._linestringMap = linestringMap;\n  }\n\n  inherits(LineStringTransformer, GeometryTransformer);\n  extend(LineStringTransformer.prototype, {\n    transformCoordinates: function transformCoordinates(coords, parent) {\n      if (coords.size() === 0) return null;\n\n      if (parent instanceof LineString) {\n        var taggedLine = this._linestringMap.get(parent);\n\n        return this.createCoordinateSequence(taggedLine.getResultCoordinates());\n      }\n\n      return GeometryTransformer.prototype.transformCoordinates.call(this, coords, parent);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LineStringTransformer;\n    }\n  });\n\n  function LineStringMapBuilderFilter() {\n    this.tps = null;\n    var tps = arguments[0];\n    this.tps = tps;\n  }\n\n  extend(LineStringMapBuilderFilter.prototype, {\n    filter: function filter(geom) {\n      if (geom instanceof LineString) {\n        var line = geom;\n        if (line.isEmpty()) return null;\n        var minSize = line.isClosed() ? 4 : 2;\n        var taggedLine = new TaggedLineString(line, minSize);\n\n        this.tps._linestringMap.put(line, taggedLine);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [GeometryComponentFilter];\n    },\n    getClass: function getClass() {\n      return LineStringMapBuilderFilter;\n    }\n  });\n  TopologyPreservingSimplifier.LineStringTransformer = LineStringTransformer;\n  TopologyPreservingSimplifier.LineStringMapBuilderFilter = LineStringMapBuilderFilter;\n\n\n\n  var simplify = /*#__PURE__*/Object.freeze({\n    DouglasPeuckerSimplifier: DouglasPeuckerSimplifier,\n    TopologyPreservingSimplifier: TopologyPreservingSimplifier\n  });\n\n  function SplitSegment() {\n    this._seg = null;\n    this._segLen = null;\n    this._splitPt = null;\n    this._minimumLen = 0.0;\n    var seg = arguments[0];\n    this._seg = seg;\n    this._segLen = seg.getLength();\n  }\n  extend(SplitSegment.prototype, {\n    splitAt: function splitAt() {\n      if (arguments.length === 1) {\n        var pt = arguments[0];\n        var minFrac = this._minimumLen / this._segLen;\n\n        if (pt.distance(this._seg.p0) < this._minimumLen) {\n          this._splitPt = this._seg.pointAlong(minFrac);\n          return null;\n        }\n\n        if (pt.distance(this._seg.p1) < this._minimumLen) {\n          this._splitPt = SplitSegment.pointAlongReverse(this._seg, minFrac);\n          return null;\n        }\n\n        this._splitPt = pt;\n      } else if (arguments.length === 2) {\n        var length = arguments[0],\n            endPt = arguments[1];\n        var actualLen = this.getConstrainedLength(length);\n        var frac = actualLen / this._segLen;\n        if (endPt.equals2D(this._seg.p0)) this._splitPt = this._seg.pointAlong(frac);else this._splitPt = SplitSegment.pointAlongReverse(this._seg, frac);\n      }\n    },\n    setMinimumLength: function setMinimumLength(minLen) {\n      this._minimumLen = minLen;\n    },\n    getConstrainedLength: function getConstrainedLength(len) {\n      if (len < this._minimumLen) return this._minimumLen;\n      return len;\n    },\n    getSplitPoint: function getSplitPoint() {\n      return this._splitPt;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return SplitSegment;\n    }\n  });\n\n  SplitSegment.pointAlongReverse = function (seg, segmentLengthFraction) {\n    var coord = new Coordinate();\n    coord.x = seg.p1.x - segmentLengthFraction * (seg.p1.x - seg.p0.x);\n    coord.y = seg.p1.y - segmentLengthFraction * (seg.p1.y - seg.p0.y);\n    return coord;\n  };\n\n  function ConstraintSplitPointFinder() {}\n  extend(ConstraintSplitPointFinder.prototype, {\n    findSplitPoint: function findSplitPoint(seg, encroachPt) {},\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return ConstraintSplitPointFinder;\n    }\n  });\n\n  function NonEncroachingSplitPointFinder() {}\n  extend(NonEncroachingSplitPointFinder.prototype, {\n    findSplitPoint: function findSplitPoint(seg, encroachPt) {\n      var lineSeg = seg.getLineSegment();\n      var segLen = lineSeg.getLength();\n      var midPtLen = segLen / 2;\n      var splitSeg = new SplitSegment(lineSeg);\n      var projPt = NonEncroachingSplitPointFinder.projectedSplitPoint(seg, encroachPt);\n      var nonEncroachDiam = projPt.distance(encroachPt) * 2 * 0.8;\n      var maxSplitLen = nonEncroachDiam;\n\n      if (maxSplitLen > midPtLen) {\n        maxSplitLen = midPtLen;\n      }\n\n      splitSeg.setMinimumLength(maxSplitLen);\n      splitSeg.splitAt(projPt);\n      return splitSeg.getSplitPoint();\n    },\n    interfaces_: function interfaces_() {\n      return [ConstraintSplitPointFinder];\n    },\n    getClass: function getClass() {\n      return NonEncroachingSplitPointFinder;\n    }\n  });\n\n  NonEncroachingSplitPointFinder.projectedSplitPoint = function (seg, encroachPt) {\n    var lineSeg = seg.getLineSegment();\n    var projPt = lineSeg.project(encroachPt);\n    return projPt;\n  };\n\n  function TrianglePredicate() {}\n  extend(TrianglePredicate.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return TrianglePredicate;\n    }\n  });\n\n  TrianglePredicate.triArea = function (a, b, c) {\n    return (b.x - a.x) * (c.y - a.y) - (b.y - a.y) * (c.x - a.x);\n  };\n\n  TrianglePredicate.isInCircleDDNormalized = function (a, b, c, p) {\n    var adx = DD.valueOf(a.x).selfSubtract(p.x);\n    var ady = DD.valueOf(a.y).selfSubtract(p.y);\n    var bdx = DD.valueOf(b.x).selfSubtract(p.x);\n    var bdy = DD.valueOf(b.y).selfSubtract(p.y);\n    var cdx = DD.valueOf(c.x).selfSubtract(p.x);\n    var cdy = DD.valueOf(c.y).selfSubtract(p.y);\n    var abdet = adx.multiply(bdy).selfSubtract(bdx.multiply(ady));\n    var bcdet = bdx.multiply(cdy).selfSubtract(cdx.multiply(bdy));\n    var cadet = cdx.multiply(ady).selfSubtract(adx.multiply(cdy));\n    var alift = adx.multiply(adx).selfAdd(ady.multiply(ady));\n    var blift = bdx.multiply(bdx).selfAdd(bdy.multiply(bdy));\n    var clift = cdx.multiply(cdx).selfAdd(cdy.multiply(cdy));\n    var sum = alift.selfMultiply(bcdet).selfAdd(blift.selfMultiply(cadet)).selfAdd(clift.selfMultiply(abdet));\n    var isInCircle = sum.doubleValue() > 0;\n    return isInCircle;\n  };\n\n  TrianglePredicate.checkRobustInCircle = function (a, b, c, p) {\n    var nonRobustInCircle = TrianglePredicate.isInCircleNonRobust(a, b, c, p);\n    var isInCircleDD = TrianglePredicate.isInCircleDDSlow(a, b, c, p);\n    var isInCircleCC = TrianglePredicate.isInCircleCC(a, b, c, p);\n    var circumCentre = Triangle.circumcentre(a, b, c);\n    System.out.println(\"p radius diff a = \" + Math.abs(p.distance(circumCentre) - a.distance(circumCentre)) / a.distance(circumCentre));\n\n    if (nonRobustInCircle !== isInCircleDD || nonRobustInCircle !== isInCircleCC) {\n      System.out.println(\"inCircle robustness failure (double result = \" + nonRobustInCircle + \", DD result = \" + isInCircleDD + \", CC result = \" + isInCircleCC + \")\");\n      System.out.println(WKTWriter.toLineString(new CoordinateArraySequence([a, b, c, p])));\n      System.out.println(\"Circumcentre = \" + WKTWriter.toPoint(circumCentre) + \" radius = \" + a.distance(circumCentre));\n      System.out.println(\"p radius diff a = \" + Math.abs(p.distance(circumCentre) / a.distance(circumCentre) - 1));\n      System.out.println(\"p radius diff b = \" + Math.abs(p.distance(circumCentre) / b.distance(circumCentre) - 1));\n      System.out.println(\"p radius diff c = \" + Math.abs(p.distance(circumCentre) / c.distance(circumCentre) - 1));\n      System.out.println();\n    }\n  };\n\n  TrianglePredicate.isInCircleDDFast = function (a, b, c, p) {\n    var aTerm = DD.sqr(a.x).selfAdd(DD.sqr(a.y)).selfMultiply(TrianglePredicate.triAreaDDFast(b, c, p));\n    var bTerm = DD.sqr(b.x).selfAdd(DD.sqr(b.y)).selfMultiply(TrianglePredicate.triAreaDDFast(a, c, p));\n    var cTerm = DD.sqr(c.x).selfAdd(DD.sqr(c.y)).selfMultiply(TrianglePredicate.triAreaDDFast(a, b, p));\n    var pTerm = DD.sqr(p.x).selfAdd(DD.sqr(p.y)).selfMultiply(TrianglePredicate.triAreaDDFast(a, b, c));\n    var sum = aTerm.selfSubtract(bTerm).selfAdd(cTerm).selfSubtract(pTerm);\n    var isInCircle = sum.doubleValue() > 0;\n    return isInCircle;\n  };\n\n  TrianglePredicate.isInCircleCC = function (a, b, c, p) {\n    var cc = Triangle.circumcentre(a, b, c);\n    var ccRadius = a.distance(cc);\n    var pRadiusDiff = p.distance(cc) - ccRadius;\n    return pRadiusDiff <= 0;\n  };\n\n  TrianglePredicate.isInCircleNormalized = function (a, b, c, p) {\n    var adx = a.x - p.x;\n    var ady = a.y - p.y;\n    var bdx = b.x - p.x;\n    var bdy = b.y - p.y;\n    var cdx = c.x - p.x;\n    var cdy = c.y - p.y;\n    var abdet = adx * bdy - bdx * ady;\n    var bcdet = bdx * cdy - cdx * bdy;\n    var cadet = cdx * ady - adx * cdy;\n    var alift = adx * adx + ady * ady;\n    var blift = bdx * bdx + bdy * bdy;\n    var clift = cdx * cdx + cdy * cdy;\n    var disc = alift * bcdet + blift * cadet + clift * abdet;\n    return disc > 0;\n  };\n\n  TrianglePredicate.isInCircleDDSlow = function (a, b, c, p) {\n    var px = DD.valueOf(p.x);\n    var py = DD.valueOf(p.y);\n    var ax = DD.valueOf(a.x);\n    var ay = DD.valueOf(a.y);\n    var bx = DD.valueOf(b.x);\n    var by = DD.valueOf(b.y);\n    var cx = DD.valueOf(c.x);\n    var cy = DD.valueOf(c.y);\n    var aTerm = ax.multiply(ax).add(ay.multiply(ay)).multiply(TrianglePredicate.triAreaDDSlow(bx, by, cx, cy, px, py));\n    var bTerm = bx.multiply(bx).add(by.multiply(by)).multiply(TrianglePredicate.triAreaDDSlow(ax, ay, cx, cy, px, py));\n    var cTerm = cx.multiply(cx).add(cy.multiply(cy)).multiply(TrianglePredicate.triAreaDDSlow(ax, ay, bx, by, px, py));\n    var pTerm = px.multiply(px).add(py.multiply(py)).multiply(TrianglePredicate.triAreaDDSlow(ax, ay, bx, by, cx, cy));\n    var sum = aTerm.subtract(bTerm).add(cTerm).subtract(pTerm);\n    var isInCircle = sum.doubleValue() > 0;\n    return isInCircle;\n  };\n\n  TrianglePredicate.isInCircleNonRobust = function (a, b, c, p) {\n    var isInCircle = (a.x * a.x + a.y * a.y) * TrianglePredicate.triArea(b, c, p) - (b.x * b.x + b.y * b.y) * TrianglePredicate.triArea(a, c, p) + (c.x * c.x + c.y * c.y) * TrianglePredicate.triArea(a, b, p) - (p.x * p.x + p.y * p.y) * TrianglePredicate.triArea(a, b, c) > 0;\n    return isInCircle;\n  };\n\n  TrianglePredicate.isInCircleRobust = function (a, b, c, p) {\n    return TrianglePredicate.isInCircleNormalized(a, b, c, p);\n  };\n\n  TrianglePredicate.triAreaDDSlow = function (ax, ay, bx, by, cx, cy) {\n    return bx.subtract(ax).multiply(cy.subtract(ay)).subtract(by.subtract(ay).multiply(cx.subtract(ax)));\n  };\n\n  TrianglePredicate.triAreaDDFast = function (a, b, c) {\n    var t1 = DD.valueOf(b.x).selfSubtract(a.x).selfMultiply(DD.valueOf(c.y).selfSubtract(a.y));\n    var t2 = DD.valueOf(b.y).selfSubtract(a.y).selfMultiply(DD.valueOf(c.x).selfSubtract(a.x));\n    return t1.selfSubtract(t2);\n  };\n\n  function Vertex() {\n    this._p = null;\n\n    if (arguments.length === 1) {\n      var _p = arguments[0];\n      this._p = new Coordinate(_p);\n    } else if (arguments.length === 2) {\n      var _x = arguments[0],\n          _y = arguments[1];\n      this._p = new Coordinate(_x, _y);\n    } else if (arguments.length === 3) {\n      var _x2 = arguments[0],\n          _y2 = arguments[1],\n          _z = arguments[2];\n      this._p = new Coordinate(_x2, _y2, _z);\n    }\n  }\n  extend(Vertex.prototype, {\n    circleCenter: function circleCenter(b, c) {\n      var a = new Vertex(this.getX(), this.getY());\n      var cab = this.bisector(a, b);\n      var cbc = this.bisector(b, c);\n      var hcc = new HCoordinate(cab, cbc);\n      var cc = null;\n\n      try {\n        cc = new Vertex(hcc.getX(), hcc.getY());\n      } catch (nre) {\n        if (nre instanceof NotRepresentableException) {\n          System.err.println(\"a: \" + a + \"  b: \" + b + \"  c: \" + c);\n          System.err.println(nre);\n        } else throw nre;\n      } finally {}\n\n      return cc;\n    },\n    dot: function dot(v) {\n      return this._p.x * v.getX() + this._p.y * v.getY();\n    },\n    magn: function magn() {\n      return Math.sqrt(this._p.x * this._p.x + this._p.y * this._p.y);\n    },\n    getZ: function getZ() {\n      return this._p.z;\n    },\n    bisector: function bisector(a, b) {\n      var dx = b.getX() - a.getX();\n      var dy = b.getY() - a.getY();\n      var l1 = new HCoordinate(a.getX() + dx / 2.0, a.getY() + dy / 2.0, 1.0);\n      var l2 = new HCoordinate(a.getX() - dy + dx / 2.0, a.getY() + dx + dy / 2.0, 1.0);\n      return new HCoordinate(l1, l2);\n    },\n    equals: function equals() {\n      if (arguments.length === 1) {\n        var _x = arguments[0];\n\n        if (this._p.x === _x.getX() && this._p.y === _x.getY()) {\n          return true;\n        } else {\n          return false;\n        }\n      } else if (arguments.length === 2) {\n        var _x3 = arguments[0],\n            tolerance = arguments[1];\n\n        if (this._p.distance(_x3.getCoordinate()) < tolerance) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    },\n    getCoordinate: function getCoordinate() {\n      return this._p;\n    },\n    isInCircle: function isInCircle(a, b, c) {\n      return TrianglePredicate.isInCircleRobust(a._p, b._p, c._p, this._p);\n    },\n    interpolateZValue: function interpolateZValue(v0, v1, v2) {\n      var x0 = v0.getX();\n      var y0 = v0.getY();\n      var a = v1.getX() - x0;\n      var b = v2.getX() - x0;\n      var c = v1.getY() - y0;\n      var d = v2.getY() - y0;\n      var det = a * d - b * c;\n      var dx = this.getX() - x0;\n      var dy = this.getY() - y0;\n      var t = (d * dx - b * dy) / det;\n      var u = (-c * dx + a * dy) / det;\n      var z = v0.getZ() + t * (v1.getZ() - v0.getZ()) + u * (v2.getZ() - v0.getZ());\n      return z;\n    },\n    midPoint: function midPoint(a) {\n      var xm = (this._p.x + a.getX()) / 2.0;\n      var ym = (this._p.y + a.getY()) / 2.0;\n      var zm = (this._p.z + a.getZ()) / 2.0;\n      return new Vertex(xm, ym, zm);\n    },\n    rightOf: function rightOf(e) {\n      return this.isCCW(e.dest(), e.orig());\n    },\n    isCCW: function isCCW(b, c) {\n      return (b._p.x - this._p.x) * (c._p.y - this._p.y) - (b._p.y - this._p.y) * (c._p.x - this._p.x) > 0;\n    },\n    getX: function getX() {\n      return this._p.x;\n    },\n    crossProduct: function crossProduct(v) {\n      return this._p.x * v.getY() - this._p.y * v.getX();\n    },\n    setZ: function setZ(_z) {\n      this._p.z = _z;\n    },\n    times: function times(c) {\n      return new Vertex(c * this._p.x, c * this._p.y);\n    },\n    cross: function cross() {\n      return new Vertex(this._p.y, -this._p.x);\n    },\n    leftOf: function leftOf(e) {\n      return this.isCCW(e.orig(), e.dest());\n    },\n    toString: function toString() {\n      return \"POINT (\" + this._p.x + \" \" + this._p.y + \")\";\n    },\n    sub: function sub(v) {\n      return new Vertex(this._p.x - v.getX(), this._p.y - v.getY());\n    },\n    getY: function getY() {\n      return this._p.y;\n    },\n    classify: function classify(p0, p1) {\n      var p2 = this;\n      var a = p1.sub(p0);\n      var b = p2.sub(p0);\n      var sa = a.crossProduct(b);\n      if (sa > 0.0) return Vertex.LEFT;\n      if (sa < 0.0) return Vertex.RIGHT;\n      if (a.getX() * b.getX() < 0.0 || a.getY() * b.getY() < 0.0) return Vertex.BEHIND;\n      if (a.magn() < b.magn()) return Vertex.BEYOND;\n      if (p0.equals(p2)) return Vertex.ORIGIN;\n      if (p1.equals(p2)) return Vertex.DESTINATION;\n      return Vertex.BETWEEN;\n    },\n    sum: function sum(v) {\n      return new Vertex(this._p.x + v.getX(), this._p.y + v.getY());\n    },\n    distance: function distance(v1, v2) {\n      return Math.sqrt(Math.pow(v2.getX() - v1.getX(), 2.0) + Math.pow(v2.getY() - v1.getY(), 2.0));\n    },\n    circumRadiusRatio: function circumRadiusRatio(b, c) {\n      var x = this.circleCenter(b, c);\n      var radius = this.distance(x, b);\n      var edgeLength = this.distance(this, b);\n      var el = this.distance(b, c);\n\n      if (el < edgeLength) {\n        edgeLength = el;\n      }\n\n      el = this.distance(c, this);\n\n      if (el < edgeLength) {\n        edgeLength = el;\n      }\n\n      return radius / edgeLength;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Vertex;\n    }\n  });\n\n  Vertex.interpolateZ = function () {\n    if (arguments.length === 3) {\n      var p = arguments[0],\n          p0 = arguments[1],\n          p1 = arguments[2];\n      var segLen = p0.distance(p1);\n      var ptLen = p.distance(p0);\n      var dz = p1.z - p0.z;\n      var pz = p0.z + dz * (ptLen / segLen);\n      return pz;\n    } else if (arguments.length === 4) {\n      var _p2 = arguments[0],\n          v0 = arguments[1],\n          v1 = arguments[2],\n          v2 = arguments[3];\n      var x0 = v0.x;\n      var y0 = v0.y;\n      var a = v1.x - x0;\n      var b = v2.x - x0;\n      var c = v1.y - y0;\n      var d = v2.y - y0;\n      var det = a * d - b * c;\n      var dx = _p2.x - x0;\n      var dy = _p2.y - y0;\n      var t = (d * dx - b * dy) / det;\n      var u = (-c * dx + a * dy) / det;\n      var z = v0.z + t * (v1.z - v0.z) + u * (v2.z - v0.z);\n      return z;\n    }\n  };\n\n  Vertex.LEFT = 0;\n  Vertex.RIGHT = 1;\n  Vertex.BEYOND = 2;\n  Vertex.BEHIND = 3;\n  Vertex.BETWEEN = 4;\n  Vertex.ORIGIN = 5;\n  Vertex.DESTINATION = 6;\n\n  function ConstraintVertex() {\n    this._isOnConstraint = null;\n    this._constraint = null;\n    var p = arguments[0];\n    Vertex.call(this, p);\n  }\n  inherits(ConstraintVertex, Vertex);\n  extend(ConstraintVertex.prototype, {\n    getConstraint: function getConstraint() {\n      return this._constraint;\n    },\n    setOnConstraint: function setOnConstraint(isOnConstraint) {\n      this._isOnConstraint = isOnConstraint;\n    },\n    merge: function merge(other) {\n      if (other._isOnConstraint) {\n        this._isOnConstraint = true;\n        this._constraint = other._constraint;\n      }\n    },\n    isOnConstraint: function isOnConstraint() {\n      return this._isOnConstraint;\n    },\n    setConstraint: function setConstraint(constraint) {\n      this._isOnConstraint = true;\n      this._constraint = constraint;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return ConstraintVertex;\n    }\n  });\n\n  function QuadEdge() {\n    this._rot = null;\n    this._vertex = null;\n    this._next = null;\n    this._data = null;\n  }\n  extend(QuadEdge.prototype, {\n    equalsNonOriented: function equalsNonOriented(qe) {\n      if (this.equalsOriented(qe)) return true;\n      if (this.equalsOriented(qe.sym())) return true;\n      return false;\n    },\n    toLineSegment: function toLineSegment() {\n      return new LineSegment(this._vertex.getCoordinate(), this.dest().getCoordinate());\n    },\n    dest: function dest() {\n      return this.sym().orig();\n    },\n    oNext: function oNext() {\n      return this._next;\n    },\n    equalsOriented: function equalsOriented(qe) {\n      if (this.orig().getCoordinate().equals2D(qe.orig().getCoordinate()) && this.dest().getCoordinate().equals2D(qe.dest().getCoordinate())) return true;\n      return false;\n    },\n    dNext: function dNext() {\n      return this.sym().oNext().sym();\n    },\n    lPrev: function lPrev() {\n      return this._next.sym();\n    },\n    rPrev: function rPrev() {\n      return this.sym().oNext();\n    },\n    rot: function rot() {\n      return this._rot;\n    },\n    oPrev: function oPrev() {\n      return this._rot._next._rot;\n    },\n    sym: function sym() {\n      return this._rot._rot;\n    },\n    setOrig: function setOrig(o) {\n      this._vertex = o;\n    },\n    lNext: function lNext() {\n      return this.invRot().oNext().rot();\n    },\n    getLength: function getLength() {\n      return this.orig().getCoordinate().distance(this.dest().getCoordinate());\n    },\n    invRot: function invRot() {\n      return this._rot.sym();\n    },\n    setDest: function setDest(d) {\n      this.sym().setOrig(d);\n    },\n    setData: function setData(data) {\n      this._data = data;\n    },\n    getData: function getData() {\n      return this._data;\n    },\n    delete: function _delete() {\n      this._rot = null;\n    },\n    orig: function orig() {\n      return this._vertex;\n    },\n    rNext: function rNext() {\n      return this._rot._next.invRot();\n    },\n    toString: function toString() {\n      var p0 = this._vertex.getCoordinate();\n\n      var p1 = this.dest().getCoordinate();\n      return WKTWriter.toLineString(p0, p1);\n    },\n    isLive: function isLive() {\n      return this._rot !== null;\n    },\n    getPrimary: function getPrimary() {\n      if (this.orig().getCoordinate().compareTo(this.dest().getCoordinate()) <= 0) return this;else return this.sym();\n    },\n    dPrev: function dPrev() {\n      return this.invRot().oNext().invRot();\n    },\n    setNext: function setNext(next) {\n      this._next = next;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return QuadEdge;\n    }\n  });\n\n  QuadEdge.makeEdge = function (o, d) {\n    var q0 = new QuadEdge();\n    var q1 = new QuadEdge();\n    var q2 = new QuadEdge();\n    var q3 = new QuadEdge();\n    q0._rot = q1;\n    q1._rot = q2;\n    q2._rot = q3;\n    q3._rot = q0;\n    q0.setNext(q0);\n    q1.setNext(q3);\n    q2.setNext(q2);\n    q3.setNext(q1);\n    var base = q0;\n    base.setOrig(o);\n    base.setDest(d);\n    return base;\n  };\n\n  QuadEdge.swap = function (e) {\n    var a = e.oPrev();\n    var b = e.sym().oPrev();\n    QuadEdge.splice(e, a);\n    QuadEdge.splice(e.sym(), b);\n    QuadEdge.splice(e, a.lNext());\n    QuadEdge.splice(e.sym(), b.lNext());\n    e.setOrig(a.dest());\n    e.setDest(b.dest());\n  };\n\n  QuadEdge.splice = function (a, b) {\n    var alpha = a.oNext().rot();\n    var beta = b.oNext().rot();\n    var t1 = b.oNext();\n    var t2 = a.oNext();\n    var t3 = beta.oNext();\n    var t4 = alpha.oNext();\n    a.setNext(t1);\n    b.setNext(t2);\n    alpha.setNext(t3);\n    beta.setNext(t4);\n  };\n\n  QuadEdge.connect = function (a, b) {\n    var e = QuadEdge.makeEdge(a.dest(), b.orig());\n    QuadEdge.splice(e, a.lNext());\n    QuadEdge.splice(e.sym(), b);\n    return e;\n  };\n\n  function IncrementalDelaunayTriangulator() {\n    this._subdiv = null;\n    this._isUsingTolerance = false;\n    var subdiv = arguments[0];\n    this._subdiv = subdiv;\n    this._isUsingTolerance = subdiv.getTolerance() > 0.0;\n  }\n  extend(IncrementalDelaunayTriangulator.prototype, {\n    insertSite: function insertSite(v) {\n      var e = this._subdiv.locate(v);\n\n      if (this._subdiv.isVertexOfEdge(e, v)) {\n        return e;\n      } else if (this._subdiv.isOnEdge(e, v.getCoordinate())) {\n        e = e.oPrev();\n\n        this._subdiv.delete(e.oNext());\n      }\n\n      var base = this._subdiv.makeEdge(e.orig(), v);\n\n      QuadEdge.splice(base, e);\n      var startEdge = base;\n\n      do {\n        base = this._subdiv.connect(e, base.sym());\n        e = base.oPrev();\n      } while (e.lNext() !== startEdge);\n\n      do {\n        var t = e.oPrev();\n\n        if (t.dest().rightOf(e) && v.isInCircle(e.orig(), t.dest(), e.dest())) {\n          QuadEdge.swap(e);\n          e = e.oPrev();\n        } else if (e.oNext() === startEdge) {\n          return base;\n        } else {\n          e = e.oNext().lPrev();\n        }\n      } while (true);\n    },\n    insertSites: function insertSites(vertices) {\n      for (var i = vertices.iterator(); i.hasNext();) {\n        var v = i.next();\n        this.insertSite(v);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return IncrementalDelaunayTriangulator;\n    }\n  });\n\n  function QuadEdgeLocator() {}\n  extend(QuadEdgeLocator.prototype, {\n    locate: function locate(v) {},\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return QuadEdgeLocator;\n    }\n  });\n\n  function LastFoundQuadEdgeLocator() {\n    this._subdiv = null;\n    this._lastEdge = null;\n    var subdiv = arguments[0];\n    this._subdiv = subdiv;\n    this.init();\n  }\n  extend(LastFoundQuadEdgeLocator.prototype, {\n    init: function init() {\n      this._lastEdge = this.findEdge();\n    },\n    locate: function locate(v) {\n      if (!this._lastEdge.isLive()) {\n        this.init();\n      }\n\n      var e = this._subdiv.locateFromEdge(v, this._lastEdge);\n\n      this._lastEdge = e;\n      return e;\n    },\n    findEdge: function findEdge() {\n      var edges = this._subdiv.getEdges();\n\n      return edges.iterator().next();\n    },\n    interfaces_: function interfaces_() {\n      return [QuadEdgeLocator];\n    },\n    getClass: function getClass() {\n      return LastFoundQuadEdgeLocator;\n    }\n  });\n\n  function LocateFailureException() {\n    this._seg = null;\n\n    if (arguments.length === 1) {\n      if (typeof arguments[0] === \"string\") {\n        var msg = arguments[0];\n        RuntimeException.call(this, msg);\n      } else if (arguments[0] instanceof LineSegment) {\n        var seg = arguments[0];\n        RuntimeException.call(this, \"Locate failed to converge (at edge: \" + seg + \").  Possible causes include invalid Subdivision topology or very close sites\");\n        this._seg = new LineSegment(seg);\n      }\n    } else if (arguments.length === 2) {\n      var _msg = arguments[0],\n          _seg = arguments[1];\n      RuntimeException.call(this, LocateFailureException.msgWithSpatial(_msg, _seg));\n      this._seg = new LineSegment(_seg);\n    }\n  }\n  inherits(LocateFailureException, RuntimeException);\n  extend(LocateFailureException.prototype, {\n    getSegment: function getSegment() {\n      return this._seg;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LocateFailureException;\n    }\n  });\n\n  LocateFailureException.msgWithSpatial = function (msg, seg) {\n    if (seg !== null) return msg + \" [ \" + seg + \" ]\";\n    return msg;\n  };\n\n  function TriangleVisitor() {}\n  extend(TriangleVisitor.prototype, {\n    visit: function visit(triEdges) {},\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return TriangleVisitor;\n    }\n  });\n\n  function QuadEdgeSubdivision() {\n    this._visitedKey = 0;\n    this._quadEdges = new ArrayList();\n    this._startingEdge = null;\n    this._tolerance = null;\n    this._edgeCoincidenceTolerance = null;\n    this._frameVertex = new Array(3).fill(null);\n    this._frameEnv = null;\n    this._locator = null;\n    this._seg = new LineSegment();\n    this._triEdges = new Array(3).fill(null);\n    var env = arguments[0],\n        tolerance = arguments[1];\n    this._tolerance = tolerance;\n    this._edgeCoincidenceTolerance = tolerance / QuadEdgeSubdivision.EDGE_COINCIDENCE_TOL_FACTOR;\n    this.createFrame(env);\n    this._startingEdge = this.initSubdiv();\n    this._locator = new LastFoundQuadEdgeLocator(this);\n  }\n  extend(QuadEdgeSubdivision.prototype, {\n    getTriangleVertices: function getTriangleVertices(includeFrame) {\n      var visitor = new TriangleVertexListVisitor();\n      this.visitTriangles(visitor, includeFrame);\n      return visitor.getTriangleVertices();\n    },\n    isFrameVertex: function isFrameVertex(v) {\n      if (v.equals(this._frameVertex[0])) return true;\n      if (v.equals(this._frameVertex[1])) return true;\n      if (v.equals(this._frameVertex[2])) return true;\n      return false;\n    },\n    isVertexOfEdge: function isVertexOfEdge(e, v) {\n      if (v.equals(e.orig(), this._tolerance) || v.equals(e.dest(), this._tolerance)) {\n        return true;\n      }\n\n      return false;\n    },\n    connect: function connect(a, b) {\n      var q = QuadEdge.connect(a, b);\n\n      this._quadEdges.add(q);\n\n      return q;\n    },\n    getVoronoiCellPolygon: function getVoronoiCellPolygon(qe, geomFact) {\n      var cellPts = new ArrayList();\n      var startQE = qe;\n\n      do {\n        var cc = qe.rot().orig().getCoordinate();\n        cellPts.add(cc);\n        qe = qe.oPrev();\n      } while (qe !== startQE);\n\n      var coordList = new CoordinateList();\n      coordList.addAll(cellPts, false);\n      coordList.closeRing();\n\n      if (coordList.size() < 4) {\n        System.out.println(coordList);\n        coordList.add(coordList.get(coordList.size() - 1), true);\n      }\n\n      var pts = coordList.toCoordinateArray();\n      var cellPoly = geomFact.createPolygon(geomFact.createLinearRing(pts));\n      var v = startQE.orig();\n      cellPoly.setUserData(v.getCoordinate());\n      return cellPoly;\n    },\n    setLocator: function setLocator(locator) {\n      this._locator = locator;\n    },\n    initSubdiv: function initSubdiv() {\n      var ea = this.makeEdge(this._frameVertex[0], this._frameVertex[1]);\n      var eb = this.makeEdge(this._frameVertex[1], this._frameVertex[2]);\n      QuadEdge.splice(ea.sym(), eb);\n      var ec = this.makeEdge(this._frameVertex[2], this._frameVertex[0]);\n      QuadEdge.splice(eb.sym(), ec);\n      QuadEdge.splice(ec.sym(), ea);\n      return ea;\n    },\n    isFrameBorderEdge: function isFrameBorderEdge(e) {\n      var leftTri = new Array(3).fill(null);\n      QuadEdgeSubdivision.getTriangleEdges(e, leftTri);\n      var rightTri = new Array(3).fill(null);\n      QuadEdgeSubdivision.getTriangleEdges(e.sym(), rightTri);\n      var vLeftTriOther = e.lNext().dest();\n      if (this.isFrameVertex(vLeftTriOther)) return true;\n      var vRightTriOther = e.sym().lNext().dest();\n      if (this.isFrameVertex(vRightTriOther)) return true;\n      return false;\n    },\n    makeEdge: function makeEdge(o, d) {\n      var q = QuadEdge.makeEdge(o, d);\n\n      this._quadEdges.add(q);\n\n      return q;\n    },\n    visitTriangles: function visitTriangles(triVisitor, includeFrame) {\n      this._visitedKey++;\n      var edgeStack = new Stack();\n      edgeStack.push(this._startingEdge);\n      var visitedEdges = new HashSet();\n\n      while (!edgeStack.empty()) {\n        var edge = edgeStack.pop();\n\n        if (!visitedEdges.contains(edge)) {\n          var triEdges = this.fetchTriangleToVisit(edge, edgeStack, includeFrame, visitedEdges);\n          if (triEdges !== null) triVisitor.visit(triEdges);\n        }\n      }\n    },\n    isFrameEdge: function isFrameEdge(e) {\n      if (this.isFrameVertex(e.orig()) || this.isFrameVertex(e.dest())) return true;\n      return false;\n    },\n    isOnEdge: function isOnEdge(e, p) {\n      this._seg.setCoordinates(e.orig().getCoordinate(), e.dest().getCoordinate());\n\n      var dist = this._seg.distance(p);\n\n      return dist < this._edgeCoincidenceTolerance;\n    },\n    getEnvelope: function getEnvelope() {\n      return new Envelope(this._frameEnv);\n    },\n    createFrame: function createFrame(env) {\n      var deltaX = env.getWidth();\n      var deltaY = env.getHeight();\n      var offset = 0.0;\n\n      if (deltaX > deltaY) {\n        offset = deltaX * 10.0;\n      } else {\n        offset = deltaY * 10.0;\n      }\n\n      this._frameVertex[0] = new Vertex((env.getMaxX() + env.getMinX()) / 2.0, env.getMaxY() + offset);\n      this._frameVertex[1] = new Vertex(env.getMinX() - offset, env.getMinY() - offset);\n      this._frameVertex[2] = new Vertex(env.getMaxX() + offset, env.getMinY() - offset);\n      this._frameEnv = new Envelope(this._frameVertex[0].getCoordinate(), this._frameVertex[1].getCoordinate());\n\n      this._frameEnv.expandToInclude(this._frameVertex[2].getCoordinate());\n    },\n    getTriangleCoordinates: function getTriangleCoordinates(includeFrame) {\n      var visitor = new TriangleCoordinatesVisitor();\n      this.visitTriangles(visitor, includeFrame);\n      return visitor.getTriangles();\n    },\n    getVertices: function getVertices(includeFrame) {\n      var vertices = new HashSet();\n\n      for (var i = this._quadEdges.iterator(); i.hasNext();) {\n        var qe = i.next();\n        var v = qe.orig();\n        if (includeFrame || !this.isFrameVertex(v)) vertices.add(v);\n        var vd = qe.dest();\n        if (includeFrame || !this.isFrameVertex(vd)) vertices.add(vd);\n      }\n\n      return vertices;\n    },\n    fetchTriangleToVisit: function fetchTriangleToVisit(edge, edgeStack, includeFrame, visitedEdges) {\n      var curr = edge;\n      var edgeCount = 0;\n      var isFrame = false;\n\n      do {\n        this._triEdges[edgeCount] = curr;\n        if (this.isFrameEdge(curr)) isFrame = true;\n        var sym = curr.sym();\n        if (!visitedEdges.contains(sym)) edgeStack.push(sym);\n        visitedEdges.add(curr);\n        edgeCount++;\n        curr = curr.lNext();\n      } while (curr !== edge);\n\n      if (isFrame && !includeFrame) return null;\n      return this._triEdges;\n    },\n    getEdges: function getEdges() {\n      if (arguments.length === 0) {\n        return this._quadEdges;\n      } else if (arguments.length === 1) {\n        var geomFact = arguments[0];\n        var quadEdges = this.getPrimaryEdges(false);\n        var edges = new Array(quadEdges.size()).fill(null);\n        var i = 0;\n\n        for (var it = quadEdges.iterator(); it.hasNext();) {\n          var qe = it.next();\n          edges[i++] = geomFact.createLineString([qe.orig().getCoordinate(), qe.dest().getCoordinate()]);\n        }\n\n        return geomFact.createMultiLineString(edges);\n      }\n    },\n    getVertexUniqueEdges: function getVertexUniqueEdges(includeFrame) {\n      var edges = new ArrayList();\n      var visitedVertices = new HashSet();\n\n      for (var i = this._quadEdges.iterator(); i.hasNext();) {\n        var qe = i.next();\n        var v = qe.orig();\n\n        if (!visitedVertices.contains(v)) {\n          visitedVertices.add(v);\n\n          if (includeFrame || !this.isFrameVertex(v)) {\n            edges.add(qe);\n          }\n        }\n\n        var qd = qe.sym();\n        var vd = qd.orig();\n\n        if (!visitedVertices.contains(vd)) {\n          visitedVertices.add(vd);\n\n          if (includeFrame || !this.isFrameVertex(vd)) {\n            edges.add(qd);\n          }\n        }\n      }\n\n      return edges;\n    },\n    getTriangleEdges: function getTriangleEdges(includeFrame) {\n      var visitor = new TriangleEdgesListVisitor();\n      this.visitTriangles(visitor, includeFrame);\n      return visitor.getTriangleEdges();\n    },\n    getPrimaryEdges: function getPrimaryEdges(includeFrame) {\n      this._visitedKey++;\n      var edges = new ArrayList();\n      var edgeStack = new Stack();\n      edgeStack.push(this._startingEdge);\n      var visitedEdges = new HashSet();\n\n      while (!edgeStack.empty()) {\n        var edge = edgeStack.pop();\n\n        if (!visitedEdges.contains(edge)) {\n          var priQE = edge.getPrimary();\n          if (includeFrame || !this.isFrameEdge(priQE)) edges.add(priQE);\n          edgeStack.push(edge.oNext());\n          edgeStack.push(edge.sym().oNext());\n          visitedEdges.add(edge);\n          visitedEdges.add(edge.sym());\n        }\n      }\n\n      return edges;\n    },\n    delete: function _delete(e) {\n      QuadEdge.splice(e, e.oPrev());\n      QuadEdge.splice(e.sym(), e.sym().oPrev());\n      var eSym = e.sym();\n      var eRot = e.rot();\n      var eRotSym = e.rot().sym();\n\n      this._quadEdges.remove(e);\n\n      this._quadEdges.remove(eSym);\n\n      this._quadEdges.remove(eRot);\n\n      this._quadEdges.remove(eRotSym);\n\n      e.delete();\n      eSym.delete();\n      eRot.delete();\n      eRotSym.delete();\n    },\n    locateFromEdge: function locateFromEdge(v, startEdge) {\n      var iter = 0;\n\n      var maxIter = this._quadEdges.size();\n\n      var e = startEdge;\n\n      while (true) {\n        iter++;\n\n        if (iter > maxIter) {\n          throw new LocateFailureException(e.toLineSegment());\n        }\n\n        if (v.equals(e.orig()) || v.equals(e.dest())) {\n          break;\n        } else if (v.rightOf(e)) {\n          e = e.sym();\n        } else if (!v.rightOf(e.oNext())) {\n          e = e.oNext();\n        } else if (!v.rightOf(e.dPrev())) {\n          e = e.dPrev();\n        } else {\n          break;\n        }\n      }\n\n      return e;\n    },\n    getTolerance: function getTolerance() {\n      return this._tolerance;\n    },\n    getVoronoiCellPolygons: function getVoronoiCellPolygons(geomFact) {\n      this.visitTriangles(new TriangleCircumcentreVisitor(), true);\n      var cells = new ArrayList();\n      var edges = this.getVertexUniqueEdges(false);\n\n      for (var i = edges.iterator(); i.hasNext();) {\n        var qe = i.next();\n        cells.add(this.getVoronoiCellPolygon(qe, geomFact));\n      }\n\n      return cells;\n    },\n    getVoronoiDiagram: function getVoronoiDiagram(geomFact) {\n      var vorCells = this.getVoronoiCellPolygons(geomFact);\n      return geomFact.createGeometryCollection(GeometryFactory.toGeometryArray(vorCells));\n    },\n    getTriangles: function getTriangles(geomFact) {\n      var triPtsList = this.getTriangleCoordinates(false);\n      var tris = new Array(triPtsList.size()).fill(null);\n      var i = 0;\n\n      for (var it = triPtsList.iterator(); it.hasNext();) {\n        var triPt = it.next();\n        tris[i++] = geomFact.createPolygon(geomFact.createLinearRing(triPt));\n      }\n\n      return geomFact.createGeometryCollection(tris);\n    },\n    insertSite: function insertSite(v) {\n      var e = this.locate(v);\n\n      if (v.equals(e.orig(), this._tolerance) || v.equals(e.dest(), this._tolerance)) {\n        return e;\n      }\n\n      var base = this.makeEdge(e.orig(), v);\n      QuadEdge.splice(base, e);\n      var startEdge = base;\n\n      do {\n        base = this.connect(e, base.sym());\n        e = base.oPrev();\n      } while (e.lNext() !== startEdge);\n\n      return startEdge;\n    },\n    locate: function locate() {\n      if (arguments.length === 1) {\n        if (arguments[0] instanceof Vertex) {\n          var v = arguments[0];\n          return this._locator.locate(v);\n        } else if (arguments[0] instanceof Coordinate) {\n          var p = arguments[0];\n          return this._locator.locate(new Vertex(p));\n        }\n      } else if (arguments.length === 2) {\n        var p0 = arguments[0],\n            p1 = arguments[1];\n\n        var e = this._locator.locate(new Vertex(p0));\n\n        if (e === null) return null;\n        var base = e;\n        if (e.dest().getCoordinate().equals2D(p0)) base = e.sym();\n        var locEdge = base;\n\n        do {\n          if (locEdge.dest().getCoordinate().equals2D(p1)) return locEdge;\n          locEdge = locEdge.oNext();\n        } while (locEdge !== base);\n\n        return null;\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return QuadEdgeSubdivision;\n    }\n  });\n\n  QuadEdgeSubdivision.getTriangleEdges = function (startQE, triEdge) {\n    triEdge[0] = startQE;\n    triEdge[1] = triEdge[0].lNext();\n    triEdge[2] = triEdge[1].lNext();\n    if (triEdge[2].lNext() !== triEdge[0]) throw new IllegalArgumentException(\"Edges do not form a triangle\");\n  };\n\n  function TriangleCircumcentreVisitor() {}\n\n  extend(TriangleCircumcentreVisitor.prototype, {\n    visit: function visit(triEdges) {\n      var a = triEdges[0].orig().getCoordinate();\n      var b = triEdges[1].orig().getCoordinate();\n      var c = triEdges[2].orig().getCoordinate();\n      var cc = Triangle.circumcentre(a, b, c);\n      var ccVertex = new Vertex(cc);\n\n      for (var i = 0; i < 3; i++) {\n        triEdges[i].rot().setOrig(ccVertex);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [TriangleVisitor];\n    },\n    getClass: function getClass() {\n      return TriangleCircumcentreVisitor;\n    }\n  });\n\n  function TriangleEdgesListVisitor() {\n    this._triList = new ArrayList();\n  }\n\n  extend(TriangleEdgesListVisitor.prototype, {\n    getTriangleEdges: function getTriangleEdges() {\n      return this._triList;\n    },\n    visit: function visit(triEdges) {\n      this._triList.add(triEdges);\n    },\n    interfaces_: function interfaces_() {\n      return [TriangleVisitor];\n    },\n    getClass: function getClass() {\n      return TriangleEdgesListVisitor;\n    }\n  });\n\n  function TriangleVertexListVisitor() {\n    this._triList = new ArrayList();\n  }\n\n  extend(TriangleVertexListVisitor.prototype, {\n    visit: function visit(triEdges) {\n      this._triList.add([triEdges[0].orig(), triEdges[1].orig(), triEdges[2].orig()]);\n    },\n    getTriangleVertices: function getTriangleVertices() {\n      return this._triList;\n    },\n    interfaces_: function interfaces_() {\n      return [TriangleVisitor];\n    },\n    getClass: function getClass() {\n      return TriangleVertexListVisitor;\n    }\n  });\n\n  function TriangleCoordinatesVisitor() {\n    this._coordList = new CoordinateList();\n    this._triCoords = new ArrayList();\n  }\n\n  extend(TriangleCoordinatesVisitor.prototype, {\n    checkTriangleSize: function checkTriangleSize(pts) {\n      var loc = \"\";\n      if (pts.length >= 2) loc = WKTWriter.toLineString(pts[0], pts[1]);else {\n        if (pts.length >= 1) loc = WKTWriter.toPoint(pts[0]);\n      }\n    },\n    visit: function visit(triEdges) {\n      this._coordList.clear();\n\n      for (var i = 0; i < 3; i++) {\n        var v = triEdges[i].orig();\n\n        this._coordList.add(v.getCoordinate());\n      }\n\n      if (this._coordList.size() > 0) {\n        this._coordList.closeRing();\n\n        var pts = this._coordList.toCoordinateArray();\n\n        if (pts.length !== 4) {\n          return null;\n        }\n\n        this._triCoords.add(pts);\n      }\n    },\n    getTriangles: function getTriangles() {\n      return this._triCoords;\n    },\n    interfaces_: function interfaces_() {\n      return [TriangleVisitor];\n    },\n    getClass: function getClass() {\n      return TriangleCoordinatesVisitor;\n    }\n  });\n  QuadEdgeSubdivision.TriangleCircumcentreVisitor = TriangleCircumcentreVisitor;\n  QuadEdgeSubdivision.TriangleEdgesListVisitor = TriangleEdgesListVisitor;\n  QuadEdgeSubdivision.TriangleVertexListVisitor = TriangleVertexListVisitor;\n  QuadEdgeSubdivision.TriangleCoordinatesVisitor = TriangleCoordinatesVisitor;\n  QuadEdgeSubdivision.EDGE_COINCIDENCE_TOL_FACTOR = 1000;\n\n  function Segment() {\n    this._ls = null;\n    this._data = null;\n\n    if (arguments.length === 2) {\n      var p0 = arguments[0],\n          p1 = arguments[1];\n      this._ls = new LineSegment(p0, p1);\n    } else if (arguments.length === 3) {\n      var _p = arguments[0],\n          _p2 = arguments[1],\n          data = arguments[2];\n      this._ls = new LineSegment(_p, _p2);\n      this._data = data;\n    } else if (arguments.length === 6) {\n      var x1 = arguments[0],\n          y1 = arguments[1],\n          z1 = arguments[2],\n          x2 = arguments[3],\n          y2 = arguments[4],\n          z2 = arguments[5];\n      Segment.call(this, new Coordinate(x1, y1, z1), new Coordinate(x2, y2, z2));\n    } else if (arguments.length === 7) {\n      var _x = arguments[0],\n          _y = arguments[1],\n          _z = arguments[2],\n          _x2 = arguments[3],\n          _y2 = arguments[4],\n          _z2 = arguments[5],\n          _data = arguments[6];\n      Segment.call(this, new Coordinate(_x, _y, _z), new Coordinate(_x2, _y2, _z2), _data);\n    }\n  }\n  extend(Segment.prototype, {\n    getLineSegment: function getLineSegment() {\n      return this._ls;\n    },\n    getEndZ: function getEndZ() {\n      var p = this._ls.getCoordinate(1);\n\n      return p.z;\n    },\n    getStartZ: function getStartZ() {\n      var p = this._ls.getCoordinate(0);\n\n      return p.z;\n    },\n    intersection: function intersection(s) {\n      return this._ls.intersection(s.getLineSegment());\n    },\n    getStart: function getStart() {\n      return this._ls.getCoordinate(0);\n    },\n    getEnd: function getEnd() {\n      return this._ls.getCoordinate(1);\n    },\n    getEndY: function getEndY() {\n      var p = this._ls.getCoordinate(1);\n\n      return p.y;\n    },\n    getStartX: function getStartX() {\n      var p = this._ls.getCoordinate(0);\n\n      return p.x;\n    },\n    equalsTopo: function equalsTopo(s) {\n      return this._ls.equalsTopo(s.getLineSegment());\n    },\n    getStartY: function getStartY() {\n      var p = this._ls.getCoordinate(0);\n\n      return p.y;\n    },\n    setData: function setData(data) {\n      this._data = data;\n    },\n    getData: function getData() {\n      return this._data;\n    },\n    getEndX: function getEndX() {\n      var p = this._ls.getCoordinate(1);\n\n      return p.x;\n    },\n    toString: function toString() {\n      return this._ls.toString();\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return Segment;\n    }\n  });\n\n  function ConformingDelaunayTriangulator() {\n    this._initialVertices = null;\n    this._segVertices = null;\n    this._segments = new ArrayList();\n    this._subdiv = null;\n    this._incDel = null;\n    this._convexHull = null;\n    this._splitFinder = new NonEncroachingSplitPointFinder();\n    this._kdt = null;\n    this._vertexFactory = null;\n    this._computeAreaEnv = null;\n    this._splitPt = null;\n    this._tolerance = null;\n    var initialVertices = arguments[0],\n        tolerance = arguments[1];\n    this._initialVertices = new ArrayList(initialVertices);\n    this._tolerance = tolerance;\n    this._kdt = new KdTree(tolerance);\n  }\n  extend(ConformingDelaunayTriangulator.prototype, {\n    getInitialVertices: function getInitialVertices() {\n      return this._initialVertices;\n    },\n    getKDT: function getKDT() {\n      return this._kdt;\n    },\n    enforceConstraints: function enforceConstraints() {\n      this.addConstraintVertices();\n      var count = 0;\n      var splits = 0;\n\n      do {\n        splits = this.enforceGabriel(this._segments);\n        count++;\n      } while (splits > 0 && count < ConformingDelaunayTriangulator.MAX_SPLIT_ITER);\n    },\n    insertSites: function insertSites(vertices) {\n      for (var i = vertices.iterator(); i.hasNext();) {\n        var v = i.next();\n        this.insertSite(v);\n      }\n    },\n    getVertexFactory: function getVertexFactory() {\n      return this._vertexFactory;\n    },\n    getPointArray: function getPointArray() {\n      var pts = new Array(this._initialVertices.size() + this._segVertices.size()).fill(null);\n      var index = 0;\n\n      for (var i = this._initialVertices.iterator(); i.hasNext();) {\n        var v = i.next();\n        pts[index++] = v.getCoordinate();\n      }\n\n      for (var i2 = this._segVertices.iterator(); i2.hasNext();) {\n        var v = i2.next();\n        pts[index++] = v.getCoordinate();\n      }\n\n      return pts;\n    },\n    setConstraints: function setConstraints(segments, segVertices) {\n      this._segments = segments;\n      this._segVertices = segVertices;\n    },\n    computeConvexHull: function computeConvexHull() {\n      var fact = new GeometryFactory();\n      var coords = this.getPointArray();\n      var hull = new ConvexHull(coords, fact);\n      this._convexHull = hull.getConvexHull();\n    },\n    addConstraintVertices: function addConstraintVertices() {\n      this.computeConvexHull();\n      this.insertSites(this._segVertices);\n    },\n    findNonGabrielPoint: function findNonGabrielPoint(seg) {\n      var p = seg.getStart();\n      var q = seg.getEnd();\n      var midPt = new Coordinate((p.x + q.x) / 2.0, (p.y + q.y) / 2.0);\n      var segRadius = p.distance(midPt);\n      var env = new Envelope(midPt);\n      env.expandBy(segRadius);\n\n      var result = this._kdt.query(env);\n\n      var closestNonGabriel = null;\n      var minDist = Double.MAX_VALUE;\n\n      for (var i = result.iterator(); i.hasNext();) {\n        var nextNode = i.next();\n        var testPt = nextNode.getCoordinate();\n        if (testPt.equals2D(p) || testPt.equals2D(q)) continue;\n        var testRadius = midPt.distance(testPt);\n\n        if (testRadius < segRadius) {\n          var testDist = testRadius;\n\n          if (closestNonGabriel === null || testDist < minDist) {\n            closestNonGabriel = testPt;\n            minDist = testDist;\n          }\n        }\n      }\n\n      return closestNonGabriel;\n    },\n    getConstraintSegments: function getConstraintSegments() {\n      return this._segments;\n    },\n    setSplitPointFinder: function setSplitPointFinder(splitFinder) {\n      this._splitFinder = splitFinder;\n    },\n    getConvexHull: function getConvexHull() {\n      return this._convexHull;\n    },\n    getTolerance: function getTolerance() {\n      return this._tolerance;\n    },\n    enforceGabriel: function enforceGabriel(segsToInsert) {\n      var newSegments = new ArrayList();\n      var splits = 0;\n      var segsToRemove = new ArrayList();\n\n      for (var i = segsToInsert.iterator(); i.hasNext();) {\n        var seg = i.next();\n        var encroachPt = this.findNonGabrielPoint(seg);\n        if (encroachPt === null) continue;\n        this._splitPt = this._splitFinder.findSplitPoint(seg, encroachPt);\n        var splitVertex = this.createVertex(this._splitPt, seg);\n        var insertedVertex = this.insertSite(splitVertex);\n\n        if (!insertedVertex.getCoordinate().equals2D(this._splitPt)) ;\n\n        var s1 = new Segment(seg.getStartX(), seg.getStartY(), seg.getStartZ(), splitVertex.getX(), splitVertex.getY(), splitVertex.getZ(), seg.getData());\n        var s2 = new Segment(splitVertex.getX(), splitVertex.getY(), splitVertex.getZ(), seg.getEndX(), seg.getEndY(), seg.getEndZ(), seg.getData());\n        newSegments.add(s1);\n        newSegments.add(s2);\n        segsToRemove.add(seg);\n        splits = splits + 1;\n      }\n\n      segsToInsert.removeAll(segsToRemove);\n      segsToInsert.addAll(newSegments);\n      return splits;\n    },\n    createVertex: function createVertex() {\n      if (arguments.length === 1) {\n        var p = arguments[0];\n        var v = null;\n        if (this._vertexFactory !== null) v = this._vertexFactory.createVertex(p, null);else v = new ConstraintVertex(p);\n        return v;\n      } else if (arguments.length === 2) {\n        var _p = arguments[0],\n            seg = arguments[1];\n        var v = null;\n        if (this._vertexFactory !== null) v = this._vertexFactory.createVertex(_p, seg);else v = new ConstraintVertex(_p);\n        v.setOnConstraint(true);\n        return v;\n      }\n    },\n    getSubdivision: function getSubdivision() {\n      return this._subdiv;\n    },\n    computeBoundingBox: function computeBoundingBox() {\n      var vertexEnv = ConformingDelaunayTriangulator.computeVertexEnvelope(this._initialVertices);\n      var segEnv = ConformingDelaunayTriangulator.computeVertexEnvelope(this._segVertices);\n      var allPointsEnv = new Envelope(vertexEnv);\n      allPointsEnv.expandToInclude(segEnv);\n      var deltaX = allPointsEnv.getWidth() * 0.2;\n      var deltaY = allPointsEnv.getHeight() * 0.2;\n      var delta = Math.max(deltaX, deltaY);\n      this._computeAreaEnv = new Envelope(allPointsEnv);\n\n      this._computeAreaEnv.expandBy(delta);\n    },\n    setVertexFactory: function setVertexFactory(vertexFactory) {\n      this._vertexFactory = vertexFactory;\n    },\n    formInitialDelaunay: function formInitialDelaunay() {\n      this.computeBoundingBox();\n      this._subdiv = new QuadEdgeSubdivision(this._computeAreaEnv, this._tolerance);\n\n      this._subdiv.setLocator(new LastFoundQuadEdgeLocator(this._subdiv));\n\n      this._incDel = new IncrementalDelaunayTriangulator(this._subdiv);\n      this.insertSites(this._initialVertices);\n    },\n    insertSite: function insertSite() {\n      if (arguments[0] instanceof ConstraintVertex) {\n        var v = arguments[0];\n\n        var kdnode = this._kdt.insert(v.getCoordinate(), v);\n\n        if (!kdnode.isRepeated()) {\n          this._incDel.insertSite(v);\n        } else {\n          var snappedV = kdnode.getData();\n          snappedV.merge(v);\n          return snappedV;\n        }\n\n        return v;\n      } else if (arguments[0] instanceof Coordinate) {\n        var p = arguments[0];\n        this.insertSite(this.createVertex(p));\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return ConformingDelaunayTriangulator;\n    }\n  });\n\n  ConformingDelaunayTriangulator.computeVertexEnvelope = function (vertices) {\n    var env = new Envelope();\n\n    for (var i = vertices.iterator(); i.hasNext();) {\n      var v = i.next();\n      env.expandToInclude(v.getCoordinate());\n    }\n\n    return env;\n  };\n\n  ConformingDelaunayTriangulator.MAX_SPLIT_ITER = 99;\n\n  function DelaunayTriangulationBuilder() {\n    this._siteCoords = null;\n    this._tolerance = 0.0;\n    this._subdiv = null;\n  }\n  extend(DelaunayTriangulationBuilder.prototype, {\n    create: function create() {\n      if (this._subdiv !== null) return null;\n      var siteEnv = DelaunayTriangulationBuilder.envelope(this._siteCoords);\n      var vertices = DelaunayTriangulationBuilder.toVertices(this._siteCoords);\n      this._subdiv = new QuadEdgeSubdivision(siteEnv, this._tolerance);\n      var triangulator = new IncrementalDelaunayTriangulator(this._subdiv);\n      triangulator.insertSites(vertices);\n    },\n    setTolerance: function setTolerance(tolerance) {\n      this._tolerance = tolerance;\n    },\n    setSites: function setSites() {\n      if (arguments[0] instanceof Geometry) {\n        var geom = arguments[0];\n        this._siteCoords = DelaunayTriangulationBuilder.extractUniqueCoordinates(geom);\n      } else if (hasInterface(arguments[0], Collection)) {\n        var coords = arguments[0];\n        this._siteCoords = DelaunayTriangulationBuilder.unique(CoordinateArrays.toCoordinateArray(coords));\n      }\n    },\n    getEdges: function getEdges(geomFact) {\n      this.create();\n      return this._subdiv.getEdges(geomFact);\n    },\n    getSubdivision: function getSubdivision() {\n      this.create();\n      return this._subdiv;\n    },\n    getTriangles: function getTriangles(geomFact) {\n      this.create();\n      return this._subdiv.getTriangles(geomFact);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return DelaunayTriangulationBuilder;\n    }\n  });\n\n  DelaunayTriangulationBuilder.extractUniqueCoordinates = function (geom) {\n    if (geom === null) return new CoordinateList();\n    var coords = geom.getCoordinates();\n    return DelaunayTriangulationBuilder.unique(coords);\n  };\n\n  DelaunayTriangulationBuilder.envelope = function (coords) {\n    var env = new Envelope();\n\n    for (var i = coords.iterator(); i.hasNext();) {\n      var coord = i.next();\n      env.expandToInclude(coord);\n    }\n\n    return env;\n  };\n\n  DelaunayTriangulationBuilder.unique = function (coords) {\n    var coordsCopy = CoordinateArrays.copyDeep(coords);\n    Arrays.sort(coordsCopy);\n    var coordList = new CoordinateList(coordsCopy, false);\n    return coordList;\n  };\n\n  DelaunayTriangulationBuilder.toVertices = function (coords) {\n    var verts = new ArrayList();\n\n    for (var i = coords.iterator(); i.hasNext();) {\n      var coord = i.next();\n      verts.add(new Vertex(coord));\n    }\n\n    return verts;\n  };\n\n  function ConformingDelaunayTriangulationBuilder() {\n    this._siteCoords = null;\n    this._constraintLines = null;\n    this._tolerance = 0.0;\n    this._subdiv = null;\n    this._constraintVertexMap = new TreeMap();\n  }\n  extend(ConformingDelaunayTriangulationBuilder.prototype, {\n    createSiteVertices: function createSiteVertices(coords) {\n      var verts = new ArrayList();\n\n      for (var i = coords.iterator(); i.hasNext();) {\n        var coord = i.next();\n        if (this._constraintVertexMap.containsKey(coord)) continue;\n        verts.add(new ConstraintVertex(coord));\n      }\n\n      return verts;\n    },\n    create: function create() {\n      if (this._subdiv !== null) return null;\n      var siteEnv = DelaunayTriangulationBuilder.envelope(this._siteCoords);\n      var segments = new ArrayList();\n\n      if (this._constraintLines !== null) {\n        siteEnv.expandToInclude(this._constraintLines.getEnvelopeInternal());\n        this.createVertices(this._constraintLines);\n        segments = ConformingDelaunayTriangulationBuilder.createConstraintSegments(this._constraintLines);\n      }\n\n      var sites = this.createSiteVertices(this._siteCoords);\n      var cdt = new ConformingDelaunayTriangulator(sites, this._tolerance);\n      cdt.setConstraints(segments, new ArrayList(this._constraintVertexMap.values()));\n      cdt.formInitialDelaunay();\n      cdt.enforceConstraints();\n      this._subdiv = cdt.getSubdivision();\n    },\n    setTolerance: function setTolerance(tolerance) {\n      this._tolerance = tolerance;\n    },\n    setConstraints: function setConstraints(constraintLines) {\n      this._constraintLines = constraintLines;\n    },\n    setSites: function setSites(geom) {\n      this._siteCoords = DelaunayTriangulationBuilder.extractUniqueCoordinates(geom);\n    },\n    getEdges: function getEdges(geomFact) {\n      this.create();\n      return this._subdiv.getEdges(geomFact);\n    },\n    getSubdivision: function getSubdivision() {\n      this.create();\n      return this._subdiv;\n    },\n    getTriangles: function getTriangles(geomFact) {\n      this.create();\n      return this._subdiv.getTriangles(geomFact);\n    },\n    createVertices: function createVertices(geom) {\n      var coords = geom.getCoordinates();\n\n      for (var i = 0; i < coords.length; i++) {\n        var v = new ConstraintVertex(coords[i]);\n\n        this._constraintVertexMap.put(coords[i], v);\n      }\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return ConformingDelaunayTriangulationBuilder;\n    }\n  });\n\n  ConformingDelaunayTriangulationBuilder.createConstraintSegments = function () {\n    if (arguments.length === 1) {\n      var geom = arguments[0];\n      var lines = LinearComponentExtracter.getLines(geom);\n      var constraintSegs = new ArrayList();\n\n      for (var i = lines.iterator(); i.hasNext();) {\n        var line = i.next();\n        ConformingDelaunayTriangulationBuilder.createConstraintSegments(line, constraintSegs);\n      }\n\n      return constraintSegs;\n    } else if (arguments.length === 2) {\n      var _line = arguments[0],\n          _constraintSegs = arguments[1];\n\n      var coords = _line.getCoordinates();\n\n      for (var i = 1; i < coords.length; i++) {\n        _constraintSegs.add(new Segment(coords[i - 1], coords[i]));\n      }\n    }\n  };\n\n  function VoronoiDiagramBuilder() {\n    this._siteCoords = null;\n    this._tolerance = 0.0;\n    this._subdiv = null;\n    this._clipEnv = null;\n    this._diagramEnv = null;\n  }\n  extend(VoronoiDiagramBuilder.prototype, {\n    create: function create() {\n      if (this._subdiv !== null) return null;\n      var siteEnv = DelaunayTriangulationBuilder.envelope(this._siteCoords);\n      this._diagramEnv = siteEnv;\n      var expandBy = Math.max(this._diagramEnv.getWidth(), this._diagramEnv.getHeight());\n\n      this._diagramEnv.expandBy(expandBy);\n\n      if (this._clipEnv !== null) this._diagramEnv.expandToInclude(this._clipEnv);\n      var vertices = DelaunayTriangulationBuilder.toVertices(this._siteCoords);\n      this._subdiv = new QuadEdgeSubdivision(siteEnv, this._tolerance);\n      var triangulator = new IncrementalDelaunayTriangulator(this._subdiv);\n      triangulator.insertSites(vertices);\n    },\n    getDiagram: function getDiagram(geomFact) {\n      this.create();\n\n      var polys = this._subdiv.getVoronoiDiagram(geomFact);\n\n      return VoronoiDiagramBuilder.clipGeometryCollection(polys, this._diagramEnv);\n    },\n    setTolerance: function setTolerance(tolerance) {\n      this._tolerance = tolerance;\n    },\n    setSites: function setSites() {\n      if (arguments[0] instanceof Geometry) {\n        var geom = arguments[0];\n        this._siteCoords = DelaunayTriangulationBuilder.extractUniqueCoordinates(geom);\n      } else if (hasInterface(arguments[0], Collection)) {\n        var coords = arguments[0];\n        this._siteCoords = DelaunayTriangulationBuilder.unique(CoordinateArrays.toCoordinateArray(coords));\n      }\n    },\n    setClipEnvelope: function setClipEnvelope(clipEnv) {\n      this._clipEnv = clipEnv;\n    },\n    getSubdivision: function getSubdivision() {\n      this.create();\n      return this._subdiv;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return VoronoiDiagramBuilder;\n    }\n  });\n\n  VoronoiDiagramBuilder.clipGeometryCollection = function (geom, clipEnv) {\n    var clipPoly = geom.getFactory().toGeometry(clipEnv);\n    var clipped = new ArrayList();\n\n    for (var i = 0; i < geom.getNumGeometries(); i++) {\n      var g = geom.getGeometryN(i);\n      var result = null;\n      if (clipEnv.contains(g.getEnvelopeInternal())) result = g;else if (clipEnv.intersects(g.getEnvelopeInternal())) {\n        result = clipPoly.intersection(g);\n        result.setUserData(g.getUserData());\n      }\n\n      if (result !== null && !result.isEmpty()) {\n        clipped.add(result);\n      }\n    }\n\n    return geom.getFactory().createGeometryCollection(GeometryFactory.toGeometryArray(clipped));\n  };\n\n\n\n  var quadedge = /*#__PURE__*/Object.freeze({\n    Vertex: Vertex\n  });\n\n\n\n  var triangulate = /*#__PURE__*/Object.freeze({\n    ConformingDelaunayTriangulationBuilder: ConformingDelaunayTriangulationBuilder,\n    DelaunayTriangulationBuilder: DelaunayTriangulationBuilder,\n    VoronoiDiagramBuilder: VoronoiDiagramBuilder,\n    quadedge: quadedge\n  });\n\n  function LinearLocation() {\n    this._componentIndex = 0;\n    this._segmentIndex = 0;\n    this._segmentFraction = 0.0;\n\n    if (arguments.length === 0) ; else if (arguments.length === 1) {\n      var loc = arguments[0];\n      this._componentIndex = loc._componentIndex;\n      this._segmentIndex = loc._segmentIndex;\n      this._segmentFraction = loc._segmentFraction;\n    } else if (arguments.length === 2) {\n      var segmentIndex = arguments[0],\n          segmentFraction = arguments[1];\n      LinearLocation.call(this, 0, segmentIndex, segmentFraction);\n    } else if (arguments.length === 3) {\n      var componentIndex = arguments[0],\n          _segmentIndex = arguments[1],\n          _segmentFraction = arguments[2];\n      this._componentIndex = componentIndex;\n      this._segmentIndex = _segmentIndex;\n      this._segmentFraction = _segmentFraction;\n      this.normalize();\n    } else if (arguments.length === 4) {\n      var _componentIndex = arguments[0],\n          _segmentIndex2 = arguments[1],\n          _segmentFraction2 = arguments[2],\n          doNormalize = arguments[3];\n      this._componentIndex = _componentIndex;\n      this._segmentIndex = _segmentIndex2;\n      this._segmentFraction = _segmentFraction2;\n      if (doNormalize) this.normalize();\n    }\n  }\n  extend(LinearLocation.prototype, {\n    getSegmentIndex: function getSegmentIndex() {\n      return this._segmentIndex;\n    },\n    getComponentIndex: function getComponentIndex() {\n      return this._componentIndex;\n    },\n    isEndpoint: function isEndpoint(linearGeom) {\n      var lineComp = linearGeom.getGeometryN(this._componentIndex);\n      var nseg = lineComp.getNumPoints() - 1;\n      return this._segmentIndex >= nseg || this._segmentIndex === nseg && this._segmentFraction >= 1.0;\n    },\n    isValid: function isValid(linearGeom) {\n      if (this._componentIndex < 0 || this._componentIndex >= linearGeom.getNumGeometries()) return false;\n      var lineComp = linearGeom.getGeometryN(this._componentIndex);\n      if (this._segmentIndex < 0 || this._segmentIndex > lineComp.getNumPoints()) return false;\n      if (this._segmentIndex === lineComp.getNumPoints() && this._segmentFraction !== 0.0) return false;\n      if (this._segmentFraction < 0.0 || this._segmentFraction > 1.0) return false;\n      return true;\n    },\n    normalize: function normalize() {\n      if (this._segmentFraction < 0.0) {\n        this._segmentFraction = 0.0;\n      }\n\n      if (this._segmentFraction > 1.0) {\n        this._segmentFraction = 1.0;\n      }\n\n      if (this._componentIndex < 0) {\n        this._componentIndex = 0;\n        this._segmentIndex = 0;\n        this._segmentFraction = 0.0;\n      }\n\n      if (this._segmentIndex < 0) {\n        this._segmentIndex = 0;\n        this._segmentFraction = 0.0;\n      }\n\n      if (this._segmentFraction === 1.0) {\n        this._segmentFraction = 0.0;\n        this._segmentIndex += 1;\n      }\n    },\n    toLowest: function toLowest(linearGeom) {\n      var lineComp = linearGeom.getGeometryN(this._componentIndex);\n      var nseg = lineComp.getNumPoints() - 1;\n      if (this._segmentIndex < nseg) return this;\n      return new LinearLocation(this._componentIndex, nseg, 1.0, false);\n    },\n    getCoordinate: function getCoordinate(linearGeom) {\n      var lineComp = linearGeom.getGeometryN(this._componentIndex);\n      var p0 = lineComp.getCoordinateN(this._segmentIndex);\n      if (this._segmentIndex >= lineComp.getNumPoints() - 1) return p0;\n      var p1 = lineComp.getCoordinateN(this._segmentIndex + 1);\n      return LinearLocation.pointAlongSegmentByFraction(p0, p1, this._segmentFraction);\n    },\n    getSegmentFraction: function getSegmentFraction() {\n      return this._segmentFraction;\n    },\n    getSegment: function getSegment(linearGeom) {\n      var lineComp = linearGeom.getGeometryN(this._componentIndex);\n      var p0 = lineComp.getCoordinateN(this._segmentIndex);\n\n      if (this._segmentIndex >= lineComp.getNumPoints() - 1) {\n        var prev = lineComp.getCoordinateN(lineComp.getNumPoints() - 2);\n        return new LineSegment(prev, p0);\n      }\n\n      var p1 = lineComp.getCoordinateN(this._segmentIndex + 1);\n      return new LineSegment(p0, p1);\n    },\n    clamp: function clamp(linear) {\n      if (this._componentIndex >= linear.getNumGeometries()) {\n        this.setToEnd(linear);\n        return null;\n      }\n\n      if (this._segmentIndex >= linear.getNumPoints()) {\n        var line = linear.getGeometryN(this._componentIndex);\n        this._segmentIndex = line.getNumPoints() - 1;\n        this._segmentFraction = 1.0;\n      }\n    },\n    setToEnd: function setToEnd(linear) {\n      this._componentIndex = linear.getNumGeometries() - 1;\n      var lastLine = linear.getGeometryN(this._componentIndex);\n      this._segmentIndex = lastLine.getNumPoints() - 1;\n      this._segmentFraction = 1.0;\n    },\n    compareTo: function compareTo(o) {\n      var other = o;\n      if (this._componentIndex < other._componentIndex) return -1;\n      if (this._componentIndex > other._componentIndex) return 1;\n      if (this._segmentIndex < other._segmentIndex) return -1;\n      if (this._segmentIndex > other._segmentIndex) return 1;\n      if (this._segmentFraction < other._segmentFraction) return -1;\n      if (this._segmentFraction > other._segmentFraction) return 1;\n      return 0;\n    },\n    copy: function copy() {\n      return new LinearLocation(this._componentIndex, this._segmentIndex, this._segmentFraction);\n    },\n    toString: function toString() {\n      return \"LinearLoc[\" + this._componentIndex + \", \" + this._segmentIndex + \", \" + this._segmentFraction + \"]\";\n    },\n    isOnSameSegment: function isOnSameSegment(loc) {\n      if (this._componentIndex !== loc._componentIndex) return false;\n      if (this._segmentIndex === loc._segmentIndex) return true;\n      if (loc._segmentIndex - this._segmentIndex === 1 && loc._segmentFraction === 0.0) return true;\n      if (this._segmentIndex - loc._segmentIndex === 1 && this._segmentFraction === 0.0) return true;\n      return false;\n    },\n    snapToVertex: function snapToVertex(linearGeom, minDistance) {\n      if (this._segmentFraction <= 0.0 || this._segmentFraction >= 1.0) return null;\n      var segLen = this.getSegmentLength(linearGeom);\n      var lenToStart = this._segmentFraction * segLen;\n      var lenToEnd = segLen - lenToStart;\n\n      if (lenToStart <= lenToEnd && lenToStart < minDistance) {\n        this._segmentFraction = 0.0;\n      } else if (lenToEnd <= lenToStart && lenToEnd < minDistance) {\n        this._segmentFraction = 1.0;\n      }\n    },\n    compareLocationValues: function compareLocationValues(componentIndex1, segmentIndex1, segmentFraction1) {\n      if (this._componentIndex < componentIndex1) return -1;\n      if (this._componentIndex > componentIndex1) return 1;\n      if (this._segmentIndex < segmentIndex1) return -1;\n      if (this._segmentIndex > segmentIndex1) return 1;\n      if (this._segmentFraction < segmentFraction1) return -1;\n      if (this._segmentFraction > segmentFraction1) return 1;\n      return 0;\n    },\n    getSegmentLength: function getSegmentLength(linearGeom) {\n      var lineComp = linearGeom.getGeometryN(this._componentIndex);\n      var segIndex = this._segmentIndex;\n      if (this._segmentIndex >= lineComp.getNumPoints() - 1) segIndex = lineComp.getNumPoints() - 2;\n      var p0 = lineComp.getCoordinateN(segIndex);\n      var p1 = lineComp.getCoordinateN(segIndex + 1);\n      return p0.distance(p1);\n    },\n    isVertex: function isVertex() {\n      return this._segmentFraction <= 0.0 || this._segmentFraction >= 1.0;\n    },\n    interfaces_: function interfaces_() {\n      return [Comparable];\n    },\n    getClass: function getClass() {\n      return LinearLocation;\n    }\n  });\n\n  LinearLocation.getEndLocation = function (linear) {\n    var loc = new LinearLocation();\n    loc.setToEnd(linear);\n    return loc;\n  };\n\n  LinearLocation.pointAlongSegmentByFraction = function (p0, p1, frac) {\n    if (frac <= 0.0) return p0;\n    if (frac >= 1.0) return p1;\n    var x = (p1.x - p0.x) * frac + p0.x;\n    var y = (p1.y - p0.y) * frac + p0.y;\n    var z = (p1.z - p0.z) * frac + p0.z;\n    return new Coordinate(x, y, z);\n  };\n\n  LinearLocation.compareLocationValues = function (componentIndex0, segmentIndex0, segmentFraction0, componentIndex1, segmentIndex1, segmentFraction1) {\n    if (componentIndex0 < componentIndex1) return -1;\n    if (componentIndex0 > componentIndex1) return 1;\n    if (segmentIndex0 < segmentIndex1) return -1;\n    if (segmentIndex0 > segmentIndex1) return 1;\n    if (segmentFraction0 < segmentFraction1) return -1;\n    if (segmentFraction0 > segmentFraction1) return 1;\n    return 0;\n  };\n\n  function LinearIterator() {\n    this._linearGeom = null;\n    this._numLines = null;\n    this._currentLine = null;\n    this._componentIndex = 0;\n    this._vertexIndex = 0;\n\n    if (arguments.length === 1) {\n      var linear = arguments[0];\n      LinearIterator.call(this, linear, 0, 0);\n    } else if (arguments.length === 2) {\n      var _linear = arguments[0],\n          start = arguments[1];\n      LinearIterator.call(this, _linear, start.getComponentIndex(), LinearIterator.segmentEndVertexIndex(start));\n    } else if (arguments.length === 3) {\n      var linearGeom = arguments[0],\n          componentIndex = arguments[1],\n          vertexIndex = arguments[2];\n      if (!hasInterface(linearGeom, Lineal)) throw new IllegalArgumentException(\"Lineal geometry is required\");\n      this._linearGeom = linearGeom;\n      this._numLines = linearGeom.getNumGeometries();\n      this._componentIndex = componentIndex;\n      this._vertexIndex = vertexIndex;\n      this.loadCurrentLine();\n    }\n  }\n  extend(LinearIterator.prototype, {\n    getComponentIndex: function getComponentIndex() {\n      return this._componentIndex;\n    },\n    getLine: function getLine() {\n      return this._currentLine;\n    },\n    getVertexIndex: function getVertexIndex() {\n      return this._vertexIndex;\n    },\n    getSegmentEnd: function getSegmentEnd() {\n      if (this._vertexIndex < this.getLine().getNumPoints() - 1) return this._currentLine.getCoordinateN(this._vertexIndex + 1);\n      return null;\n    },\n    next: function next() {\n      if (!this.hasNext()) return null;\n      this._vertexIndex++;\n\n      if (this._vertexIndex >= this._currentLine.getNumPoints()) {\n        this._componentIndex++;\n        this.loadCurrentLine();\n        this._vertexIndex = 0;\n      }\n    },\n    loadCurrentLine: function loadCurrentLine() {\n      if (this._componentIndex >= this._numLines) {\n        this._currentLine = null;\n        return null;\n      }\n\n      this._currentLine = this._linearGeom.getGeometryN(this._componentIndex);\n    },\n    getSegmentStart: function getSegmentStart() {\n      return this._currentLine.getCoordinateN(this._vertexIndex);\n    },\n    isEndOfLine: function isEndOfLine() {\n      if (this._componentIndex >= this._numLines) return false;\n      if (this._vertexIndex < this._currentLine.getNumPoints() - 1) return false;\n      return true;\n    },\n    hasNext: function hasNext() {\n      if (this._componentIndex >= this._numLines) return false;\n      if (this._componentIndex === this._numLines - 1 && this._vertexIndex >= this._currentLine.getNumPoints()) return false;\n      return true;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LinearIterator;\n    }\n  });\n\n  LinearIterator.segmentEndVertexIndex = function (loc) {\n    if (loc.getSegmentFraction() > 0.0) return loc.getSegmentIndex() + 1;\n    return loc.getSegmentIndex();\n  };\n\n  function LocationIndexOfPoint() {\n    this._linearGeom = null;\n    var linearGeom = arguments[0];\n    this._linearGeom = linearGeom;\n  }\n  extend(LocationIndexOfPoint.prototype, {\n    indexOf: function indexOf(inputPt) {\n      return this.indexOfFromStart(inputPt, null);\n    },\n    indexOfFromStart: function indexOfFromStart(inputPt, minIndex) {\n      var minDistance = Double.MAX_VALUE;\n      var minComponentIndex = 0;\n      var minSegmentIndex = 0;\n      var minFrac = -1.0;\n      var seg = new LineSegment();\n\n      for (var it = new LinearIterator(this._linearGeom); it.hasNext(); it.next()) {\n        if (!it.isEndOfLine()) {\n          seg.p0 = it.getSegmentStart();\n          seg.p1 = it.getSegmentEnd();\n          var segDistance = seg.distance(inputPt);\n          var segFrac = seg.segmentFraction(inputPt);\n          var candidateComponentIndex = it.getComponentIndex();\n          var candidateSegmentIndex = it.getVertexIndex();\n\n          if (segDistance < minDistance) {\n            if (minIndex === null || minIndex.compareLocationValues(candidateComponentIndex, candidateSegmentIndex, segFrac) < 0) {\n              minComponentIndex = candidateComponentIndex;\n              minSegmentIndex = candidateSegmentIndex;\n              minFrac = segFrac;\n              minDistance = segDistance;\n            }\n          }\n        }\n      }\n\n      if (minDistance === Double.MAX_VALUE) {\n        return new LinearLocation(minIndex);\n      }\n\n      var loc = new LinearLocation(minComponentIndex, minSegmentIndex, minFrac);\n      return loc;\n    },\n    indexOfAfter: function indexOfAfter(inputPt, minIndex) {\n      if (minIndex === null) return this.indexOf(inputPt);\n      var endLoc = LinearLocation.getEndLocation(this._linearGeom);\n      if (endLoc.compareTo(minIndex) <= 0) return endLoc;\n      var closestAfter = this.indexOfFromStart(inputPt, minIndex);\n      Assert.isTrue(closestAfter.compareTo(minIndex) >= 0, \"computed location is before specified minimum location\");\n      return closestAfter;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LocationIndexOfPoint;\n    }\n  });\n\n  LocationIndexOfPoint.indexOf = function (linearGeom, inputPt) {\n    var locater = new LocationIndexOfPoint(linearGeom);\n    return locater.indexOf(inputPt);\n  };\n\n  LocationIndexOfPoint.indexOfAfter = function (linearGeom, inputPt, minIndex) {\n    var locater = new LocationIndexOfPoint(linearGeom);\n    return locater.indexOfAfter(inputPt, minIndex);\n  };\n\n  function LocationIndexOfLine() {\n    this._linearGeom = null;\n    var linearGeom = arguments[0];\n    this._linearGeom = linearGeom;\n  }\n  extend(LocationIndexOfLine.prototype, {\n    indicesOf: function indicesOf(subLine) {\n      var startPt = subLine.getGeometryN(0).getCoordinateN(0);\n      var lastLine = subLine.getGeometryN(subLine.getNumGeometries() - 1);\n      var endPt = lastLine.getCoordinateN(lastLine.getNumPoints() - 1);\n      var locPt = new LocationIndexOfPoint(this._linearGeom);\n      var subLineLoc = new Array(2).fill(null);\n      subLineLoc[0] = locPt.indexOf(startPt);\n\n      if (subLine.getLength() === 0.0) {\n        subLineLoc[1] = subLineLoc[0].copy();\n      } else {\n        subLineLoc[1] = locPt.indexOfAfter(endPt, subLineLoc[0]);\n      }\n\n      return subLineLoc;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LocationIndexOfLine;\n    }\n  });\n\n  LocationIndexOfLine.indicesOf = function (linearGeom, subLine) {\n    var locater = new LocationIndexOfLine(linearGeom);\n    return locater.indicesOf(subLine);\n  };\n\n  function LinearGeometryBuilder() {\n    this._geomFact = null;\n    this._lines = new ArrayList();\n    this._coordList = null;\n    this._ignoreInvalidLines = false;\n    this._fixInvalidLines = false;\n    this._lastPt = null;\n    var geomFact = arguments[0];\n    this._geomFact = geomFact;\n  }\n  extend(LinearGeometryBuilder.prototype, {\n    getGeometry: function getGeometry() {\n      this.endLine();\n      return this._geomFact.buildGeometry(this._lines);\n    },\n    getLastCoordinate: function getLastCoordinate() {\n      return this._lastPt;\n    },\n    endLine: function endLine() {\n      if (this._coordList === null) {\n        return null;\n      }\n\n      if (this._ignoreInvalidLines && this._coordList.size() < 2) {\n        this._coordList = null;\n        return null;\n      }\n\n      var rawPts = this._coordList.toCoordinateArray();\n\n      var pts = rawPts;\n      if (this._fixInvalidLines) pts = this.validCoordinateSequence(rawPts);\n      this._coordList = null;\n      var line = null;\n\n      try {\n        line = this._geomFact.createLineString(pts);\n      } catch (ex) {\n        if (ex instanceof IllegalArgumentException) {\n          if (!this._ignoreInvalidLines) throw ex;\n        } else throw ex;\n      } finally {}\n\n      if (line !== null) this._lines.add(line);\n    },\n    setFixInvalidLines: function setFixInvalidLines(fixInvalidLines) {\n      this._fixInvalidLines = fixInvalidLines;\n    },\n    add: function add() {\n      if (arguments.length === 1) {\n        var pt = arguments[0];\n        this.add(pt, true);\n      } else if (arguments.length === 2) {\n        var _pt = arguments[0],\n            allowRepeatedPoints = arguments[1];\n        if (this._coordList === null) this._coordList = new CoordinateList();\n\n        this._coordList.add(_pt, allowRepeatedPoints);\n\n        this._lastPt = _pt;\n      }\n    },\n    setIgnoreInvalidLines: function setIgnoreInvalidLines(ignoreInvalidLines) {\n      this._ignoreInvalidLines = ignoreInvalidLines;\n    },\n    validCoordinateSequence: function validCoordinateSequence(pts) {\n      if (pts.length >= 2) return pts;\n      var validPts = [pts[0], pts[0]];\n      return validPts;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LinearGeometryBuilder;\n    }\n  });\n\n  function ExtractLineByLocation() {\n    this._line = null;\n    var line = arguments[0];\n    this._line = line;\n  }\n  extend(ExtractLineByLocation.prototype, {\n    computeLinear: function computeLinear(start, end) {\n      var builder = new LinearGeometryBuilder(this._line.getFactory());\n      builder.setFixInvalidLines(true);\n      if (!start.isVertex()) builder.add(start.getCoordinate(this._line));\n\n      for (var it = new LinearIterator(this._line, start); it.hasNext(); it.next()) {\n        if (end.compareLocationValues(it.getComponentIndex(), it.getVertexIndex(), 0.0) < 0) break;\n        var pt = it.getSegmentStart();\n        builder.add(pt);\n        if (it.isEndOfLine()) builder.endLine();\n      }\n\n      if (!end.isVertex()) builder.add(end.getCoordinate(this._line));\n      return builder.getGeometry();\n    },\n    computeLine: function computeLine(start, end) {\n      var coordinates = this._line.getCoordinates();\n\n      var newCoordinates = new CoordinateList();\n      var startSegmentIndex = start.getSegmentIndex();\n      if (start.getSegmentFraction() > 0.0) startSegmentIndex += 1;\n      var lastSegmentIndex = end.getSegmentIndex();\n      if (end.getSegmentFraction() === 1.0) lastSegmentIndex += 1;\n      if (lastSegmentIndex >= coordinates.length) lastSegmentIndex = coordinates.length - 1;\n      if (!start.isVertex()) newCoordinates.add(start.getCoordinate(this._line));\n\n      for (var i = startSegmentIndex; i <= lastSegmentIndex; i++) {\n        newCoordinates.add(coordinates[i]);\n      }\n\n      if (!end.isVertex()) newCoordinates.add(end.getCoordinate(this._line));\n      if (newCoordinates.size() <= 0) newCoordinates.add(start.getCoordinate(this._line));\n      var newCoordinateArray = newCoordinates.toCoordinateArray();\n\n      if (newCoordinateArray.length <= 1) {\n        newCoordinateArray = [newCoordinateArray[0], newCoordinateArray[0]];\n      }\n\n      return this._line.getFactory().createLineString(newCoordinateArray);\n    },\n    extract: function extract(start, end) {\n      if (end.compareTo(start) < 0) {\n        return this.reverse(this.computeLinear(end, start));\n      }\n\n      return this.computeLinear(start, end);\n    },\n    reverse: function reverse(linear) {\n      if (linear instanceof LineString) return linear.reverse();\n      if (linear instanceof MultiLineString) return linear.reverse();\n      Assert.shouldNeverReachHere(\"non-linear geometry encountered\");\n      return null;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return ExtractLineByLocation;\n    }\n  });\n\n  ExtractLineByLocation.extract = function (line, start, end) {\n    var ls = new ExtractLineByLocation(line);\n    return ls.extract(start, end);\n  };\n\n  function LocationIndexedLine() {\n    this._linearGeom = null;\n    var linearGeom = arguments[0];\n    this._linearGeom = linearGeom;\n    this.checkGeometryType();\n  }\n  extend(LocationIndexedLine.prototype, {\n    clampIndex: function clampIndex(index) {\n      var loc = index.copy();\n      loc.clamp(this._linearGeom);\n      return loc;\n    },\n    project: function project(pt) {\n      return LocationIndexOfPoint.indexOf(this._linearGeom, pt);\n    },\n    checkGeometryType: function checkGeometryType() {\n      if (!(this._linearGeom instanceof LineString || this._linearGeom instanceof MultiLineString)) throw new IllegalArgumentException(\"Input geometry must be linear\");\n    },\n    extractPoint: function extractPoint() {\n      if (arguments.length === 1) {\n        var index = arguments[0];\n        return index.getCoordinate(this._linearGeom);\n      } else if (arguments.length === 2) {\n        var _index = arguments[0],\n            offsetDistance = arguments[1];\n\n        var indexLow = _index.toLowest(this._linearGeom);\n\n        return indexLow.getSegment(this._linearGeom).pointAlongOffset(indexLow.getSegmentFraction(), offsetDistance);\n      }\n    },\n    isValidIndex: function isValidIndex(index) {\n      return index.isValid(this._linearGeom);\n    },\n    getEndIndex: function getEndIndex() {\n      return LinearLocation.getEndLocation(this._linearGeom);\n    },\n    getStartIndex: function getStartIndex() {\n      return new LinearLocation();\n    },\n    indexOfAfter: function indexOfAfter(pt, minIndex) {\n      return LocationIndexOfPoint.indexOfAfter(this._linearGeom, pt, minIndex);\n    },\n    extractLine: function extractLine(startIndex, endIndex) {\n      return ExtractLineByLocation.extract(this._linearGeom, startIndex, endIndex);\n    },\n    indexOf: function indexOf(pt) {\n      return LocationIndexOfPoint.indexOf(this._linearGeom, pt);\n    },\n    indicesOf: function indicesOf(subLine) {\n      return LocationIndexOfLine.indicesOf(this._linearGeom, subLine);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LocationIndexedLine;\n    }\n  });\n\n  function LengthIndexOfPoint() {\n    this._linearGeom = null;\n    var linearGeom = arguments[0];\n    this._linearGeom = linearGeom;\n  }\n  extend(LengthIndexOfPoint.prototype, {\n    indexOf: function indexOf(inputPt) {\n      return this.indexOfFromStart(inputPt, -1.0);\n    },\n    indexOfFromStart: function indexOfFromStart(inputPt, minIndex) {\n      var minDistance = Double.MAX_VALUE;\n      var ptMeasure = minIndex;\n      var segmentStartMeasure = 0.0;\n      var seg = new LineSegment();\n      var it = new LinearIterator(this._linearGeom);\n\n      while (it.hasNext()) {\n        if (!it.isEndOfLine()) {\n          seg.p0 = it.getSegmentStart();\n          seg.p1 = it.getSegmentEnd();\n          var segDistance = seg.distance(inputPt);\n          var segMeasureToPt = this.segmentNearestMeasure(seg, inputPt, segmentStartMeasure);\n\n          if (segDistance < minDistance && segMeasureToPt > minIndex) {\n            ptMeasure = segMeasureToPt;\n            minDistance = segDistance;\n          }\n\n          segmentStartMeasure += seg.getLength();\n        }\n\n        it.next();\n      }\n\n      return ptMeasure;\n    },\n    indexOfAfter: function indexOfAfter(inputPt, minIndex) {\n      if (minIndex < 0.0) return this.indexOf(inputPt);\n\n      var endIndex = this._linearGeom.getLength();\n\n      if (endIndex < minIndex) return endIndex;\n      var closestAfter = this.indexOfFromStart(inputPt, minIndex);\n      Assert.isTrue(closestAfter >= minIndex, \"computed index is before specified minimum index\");\n      return closestAfter;\n    },\n    segmentNearestMeasure: function segmentNearestMeasure(seg, inputPt, segmentStartMeasure) {\n      var projFactor = seg.projectionFactor(inputPt);\n      if (projFactor <= 0.0) return segmentStartMeasure;\n      if (projFactor <= 1.0) return segmentStartMeasure + projFactor * seg.getLength();\n      return segmentStartMeasure + seg.getLength();\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LengthIndexOfPoint;\n    }\n  });\n\n  LengthIndexOfPoint.indexOf = function (linearGeom, inputPt) {\n    var locater = new LengthIndexOfPoint(linearGeom);\n    return locater.indexOf(inputPt);\n  };\n\n  LengthIndexOfPoint.indexOfAfter = function (linearGeom, inputPt, minIndex) {\n    var locater = new LengthIndexOfPoint(linearGeom);\n    return locater.indexOfAfter(inputPt, minIndex);\n  };\n\n  function LengthLocationMap() {\n    this._linearGeom = null;\n    var linearGeom = arguments[0];\n    this._linearGeom = linearGeom;\n  }\n  extend(LengthLocationMap.prototype, {\n    getLength: function getLength(loc) {\n      var totalLength = 0.0;\n      var it = new LinearIterator(this._linearGeom);\n\n      while (it.hasNext()) {\n        if (!it.isEndOfLine()) {\n          var p0 = it.getSegmentStart();\n          var p1 = it.getSegmentEnd();\n          var segLen = p1.distance(p0);\n\n          if (loc.getComponentIndex() === it.getComponentIndex() && loc.getSegmentIndex() === it.getVertexIndex()) {\n            return totalLength + segLen * loc.getSegmentFraction();\n          }\n\n          totalLength += segLen;\n        }\n\n        it.next();\n      }\n\n      return totalLength;\n    },\n    resolveHigher: function resolveHigher(loc) {\n      if (!loc.isEndpoint(this._linearGeom)) return loc;\n      var compIndex = loc.getComponentIndex();\n      if (compIndex >= this._linearGeom.getNumGeometries() - 1) return loc;\n\n      do {\n        compIndex++;\n      } while (compIndex < this._linearGeom.getNumGeometries() - 1 && this._linearGeom.getGeometryN(compIndex).getLength() === 0);\n\n      return new LinearLocation(compIndex, 0, 0.0);\n    },\n    getLocation: function getLocation() {\n      if (arguments.length === 1) {\n        var length = arguments[0];\n        return this.getLocation(length, true);\n      } else if (arguments.length === 2) {\n        var _length = arguments[0],\n            resolveLower = arguments[1];\n        var forwardLength = _length;\n\n        if (_length < 0.0) {\n          var lineLen = this._linearGeom.getLength();\n\n          forwardLength = lineLen + _length;\n        }\n\n        var loc = this.getLocationForward(forwardLength);\n\n        if (resolveLower) {\n          return loc;\n        }\n\n        return this.resolveHigher(loc);\n      }\n    },\n    getLocationForward: function getLocationForward(length) {\n      if (length <= 0.0) return new LinearLocation();\n      var totalLength = 0.0;\n      var it = new LinearIterator(this._linearGeom);\n\n      while (it.hasNext()) {\n        if (it.isEndOfLine()) {\n          if (totalLength === length) {\n            var compIndex = it.getComponentIndex();\n            var segIndex = it.getVertexIndex();\n            return new LinearLocation(compIndex, segIndex, 0.0);\n          }\n        } else {\n          var p0 = it.getSegmentStart();\n          var p1 = it.getSegmentEnd();\n          var segLen = p1.distance(p0);\n\n          if (totalLength + segLen > length) {\n            var frac = (length - totalLength) / segLen;\n            var compIndex = it.getComponentIndex();\n            var segIndex = it.getVertexIndex();\n            return new LinearLocation(compIndex, segIndex, frac);\n          }\n\n          totalLength += segLen;\n        }\n\n        it.next();\n      }\n\n      return LinearLocation.getEndLocation(this._linearGeom);\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LengthLocationMap;\n    }\n  });\n\n  LengthLocationMap.getLength = function (linearGeom, loc) {\n    var locater = new LengthLocationMap(linearGeom);\n    return locater.getLength(loc);\n  };\n\n  LengthLocationMap.getLocation = function () {\n    if (arguments.length === 2) {\n      var linearGeom = arguments[0],\n          length = arguments[1];\n      var locater = new LengthLocationMap(linearGeom);\n      return locater.getLocation(length);\n    } else if (arguments.length === 3) {\n      var _linearGeom = arguments[0],\n          _length2 = arguments[1],\n          resolveLower = arguments[2];\n      var locater = new LengthLocationMap(_linearGeom);\n      return locater.getLocation(_length2, resolveLower);\n    }\n  };\n\n  function LengthIndexedLine() {\n    this._linearGeom = null;\n    var linearGeom = arguments[0];\n    this._linearGeom = linearGeom;\n  }\n  extend(LengthIndexedLine.prototype, {\n    clampIndex: function clampIndex(index) {\n      var posIndex = this.positiveIndex(index);\n      var startIndex = this.getStartIndex();\n      if (posIndex < startIndex) return startIndex;\n      var endIndex = this.getEndIndex();\n      if (posIndex > endIndex) return endIndex;\n      return posIndex;\n    },\n    locationOf: function locationOf() {\n      if (arguments.length === 1) {\n        var index = arguments[0];\n        return LengthLocationMap.getLocation(this._linearGeom, index);\n      } else if (arguments.length === 2) {\n        var _index = arguments[0],\n            resolveLower = arguments[1];\n        return LengthLocationMap.getLocation(this._linearGeom, _index, resolveLower);\n      }\n    },\n    project: function project(pt) {\n      return LengthIndexOfPoint.indexOf(this._linearGeom, pt);\n    },\n    positiveIndex: function positiveIndex(index) {\n      if (index >= 0.0) return index;\n      return this._linearGeom.getLength() + index;\n    },\n    extractPoint: function extractPoint() {\n      if (arguments.length === 1) {\n        var index = arguments[0];\n        var loc = LengthLocationMap.getLocation(this._linearGeom, index);\n        return loc.getCoordinate(this._linearGeom);\n      } else if (arguments.length === 2) {\n        var _index2 = arguments[0],\n            offsetDistance = arguments[1];\n        var loc = LengthLocationMap.getLocation(this._linearGeom, _index2);\n        var locLow = loc.toLowest(this._linearGeom);\n        return locLow.getSegment(this._linearGeom).pointAlongOffset(locLow.getSegmentFraction(), offsetDistance);\n      }\n    },\n    isValidIndex: function isValidIndex(index) {\n      return index >= this.getStartIndex() && index <= this.getEndIndex();\n    },\n    getEndIndex: function getEndIndex() {\n      return this._linearGeom.getLength();\n    },\n    getStartIndex: function getStartIndex() {\n      return 0.0;\n    },\n    indexOfAfter: function indexOfAfter(pt, minIndex) {\n      return LengthIndexOfPoint.indexOfAfter(this._linearGeom, pt, minIndex);\n    },\n    extractLine: function extractLine(startIndex, endIndex) {\n      var lil = new LocationIndexedLine(this._linearGeom);\n      var startIndex2 = this.clampIndex(startIndex);\n      var endIndex2 = this.clampIndex(endIndex);\n      var resolveStartLower = startIndex2 === endIndex2;\n      var startLoc = this.locationOf(startIndex2, resolveStartLower);\n      var endLoc = this.locationOf(endIndex2);\n      return ExtractLineByLocation.extract(this._linearGeom, startLoc, endLoc);\n    },\n    indexOf: function indexOf(pt) {\n      return LengthIndexOfPoint.indexOf(this._linearGeom, pt);\n    },\n    indicesOf: function indicesOf(subLine) {\n      var locIndex = LocationIndexOfLine.indicesOf(this._linearGeom, subLine);\n      var index = [LengthLocationMap.getLength(this._linearGeom, locIndex[0]), LengthLocationMap.getLength(this._linearGeom, locIndex[1])];\n      return index;\n    },\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return LengthIndexedLine;\n    }\n  });\n\n\n\n  var linearref = /*#__PURE__*/Object.freeze({\n    LengthIndexedLine: LengthIndexedLine,\n    LengthLocationMap: LengthLocationMap,\n    LinearGeometryBuilder: LinearGeometryBuilder,\n    LinearIterator: LinearIterator,\n    LinearLocation: LinearLocation,\n    LocationIndexedLine: LocationIndexedLine\n  });\n\n  function UnionOp() {}\n  extend(UnionOp.prototype, {\n    interfaces_: function interfaces_() {\n      return [];\n    },\n    getClass: function getClass() {\n      return UnionOp;\n    }\n  });\n\n  UnionOp.union = function (g, other) {\n    if (g.isEmpty() || other.isEmpty()) {\n      if (g.isEmpty() && other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.UNION, g, other, g.getFactory());\n      if (g.isEmpty()) return other.copy();\n      if (other.isEmpty()) return g.copy();\n    }\n\n    g.checkNotGeometryCollection(g);\n    g.checkNotGeometryCollection(other);\n    return SnapIfNeededOverlayOp.overlayOp(g, other, OverlayOp.UNION);\n  };\n\n  extend(Geometry.prototype, {\n    equalsTopo: function equalsTopo(g) {\n      if (!this.getEnvelopeInternal().equals(g.getEnvelopeInternal())) return false;\n      return RelateOp.relate(this, g).isEquals(this.getDimension(), g.getDimension());\n    },\n    union: function union() {\n      if (arguments.length === 0) {\n        return UnaryUnionOp.union(this);\n      } else if (arguments.length === 1) {\n        var other = arguments[0];\n        return UnionOp.union(this, other);\n      }\n    },\n    isValid: function isValid() {\n      return IsValidOp.isValid(this);\n    },\n    intersection: function intersection(other) {\n      if (this.isEmpty() || other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.INTERSECTION, this, other, this._factory);\n\n      if (this.isGeometryCollection()) {\n        var g2 = other;\n        return GeometryCollectionMapper.map(this, {\n          interfaces_: function interfaces_() {\n            return [MapOp];\n          },\n          map: function map(g) {\n            return g.intersection(g2);\n          }\n        });\n      }\n\n      this.checkNotGeometryCollection(this);\n      this.checkNotGeometryCollection(other);\n      return SnapIfNeededOverlayOp.overlayOp(this, other, OverlayOp.INTERSECTION);\n    },\n    covers: function covers(g) {\n      return RelateOp.covers(this, g);\n    },\n    coveredBy: function coveredBy(g) {\n      return RelateOp.covers(g, this);\n    },\n    touches: function touches(g) {\n      return RelateOp.touches(this, g);\n    },\n    intersects: function intersects(g) {\n      return RelateOp.intersects(this, g);\n    },\n    within: function within(g) {\n      return RelateOp.contains(g, this);\n    },\n    overlaps: function overlaps(g) {\n      return RelateOp.overlaps(this, g);\n    },\n    disjoint: function disjoint(g) {\n      return RelateOp.disjoint(this, g);\n    },\n    crosses: function crosses(g) {\n      return RelateOp.crosses(this, g);\n    },\n    buffer: function buffer() {\n      if (arguments.length === 1) {\n        var distance = arguments[0];\n        return BufferOp.bufferOp(this, distance);\n      } else if (arguments.length === 2) {\n        var _distance = arguments[0],\n            quadrantSegments = arguments[1];\n        return BufferOp.bufferOp(this, _distance, quadrantSegments);\n      } else if (arguments.length === 3) {\n        var _distance2 = arguments[0],\n            _quadrantSegments = arguments[1],\n            endCapStyle = arguments[2];\n        return BufferOp.bufferOp(this, _distance2, _quadrantSegments, endCapStyle);\n      }\n    },\n    convexHull: function convexHull() {\n      return new ConvexHull(this).getConvexHull();\n    },\n    relate: function relate() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (arguments.length === 1) {\n        var geometry = arguments[0];\n        return RelateOp.relate(this, geometry);\n      } else if (arguments.length === 2) {\n        var _geometry = arguments[0],\n            intersectionPattern = arguments[1];\n        return RelateOp.relate(this, _geometry).matches(intersectionPattern);\n      }\n    },\n    getCentroid: function getCentroid() {\n      if (this.isEmpty()) return this._factory.createPoint();\n      var centPt = Centroid.getCentroid(this);\n      return this.createPointFromInternalCoord(centPt, this);\n    },\n    getInteriorPoint: function getInteriorPoint() {\n      if (this.isEmpty()) return this._factory.createPoint();\n      var interiorPt = null;\n      var dim = this.getDimension();\n\n      if (dim === 0) {\n        var intPt = new InteriorPointPoint(this);\n        interiorPt = intPt.getInteriorPoint();\n      } else if (dim === 1) {\n        var intPt = new InteriorPointLine(this);\n        interiorPt = intPt.getInteriorPoint();\n      } else {\n        var intPt = new InteriorPointArea(this);\n        interiorPt = intPt.getInteriorPoint();\n      }\n\n      return this.createPointFromInternalCoord(interiorPt, this);\n    },\n    symDifference: function symDifference(other) {\n      if (this.isEmpty() || other.isEmpty()) {\n        if (this.isEmpty() && other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.SYMDIFFERENCE, this, other, this._factory);\n        if (this.isEmpty()) return other.copy();\n        if (other.isEmpty()) return this.copy();\n      }\n\n      this.checkNotGeometryCollection(this);\n      this.checkNotGeometryCollection(other);\n      return SnapIfNeededOverlayOp.overlayOp(this, other, OverlayOp.SYMDIFFERENCE);\n    },\n    createPointFromInternalCoord: function createPointFromInternalCoord(coord, exemplar) {\n      exemplar.getPrecisionModel().makePrecise(coord);\n      return exemplar.getFactory().createPoint(coord);\n    },\n    toText: function toText() {\n      var writer = new WKTWriter();\n      return writer.write(this);\n    },\n    toString: function toString() {\n      this.toText();\n    },\n    contains: function contains(g) {\n      return RelateOp.contains(this, g);\n    },\n    difference: function difference(other) {\n      if (this.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.DIFFERENCE, this, other, this._factory);\n      if (other.isEmpty()) return this.copy();\n      this.checkNotGeometryCollection(this);\n      this.checkNotGeometryCollection(other);\n      return SnapIfNeededOverlayOp.overlayOp(this, other, OverlayOp.DIFFERENCE);\n    },\n    isSimple: function isSimple() {\n      var op = new IsSimpleOp(this);\n      return op.isSimple();\n    },\n    isWithinDistance: function isWithinDistance(geom, distance) {\n      var envDist = this.getEnvelopeInternal().distance(geom.getEnvelopeInternal());\n      if (envDist > distance) return false;\n      return DistanceOp.isWithinDistance(this, geom, distance);\n    },\n    distance: function distance(g) {\n      return DistanceOp.distance(this, g);\n    },\n    isEquivalentClass: function isEquivalentClass(other) {\n      return this.getClass() === other.getClass();\n    }\n  });\n\n  var version = '1.6.2 (258b53b)';\n\n  exports.version = version;\n  exports.algorithm = algorithm;\n  exports.densify = densify;\n  exports.dissolve = dissolve;\n  exports.geom = geom;\n  exports.geomgraph = geomgraph;\n  exports.index = index;\n  exports.io = io;\n  exports.noding = noding;\n  exports.operation = operation;\n  exports.precision = precision;\n  exports.simplify = simplify;\n  exports.triangulate = triangulate;\n  exports.linearref = linearref;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=jsts.js.map\n","/*global define:false */\n/**\n * Copyright 2012-2017 Craig Campbell\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * Mousetrap is a simple keyboard shortcut library for Javascript with\n * no external dependencies\n *\n * @version 1.6.5\n * @url craig.is/killing/mice\n */\n(function(window, document, undefined) {\n\n    // Check if mousetrap is used inside browser, if not, return\n    if (!window) {\n        return;\n    }\n\n    /**\n     * mapping of special keycodes to their corresponding keys\n     *\n     * everything in this dictionary cannot use keypress events\n     * so it has to be here to map to the correct keycodes for\n     * keyup/keydown events\n     *\n     * @type {Object}\n     */\n    var _MAP = {\n        8: 'backspace',\n        9: 'tab',\n        13: 'enter',\n        16: 'shift',\n        17: 'ctrl',\n        18: 'alt',\n        20: 'capslock',\n        27: 'esc',\n        32: 'space',\n        33: 'pageup',\n        34: 'pagedown',\n        35: 'end',\n        36: 'home',\n        37: 'left',\n        38: 'up',\n        39: 'right',\n        40: 'down',\n        45: 'ins',\n        46: 'del',\n        91: 'meta',\n        93: 'meta',\n        224: 'meta'\n    };\n\n    /**\n     * mapping for special characters so they can support\n     *\n     * this dictionary is only used incase you want to bind a\n     * keyup or keydown event to one of these keys\n     *\n     * @type {Object}\n     */\n    var _KEYCODE_MAP = {\n        106: '*',\n        107: '+',\n        109: '-',\n        110: '.',\n        111 : '/',\n        186: ';',\n        187: '=',\n        188: ',',\n        189: '-',\n        190: '.',\n        191: '/',\n        192: '`',\n        219: '[',\n        220: '\\\\',\n        221: ']',\n        222: '\\''\n    };\n\n    /**\n     * this is a mapping of keys that require shift on a US keypad\n     * back to the non shift equivelents\n     *\n     * this is so you can use keyup events with these keys\n     *\n     * note that this will only work reliably on US keyboards\n     *\n     * @type {Object}\n     */\n    var _SHIFT_MAP = {\n        '~': '`',\n        '!': '1',\n        '@': '2',\n        '#': '3',\n        '$': '4',\n        '%': '5',\n        '^': '6',\n        '&': '7',\n        '*': '8',\n        '(': '9',\n        ')': '0',\n        '_': '-',\n        '+': '=',\n        ':': ';',\n        '\\\"': '\\'',\n        '<': ',',\n        '>': '.',\n        '?': '/',\n        '|': '\\\\'\n    };\n\n    /**\n     * this is a list of special strings you can use to map\n     * to modifier keys when you specify your keyboard shortcuts\n     *\n     * @type {Object}\n     */\n    var _SPECIAL_ALIASES = {\n        'option': 'alt',\n        'command': 'meta',\n        'return': 'enter',\n        'escape': 'esc',\n        'plus': '+',\n        'mod': /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? 'meta' : 'ctrl'\n    };\n\n    /**\n     * variable to store the flipped version of _MAP from above\n     * needed to check if we should use keypress or not when no action\n     * is specified\n     *\n     * @type {Object|undefined}\n     */\n    var _REVERSE_MAP;\n\n    /**\n     * loop through the f keys, f1 to f19 and add them to the map\n     * programatically\n     */\n    for (var i = 1; i < 20; ++i) {\n        _MAP[111 + i] = 'f' + i;\n    }\n\n    /**\n     * loop through to map numbers on the numeric keypad\n     */\n    for (i = 0; i <= 9; ++i) {\n\n        // This needs to use a string cause otherwise since 0 is falsey\n        // mousetrap will never fire for numpad 0 pressed as part of a keydown\n        // event.\n        //\n        // @see https://github.com/ccampbell/mousetrap/pull/258\n        _MAP[i + 96] = i.toString();\n    }\n\n    /**\n     * cross browser add event method\n     *\n     * @param {Element|HTMLDocument} object\n     * @param {string} type\n     * @param {Function} callback\n     * @returns void\n     */\n    function _addEvent(object, type, callback) {\n        if (object.addEventListener) {\n            object.addEventListener(type, callback, false);\n            return;\n        }\n\n        object.attachEvent('on' + type, callback);\n    }\n\n    /**\n     * takes the event and returns the key character\n     *\n     * @param {Event} e\n     * @return {string}\n     */\n    function _characterFromEvent(e) {\n\n        // for keypress events we should return the character as is\n        if (e.type == 'keypress') {\n            var character = String.fromCharCode(e.which);\n\n            // if the shift key is not pressed then it is safe to assume\n            // that we want the character to be lowercase.  this means if\n            // you accidentally have caps lock on then your key bindings\n            // will continue to work\n            //\n            // the only side effect that might not be desired is if you\n            // bind something like 'A' cause you want to trigger an\n            // event when capital A is pressed caps lock will no longer\n            // trigger the event.  shift+a will though.\n            if (!e.shiftKey) {\n                character = character.toLowerCase();\n            }\n\n            return character;\n        }\n\n        // for non keypress events the special maps are needed\n        if (_MAP[e.which]) {\n            return _MAP[e.which];\n        }\n\n        if (_KEYCODE_MAP[e.which]) {\n            return _KEYCODE_MAP[e.which];\n        }\n\n        // if it is not in the special map\n\n        // with keydown and keyup events the character seems to always\n        // come in as an uppercase character whether you are pressing shift\n        // or not.  we should make sure it is always lowercase for comparisons\n        return String.fromCharCode(e.which).toLowerCase();\n    }\n\n    /**\n     * checks if two arrays are equal\n     *\n     * @param {Array} modifiers1\n     * @param {Array} modifiers2\n     * @returns {boolean}\n     */\n    function _modifiersMatch(modifiers1, modifiers2) {\n        return modifiers1.sort().join(',') === modifiers2.sort().join(',');\n    }\n\n    /**\n     * takes a key event and figures out what the modifiers are\n     *\n     * @param {Event} e\n     * @returns {Array}\n     */\n    function _eventModifiers(e) {\n        var modifiers = [];\n\n        if (e.shiftKey) {\n            modifiers.push('shift');\n        }\n\n        if (e.altKey) {\n            modifiers.push('alt');\n        }\n\n        if (e.ctrlKey) {\n            modifiers.push('ctrl');\n        }\n\n        if (e.metaKey) {\n            modifiers.push('meta');\n        }\n\n        return modifiers;\n    }\n\n    /**\n     * prevents default for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _preventDefault(e) {\n        if (e.preventDefault) {\n            e.preventDefault();\n            return;\n        }\n\n        e.returnValue = false;\n    }\n\n    /**\n     * stops propogation for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _stopPropagation(e) {\n        if (e.stopPropagation) {\n            e.stopPropagation();\n            return;\n        }\n\n        e.cancelBubble = true;\n    }\n\n    /**\n     * determines if the keycode specified is a modifier key or not\n     *\n     * @param {string} key\n     * @returns {boolean}\n     */\n    function _isModifier(key) {\n        return key == 'shift' || key == 'ctrl' || key == 'alt' || key == 'meta';\n    }\n\n    /**\n     * reverses the map lookup so that we can look for specific keys\n     * to see what can and can't use keypress\n     *\n     * @return {Object}\n     */\n    function _getReverseMap() {\n        if (!_REVERSE_MAP) {\n            _REVERSE_MAP = {};\n            for (var key in _MAP) {\n\n                // pull out the numeric keypad from here cause keypress should\n                // be able to detect the keys from the character\n                if (key > 95 && key < 112) {\n                    continue;\n                }\n\n                if (_MAP.hasOwnProperty(key)) {\n                    _REVERSE_MAP[_MAP[key]] = key;\n                }\n            }\n        }\n        return _REVERSE_MAP;\n    }\n\n    /**\n     * picks the best action based on the key combination\n     *\n     * @param {string} key - character for key\n     * @param {Array} modifiers\n     * @param {string=} action passed in\n     */\n    function _pickBestAction(key, modifiers, action) {\n\n        // if no action was picked in we should try to pick the one\n        // that we think would work best for this key\n        if (!action) {\n            action = _getReverseMap()[key] ? 'keydown' : 'keypress';\n        }\n\n        // modifier keys don't work as expected with keypress,\n        // switch to keydown\n        if (action == 'keypress' && modifiers.length) {\n            action = 'keydown';\n        }\n\n        return action;\n    }\n\n    /**\n     * Converts from a string key combination to an array\n     *\n     * @param  {string} combination like \"command+shift+l\"\n     * @return {Array}\n     */\n    function _keysFromString(combination) {\n        if (combination === '+') {\n            return ['+'];\n        }\n\n        combination = combination.replace(/\\+{2}/g, '+plus');\n        return combination.split('+');\n    }\n\n    /**\n     * Gets info for a specific key combination\n     *\n     * @param  {string} combination key combination (\"command+s\" or \"a\" or \"*\")\n     * @param  {string=} action\n     * @returns {Object}\n     */\n    function _getKeyInfo(combination, action) {\n        var keys;\n        var key;\n        var i;\n        var modifiers = [];\n\n        // take the keys from this pattern and figure out what the actual\n        // pattern is all about\n        keys = _keysFromString(combination);\n\n        for (i = 0; i < keys.length; ++i) {\n            key = keys[i];\n\n            // normalize key names\n            if (_SPECIAL_ALIASES[key]) {\n                key = _SPECIAL_ALIASES[key];\n            }\n\n            // if this is not a keypress event then we should\n            // be smart about using shift keys\n            // this will only work for US keyboards however\n            if (action && action != 'keypress' && _SHIFT_MAP[key]) {\n                key = _SHIFT_MAP[key];\n                modifiers.push('shift');\n            }\n\n            // if this key is a modifier then add it to the list of modifiers\n            if (_isModifier(key)) {\n                modifiers.push(key);\n            }\n        }\n\n        // depending on what the key combination is\n        // we will try to pick the best event for it\n        action = _pickBestAction(key, modifiers, action);\n\n        return {\n            key: key,\n            modifiers: modifiers,\n            action: action\n        };\n    }\n\n    function _belongsTo(element, ancestor) {\n        if (element === null || element === document) {\n            return false;\n        }\n\n        if (element === ancestor) {\n            return true;\n        }\n\n        return _belongsTo(element.parentNode, ancestor);\n    }\n\n    function Mousetrap(targetElement) {\n        var self = this;\n\n        targetElement = targetElement || document;\n\n        if (!(self instanceof Mousetrap)) {\n            return new Mousetrap(targetElement);\n        }\n\n        /**\n         * element to attach key events to\n         *\n         * @type {Element}\n         */\n        self.target = targetElement;\n\n        /**\n         * a list of all the callbacks setup via Mousetrap.bind()\n         *\n         * @type {Object}\n         */\n        self._callbacks = {};\n\n        /**\n         * direct map of string combinations to callbacks used for trigger()\n         *\n         * @type {Object}\n         */\n        self._directMap = {};\n\n        /**\n         * keeps track of what level each sequence is at since multiple\n         * sequences can start out with the same sequence\n         *\n         * @type {Object}\n         */\n        var _sequenceLevels = {};\n\n        /**\n         * variable to store the setTimeout call\n         *\n         * @type {null|number}\n         */\n        var _resetTimer;\n\n        /**\n         * temporary state where we will ignore the next keyup\n         *\n         * @type {boolean|string}\n         */\n        var _ignoreNextKeyup = false;\n\n        /**\n         * temporary state where we will ignore the next keypress\n         *\n         * @type {boolean}\n         */\n        var _ignoreNextKeypress = false;\n\n        /**\n         * are we currently inside of a sequence?\n         * type of action (\"keyup\" or \"keydown\" or \"keypress\") or false\n         *\n         * @type {boolean|string}\n         */\n        var _nextExpectedAction = false;\n\n        /**\n         * resets all sequence counters except for the ones passed in\n         *\n         * @param {Object} doNotReset\n         * @returns void\n         */\n        function _resetSequences(doNotReset) {\n            doNotReset = doNotReset || {};\n\n            var activeSequences = false,\n                key;\n\n            for (key in _sequenceLevels) {\n                if (doNotReset[key]) {\n                    activeSequences = true;\n                    continue;\n                }\n                _sequenceLevels[key] = 0;\n            }\n\n            if (!activeSequences) {\n                _nextExpectedAction = false;\n            }\n        }\n\n        /**\n         * finds all callbacks that match based on the keycode, modifiers,\n         * and action\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event|Object} e\n         * @param {string=} sequenceName - name of the sequence we are looking for\n         * @param {string=} combination\n         * @param {number=} level\n         * @returns {Array}\n         */\n        function _getMatches(character, modifiers, e, sequenceName, combination, level) {\n            var i;\n            var callback;\n            var matches = [];\n            var action = e.type;\n\n            // if there are no events related to this keycode\n            if (!self._callbacks[character]) {\n                return [];\n            }\n\n            // if a modifier key is coming up on its own we should allow it\n            if (action == 'keyup' && _isModifier(character)) {\n                modifiers = [character];\n            }\n\n            // loop through all callbacks for the key that was pressed\n            // and see if any of them match\n            for (i = 0; i < self._callbacks[character].length; ++i) {\n                callback = self._callbacks[character][i];\n\n                // if a sequence name is not specified, but this is a sequence at\n                // the wrong level then move onto the next match\n                if (!sequenceName && callback.seq && _sequenceLevels[callback.seq] != callback.level) {\n                    continue;\n                }\n\n                // if the action we are looking for doesn't match the action we got\n                // then we should keep going\n                if (action != callback.action) {\n                    continue;\n                }\n\n                // if this is a keypress event and the meta key and control key\n                // are not pressed that means that we need to only look at the\n                // character, otherwise check the modifiers as well\n                //\n                // chrome will not fire a keypress if meta or control is down\n                // safari will fire a keypress if meta or meta+shift is down\n                // firefox will fire a keypress if meta or control is down\n                if ((action == 'keypress' && !e.metaKey && !e.ctrlKey) || _modifiersMatch(modifiers, callback.modifiers)) {\n\n                    // when you bind a combination or sequence a second time it\n                    // should overwrite the first one.  if a sequenceName or\n                    // combination is specified in this call it does just that\n                    //\n                    // @todo make deleting its own method?\n                    var deleteCombo = !sequenceName && callback.combo == combination;\n                    var deleteSequence = sequenceName && callback.seq == sequenceName && callback.level == level;\n                    if (deleteCombo || deleteSequence) {\n                        self._callbacks[character].splice(i, 1);\n                    }\n\n                    matches.push(callback);\n                }\n            }\n\n            return matches;\n        }\n\n        /**\n         * actually calls the callback function\n         *\n         * if your callback function returns false this will use the jquery\n         * convention - prevent default and stop propogation on the event\n         *\n         * @param {Function} callback\n         * @param {Event} e\n         * @returns void\n         */\n        function _fireCallback(callback, e, combo, sequence) {\n\n            // if this event should not happen stop here\n            if (self.stopCallback(e, e.target || e.srcElement, combo, sequence)) {\n                return;\n            }\n\n            if (callback(e, combo) === false) {\n                _preventDefault(e);\n                _stopPropagation(e);\n            }\n        }\n\n        /**\n         * handles a character key event\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event} e\n         * @returns void\n         */\n        self._handleKey = function(character, modifiers, e) {\n            var callbacks = _getMatches(character, modifiers, e);\n            var i;\n            var doNotReset = {};\n            var maxLevel = 0;\n            var processedSequenceCallback = false;\n\n            // Calculate the maxLevel for sequences so we can only execute the longest callback sequence\n            for (i = 0; i < callbacks.length; ++i) {\n                if (callbacks[i].seq) {\n                    maxLevel = Math.max(maxLevel, callbacks[i].level);\n                }\n            }\n\n            // loop through matching callbacks for this key event\n            for (i = 0; i < callbacks.length; ++i) {\n\n                // fire for all sequence callbacks\n                // this is because if for example you have multiple sequences\n                // bound such as \"g i\" and \"g t\" they both need to fire the\n                // callback for matching g cause otherwise you can only ever\n                // match the first one\n                if (callbacks[i].seq) {\n\n                    // only fire callbacks for the maxLevel to prevent\n                    // subsequences from also firing\n                    //\n                    // for example 'a option b' should not cause 'option b' to fire\n                    // even though 'option b' is part of the other sequence\n                    //\n                    // any sequences that do not match here will be discarded\n                    // below by the _resetSequences call\n                    if (callbacks[i].level != maxLevel) {\n                        continue;\n                    }\n\n                    processedSequenceCallback = true;\n\n                    // keep a list of which sequences were matches for later\n                    doNotReset[callbacks[i].seq] = 1;\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo, callbacks[i].seq);\n                    continue;\n                }\n\n                // if there were no sequence matches but we are still here\n                // that means this is a regular match so we should fire that\n                if (!processedSequenceCallback) {\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo);\n                }\n            }\n\n            // if the key you pressed matches the type of sequence without\n            // being a modifier (ie \"keyup\" or \"keypress\") then we should\n            // reset all sequences that were not matched by this event\n            //\n            // this is so, for example, if you have the sequence \"h a t\" and you\n            // type \"h e a r t\" it does not match.  in this case the \"e\" will\n            // cause the sequence to reset\n            //\n            // modifier keys are ignored because you can have a sequence\n            // that contains modifiers such as \"enter ctrl+space\" and in most\n            // cases the modifier key will be pressed before the next key\n            //\n            // also if you have a sequence such as \"ctrl+b a\" then pressing the\n            // \"b\" key will trigger a \"keypress\" and a \"keydown\"\n            //\n            // the \"keydown\" is expected when there is a modifier, but the\n            // \"keypress\" ends up matching the _nextExpectedAction since it occurs\n            // after and that causes the sequence to reset\n            //\n            // we ignore keypresses in a sequence that directly follow a keydown\n            // for the same character\n            var ignoreThisKeypress = e.type == 'keypress' && _ignoreNextKeypress;\n            if (e.type == _nextExpectedAction && !_isModifier(character) && !ignoreThisKeypress) {\n                _resetSequences(doNotReset);\n            }\n\n            _ignoreNextKeypress = processedSequenceCallback && e.type == 'keydown';\n        };\n\n        /**\n         * handles a keydown event\n         *\n         * @param {Event} e\n         * @returns void\n         */\n        function _handleKeyEvent(e) {\n\n            // normalize e.which for key events\n            // @see http://stackoverflow.com/questions/4285627/javascript-keycode-vs-charcode-utter-confusion\n            if (typeof e.which !== 'number') {\n                e.which = e.keyCode;\n            }\n\n            var character = _characterFromEvent(e);\n\n            // no character found then stop\n            if (!character) {\n                return;\n            }\n\n            // need to use === for the character check because the character can be 0\n            if (e.type == 'keyup' && _ignoreNextKeyup === character) {\n                _ignoreNextKeyup = false;\n                return;\n            }\n\n            self.handleKey(character, _eventModifiers(e), e);\n        }\n\n        /**\n         * called to set a 1 second timeout on the specified sequence\n         *\n         * this is so after each key press in the sequence you have 1 second\n         * to press the next key before you have to start over\n         *\n         * @returns void\n         */\n        function _resetSequenceTimer() {\n            clearTimeout(_resetTimer);\n            _resetTimer = setTimeout(_resetSequences, 1000);\n        }\n\n        /**\n         * binds a key sequence to an event\n         *\n         * @param {string} combo - combo specified in bind call\n         * @param {Array} keys\n         * @param {Function} callback\n         * @param {string=} action\n         * @returns void\n         */\n        function _bindSequence(combo, keys, callback, action) {\n\n            // start off by adding a sequence level record for this combination\n            // and setting the level to 0\n            _sequenceLevels[combo] = 0;\n\n            /**\n             * callback to increase the sequence level for this sequence and reset\n             * all other sequences that were active\n             *\n             * @param {string} nextAction\n             * @returns {Function}\n             */\n            function _increaseSequence(nextAction) {\n                return function() {\n                    _nextExpectedAction = nextAction;\n                    ++_sequenceLevels[combo];\n                    _resetSequenceTimer();\n                };\n            }\n\n            /**\n             * wraps the specified callback inside of another function in order\n             * to reset all sequence counters as soon as this sequence is done\n             *\n             * @param {Event} e\n             * @returns void\n             */\n            function _callbackAndReset(e) {\n                _fireCallback(callback, e, combo);\n\n                // we should ignore the next key up if the action is key down\n                // or keypress.  this is so if you finish a sequence and\n                // release the key the final key will not trigger a keyup\n                if (action !== 'keyup') {\n                    _ignoreNextKeyup = _characterFromEvent(e);\n                }\n\n                // weird race condition if a sequence ends with the key\n                // another sequence begins with\n                setTimeout(_resetSequences, 10);\n            }\n\n            // loop through keys one at a time and bind the appropriate callback\n            // function.  for any key leading up to the final one it should\n            // increase the sequence. after the final, it should reset all sequences\n            //\n            // if an action is specified in the original bind call then that will\n            // be used throughout.  otherwise we will pass the action that the\n            // next key in the sequence should match.  this allows a sequence\n            // to mix and match keypress and keydown events depending on which\n            // ones are better suited to the key provided\n            for (var i = 0; i < keys.length; ++i) {\n                var isFinal = i + 1 === keys.length;\n                var wrappedCallback = isFinal ? _callbackAndReset : _increaseSequence(action || _getKeyInfo(keys[i + 1]).action);\n                _bindSingle(keys[i], wrappedCallback, action, combo, i);\n            }\n        }\n\n        /**\n         * binds a single keyboard combination\n         *\n         * @param {string} combination\n         * @param {Function} callback\n         * @param {string=} action\n         * @param {string=} sequenceName - name of sequence if part of sequence\n         * @param {number=} level - what part of the sequence the command is\n         * @returns void\n         */\n        function _bindSingle(combination, callback, action, sequenceName, level) {\n\n            // store a direct mapped reference for use with Mousetrap.trigger\n            self._directMap[combination + ':' + action] = callback;\n\n            // make sure multiple spaces in a row become a single space\n            combination = combination.replace(/\\s+/g, ' ');\n\n            var sequence = combination.split(' ');\n            var info;\n\n            // if this pattern is a sequence of keys then run through this method\n            // to reprocess each pattern one key at a time\n            if (sequence.length > 1) {\n                _bindSequence(combination, sequence, callback, action);\n                return;\n            }\n\n            info = _getKeyInfo(combination, action);\n\n            // make sure to initialize array if this is the first time\n            // a callback is added for this key\n            self._callbacks[info.key] = self._callbacks[info.key] || [];\n\n            // remove an existing match if there is one\n            _getMatches(info.key, info.modifiers, {type: info.action}, sequenceName, combination, level);\n\n            // add this call back to the array\n            // if it is a sequence put it at the beginning\n            // if not put it at the end\n            //\n            // this is important because the way these are processed expects\n            // the sequence ones to come first\n            self._callbacks[info.key][sequenceName ? 'unshift' : 'push']({\n                callback: callback,\n                modifiers: info.modifiers,\n                action: info.action,\n                seq: sequenceName,\n                level: level,\n                combo: combination\n            });\n        }\n\n        /**\n         * binds multiple combinations to the same callback\n         *\n         * @param {Array} combinations\n         * @param {Function} callback\n         * @param {string|undefined} action\n         * @returns void\n         */\n        self._bindMultiple = function(combinations, callback, action) {\n            for (var i = 0; i < combinations.length; ++i) {\n                _bindSingle(combinations[i], callback, action);\n            }\n        };\n\n        // start!\n        _addEvent(targetElement, 'keypress', _handleKeyEvent);\n        _addEvent(targetElement, 'keydown', _handleKeyEvent);\n        _addEvent(targetElement, 'keyup', _handleKeyEvent);\n    }\n\n    /**\n     * binds an event to mousetrap\n     *\n     * can be a single key, a combination of keys separated with +,\n     * an array of keys, or a sequence of keys separated by spaces\n     *\n     * be sure to list the modifier keys first to make sure that the\n     * correct key ends up getting bound (the last key in the pattern)\n     *\n     * @param {string|Array} keys\n     * @param {Function} callback\n     * @param {string=} action - 'keypress', 'keydown', or 'keyup'\n     * @returns void\n     */\n    Mousetrap.prototype.bind = function(keys, callback, action) {\n        var self = this;\n        keys = keys instanceof Array ? keys : [keys];\n        self._bindMultiple.call(self, keys, callback, action);\n        return self;\n    };\n\n    /**\n     * unbinds an event to mousetrap\n     *\n     * the unbinding sets the callback function of the specified key combo\n     * to an empty function and deletes the corresponding key in the\n     * _directMap dict.\n     *\n     * TODO: actually remove this from the _callbacks dictionary instead\n     * of binding an empty function\n     *\n     * the keycombo+action has to be exactly the same as\n     * it was defined in the bind method\n     *\n     * @param {string|Array} keys\n     * @param {string} action\n     * @returns void\n     */\n    Mousetrap.prototype.unbind = function(keys, action) {\n        var self = this;\n        return self.bind.call(self, keys, function() {}, action);\n    };\n\n    /**\n     * triggers an event that has already been bound\n     *\n     * @param {string} keys\n     * @param {string=} action\n     * @returns void\n     */\n    Mousetrap.prototype.trigger = function(keys, action) {\n        var self = this;\n        if (self._directMap[keys + ':' + action]) {\n            self._directMap[keys + ':' + action]({}, keys);\n        }\n        return self;\n    };\n\n    /**\n     * resets the library back to its initial state.  this is useful\n     * if you want to clear out the current keyboard shortcuts and bind\n     * new ones - for example if you switch to another page\n     *\n     * @returns void\n     */\n    Mousetrap.prototype.reset = function() {\n        var self = this;\n        self._callbacks = {};\n        self._directMap = {};\n        return self;\n    };\n\n    /**\n     * should we stop this event before firing off callbacks\n     *\n     * @param {Event} e\n     * @param {Element} element\n     * @return {boolean}\n     */\n    Mousetrap.prototype.stopCallback = function(e, element) {\n        var self = this;\n\n        // if the element has the class \"mousetrap\" then no need to stop\n        if ((' ' + element.className + ' ').indexOf(' mousetrap ') > -1) {\n            return false;\n        }\n\n        if (_belongsTo(element, self.target)) {\n            return false;\n        }\n\n        // Events originating from a shadow DOM are re-targetted and `e.target` is the shadow host,\n        // not the initial event target in the shadow tree. Note that not all events cross the\n        // shadow boundary.\n        // For shadow trees with `mode: 'open'`, the initial event target is the first element in\n        // the events composed path. For shadow trees with `mode: 'closed'`, the initial event\n        // target cannot be obtained.\n        if ('composedPath' in e && typeof e.composedPath === 'function') {\n            // For open shadow trees, update `element` so that the following check works.\n            var initialEventTarget = e.composedPath()[0];\n            if (initialEventTarget !== e.target) {\n                element = initialEventTarget;\n            }\n        }\n\n        // stop for input, select, and textarea\n        return element.tagName == 'INPUT' || element.tagName == 'SELECT' || element.tagName == 'TEXTAREA' || element.isContentEditable;\n    };\n\n    /**\n     * exposes _handleKey publicly so it can be overwritten by extensions\n     */\n    Mousetrap.prototype.handleKey = function() {\n        var self = this;\n        return self._handleKey.apply(self, arguments);\n    };\n\n    /**\n     * allow custom key mappings\n     */\n    Mousetrap.addKeycodes = function(object) {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                _MAP[key] = object[key];\n            }\n        }\n        _REVERSE_MAP = null;\n    };\n\n    /**\n     * Init the global mousetrap functions\n     *\n     * This method is needed to allow the global mousetrap functions to work\n     * now that mousetrap is a constructor function.\n     */\n    Mousetrap.init = function() {\n        var documentMousetrap = Mousetrap(document);\n        for (var method in documentMousetrap) {\n            if (method.charAt(0) !== '_') {\n                Mousetrap[method] = (function(method) {\n                    return function() {\n                        return documentMousetrap[method].apply(documentMousetrap, arguments);\n                    };\n                } (method));\n            }\n        }\n    };\n\n    Mousetrap.init();\n\n    // expose mousetrap to the global object\n    window.Mousetrap = Mousetrap;\n\n    // expose as a common js module\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = Mousetrap;\n    }\n\n    // expose mousetrap as an AMD module\n    if (typeof define === 'function' && define.amd) {\n        define(function() {\n            return Mousetrap;\n        });\n    }\n}) (typeof window !== 'undefined' ? window : null, typeof  window !== 'undefined' ? document : null);\n","'use strict';\n\nmodule.exports = require('./lib/');\n","// List of valid entities\n//\n// Generate with ./support/entities.js script\n//\n'use strict';\n\n/*eslint quotes:0*/\nmodule.exports = {\n  \"Aacute\":\"\\u00C1\",\n  \"aacute\":\"\\u00E1\",\n  \"Abreve\":\"\\u0102\",\n  \"abreve\":\"\\u0103\",\n  \"ac\":\"\\u223E\",\n  \"acd\":\"\\u223F\",\n  \"acE\":\"\\u223E\\u0333\",\n  \"Acirc\":\"\\u00C2\",\n  \"acirc\":\"\\u00E2\",\n  \"acute\":\"\\u00B4\",\n  \"Acy\":\"\\u0410\",\n  \"acy\":\"\\u0430\",\n  \"AElig\":\"\\u00C6\",\n  \"aelig\":\"\\u00E6\",\n  \"af\":\"\\u2061\",\n  \"Afr\":\"\\uD835\\uDD04\",\n  \"afr\":\"\\uD835\\uDD1E\",\n  \"Agrave\":\"\\u00C0\",\n  \"agrave\":\"\\u00E0\",\n  \"alefsym\":\"\\u2135\",\n  \"aleph\":\"\\u2135\",\n  \"Alpha\":\"\\u0391\",\n  \"alpha\":\"\\u03B1\",\n  \"Amacr\":\"\\u0100\",\n  \"amacr\":\"\\u0101\",\n  \"amalg\":\"\\u2A3F\",\n  \"AMP\":\"\\u0026\",\n  \"amp\":\"\\u0026\",\n  \"And\":\"\\u2A53\",\n  \"and\":\"\\u2227\",\n  \"andand\":\"\\u2A55\",\n  \"andd\":\"\\u2A5C\",\n  \"andslope\":\"\\u2A58\",\n  \"andv\":\"\\u2A5A\",\n  \"ang\":\"\\u2220\",\n  \"ange\":\"\\u29A4\",\n  \"angle\":\"\\u2220\",\n  \"angmsd\":\"\\u2221\",\n  \"angmsdaa\":\"\\u29A8\",\n  \"angmsdab\":\"\\u29A9\",\n  \"angmsdac\":\"\\u29AA\",\n  \"angmsdad\":\"\\u29AB\",\n  \"angmsdae\":\"\\u29AC\",\n  \"angmsdaf\":\"\\u29AD\",\n  \"angmsdag\":\"\\u29AE\",\n  \"angmsdah\":\"\\u29AF\",\n  \"angrt\":\"\\u221F\",\n  \"angrtvb\":\"\\u22BE\",\n  \"angrtvbd\":\"\\u299D\",\n  \"angsph\":\"\\u2222\",\n  \"angst\":\"\\u00C5\",\n  \"angzarr\":\"\\u237C\",\n  \"Aogon\":\"\\u0104\",\n  \"aogon\":\"\\u0105\",\n  \"Aopf\":\"\\uD835\\uDD38\",\n  \"aopf\":\"\\uD835\\uDD52\",\n  \"ap\":\"\\u2248\",\n  \"apacir\":\"\\u2A6F\",\n  \"apE\":\"\\u2A70\",\n  \"ape\":\"\\u224A\",\n  \"apid\":\"\\u224B\",\n  \"apos\":\"\\u0027\",\n  \"ApplyFunction\":\"\\u2061\",\n  \"approx\":\"\\u2248\",\n  \"approxeq\":\"\\u224A\",\n  \"Aring\":\"\\u00C5\",\n  \"aring\":\"\\u00E5\",\n  \"Ascr\":\"\\uD835\\uDC9C\",\n  \"ascr\":\"\\uD835\\uDCB6\",\n  \"Assign\":\"\\u2254\",\n  \"ast\":\"\\u002A\",\n  \"asymp\":\"\\u2248\",\n  \"asympeq\":\"\\u224D\",\n  \"Atilde\":\"\\u00C3\",\n  \"atilde\":\"\\u00E3\",\n  \"Auml\":\"\\u00C4\",\n  \"auml\":\"\\u00E4\",\n  \"awconint\":\"\\u2233\",\n  \"awint\":\"\\u2A11\",\n  \"backcong\":\"\\u224C\",\n  \"backepsilon\":\"\\u03F6\",\n  \"backprime\":\"\\u2035\",\n  \"backsim\":\"\\u223D\",\n  \"backsimeq\":\"\\u22CD\",\n  \"Backslash\":\"\\u2216\",\n  \"Barv\":\"\\u2AE7\",\n  \"barvee\":\"\\u22BD\",\n  \"Barwed\":\"\\u2306\",\n  \"barwed\":\"\\u2305\",\n  \"barwedge\":\"\\u2305\",\n  \"bbrk\":\"\\u23B5\",\n  \"bbrktbrk\":\"\\u23B6\",\n  \"bcong\":\"\\u224C\",\n  \"Bcy\":\"\\u0411\",\n  \"bcy\":\"\\u0431\",\n  \"bdquo\":\"\\u201E\",\n  \"becaus\":\"\\u2235\",\n  \"Because\":\"\\u2235\",\n  \"because\":\"\\u2235\",\n  \"bemptyv\":\"\\u29B0\",\n  \"bepsi\":\"\\u03F6\",\n  \"bernou\":\"\\u212C\",\n  \"Bernoullis\":\"\\u212C\",\n  \"Beta\":\"\\u0392\",\n  \"beta\":\"\\u03B2\",\n  \"beth\":\"\\u2136\",\n  \"between\":\"\\u226C\",\n  \"Bfr\":\"\\uD835\\uDD05\",\n  \"bfr\":\"\\uD835\\uDD1F\",\n  \"bigcap\":\"\\u22C2\",\n  \"bigcirc\":\"\\u25EF\",\n  \"bigcup\":\"\\u22C3\",\n  \"bigodot\":\"\\u2A00\",\n  \"bigoplus\":\"\\u2A01\",\n  \"bigotimes\":\"\\u2A02\",\n  \"bigsqcup\":\"\\u2A06\",\n  \"bigstar\":\"\\u2605\",\n  \"bigtriangledown\":\"\\u25BD\",\n  \"bigtriangleup\":\"\\u25B3\",\n  \"biguplus\":\"\\u2A04\",\n  \"bigvee\":\"\\u22C1\",\n  \"bigwedge\":\"\\u22C0\",\n  \"bkarow\":\"\\u290D\",\n  \"blacklozenge\":\"\\u29EB\",\n  \"blacksquare\":\"\\u25AA\",\n  \"blacktriangle\":\"\\u25B4\",\n  \"blacktriangledown\":\"\\u25BE\",\n  \"blacktriangleleft\":\"\\u25C2\",\n  \"blacktriangleright\":\"\\u25B8\",\n  \"blank\":\"\\u2423\",\n  \"blk12\":\"\\u2592\",\n  \"blk14\":\"\\u2591\",\n  \"blk34\":\"\\u2593\",\n  \"block\":\"\\u2588\",\n  \"bne\":\"\\u003D\\u20E5\",\n  \"bnequiv\":\"\\u2261\\u20E5\",\n  \"bNot\":\"\\u2AED\",\n  \"bnot\":\"\\u2310\",\n  \"Bopf\":\"\\uD835\\uDD39\",\n  \"bopf\":\"\\uD835\\uDD53\",\n  \"bot\":\"\\u22A5\",\n  \"bottom\":\"\\u22A5\",\n  \"bowtie\":\"\\u22C8\",\n  \"boxbox\":\"\\u29C9\",\n  \"boxDL\":\"\\u2557\",\n  \"boxDl\":\"\\u2556\",\n  \"boxdL\":\"\\u2555\",\n  \"boxdl\":\"\\u2510\",\n  \"boxDR\":\"\\u2554\",\n  \"boxDr\":\"\\u2553\",\n  \"boxdR\":\"\\u2552\",\n  \"boxdr\":\"\\u250C\",\n  \"boxH\":\"\\u2550\",\n  \"boxh\":\"\\u2500\",\n  \"boxHD\":\"\\u2566\",\n  \"boxHd\":\"\\u2564\",\n  \"boxhD\":\"\\u2565\",\n  \"boxhd\":\"\\u252C\",\n  \"boxHU\":\"\\u2569\",\n  \"boxHu\":\"\\u2567\",\n  \"boxhU\":\"\\u2568\",\n  \"boxhu\":\"\\u2534\",\n  \"boxminus\":\"\\u229F\",\n  \"boxplus\":\"\\u229E\",\n  \"boxtimes\":\"\\u22A0\",\n  \"boxUL\":\"\\u255D\",\n  \"boxUl\":\"\\u255C\",\n  \"boxuL\":\"\\u255B\",\n  \"boxul\":\"\\u2518\",\n  \"boxUR\":\"\\u255A\",\n  \"boxUr\":\"\\u2559\",\n  \"boxuR\":\"\\u2558\",\n  \"boxur\":\"\\u2514\",\n  \"boxV\":\"\\u2551\",\n  \"boxv\":\"\\u2502\",\n  \"boxVH\":\"\\u256C\",\n  \"boxVh\":\"\\u256B\",\n  \"boxvH\":\"\\u256A\",\n  \"boxvh\":\"\\u253C\",\n  \"boxVL\":\"\\u2563\",\n  \"boxVl\":\"\\u2562\",\n  \"boxvL\":\"\\u2561\",\n  \"boxvl\":\"\\u2524\",\n  \"boxVR\":\"\\u2560\",\n  \"boxVr\":\"\\u255F\",\n  \"boxvR\":\"\\u255E\",\n  \"boxvr\":\"\\u251C\",\n  \"bprime\":\"\\u2035\",\n  \"Breve\":\"\\u02D8\",\n  \"breve\":\"\\u02D8\",\n  \"brvbar\":\"\\u00A6\",\n  \"Bscr\":\"\\u212C\",\n  \"bscr\":\"\\uD835\\uDCB7\",\n  \"bsemi\":\"\\u204F\",\n  \"bsim\":\"\\u223D\",\n  \"bsime\":\"\\u22CD\",\n  \"bsol\":\"\\u005C\",\n  \"bsolb\":\"\\u29C5\",\n  \"bsolhsub\":\"\\u27C8\",\n  \"bull\":\"\\u2022\",\n  \"bullet\":\"\\u2022\",\n  \"bump\":\"\\u224E\",\n  \"bumpE\":\"\\u2AAE\",\n  \"bumpe\":\"\\u224F\",\n  \"Bumpeq\":\"\\u224E\",\n  \"bumpeq\":\"\\u224F\",\n  \"Cacute\":\"\\u0106\",\n  \"cacute\":\"\\u0107\",\n  \"Cap\":\"\\u22D2\",\n  \"cap\":\"\\u2229\",\n  \"capand\":\"\\u2A44\",\n  \"capbrcup\":\"\\u2A49\",\n  \"capcap\":\"\\u2A4B\",\n  \"capcup\":\"\\u2A47\",\n  \"capdot\":\"\\u2A40\",\n  \"CapitalDifferentialD\":\"\\u2145\",\n  \"caps\":\"\\u2229\\uFE00\",\n  \"caret\":\"\\u2041\",\n  \"caron\":\"\\u02C7\",\n  \"Cayleys\":\"\\u212D\",\n  \"ccaps\":\"\\u2A4D\",\n  \"Ccaron\":\"\\u010C\",\n  \"ccaron\":\"\\u010D\",\n  \"Ccedil\":\"\\u00C7\",\n  \"ccedil\":\"\\u00E7\",\n  \"Ccirc\":\"\\u0108\",\n  \"ccirc\":\"\\u0109\",\n  \"Cconint\":\"\\u2230\",\n  \"ccups\":\"\\u2A4C\",\n  \"ccupssm\":\"\\u2A50\",\n  \"Cdot\":\"\\u010A\",\n  \"cdot\":\"\\u010B\",\n  \"cedil\":\"\\u00B8\",\n  \"Cedilla\":\"\\u00B8\",\n  \"cemptyv\":\"\\u29B2\",\n  \"cent\":\"\\u00A2\",\n  \"CenterDot\":\"\\u00B7\",\n  \"centerdot\":\"\\u00B7\",\n  \"Cfr\":\"\\u212D\",\n  \"cfr\":\"\\uD835\\uDD20\",\n  \"CHcy\":\"\\u0427\",\n  \"chcy\":\"\\u0447\",\n  \"check\":\"\\u2713\",\n  \"checkmark\":\"\\u2713\",\n  \"Chi\":\"\\u03A7\",\n  \"chi\":\"\\u03C7\",\n  \"cir\":\"\\u25CB\",\n  \"circ\":\"\\u02C6\",\n  \"circeq\":\"\\u2257\",\n  \"circlearrowleft\":\"\\u21BA\",\n  \"circlearrowright\":\"\\u21BB\",\n  \"circledast\":\"\\u229B\",\n  \"circledcirc\":\"\\u229A\",\n  \"circleddash\":\"\\u229D\",\n  \"CircleDot\":\"\\u2299\",\n  \"circledR\":\"\\u00AE\",\n  \"circledS\":\"\\u24C8\",\n  \"CircleMinus\":\"\\u2296\",\n  \"CirclePlus\":\"\\u2295\",\n  \"CircleTimes\":\"\\u2297\",\n  \"cirE\":\"\\u29C3\",\n  \"cire\":\"\\u2257\",\n  \"cirfnint\":\"\\u2A10\",\n  \"cirmid\":\"\\u2AEF\",\n  \"cirscir\":\"\\u29C2\",\n  \"ClockwiseContourIntegral\":\"\\u2232\",\n  \"CloseCurlyDoubleQuote\":\"\\u201D\",\n  \"CloseCurlyQuote\":\"\\u2019\",\n  \"clubs\":\"\\u2663\",\n  \"clubsuit\":\"\\u2663\",\n  \"Colon\":\"\\u2237\",\n  \"colon\":\"\\u003A\",\n  \"Colone\":\"\\u2A74\",\n  \"colone\":\"\\u2254\",\n  \"coloneq\":\"\\u2254\",\n  \"comma\":\"\\u002C\",\n  \"commat\":\"\\u0040\",\n  \"comp\":\"\\u2201\",\n  \"compfn\":\"\\u2218\",\n  \"complement\":\"\\u2201\",\n  \"complexes\":\"\\u2102\",\n  \"cong\":\"\\u2245\",\n  \"congdot\":\"\\u2A6D\",\n  \"Congruent\":\"\\u2261\",\n  \"Conint\":\"\\u222F\",\n  \"conint\":\"\\u222E\",\n  \"ContourIntegral\":\"\\u222E\",\n  \"Copf\":\"\\u2102\",\n  \"copf\":\"\\uD835\\uDD54\",\n  \"coprod\":\"\\u2210\",\n  \"Coproduct\":\"\\u2210\",\n  \"COPY\":\"\\u00A9\",\n  \"copy\":\"\\u00A9\",\n  \"copysr\":\"\\u2117\",\n  \"CounterClockwiseContourIntegral\":\"\\u2233\",\n  \"crarr\":\"\\u21B5\",\n  \"Cross\":\"\\u2A2F\",\n  \"cross\":\"\\u2717\",\n  \"Cscr\":\"\\uD835\\uDC9E\",\n  \"cscr\":\"\\uD835\\uDCB8\",\n  \"csub\":\"\\u2ACF\",\n  \"csube\":\"\\u2AD1\",\n  \"csup\":\"\\u2AD0\",\n  \"csupe\":\"\\u2AD2\",\n  \"ctdot\":\"\\u22EF\",\n  \"cudarrl\":\"\\u2938\",\n  \"cudarrr\":\"\\u2935\",\n  \"cuepr\":\"\\u22DE\",\n  \"cuesc\":\"\\u22DF\",\n  \"cularr\":\"\\u21B6\",\n  \"cularrp\":\"\\u293D\",\n  \"Cup\":\"\\u22D3\",\n  \"cup\":\"\\u222A\",\n  \"cupbrcap\":\"\\u2A48\",\n  \"CupCap\":\"\\u224D\",\n  \"cupcap\":\"\\u2A46\",\n  \"cupcup\":\"\\u2A4A\",\n  \"cupdot\":\"\\u228D\",\n  \"cupor\":\"\\u2A45\",\n  \"cups\":\"\\u222A\\uFE00\",\n  \"curarr\":\"\\u21B7\",\n  \"curarrm\":\"\\u293C\",\n  \"curlyeqprec\":\"\\u22DE\",\n  \"curlyeqsucc\":\"\\u22DF\",\n  \"curlyvee\":\"\\u22CE\",\n  \"curlywedge\":\"\\u22CF\",\n  \"curren\":\"\\u00A4\",\n  \"curvearrowleft\":\"\\u21B6\",\n  \"curvearrowright\":\"\\u21B7\",\n  \"cuvee\":\"\\u22CE\",\n  \"cuwed\":\"\\u22CF\",\n  \"cwconint\":\"\\u2232\",\n  \"cwint\":\"\\u2231\",\n  \"cylcty\":\"\\u232D\",\n  \"Dagger\":\"\\u2021\",\n  \"dagger\":\"\\u2020\",\n  \"daleth\":\"\\u2138\",\n  \"Darr\":\"\\u21A1\",\n  \"dArr\":\"\\u21D3\",\n  \"darr\":\"\\u2193\",\n  \"dash\":\"\\u2010\",\n  \"Dashv\":\"\\u2AE4\",\n  \"dashv\":\"\\u22A3\",\n  \"dbkarow\":\"\\u290F\",\n  \"dblac\":\"\\u02DD\",\n  \"Dcaron\":\"\\u010E\",\n  \"dcaron\":\"\\u010F\",\n  \"Dcy\":\"\\u0414\",\n  \"dcy\":\"\\u0434\",\n  \"DD\":\"\\u2145\",\n  \"dd\":\"\\u2146\",\n  \"ddagger\":\"\\u2021\",\n  \"ddarr\":\"\\u21CA\",\n  \"DDotrahd\":\"\\u2911\",\n  \"ddotseq\":\"\\u2A77\",\n  \"deg\":\"\\u00B0\",\n  \"Del\":\"\\u2207\",\n  \"Delta\":\"\\u0394\",\n  \"delta\":\"\\u03B4\",\n  \"demptyv\":\"\\u29B1\",\n  \"dfisht\":\"\\u297F\",\n  \"Dfr\":\"\\uD835\\uDD07\",\n  \"dfr\":\"\\uD835\\uDD21\",\n  \"dHar\":\"\\u2965\",\n  \"dharl\":\"\\u21C3\",\n  \"dharr\":\"\\u21C2\",\n  \"DiacriticalAcute\":\"\\u00B4\",\n  \"DiacriticalDot\":\"\\u02D9\",\n  \"DiacriticalDoubleAcute\":\"\\u02DD\",\n  \"DiacriticalGrave\":\"\\u0060\",\n  \"DiacriticalTilde\":\"\\u02DC\",\n  \"diam\":\"\\u22C4\",\n  \"Diamond\":\"\\u22C4\",\n  \"diamond\":\"\\u22C4\",\n  \"diamondsuit\":\"\\u2666\",\n  \"diams\":\"\\u2666\",\n  \"die\":\"\\u00A8\",\n  \"DifferentialD\":\"\\u2146\",\n  \"digamma\":\"\\u03DD\",\n  \"disin\":\"\\u22F2\",\n  \"div\":\"\\u00F7\",\n  \"divide\":\"\\u00F7\",\n  \"divideontimes\":\"\\u22C7\",\n  \"divonx\":\"\\u22C7\",\n  \"DJcy\":\"\\u0402\",\n  \"djcy\":\"\\u0452\",\n  \"dlcorn\":\"\\u231E\",\n  \"dlcrop\":\"\\u230D\",\n  \"dollar\":\"\\u0024\",\n  \"Dopf\":\"\\uD835\\uDD3B\",\n  \"dopf\":\"\\uD835\\uDD55\",\n  \"Dot\":\"\\u00A8\",\n  \"dot\":\"\\u02D9\",\n  \"DotDot\":\"\\u20DC\",\n  \"doteq\":\"\\u2250\",\n  \"doteqdot\":\"\\u2251\",\n  \"DotEqual\":\"\\u2250\",\n  \"dotminus\":\"\\u2238\",\n  \"dotplus\":\"\\u2214\",\n  \"dotsquare\":\"\\u22A1\",\n  \"doublebarwedge\":\"\\u2306\",\n  \"DoubleContourIntegral\":\"\\u222F\",\n  \"DoubleDot\":\"\\u00A8\",\n  \"DoubleDownArrow\":\"\\u21D3\",\n  \"DoubleLeftArrow\":\"\\u21D0\",\n  \"DoubleLeftRightArrow\":\"\\u21D4\",\n  \"DoubleLeftTee\":\"\\u2AE4\",\n  \"DoubleLongLeftArrow\":\"\\u27F8\",\n  \"DoubleLongLeftRightArrow\":\"\\u27FA\",\n  \"DoubleLongRightArrow\":\"\\u27F9\",\n  \"DoubleRightArrow\":\"\\u21D2\",\n  \"DoubleRightTee\":\"\\u22A8\",\n  \"DoubleUpArrow\":\"\\u21D1\",\n  \"DoubleUpDownArrow\":\"\\u21D5\",\n  \"DoubleVerticalBar\":\"\\u2225\",\n  \"DownArrow\":\"\\u2193\",\n  \"Downarrow\":\"\\u21D3\",\n  \"downarrow\":\"\\u2193\",\n  \"DownArrowBar\":\"\\u2913\",\n  \"DownArrowUpArrow\":\"\\u21F5\",\n  \"DownBreve\":\"\\u0311\",\n  \"downdownarrows\":\"\\u21CA\",\n  \"downharpoonleft\":\"\\u21C3\",\n  \"downharpoonright\":\"\\u21C2\",\n  \"DownLeftRightVector\":\"\\u2950\",\n  \"DownLeftTeeVector\":\"\\u295E\",\n  \"DownLeftVector\":\"\\u21BD\",\n  \"DownLeftVectorBar\":\"\\u2956\",\n  \"DownRightTeeVector\":\"\\u295F\",\n  \"DownRightVector\":\"\\u21C1\",\n  \"DownRightVectorBar\":\"\\u2957\",\n  \"DownTee\":\"\\u22A4\",\n  \"DownTeeArrow\":\"\\u21A7\",\n  \"drbkarow\":\"\\u2910\",\n  \"drcorn\":\"\\u231F\",\n  \"drcrop\":\"\\u230C\",\n  \"Dscr\":\"\\uD835\\uDC9F\",\n  \"dscr\":\"\\uD835\\uDCB9\",\n  \"DScy\":\"\\u0405\",\n  \"dscy\":\"\\u0455\",\n  \"dsol\":\"\\u29F6\",\n  \"Dstrok\":\"\\u0110\",\n  \"dstrok\":\"\\u0111\",\n  \"dtdot\":\"\\u22F1\",\n  \"dtri\":\"\\u25BF\",\n  \"dtrif\":\"\\u25BE\",\n  \"duarr\":\"\\u21F5\",\n  \"duhar\":\"\\u296F\",\n  \"dwangle\":\"\\u29A6\",\n  \"DZcy\":\"\\u040F\",\n  \"dzcy\":\"\\u045F\",\n  \"dzigrarr\":\"\\u27FF\",\n  \"Eacute\":\"\\u00C9\",\n  \"eacute\":\"\\u00E9\",\n  \"easter\":\"\\u2A6E\",\n  \"Ecaron\":\"\\u011A\",\n  \"ecaron\":\"\\u011B\",\n  \"ecir\":\"\\u2256\",\n  \"Ecirc\":\"\\u00CA\",\n  \"ecirc\":\"\\u00EA\",\n  \"ecolon\":\"\\u2255\",\n  \"Ecy\":\"\\u042D\",\n  \"ecy\":\"\\u044D\",\n  \"eDDot\":\"\\u2A77\",\n  \"Edot\":\"\\u0116\",\n  \"eDot\":\"\\u2251\",\n  \"edot\":\"\\u0117\",\n  \"ee\":\"\\u2147\",\n  \"efDot\":\"\\u2252\",\n  \"Efr\":\"\\uD835\\uDD08\",\n  \"efr\":\"\\uD835\\uDD22\",\n  \"eg\":\"\\u2A9A\",\n  \"Egrave\":\"\\u00C8\",\n  \"egrave\":\"\\u00E8\",\n  \"egs\":\"\\u2A96\",\n  \"egsdot\":\"\\u2A98\",\n  \"el\":\"\\u2A99\",\n  \"Element\":\"\\u2208\",\n  \"elinters\":\"\\u23E7\",\n  \"ell\":\"\\u2113\",\n  \"els\":\"\\u2A95\",\n  \"elsdot\":\"\\u2A97\",\n  \"Emacr\":\"\\u0112\",\n  \"emacr\":\"\\u0113\",\n  \"empty\":\"\\u2205\",\n  \"emptyset\":\"\\u2205\",\n  \"EmptySmallSquare\":\"\\u25FB\",\n  \"emptyv\":\"\\u2205\",\n  \"EmptyVerySmallSquare\":\"\\u25AB\",\n  \"emsp\":\"\\u2003\",\n  \"emsp13\":\"\\u2004\",\n  \"emsp14\":\"\\u2005\",\n  \"ENG\":\"\\u014A\",\n  \"eng\":\"\\u014B\",\n  \"ensp\":\"\\u2002\",\n  \"Eogon\":\"\\u0118\",\n  \"eogon\":\"\\u0119\",\n  \"Eopf\":\"\\uD835\\uDD3C\",\n  \"eopf\":\"\\uD835\\uDD56\",\n  \"epar\":\"\\u22D5\",\n  \"eparsl\":\"\\u29E3\",\n  \"eplus\":\"\\u2A71\",\n  \"epsi\":\"\\u03B5\",\n  \"Epsilon\":\"\\u0395\",\n  \"epsilon\":\"\\u03B5\",\n  \"epsiv\":\"\\u03F5\",\n  \"eqcirc\":\"\\u2256\",\n  \"eqcolon\":\"\\u2255\",\n  \"eqsim\":\"\\u2242\",\n  \"eqslantgtr\":\"\\u2A96\",\n  \"eqslantless\":\"\\u2A95\",\n  \"Equal\":\"\\u2A75\",\n  \"equals\":\"\\u003D\",\n  \"EqualTilde\":\"\\u2242\",\n  \"equest\":\"\\u225F\",\n  \"Equilibrium\":\"\\u21CC\",\n  \"equiv\":\"\\u2261\",\n  \"equivDD\":\"\\u2A78\",\n  \"eqvparsl\":\"\\u29E5\",\n  \"erarr\":\"\\u2971\",\n  \"erDot\":\"\\u2253\",\n  \"Escr\":\"\\u2130\",\n  \"escr\":\"\\u212F\",\n  \"esdot\":\"\\u2250\",\n  \"Esim\":\"\\u2A73\",\n  \"esim\":\"\\u2242\",\n  \"Eta\":\"\\u0397\",\n  \"eta\":\"\\u03B7\",\n  \"ETH\":\"\\u00D0\",\n  \"eth\":\"\\u00F0\",\n  \"Euml\":\"\\u00CB\",\n  \"euml\":\"\\u00EB\",\n  \"euro\":\"\\u20AC\",\n  \"excl\":\"\\u0021\",\n  \"exist\":\"\\u2203\",\n  \"Exists\":\"\\u2203\",\n  \"expectation\":\"\\u2130\",\n  \"ExponentialE\":\"\\u2147\",\n  \"exponentiale\":\"\\u2147\",\n  \"fallingdotseq\":\"\\u2252\",\n  \"Fcy\":\"\\u0424\",\n  \"fcy\":\"\\u0444\",\n  \"female\":\"\\u2640\",\n  \"ffilig\":\"\\uFB03\",\n  \"fflig\":\"\\uFB00\",\n  \"ffllig\":\"\\uFB04\",\n  \"Ffr\":\"\\uD835\\uDD09\",\n  \"ffr\":\"\\uD835\\uDD23\",\n  \"filig\":\"\\uFB01\",\n  \"FilledSmallSquare\":\"\\u25FC\",\n  \"FilledVerySmallSquare\":\"\\u25AA\",\n  \"fjlig\":\"\\u0066\\u006A\",\n  \"flat\":\"\\u266D\",\n  \"fllig\":\"\\uFB02\",\n  \"fltns\":\"\\u25B1\",\n  \"fnof\":\"\\u0192\",\n  \"Fopf\":\"\\uD835\\uDD3D\",\n  \"fopf\":\"\\uD835\\uDD57\",\n  \"ForAll\":\"\\u2200\",\n  \"forall\":\"\\u2200\",\n  \"fork\":\"\\u22D4\",\n  \"forkv\":\"\\u2AD9\",\n  \"Fouriertrf\":\"\\u2131\",\n  \"fpartint\":\"\\u2A0D\",\n  \"frac12\":\"\\u00BD\",\n  \"frac13\":\"\\u2153\",\n  \"frac14\":\"\\u00BC\",\n  \"frac15\":\"\\u2155\",\n  \"frac16\":\"\\u2159\",\n  \"frac18\":\"\\u215B\",\n  \"frac23\":\"\\u2154\",\n  \"frac25\":\"\\u2156\",\n  \"frac34\":\"\\u00BE\",\n  \"frac35\":\"\\u2157\",\n  \"frac38\":\"\\u215C\",\n  \"frac45\":\"\\u2158\",\n  \"frac56\":\"\\u215A\",\n  \"frac58\":\"\\u215D\",\n  \"frac78\":\"\\u215E\",\n  \"frasl\":\"\\u2044\",\n  \"frown\":\"\\u2322\",\n  \"Fscr\":\"\\u2131\",\n  \"fscr\":\"\\uD835\\uDCBB\",\n  \"gacute\":\"\\u01F5\",\n  \"Gamma\":\"\\u0393\",\n  \"gamma\":\"\\u03B3\",\n  \"Gammad\":\"\\u03DC\",\n  \"gammad\":\"\\u03DD\",\n  \"gap\":\"\\u2A86\",\n  \"Gbreve\":\"\\u011E\",\n  \"gbreve\":\"\\u011F\",\n  \"Gcedil\":\"\\u0122\",\n  \"Gcirc\":\"\\u011C\",\n  \"gcirc\":\"\\u011D\",\n  \"Gcy\":\"\\u0413\",\n  \"gcy\":\"\\u0433\",\n  \"Gdot\":\"\\u0120\",\n  \"gdot\":\"\\u0121\",\n  \"gE\":\"\\u2267\",\n  \"ge\":\"\\u2265\",\n  \"gEl\":\"\\u2A8C\",\n  \"gel\":\"\\u22DB\",\n  \"geq\":\"\\u2265\",\n  \"geqq\":\"\\u2267\",\n  \"geqslant\":\"\\u2A7E\",\n  \"ges\":\"\\u2A7E\",\n  \"gescc\":\"\\u2AA9\",\n  \"gesdot\":\"\\u2A80\",\n  \"gesdoto\":\"\\u2A82\",\n  \"gesdotol\":\"\\u2A84\",\n  \"gesl\":\"\\u22DB\\uFE00\",\n  \"gesles\":\"\\u2A94\",\n  \"Gfr\":\"\\uD835\\uDD0A\",\n  \"gfr\":\"\\uD835\\uDD24\",\n  \"Gg\":\"\\u22D9\",\n  \"gg\":\"\\u226B\",\n  \"ggg\":\"\\u22D9\",\n  \"gimel\":\"\\u2137\",\n  \"GJcy\":\"\\u0403\",\n  \"gjcy\":\"\\u0453\",\n  \"gl\":\"\\u2277\",\n  \"gla\":\"\\u2AA5\",\n  \"glE\":\"\\u2A92\",\n  \"glj\":\"\\u2AA4\",\n  \"gnap\":\"\\u2A8A\",\n  \"gnapprox\":\"\\u2A8A\",\n  \"gnE\":\"\\u2269\",\n  \"gne\":\"\\u2A88\",\n  \"gneq\":\"\\u2A88\",\n  \"gneqq\":\"\\u2269\",\n  \"gnsim\":\"\\u22E7\",\n  \"Gopf\":\"\\uD835\\uDD3E\",\n  \"gopf\":\"\\uD835\\uDD58\",\n  \"grave\":\"\\u0060\",\n  \"GreaterEqual\":\"\\u2265\",\n  \"GreaterEqualLess\":\"\\u22DB\",\n  \"GreaterFullEqual\":\"\\u2267\",\n  \"GreaterGreater\":\"\\u2AA2\",\n  \"GreaterLess\":\"\\u2277\",\n  \"GreaterSlantEqual\":\"\\u2A7E\",\n  \"GreaterTilde\":\"\\u2273\",\n  \"Gscr\":\"\\uD835\\uDCA2\",\n  \"gscr\":\"\\u210A\",\n  \"gsim\":\"\\u2273\",\n  \"gsime\":\"\\u2A8E\",\n  \"gsiml\":\"\\u2A90\",\n  \"GT\":\"\\u003E\",\n  \"Gt\":\"\\u226B\",\n  \"gt\":\"\\u003E\",\n  \"gtcc\":\"\\u2AA7\",\n  \"gtcir\":\"\\u2A7A\",\n  \"gtdot\":\"\\u22D7\",\n  \"gtlPar\":\"\\u2995\",\n  \"gtquest\":\"\\u2A7C\",\n  \"gtrapprox\":\"\\u2A86\",\n  \"gtrarr\":\"\\u2978\",\n  \"gtrdot\":\"\\u22D7\",\n  \"gtreqless\":\"\\u22DB\",\n  \"gtreqqless\":\"\\u2A8C\",\n  \"gtrless\":\"\\u2277\",\n  \"gtrsim\":\"\\u2273\",\n  \"gvertneqq\":\"\\u2269\\uFE00\",\n  \"gvnE\":\"\\u2269\\uFE00\",\n  \"Hacek\":\"\\u02C7\",\n  \"hairsp\":\"\\u200A\",\n  \"half\":\"\\u00BD\",\n  \"hamilt\":\"\\u210B\",\n  \"HARDcy\":\"\\u042A\",\n  \"hardcy\":\"\\u044A\",\n  \"hArr\":\"\\u21D4\",\n  \"harr\":\"\\u2194\",\n  \"harrcir\":\"\\u2948\",\n  \"harrw\":\"\\u21AD\",\n  \"Hat\":\"\\u005E\",\n  \"hbar\":\"\\u210F\",\n  \"Hcirc\":\"\\u0124\",\n  \"hcirc\":\"\\u0125\",\n  \"hearts\":\"\\u2665\",\n  \"heartsuit\":\"\\u2665\",\n  \"hellip\":\"\\u2026\",\n  \"hercon\":\"\\u22B9\",\n  \"Hfr\":\"\\u210C\",\n  \"hfr\":\"\\uD835\\uDD25\",\n  \"HilbertSpace\":\"\\u210B\",\n  \"hksearow\":\"\\u2925\",\n  \"hkswarow\":\"\\u2926\",\n  \"hoarr\":\"\\u21FF\",\n  \"homtht\":\"\\u223B\",\n  \"hookleftarrow\":\"\\u21A9\",\n  \"hookrightarrow\":\"\\u21AA\",\n  \"Hopf\":\"\\u210D\",\n  \"hopf\":\"\\uD835\\uDD59\",\n  \"horbar\":\"\\u2015\",\n  \"HorizontalLine\":\"\\u2500\",\n  \"Hscr\":\"\\u210B\",\n  \"hscr\":\"\\uD835\\uDCBD\",\n  \"hslash\":\"\\u210F\",\n  \"Hstrok\":\"\\u0126\",\n  \"hstrok\":\"\\u0127\",\n  \"HumpDownHump\":\"\\u224E\",\n  \"HumpEqual\":\"\\u224F\",\n  \"hybull\":\"\\u2043\",\n  \"hyphen\":\"\\u2010\",\n  \"Iacute\":\"\\u00CD\",\n  \"iacute\":\"\\u00ED\",\n  \"ic\":\"\\u2063\",\n  \"Icirc\":\"\\u00CE\",\n  \"icirc\":\"\\u00EE\",\n  \"Icy\":\"\\u0418\",\n  \"icy\":\"\\u0438\",\n  \"Idot\":\"\\u0130\",\n  \"IEcy\":\"\\u0415\",\n  \"iecy\":\"\\u0435\",\n  \"iexcl\":\"\\u00A1\",\n  \"iff\":\"\\u21D4\",\n  \"Ifr\":\"\\u2111\",\n  \"ifr\":\"\\uD835\\uDD26\",\n  \"Igrave\":\"\\u00CC\",\n  \"igrave\":\"\\u00EC\",\n  \"ii\":\"\\u2148\",\n  \"iiiint\":\"\\u2A0C\",\n  \"iiint\":\"\\u222D\",\n  \"iinfin\":\"\\u29DC\",\n  \"iiota\":\"\\u2129\",\n  \"IJlig\":\"\\u0132\",\n  \"ijlig\":\"\\u0133\",\n  \"Im\":\"\\u2111\",\n  \"Imacr\":\"\\u012A\",\n  \"imacr\":\"\\u012B\",\n  \"image\":\"\\u2111\",\n  \"ImaginaryI\":\"\\u2148\",\n  \"imagline\":\"\\u2110\",\n  \"imagpart\":\"\\u2111\",\n  \"imath\":\"\\u0131\",\n  \"imof\":\"\\u22B7\",\n  \"imped\":\"\\u01B5\",\n  \"Implies\":\"\\u21D2\",\n  \"in\":\"\\u2208\",\n  \"incare\":\"\\u2105\",\n  \"infin\":\"\\u221E\",\n  \"infintie\":\"\\u29DD\",\n  \"inodot\":\"\\u0131\",\n  \"Int\":\"\\u222C\",\n  \"int\":\"\\u222B\",\n  \"intcal\":\"\\u22BA\",\n  \"integers\":\"\\u2124\",\n  \"Integral\":\"\\u222B\",\n  \"intercal\":\"\\u22BA\",\n  \"Intersection\":\"\\u22C2\",\n  \"intlarhk\":\"\\u2A17\",\n  \"intprod\":\"\\u2A3C\",\n  \"InvisibleComma\":\"\\u2063\",\n  \"InvisibleTimes\":\"\\u2062\",\n  \"IOcy\":\"\\u0401\",\n  \"iocy\":\"\\u0451\",\n  \"Iogon\":\"\\u012E\",\n  \"iogon\":\"\\u012F\",\n  \"Iopf\":\"\\uD835\\uDD40\",\n  \"iopf\":\"\\uD835\\uDD5A\",\n  \"Iota\":\"\\u0399\",\n  \"iota\":\"\\u03B9\",\n  \"iprod\":\"\\u2A3C\",\n  \"iquest\":\"\\u00BF\",\n  \"Iscr\":\"\\u2110\",\n  \"iscr\":\"\\uD835\\uDCBE\",\n  \"isin\":\"\\u2208\",\n  \"isindot\":\"\\u22F5\",\n  \"isinE\":\"\\u22F9\",\n  \"isins\":\"\\u22F4\",\n  \"isinsv\":\"\\u22F3\",\n  \"isinv\":\"\\u2208\",\n  \"it\":\"\\u2062\",\n  \"Itilde\":\"\\u0128\",\n  \"itilde\":\"\\u0129\",\n  \"Iukcy\":\"\\u0406\",\n  \"iukcy\":\"\\u0456\",\n  \"Iuml\":\"\\u00CF\",\n  \"iuml\":\"\\u00EF\",\n  \"Jcirc\":\"\\u0134\",\n  \"jcirc\":\"\\u0135\",\n  \"Jcy\":\"\\u0419\",\n  \"jcy\":\"\\u0439\",\n  \"Jfr\":\"\\uD835\\uDD0D\",\n  \"jfr\":\"\\uD835\\uDD27\",\n  \"jmath\":\"\\u0237\",\n  \"Jopf\":\"\\uD835\\uDD41\",\n  \"jopf\":\"\\uD835\\uDD5B\",\n  \"Jscr\":\"\\uD835\\uDCA5\",\n  \"jscr\":\"\\uD835\\uDCBF\",\n  \"Jsercy\":\"\\u0408\",\n  \"jsercy\":\"\\u0458\",\n  \"Jukcy\":\"\\u0404\",\n  \"jukcy\":\"\\u0454\",\n  \"Kappa\":\"\\u039A\",\n  \"kappa\":\"\\u03BA\",\n  \"kappav\":\"\\u03F0\",\n  \"Kcedil\":\"\\u0136\",\n  \"kcedil\":\"\\u0137\",\n  \"Kcy\":\"\\u041A\",\n  \"kcy\":\"\\u043A\",\n  \"Kfr\":\"\\uD835\\uDD0E\",\n  \"kfr\":\"\\uD835\\uDD28\",\n  \"kgreen\":\"\\u0138\",\n  \"KHcy\":\"\\u0425\",\n  \"khcy\":\"\\u0445\",\n  \"KJcy\":\"\\u040C\",\n  \"kjcy\":\"\\u045C\",\n  \"Kopf\":\"\\uD835\\uDD42\",\n  \"kopf\":\"\\uD835\\uDD5C\",\n  \"Kscr\":\"\\uD835\\uDCA6\",\n  \"kscr\":\"\\uD835\\uDCC0\",\n  \"lAarr\":\"\\u21DA\",\n  \"Lacute\":\"\\u0139\",\n  \"lacute\":\"\\u013A\",\n  \"laemptyv\":\"\\u29B4\",\n  \"lagran\":\"\\u2112\",\n  \"Lambda\":\"\\u039B\",\n  \"lambda\":\"\\u03BB\",\n  \"Lang\":\"\\u27EA\",\n  \"lang\":\"\\u27E8\",\n  \"langd\":\"\\u2991\",\n  \"langle\":\"\\u27E8\",\n  \"lap\":\"\\u2A85\",\n  \"Laplacetrf\":\"\\u2112\",\n  \"laquo\":\"\\u00AB\",\n  \"Larr\":\"\\u219E\",\n  \"lArr\":\"\\u21D0\",\n  \"larr\":\"\\u2190\",\n  \"larrb\":\"\\u21E4\",\n  \"larrbfs\":\"\\u291F\",\n  \"larrfs\":\"\\u291D\",\n  \"larrhk\":\"\\u21A9\",\n  \"larrlp\":\"\\u21AB\",\n  \"larrpl\":\"\\u2939\",\n  \"larrsim\":\"\\u2973\",\n  \"larrtl\":\"\\u21A2\",\n  \"lat\":\"\\u2AAB\",\n  \"lAtail\":\"\\u291B\",\n  \"latail\":\"\\u2919\",\n  \"late\":\"\\u2AAD\",\n  \"lates\":\"\\u2AAD\\uFE00\",\n  \"lBarr\":\"\\u290E\",\n  \"lbarr\":\"\\u290C\",\n  \"lbbrk\":\"\\u2772\",\n  \"lbrace\":\"\\u007B\",\n  \"lbrack\":\"\\u005B\",\n  \"lbrke\":\"\\u298B\",\n  \"lbrksld\":\"\\u298F\",\n  \"lbrkslu\":\"\\u298D\",\n  \"Lcaron\":\"\\u013D\",\n  \"lcaron\":\"\\u013E\",\n  \"Lcedil\":\"\\u013B\",\n  \"lcedil\":\"\\u013C\",\n  \"lceil\":\"\\u2308\",\n  \"lcub\":\"\\u007B\",\n  \"Lcy\":\"\\u041B\",\n  \"lcy\":\"\\u043B\",\n  \"ldca\":\"\\u2936\",\n  \"ldquo\":\"\\u201C\",\n  \"ldquor\":\"\\u201E\",\n  \"ldrdhar\":\"\\u2967\",\n  \"ldrushar\":\"\\u294B\",\n  \"ldsh\":\"\\u21B2\",\n  \"lE\":\"\\u2266\",\n  \"le\":\"\\u2264\",\n  \"LeftAngleBracket\":\"\\u27E8\",\n  \"LeftArrow\":\"\\u2190\",\n  \"Leftarrow\":\"\\u21D0\",\n  \"leftarrow\":\"\\u2190\",\n  \"LeftArrowBar\":\"\\u21E4\",\n  \"LeftArrowRightArrow\":\"\\u21C6\",\n  \"leftarrowtail\":\"\\u21A2\",\n  \"LeftCeiling\":\"\\u2308\",\n  \"LeftDoubleBracket\":\"\\u27E6\",\n  \"LeftDownTeeVector\":\"\\u2961\",\n  \"LeftDownVector\":\"\\u21C3\",\n  \"LeftDownVectorBar\":\"\\u2959\",\n  \"LeftFloor\":\"\\u230A\",\n  \"leftharpoondown\":\"\\u21BD\",\n  \"leftharpoonup\":\"\\u21BC\",\n  \"leftleftarrows\":\"\\u21C7\",\n  \"LeftRightArrow\":\"\\u2194\",\n  \"Leftrightarrow\":\"\\u21D4\",\n  \"leftrightarrow\":\"\\u2194\",\n  \"leftrightarrows\":\"\\u21C6\",\n  \"leftrightharpoons\":\"\\u21CB\",\n  \"leftrightsquigarrow\":\"\\u21AD\",\n  \"LeftRightVector\":\"\\u294E\",\n  \"LeftTee\":\"\\u22A3\",\n  \"LeftTeeArrow\":\"\\u21A4\",\n  \"LeftTeeVector\":\"\\u295A\",\n  \"leftthreetimes\":\"\\u22CB\",\n  \"LeftTriangle\":\"\\u22B2\",\n  \"LeftTriangleBar\":\"\\u29CF\",\n  \"LeftTriangleEqual\":\"\\u22B4\",\n  \"LeftUpDownVector\":\"\\u2951\",\n  \"LeftUpTeeVector\":\"\\u2960\",\n  \"LeftUpVector\":\"\\u21BF\",\n  \"LeftUpVectorBar\":\"\\u2958\",\n  \"LeftVector\":\"\\u21BC\",\n  \"LeftVectorBar\":\"\\u2952\",\n  \"lEg\":\"\\u2A8B\",\n  \"leg\":\"\\u22DA\",\n  \"leq\":\"\\u2264\",\n  \"leqq\":\"\\u2266\",\n  \"leqslant\":\"\\u2A7D\",\n  \"les\":\"\\u2A7D\",\n  \"lescc\":\"\\u2AA8\",\n  \"lesdot\":\"\\u2A7F\",\n  \"lesdoto\":\"\\u2A81\",\n  \"lesdotor\":\"\\u2A83\",\n  \"lesg\":\"\\u22DA\\uFE00\",\n  \"lesges\":\"\\u2A93\",\n  \"lessapprox\":\"\\u2A85\",\n  \"lessdot\":\"\\u22D6\",\n  \"lesseqgtr\":\"\\u22DA\",\n  \"lesseqqgtr\":\"\\u2A8B\",\n  \"LessEqualGreater\":\"\\u22DA\",\n  \"LessFullEqual\":\"\\u2266\",\n  \"LessGreater\":\"\\u2276\",\n  \"lessgtr\":\"\\u2276\",\n  \"LessLess\":\"\\u2AA1\",\n  \"lesssim\":\"\\u2272\",\n  \"LessSlantEqual\":\"\\u2A7D\",\n  \"LessTilde\":\"\\u2272\",\n  \"lfisht\":\"\\u297C\",\n  \"lfloor\":\"\\u230A\",\n  \"Lfr\":\"\\uD835\\uDD0F\",\n  \"lfr\":\"\\uD835\\uDD29\",\n  \"lg\":\"\\u2276\",\n  \"lgE\":\"\\u2A91\",\n  \"lHar\":\"\\u2962\",\n  \"lhard\":\"\\u21BD\",\n  \"lharu\":\"\\u21BC\",\n  \"lharul\":\"\\u296A\",\n  \"lhblk\":\"\\u2584\",\n  \"LJcy\":\"\\u0409\",\n  \"ljcy\":\"\\u0459\",\n  \"Ll\":\"\\u22D8\",\n  \"ll\":\"\\u226A\",\n  \"llarr\":\"\\u21C7\",\n  \"llcorner\":\"\\u231E\",\n  \"Lleftarrow\":\"\\u21DA\",\n  \"llhard\":\"\\u296B\",\n  \"lltri\":\"\\u25FA\",\n  \"Lmidot\":\"\\u013F\",\n  \"lmidot\":\"\\u0140\",\n  \"lmoust\":\"\\u23B0\",\n  \"lmoustache\":\"\\u23B0\",\n  \"lnap\":\"\\u2A89\",\n  \"lnapprox\":\"\\u2A89\",\n  \"lnE\":\"\\u2268\",\n  \"lne\":\"\\u2A87\",\n  \"lneq\":\"\\u2A87\",\n  \"lneqq\":\"\\u2268\",\n  \"lnsim\":\"\\u22E6\",\n  \"loang\":\"\\u27EC\",\n  \"loarr\":\"\\u21FD\",\n  \"lobrk\":\"\\u27E6\",\n  \"LongLeftArrow\":\"\\u27F5\",\n  \"Longleftarrow\":\"\\u27F8\",\n  \"longleftarrow\":\"\\u27F5\",\n  \"LongLeftRightArrow\":\"\\u27F7\",\n  \"Longleftrightarrow\":\"\\u27FA\",\n  \"longleftrightarrow\":\"\\u27F7\",\n  \"longmapsto\":\"\\u27FC\",\n  \"LongRightArrow\":\"\\u27F6\",\n  \"Longrightarrow\":\"\\u27F9\",\n  \"longrightarrow\":\"\\u27F6\",\n  \"looparrowleft\":\"\\u21AB\",\n  \"looparrowright\":\"\\u21AC\",\n  \"lopar\":\"\\u2985\",\n  \"Lopf\":\"\\uD835\\uDD43\",\n  \"lopf\":\"\\uD835\\uDD5D\",\n  \"loplus\":\"\\u2A2D\",\n  \"lotimes\":\"\\u2A34\",\n  \"lowast\":\"\\u2217\",\n  \"lowbar\":\"\\u005F\",\n  \"LowerLeftArrow\":\"\\u2199\",\n  \"LowerRightArrow\":\"\\u2198\",\n  \"loz\":\"\\u25CA\",\n  \"lozenge\":\"\\u25CA\",\n  \"lozf\":\"\\u29EB\",\n  \"lpar\":\"\\u0028\",\n  \"lparlt\":\"\\u2993\",\n  \"lrarr\":\"\\u21C6\",\n  \"lrcorner\":\"\\u231F\",\n  \"lrhar\":\"\\u21CB\",\n  \"lrhard\":\"\\u296D\",\n  \"lrm\":\"\\u200E\",\n  \"lrtri\":\"\\u22BF\",\n  \"lsaquo\":\"\\u2039\",\n  \"Lscr\":\"\\u2112\",\n  \"lscr\":\"\\uD835\\uDCC1\",\n  \"Lsh\":\"\\u21B0\",\n  \"lsh\":\"\\u21B0\",\n  \"lsim\":\"\\u2272\",\n  \"lsime\":\"\\u2A8D\",\n  \"lsimg\":\"\\u2A8F\",\n  \"lsqb\":\"\\u005B\",\n  \"lsquo\":\"\\u2018\",\n  \"lsquor\":\"\\u201A\",\n  \"Lstrok\":\"\\u0141\",\n  \"lstrok\":\"\\u0142\",\n  \"LT\":\"\\u003C\",\n  \"Lt\":\"\\u226A\",\n  \"lt\":\"\\u003C\",\n  \"ltcc\":\"\\u2AA6\",\n  \"ltcir\":\"\\u2A79\",\n  \"ltdot\":\"\\u22D6\",\n  \"lthree\":\"\\u22CB\",\n  \"ltimes\":\"\\u22C9\",\n  \"ltlarr\":\"\\u2976\",\n  \"ltquest\":\"\\u2A7B\",\n  \"ltri\":\"\\u25C3\",\n  \"ltrie\":\"\\u22B4\",\n  \"ltrif\":\"\\u25C2\",\n  \"ltrPar\":\"\\u2996\",\n  \"lurdshar\":\"\\u294A\",\n  \"luruhar\":\"\\u2966\",\n  \"lvertneqq\":\"\\u2268\\uFE00\",\n  \"lvnE\":\"\\u2268\\uFE00\",\n  \"macr\":\"\\u00AF\",\n  \"male\":\"\\u2642\",\n  \"malt\":\"\\u2720\",\n  \"maltese\":\"\\u2720\",\n  \"Map\":\"\\u2905\",\n  \"map\":\"\\u21A6\",\n  \"mapsto\":\"\\u21A6\",\n  \"mapstodown\":\"\\u21A7\",\n  \"mapstoleft\":\"\\u21A4\",\n  \"mapstoup\":\"\\u21A5\",\n  \"marker\":\"\\u25AE\",\n  \"mcomma\":\"\\u2A29\",\n  \"Mcy\":\"\\u041C\",\n  \"mcy\":\"\\u043C\",\n  \"mdash\":\"\\u2014\",\n  \"mDDot\":\"\\u223A\",\n  \"measuredangle\":\"\\u2221\",\n  \"MediumSpace\":\"\\u205F\",\n  \"Mellintrf\":\"\\u2133\",\n  \"Mfr\":\"\\uD835\\uDD10\",\n  \"mfr\":\"\\uD835\\uDD2A\",\n  \"mho\":\"\\u2127\",\n  \"micro\":\"\\u00B5\",\n  \"mid\":\"\\u2223\",\n  \"midast\":\"\\u002A\",\n  \"midcir\":\"\\u2AF0\",\n  \"middot\":\"\\u00B7\",\n  \"minus\":\"\\u2212\",\n  \"minusb\":\"\\u229F\",\n  \"minusd\":\"\\u2238\",\n  \"minusdu\":\"\\u2A2A\",\n  \"MinusPlus\":\"\\u2213\",\n  \"mlcp\":\"\\u2ADB\",\n  \"mldr\":\"\\u2026\",\n  \"mnplus\":\"\\u2213\",\n  \"models\":\"\\u22A7\",\n  \"Mopf\":\"\\uD835\\uDD44\",\n  \"mopf\":\"\\uD835\\uDD5E\",\n  \"mp\":\"\\u2213\",\n  \"Mscr\":\"\\u2133\",\n  \"mscr\":\"\\uD835\\uDCC2\",\n  \"mstpos\":\"\\u223E\",\n  \"Mu\":\"\\u039C\",\n  \"mu\":\"\\u03BC\",\n  \"multimap\":\"\\u22B8\",\n  \"mumap\":\"\\u22B8\",\n  \"nabla\":\"\\u2207\",\n  \"Nacute\":\"\\u0143\",\n  \"nacute\":\"\\u0144\",\n  \"nang\":\"\\u2220\\u20D2\",\n  \"nap\":\"\\u2249\",\n  \"napE\":\"\\u2A70\\u0338\",\n  \"napid\":\"\\u224B\\u0338\",\n  \"napos\":\"\\u0149\",\n  \"napprox\":\"\\u2249\",\n  \"natur\":\"\\u266E\",\n  \"natural\":\"\\u266E\",\n  \"naturals\":\"\\u2115\",\n  \"nbsp\":\"\\u00A0\",\n  \"nbump\":\"\\u224E\\u0338\",\n  \"nbumpe\":\"\\u224F\\u0338\",\n  \"ncap\":\"\\u2A43\",\n  \"Ncaron\":\"\\u0147\",\n  \"ncaron\":\"\\u0148\",\n  \"Ncedil\":\"\\u0145\",\n  \"ncedil\":\"\\u0146\",\n  \"ncong\":\"\\u2247\",\n  \"ncongdot\":\"\\u2A6D\\u0338\",\n  \"ncup\":\"\\u2A42\",\n  \"Ncy\":\"\\u041D\",\n  \"ncy\":\"\\u043D\",\n  \"ndash\":\"\\u2013\",\n  \"ne\":\"\\u2260\",\n  \"nearhk\":\"\\u2924\",\n  \"neArr\":\"\\u21D7\",\n  \"nearr\":\"\\u2197\",\n  \"nearrow\":\"\\u2197\",\n  \"nedot\":\"\\u2250\\u0338\",\n  \"NegativeMediumSpace\":\"\\u200B\",\n  \"NegativeThickSpace\":\"\\u200B\",\n  \"NegativeThinSpace\":\"\\u200B\",\n  \"NegativeVeryThinSpace\":\"\\u200B\",\n  \"nequiv\":\"\\u2262\",\n  \"nesear\":\"\\u2928\",\n  \"nesim\":\"\\u2242\\u0338\",\n  \"NestedGreaterGreater\":\"\\u226B\",\n  \"NestedLessLess\":\"\\u226A\",\n  \"NewLine\":\"\\u000A\",\n  \"nexist\":\"\\u2204\",\n  \"nexists\":\"\\u2204\",\n  \"Nfr\":\"\\uD835\\uDD11\",\n  \"nfr\":\"\\uD835\\uDD2B\",\n  \"ngE\":\"\\u2267\\u0338\",\n  \"nge\":\"\\u2271\",\n  \"ngeq\":\"\\u2271\",\n  \"ngeqq\":\"\\u2267\\u0338\",\n  \"ngeqslant\":\"\\u2A7E\\u0338\",\n  \"nges\":\"\\u2A7E\\u0338\",\n  \"nGg\":\"\\u22D9\\u0338\",\n  \"ngsim\":\"\\u2275\",\n  \"nGt\":\"\\u226B\\u20D2\",\n  \"ngt\":\"\\u226F\",\n  \"ngtr\":\"\\u226F\",\n  \"nGtv\":\"\\u226B\\u0338\",\n  \"nhArr\":\"\\u21CE\",\n  \"nharr\":\"\\u21AE\",\n  \"nhpar\":\"\\u2AF2\",\n  \"ni\":\"\\u220B\",\n  \"nis\":\"\\u22FC\",\n  \"nisd\":\"\\u22FA\",\n  \"niv\":\"\\u220B\",\n  \"NJcy\":\"\\u040A\",\n  \"njcy\":\"\\u045A\",\n  \"nlArr\":\"\\u21CD\",\n  \"nlarr\":\"\\u219A\",\n  \"nldr\":\"\\u2025\",\n  \"nlE\":\"\\u2266\\u0338\",\n  \"nle\":\"\\u2270\",\n  \"nLeftarrow\":\"\\u21CD\",\n  \"nleftarrow\":\"\\u219A\",\n  \"nLeftrightarrow\":\"\\u21CE\",\n  \"nleftrightarrow\":\"\\u21AE\",\n  \"nleq\":\"\\u2270\",\n  \"nleqq\":\"\\u2266\\u0338\",\n  \"nleqslant\":\"\\u2A7D\\u0338\",\n  \"nles\":\"\\u2A7D\\u0338\",\n  \"nless\":\"\\u226E\",\n  \"nLl\":\"\\u22D8\\u0338\",\n  \"nlsim\":\"\\u2274\",\n  \"nLt\":\"\\u226A\\u20D2\",\n  \"nlt\":\"\\u226E\",\n  \"nltri\":\"\\u22EA\",\n  \"nltrie\":\"\\u22EC\",\n  \"nLtv\":\"\\u226A\\u0338\",\n  \"nmid\":\"\\u2224\",\n  \"NoBreak\":\"\\u2060\",\n  \"NonBreakingSpace\":\"\\u00A0\",\n  \"Nopf\":\"\\u2115\",\n  \"nopf\":\"\\uD835\\uDD5F\",\n  \"Not\":\"\\u2AEC\",\n  \"not\":\"\\u00AC\",\n  \"NotCongruent\":\"\\u2262\",\n  \"NotCupCap\":\"\\u226D\",\n  \"NotDoubleVerticalBar\":\"\\u2226\",\n  \"NotElement\":\"\\u2209\",\n  \"NotEqual\":\"\\u2260\",\n  \"NotEqualTilde\":\"\\u2242\\u0338\",\n  \"NotExists\":\"\\u2204\",\n  \"NotGreater\":\"\\u226F\",\n  \"NotGreaterEqual\":\"\\u2271\",\n  \"NotGreaterFullEqual\":\"\\u2267\\u0338\",\n  \"NotGreaterGreater\":\"\\u226B\\u0338\",\n  \"NotGreaterLess\":\"\\u2279\",\n  \"NotGreaterSlantEqual\":\"\\u2A7E\\u0338\",\n  \"NotGreaterTilde\":\"\\u2275\",\n  \"NotHumpDownHump\":\"\\u224E\\u0338\",\n  \"NotHumpEqual\":\"\\u224F\\u0338\",\n  \"notin\":\"\\u2209\",\n  \"notindot\":\"\\u22F5\\u0338\",\n  \"notinE\":\"\\u22F9\\u0338\",\n  \"notinva\":\"\\u2209\",\n  \"notinvb\":\"\\u22F7\",\n  \"notinvc\":\"\\u22F6\",\n  \"NotLeftTriangle\":\"\\u22EA\",\n  \"NotLeftTriangleBar\":\"\\u29CF\\u0338\",\n  \"NotLeftTriangleEqual\":\"\\u22EC\",\n  \"NotLess\":\"\\u226E\",\n  \"NotLessEqual\":\"\\u2270\",\n  \"NotLessGreater\":\"\\u2278\",\n  \"NotLessLess\":\"\\u226A\\u0338\",\n  \"NotLessSlantEqual\":\"\\u2A7D\\u0338\",\n  \"NotLessTilde\":\"\\u2274\",\n  \"NotNestedGreaterGreater\":\"\\u2AA2\\u0338\",\n  \"NotNestedLessLess\":\"\\u2AA1\\u0338\",\n  \"notni\":\"\\u220C\",\n  \"notniva\":\"\\u220C\",\n  \"notnivb\":\"\\u22FE\",\n  \"notnivc\":\"\\u22FD\",\n  \"NotPrecedes\":\"\\u2280\",\n  \"NotPrecedesEqual\":\"\\u2AAF\\u0338\",\n  \"NotPrecedesSlantEqual\":\"\\u22E0\",\n  \"NotReverseElement\":\"\\u220C\",\n  \"NotRightTriangle\":\"\\u22EB\",\n  \"NotRightTriangleBar\":\"\\u29D0\\u0338\",\n  \"NotRightTriangleEqual\":\"\\u22ED\",\n  \"NotSquareSubset\":\"\\u228F\\u0338\",\n  \"NotSquareSubsetEqual\":\"\\u22E2\",\n  \"NotSquareSuperset\":\"\\u2290\\u0338\",\n  \"NotSquareSupersetEqual\":\"\\u22E3\",\n  \"NotSubset\":\"\\u2282\\u20D2\",\n  \"NotSubsetEqual\":\"\\u2288\",\n  \"NotSucceeds\":\"\\u2281\",\n  \"NotSucceedsEqual\":\"\\u2AB0\\u0338\",\n  \"NotSucceedsSlantEqual\":\"\\u22E1\",\n  \"NotSucceedsTilde\":\"\\u227F\\u0338\",\n  \"NotSuperset\":\"\\u2283\\u20D2\",\n  \"NotSupersetEqual\":\"\\u2289\",\n  \"NotTilde\":\"\\u2241\",\n  \"NotTildeEqual\":\"\\u2244\",\n  \"NotTildeFullEqual\":\"\\u2247\",\n  \"NotTildeTilde\":\"\\u2249\",\n  \"NotVerticalBar\":\"\\u2224\",\n  \"npar\":\"\\u2226\",\n  \"nparallel\":\"\\u2226\",\n  \"nparsl\":\"\\u2AFD\\u20E5\",\n  \"npart\":\"\\u2202\\u0338\",\n  \"npolint\":\"\\u2A14\",\n  \"npr\":\"\\u2280\",\n  \"nprcue\":\"\\u22E0\",\n  \"npre\":\"\\u2AAF\\u0338\",\n  \"nprec\":\"\\u2280\",\n  \"npreceq\":\"\\u2AAF\\u0338\",\n  \"nrArr\":\"\\u21CF\",\n  \"nrarr\":\"\\u219B\",\n  \"nrarrc\":\"\\u2933\\u0338\",\n  \"nrarrw\":\"\\u219D\\u0338\",\n  \"nRightarrow\":\"\\u21CF\",\n  \"nrightarrow\":\"\\u219B\",\n  \"nrtri\":\"\\u22EB\",\n  \"nrtrie\":\"\\u22ED\",\n  \"nsc\":\"\\u2281\",\n  \"nsccue\":\"\\u22E1\",\n  \"nsce\":\"\\u2AB0\\u0338\",\n  \"Nscr\":\"\\uD835\\uDCA9\",\n  \"nscr\":\"\\uD835\\uDCC3\",\n  \"nshortmid\":\"\\u2224\",\n  \"nshortparallel\":\"\\u2226\",\n  \"nsim\":\"\\u2241\",\n  \"nsime\":\"\\u2244\",\n  \"nsimeq\":\"\\u2244\",\n  \"nsmid\":\"\\u2224\",\n  \"nspar\":\"\\u2226\",\n  \"nsqsube\":\"\\u22E2\",\n  \"nsqsupe\":\"\\u22E3\",\n  \"nsub\":\"\\u2284\",\n  \"nsubE\":\"\\u2AC5\\u0338\",\n  \"nsube\":\"\\u2288\",\n  \"nsubset\":\"\\u2282\\u20D2\",\n  \"nsubseteq\":\"\\u2288\",\n  \"nsubseteqq\":\"\\u2AC5\\u0338\",\n  \"nsucc\":\"\\u2281\",\n  \"nsucceq\":\"\\u2AB0\\u0338\",\n  \"nsup\":\"\\u2285\",\n  \"nsupE\":\"\\u2AC6\\u0338\",\n  \"nsupe\":\"\\u2289\",\n  \"nsupset\":\"\\u2283\\u20D2\",\n  \"nsupseteq\":\"\\u2289\",\n  \"nsupseteqq\":\"\\u2AC6\\u0338\",\n  \"ntgl\":\"\\u2279\",\n  \"Ntilde\":\"\\u00D1\",\n  \"ntilde\":\"\\u00F1\",\n  \"ntlg\":\"\\u2278\",\n  \"ntriangleleft\":\"\\u22EA\",\n  \"ntrianglelefteq\":\"\\u22EC\",\n  \"ntriangleright\":\"\\u22EB\",\n  \"ntrianglerighteq\":\"\\u22ED\",\n  \"Nu\":\"\\u039D\",\n  \"nu\":\"\\u03BD\",\n  \"num\":\"\\u0023\",\n  \"numero\":\"\\u2116\",\n  \"numsp\":\"\\u2007\",\n  \"nvap\":\"\\u224D\\u20D2\",\n  \"nVDash\":\"\\u22AF\",\n  \"nVdash\":\"\\u22AE\",\n  \"nvDash\":\"\\u22AD\",\n  \"nvdash\":\"\\u22AC\",\n  \"nvge\":\"\\u2265\\u20D2\",\n  \"nvgt\":\"\\u003E\\u20D2\",\n  \"nvHarr\":\"\\u2904\",\n  \"nvinfin\":\"\\u29DE\",\n  \"nvlArr\":\"\\u2902\",\n  \"nvle\":\"\\u2264\\u20D2\",\n  \"nvlt\":\"\\u003C\\u20D2\",\n  \"nvltrie\":\"\\u22B4\\u20D2\",\n  \"nvrArr\":\"\\u2903\",\n  \"nvrtrie\":\"\\u22B5\\u20D2\",\n  \"nvsim\":\"\\u223C\\u20D2\",\n  \"nwarhk\":\"\\u2923\",\n  \"nwArr\":\"\\u21D6\",\n  \"nwarr\":\"\\u2196\",\n  \"nwarrow\":\"\\u2196\",\n  \"nwnear\":\"\\u2927\",\n  \"Oacute\":\"\\u00D3\",\n  \"oacute\":\"\\u00F3\",\n  \"oast\":\"\\u229B\",\n  \"ocir\":\"\\u229A\",\n  \"Ocirc\":\"\\u00D4\",\n  \"ocirc\":\"\\u00F4\",\n  \"Ocy\":\"\\u041E\",\n  \"ocy\":\"\\u043E\",\n  \"odash\":\"\\u229D\",\n  \"Odblac\":\"\\u0150\",\n  \"odblac\":\"\\u0151\",\n  \"odiv\":\"\\u2A38\",\n  \"odot\":\"\\u2299\",\n  \"odsold\":\"\\u29BC\",\n  \"OElig\":\"\\u0152\",\n  \"oelig\":\"\\u0153\",\n  \"ofcir\":\"\\u29BF\",\n  \"Ofr\":\"\\uD835\\uDD12\",\n  \"ofr\":\"\\uD835\\uDD2C\",\n  \"ogon\":\"\\u02DB\",\n  \"Ograve\":\"\\u00D2\",\n  \"ograve\":\"\\u00F2\",\n  \"ogt\":\"\\u29C1\",\n  \"ohbar\":\"\\u29B5\",\n  \"ohm\":\"\\u03A9\",\n  \"oint\":\"\\u222E\",\n  \"olarr\":\"\\u21BA\",\n  \"olcir\":\"\\u29BE\",\n  \"olcross\":\"\\u29BB\",\n  \"oline\":\"\\u203E\",\n  \"olt\":\"\\u29C0\",\n  \"Omacr\":\"\\u014C\",\n  \"omacr\":\"\\u014D\",\n  \"Omega\":\"\\u03A9\",\n  \"omega\":\"\\u03C9\",\n  \"Omicron\":\"\\u039F\",\n  \"omicron\":\"\\u03BF\",\n  \"omid\":\"\\u29B6\",\n  \"ominus\":\"\\u2296\",\n  \"Oopf\":\"\\uD835\\uDD46\",\n  \"oopf\":\"\\uD835\\uDD60\",\n  \"opar\":\"\\u29B7\",\n  \"OpenCurlyDoubleQuote\":\"\\u201C\",\n  \"OpenCurlyQuote\":\"\\u2018\",\n  \"operp\":\"\\u29B9\",\n  \"oplus\":\"\\u2295\",\n  \"Or\":\"\\u2A54\",\n  \"or\":\"\\u2228\",\n  \"orarr\":\"\\u21BB\",\n  \"ord\":\"\\u2A5D\",\n  \"order\":\"\\u2134\",\n  \"orderof\":\"\\u2134\",\n  \"ordf\":\"\\u00AA\",\n  \"ordm\":\"\\u00BA\",\n  \"origof\":\"\\u22B6\",\n  \"oror\":\"\\u2A56\",\n  \"orslope\":\"\\u2A57\",\n  \"orv\":\"\\u2A5B\",\n  \"oS\":\"\\u24C8\",\n  \"Oscr\":\"\\uD835\\uDCAA\",\n  \"oscr\":\"\\u2134\",\n  \"Oslash\":\"\\u00D8\",\n  \"oslash\":\"\\u00F8\",\n  \"osol\":\"\\u2298\",\n  \"Otilde\":\"\\u00D5\",\n  \"otilde\":\"\\u00F5\",\n  \"Otimes\":\"\\u2A37\",\n  \"otimes\":\"\\u2297\",\n  \"otimesas\":\"\\u2A36\",\n  \"Ouml\":\"\\u00D6\",\n  \"ouml\":\"\\u00F6\",\n  \"ovbar\":\"\\u233D\",\n  \"OverBar\":\"\\u203E\",\n  \"OverBrace\":\"\\u23DE\",\n  \"OverBracket\":\"\\u23B4\",\n  \"OverParenthesis\":\"\\u23DC\",\n  \"par\":\"\\u2225\",\n  \"para\":\"\\u00B6\",\n  \"parallel\":\"\\u2225\",\n  \"parsim\":\"\\u2AF3\",\n  \"parsl\":\"\\u2AFD\",\n  \"part\":\"\\u2202\",\n  \"PartialD\":\"\\u2202\",\n  \"Pcy\":\"\\u041F\",\n  \"pcy\":\"\\u043F\",\n  \"percnt\":\"\\u0025\",\n  \"period\":\"\\u002E\",\n  \"permil\":\"\\u2030\",\n  \"perp\":\"\\u22A5\",\n  \"pertenk\":\"\\u2031\",\n  \"Pfr\":\"\\uD835\\uDD13\",\n  \"pfr\":\"\\uD835\\uDD2D\",\n  \"Phi\":\"\\u03A6\",\n  \"phi\":\"\\u03C6\",\n  \"phiv\":\"\\u03D5\",\n  \"phmmat\":\"\\u2133\",\n  \"phone\":\"\\u260E\",\n  \"Pi\":\"\\u03A0\",\n  \"pi\":\"\\u03C0\",\n  \"pitchfork\":\"\\u22D4\",\n  \"piv\":\"\\u03D6\",\n  \"planck\":\"\\u210F\",\n  \"planckh\":\"\\u210E\",\n  \"plankv\":\"\\u210F\",\n  \"plus\":\"\\u002B\",\n  \"plusacir\":\"\\u2A23\",\n  \"plusb\":\"\\u229E\",\n  \"pluscir\":\"\\u2A22\",\n  \"plusdo\":\"\\u2214\",\n  \"plusdu\":\"\\u2A25\",\n  \"pluse\":\"\\u2A72\",\n  \"PlusMinus\":\"\\u00B1\",\n  \"plusmn\":\"\\u00B1\",\n  \"plussim\":\"\\u2A26\",\n  \"plustwo\":\"\\u2A27\",\n  \"pm\":\"\\u00B1\",\n  \"Poincareplane\":\"\\u210C\",\n  \"pointint\":\"\\u2A15\",\n  \"Popf\":\"\\u2119\",\n  \"popf\":\"\\uD835\\uDD61\",\n  \"pound\":\"\\u00A3\",\n  \"Pr\":\"\\u2ABB\",\n  \"pr\":\"\\u227A\",\n  \"prap\":\"\\u2AB7\",\n  \"prcue\":\"\\u227C\",\n  \"prE\":\"\\u2AB3\",\n  \"pre\":\"\\u2AAF\",\n  \"prec\":\"\\u227A\",\n  \"precapprox\":\"\\u2AB7\",\n  \"preccurlyeq\":\"\\u227C\",\n  \"Precedes\":\"\\u227A\",\n  \"PrecedesEqual\":\"\\u2AAF\",\n  \"PrecedesSlantEqual\":\"\\u227C\",\n  \"PrecedesTilde\":\"\\u227E\",\n  \"preceq\":\"\\u2AAF\",\n  \"precnapprox\":\"\\u2AB9\",\n  \"precneqq\":\"\\u2AB5\",\n  \"precnsim\":\"\\u22E8\",\n  \"precsim\":\"\\u227E\",\n  \"Prime\":\"\\u2033\",\n  \"prime\":\"\\u2032\",\n  \"primes\":\"\\u2119\",\n  \"prnap\":\"\\u2AB9\",\n  \"prnE\":\"\\u2AB5\",\n  \"prnsim\":\"\\u22E8\",\n  \"prod\":\"\\u220F\",\n  \"Product\":\"\\u220F\",\n  \"profalar\":\"\\u232E\",\n  \"profline\":\"\\u2312\",\n  \"profsurf\":\"\\u2313\",\n  \"prop\":\"\\u221D\",\n  \"Proportion\":\"\\u2237\",\n  \"Proportional\":\"\\u221D\",\n  \"propto\":\"\\u221D\",\n  \"prsim\":\"\\u227E\",\n  \"prurel\":\"\\u22B0\",\n  \"Pscr\":\"\\uD835\\uDCAB\",\n  \"pscr\":\"\\uD835\\uDCC5\",\n  \"Psi\":\"\\u03A8\",\n  \"psi\":\"\\u03C8\",\n  \"puncsp\":\"\\u2008\",\n  \"Qfr\":\"\\uD835\\uDD14\",\n  \"qfr\":\"\\uD835\\uDD2E\",\n  \"qint\":\"\\u2A0C\",\n  \"Qopf\":\"\\u211A\",\n  \"qopf\":\"\\uD835\\uDD62\",\n  \"qprime\":\"\\u2057\",\n  \"Qscr\":\"\\uD835\\uDCAC\",\n  \"qscr\":\"\\uD835\\uDCC6\",\n  \"quaternions\":\"\\u210D\",\n  \"quatint\":\"\\u2A16\",\n  \"quest\":\"\\u003F\",\n  \"questeq\":\"\\u225F\",\n  \"QUOT\":\"\\u0022\",\n  \"quot\":\"\\u0022\",\n  \"rAarr\":\"\\u21DB\",\n  \"race\":\"\\u223D\\u0331\",\n  \"Racute\":\"\\u0154\",\n  \"racute\":\"\\u0155\",\n  \"radic\":\"\\u221A\",\n  \"raemptyv\":\"\\u29B3\",\n  \"Rang\":\"\\u27EB\",\n  \"rang\":\"\\u27E9\",\n  \"rangd\":\"\\u2992\",\n  \"range\":\"\\u29A5\",\n  \"rangle\":\"\\u27E9\",\n  \"raquo\":\"\\u00BB\",\n  \"Rarr\":\"\\u21A0\",\n  \"rArr\":\"\\u21D2\",\n  \"rarr\":\"\\u2192\",\n  \"rarrap\":\"\\u2975\",\n  \"rarrb\":\"\\u21E5\",\n  \"rarrbfs\":\"\\u2920\",\n  \"rarrc\":\"\\u2933\",\n  \"rarrfs\":\"\\u291E\",\n  \"rarrhk\":\"\\u21AA\",\n  \"rarrlp\":\"\\u21AC\",\n  \"rarrpl\":\"\\u2945\",\n  \"rarrsim\":\"\\u2974\",\n  \"Rarrtl\":\"\\u2916\",\n  \"rarrtl\":\"\\u21A3\",\n  \"rarrw\":\"\\u219D\",\n  \"rAtail\":\"\\u291C\",\n  \"ratail\":\"\\u291A\",\n  \"ratio\":\"\\u2236\",\n  \"rationals\":\"\\u211A\",\n  \"RBarr\":\"\\u2910\",\n  \"rBarr\":\"\\u290F\",\n  \"rbarr\":\"\\u290D\",\n  \"rbbrk\":\"\\u2773\",\n  \"rbrace\":\"\\u007D\",\n  \"rbrack\":\"\\u005D\",\n  \"rbrke\":\"\\u298C\",\n  \"rbrksld\":\"\\u298E\",\n  \"rbrkslu\":\"\\u2990\",\n  \"Rcaron\":\"\\u0158\",\n  \"rcaron\":\"\\u0159\",\n  \"Rcedil\":\"\\u0156\",\n  \"rcedil\":\"\\u0157\",\n  \"rceil\":\"\\u2309\",\n  \"rcub\":\"\\u007D\",\n  \"Rcy\":\"\\u0420\",\n  \"rcy\":\"\\u0440\",\n  \"rdca\":\"\\u2937\",\n  \"rdldhar\":\"\\u2969\",\n  \"rdquo\":\"\\u201D\",\n  \"rdquor\":\"\\u201D\",\n  \"rdsh\":\"\\u21B3\",\n  \"Re\":\"\\u211C\",\n  \"real\":\"\\u211C\",\n  \"realine\":\"\\u211B\",\n  \"realpart\":\"\\u211C\",\n  \"reals\":\"\\u211D\",\n  \"rect\":\"\\u25AD\",\n  \"REG\":\"\\u00AE\",\n  \"reg\":\"\\u00AE\",\n  \"ReverseElement\":\"\\u220B\",\n  \"ReverseEquilibrium\":\"\\u21CB\",\n  \"ReverseUpEquilibrium\":\"\\u296F\",\n  \"rfisht\":\"\\u297D\",\n  \"rfloor\":\"\\u230B\",\n  \"Rfr\":\"\\u211C\",\n  \"rfr\":\"\\uD835\\uDD2F\",\n  \"rHar\":\"\\u2964\",\n  \"rhard\":\"\\u21C1\",\n  \"rharu\":\"\\u21C0\",\n  \"rharul\":\"\\u296C\",\n  \"Rho\":\"\\u03A1\",\n  \"rho\":\"\\u03C1\",\n  \"rhov\":\"\\u03F1\",\n  \"RightAngleBracket\":\"\\u27E9\",\n  \"RightArrow\":\"\\u2192\",\n  \"Rightarrow\":\"\\u21D2\",\n  \"rightarrow\":\"\\u2192\",\n  \"RightArrowBar\":\"\\u21E5\",\n  \"RightArrowLeftArrow\":\"\\u21C4\",\n  \"rightarrowtail\":\"\\u21A3\",\n  \"RightCeiling\":\"\\u2309\",\n  \"RightDoubleBracket\":\"\\u27E7\",\n  \"RightDownTeeVector\":\"\\u295D\",\n  \"RightDownVector\":\"\\u21C2\",\n  \"RightDownVectorBar\":\"\\u2955\",\n  \"RightFloor\":\"\\u230B\",\n  \"rightharpoondown\":\"\\u21C1\",\n  \"rightharpoonup\":\"\\u21C0\",\n  \"rightleftarrows\":\"\\u21C4\",\n  \"rightleftharpoons\":\"\\u21CC\",\n  \"rightrightarrows\":\"\\u21C9\",\n  \"rightsquigarrow\":\"\\u219D\",\n  \"RightTee\":\"\\u22A2\",\n  \"RightTeeArrow\":\"\\u21A6\",\n  \"RightTeeVector\":\"\\u295B\",\n  \"rightthreetimes\":\"\\u22CC\",\n  \"RightTriangle\":\"\\u22B3\",\n  \"RightTriangleBar\":\"\\u29D0\",\n  \"RightTriangleEqual\":\"\\u22B5\",\n  \"RightUpDownVector\":\"\\u294F\",\n  \"RightUpTeeVector\":\"\\u295C\",\n  \"RightUpVector\":\"\\u21BE\",\n  \"RightUpVectorBar\":\"\\u2954\",\n  \"RightVector\":\"\\u21C0\",\n  \"RightVectorBar\":\"\\u2953\",\n  \"ring\":\"\\u02DA\",\n  \"risingdotseq\":\"\\u2253\",\n  \"rlarr\":\"\\u21C4\",\n  \"rlhar\":\"\\u21CC\",\n  \"rlm\":\"\\u200F\",\n  \"rmoust\":\"\\u23B1\",\n  \"rmoustache\":\"\\u23B1\",\n  \"rnmid\":\"\\u2AEE\",\n  \"roang\":\"\\u27ED\",\n  \"roarr\":\"\\u21FE\",\n  \"robrk\":\"\\u27E7\",\n  \"ropar\":\"\\u2986\",\n  \"Ropf\":\"\\u211D\",\n  \"ropf\":\"\\uD835\\uDD63\",\n  \"roplus\":\"\\u2A2E\",\n  \"rotimes\":\"\\u2A35\",\n  \"RoundImplies\":\"\\u2970\",\n  \"rpar\":\"\\u0029\",\n  \"rpargt\":\"\\u2994\",\n  \"rppolint\":\"\\u2A12\",\n  \"rrarr\":\"\\u21C9\",\n  \"Rrightarrow\":\"\\u21DB\",\n  \"rsaquo\":\"\\u203A\",\n  \"Rscr\":\"\\u211B\",\n  \"rscr\":\"\\uD835\\uDCC7\",\n  \"Rsh\":\"\\u21B1\",\n  \"rsh\":\"\\u21B1\",\n  \"rsqb\":\"\\u005D\",\n  \"rsquo\":\"\\u2019\",\n  \"rsquor\":\"\\u2019\",\n  \"rthree\":\"\\u22CC\",\n  \"rtimes\":\"\\u22CA\",\n  \"rtri\":\"\\u25B9\",\n  \"rtrie\":\"\\u22B5\",\n  \"rtrif\":\"\\u25B8\",\n  \"rtriltri\":\"\\u29CE\",\n  \"RuleDelayed\":\"\\u29F4\",\n  \"ruluhar\":\"\\u2968\",\n  \"rx\":\"\\u211E\",\n  \"Sacute\":\"\\u015A\",\n  \"sacute\":\"\\u015B\",\n  \"sbquo\":\"\\u201A\",\n  \"Sc\":\"\\u2ABC\",\n  \"sc\":\"\\u227B\",\n  \"scap\":\"\\u2AB8\",\n  \"Scaron\":\"\\u0160\",\n  \"scaron\":\"\\u0161\",\n  \"sccue\":\"\\u227D\",\n  \"scE\":\"\\u2AB4\",\n  \"sce\":\"\\u2AB0\",\n  \"Scedil\":\"\\u015E\",\n  \"scedil\":\"\\u015F\",\n  \"Scirc\":\"\\u015C\",\n  \"scirc\":\"\\u015D\",\n  \"scnap\":\"\\u2ABA\",\n  \"scnE\":\"\\u2AB6\",\n  \"scnsim\":\"\\u22E9\",\n  \"scpolint\":\"\\u2A13\",\n  \"scsim\":\"\\u227F\",\n  \"Scy\":\"\\u0421\",\n  \"scy\":\"\\u0441\",\n  \"sdot\":\"\\u22C5\",\n  \"sdotb\":\"\\u22A1\",\n  \"sdote\":\"\\u2A66\",\n  \"searhk\":\"\\u2925\",\n  \"seArr\":\"\\u21D8\",\n  \"searr\":\"\\u2198\",\n  \"searrow\":\"\\u2198\",\n  \"sect\":\"\\u00A7\",\n  \"semi\":\"\\u003B\",\n  \"seswar\":\"\\u2929\",\n  \"setminus\":\"\\u2216\",\n  \"setmn\":\"\\u2216\",\n  \"sext\":\"\\u2736\",\n  \"Sfr\":\"\\uD835\\uDD16\",\n  \"sfr\":\"\\uD835\\uDD30\",\n  \"sfrown\":\"\\u2322\",\n  \"sharp\":\"\\u266F\",\n  \"SHCHcy\":\"\\u0429\",\n  \"shchcy\":\"\\u0449\",\n  \"SHcy\":\"\\u0428\",\n  \"shcy\":\"\\u0448\",\n  \"ShortDownArrow\":\"\\u2193\",\n  \"ShortLeftArrow\":\"\\u2190\",\n  \"shortmid\":\"\\u2223\",\n  \"shortparallel\":\"\\u2225\",\n  \"ShortRightArrow\":\"\\u2192\",\n  \"ShortUpArrow\":\"\\u2191\",\n  \"shy\":\"\\u00AD\",\n  \"Sigma\":\"\\u03A3\",\n  \"sigma\":\"\\u03C3\",\n  \"sigmaf\":\"\\u03C2\",\n  \"sigmav\":\"\\u03C2\",\n  \"sim\":\"\\u223C\",\n  \"simdot\":\"\\u2A6A\",\n  \"sime\":\"\\u2243\",\n  \"simeq\":\"\\u2243\",\n  \"simg\":\"\\u2A9E\",\n  \"simgE\":\"\\u2AA0\",\n  \"siml\":\"\\u2A9D\",\n  \"simlE\":\"\\u2A9F\",\n  \"simne\":\"\\u2246\",\n  \"simplus\":\"\\u2A24\",\n  \"simrarr\":\"\\u2972\",\n  \"slarr\":\"\\u2190\",\n  \"SmallCircle\":\"\\u2218\",\n  \"smallsetminus\":\"\\u2216\",\n  \"smashp\":\"\\u2A33\",\n  \"smeparsl\":\"\\u29E4\",\n  \"smid\":\"\\u2223\",\n  \"smile\":\"\\u2323\",\n  \"smt\":\"\\u2AAA\",\n  \"smte\":\"\\u2AAC\",\n  \"smtes\":\"\\u2AAC\\uFE00\",\n  \"SOFTcy\":\"\\u042C\",\n  \"softcy\":\"\\u044C\",\n  \"sol\":\"\\u002F\",\n  \"solb\":\"\\u29C4\",\n  \"solbar\":\"\\u233F\",\n  \"Sopf\":\"\\uD835\\uDD4A\",\n  \"sopf\":\"\\uD835\\uDD64\",\n  \"spades\":\"\\u2660\",\n  \"spadesuit\":\"\\u2660\",\n  \"spar\":\"\\u2225\",\n  \"sqcap\":\"\\u2293\",\n  \"sqcaps\":\"\\u2293\\uFE00\",\n  \"sqcup\":\"\\u2294\",\n  \"sqcups\":\"\\u2294\\uFE00\",\n  \"Sqrt\":\"\\u221A\",\n  \"sqsub\":\"\\u228F\",\n  \"sqsube\":\"\\u2291\",\n  \"sqsubset\":\"\\u228F\",\n  \"sqsubseteq\":\"\\u2291\",\n  \"sqsup\":\"\\u2290\",\n  \"sqsupe\":\"\\u2292\",\n  \"sqsupset\":\"\\u2290\",\n  \"sqsupseteq\":\"\\u2292\",\n  \"squ\":\"\\u25A1\",\n  \"Square\":\"\\u25A1\",\n  \"square\":\"\\u25A1\",\n  \"SquareIntersection\":\"\\u2293\",\n  \"SquareSubset\":\"\\u228F\",\n  \"SquareSubsetEqual\":\"\\u2291\",\n  \"SquareSuperset\":\"\\u2290\",\n  \"SquareSupersetEqual\":\"\\u2292\",\n  \"SquareUnion\":\"\\u2294\",\n  \"squarf\":\"\\u25AA\",\n  \"squf\":\"\\u25AA\",\n  \"srarr\":\"\\u2192\",\n  \"Sscr\":\"\\uD835\\uDCAE\",\n  \"sscr\":\"\\uD835\\uDCC8\",\n  \"ssetmn\":\"\\u2216\",\n  \"ssmile\":\"\\u2323\",\n  \"sstarf\":\"\\u22C6\",\n  \"Star\":\"\\u22C6\",\n  \"star\":\"\\u2606\",\n  \"starf\":\"\\u2605\",\n  \"straightepsilon\":\"\\u03F5\",\n  \"straightphi\":\"\\u03D5\",\n  \"strns\":\"\\u00AF\",\n  \"Sub\":\"\\u22D0\",\n  \"sub\":\"\\u2282\",\n  \"subdot\":\"\\u2ABD\",\n  \"subE\":\"\\u2AC5\",\n  \"sube\":\"\\u2286\",\n  \"subedot\":\"\\u2AC3\",\n  \"submult\":\"\\u2AC1\",\n  \"subnE\":\"\\u2ACB\",\n  \"subne\":\"\\u228A\",\n  \"subplus\":\"\\u2ABF\",\n  \"subrarr\":\"\\u2979\",\n  \"Subset\":\"\\u22D0\",\n  \"subset\":\"\\u2282\",\n  \"subseteq\":\"\\u2286\",\n  \"subseteqq\":\"\\u2AC5\",\n  \"SubsetEqual\":\"\\u2286\",\n  \"subsetneq\":\"\\u228A\",\n  \"subsetneqq\":\"\\u2ACB\",\n  \"subsim\":\"\\u2AC7\",\n  \"subsub\":\"\\u2AD5\",\n  \"subsup\":\"\\u2AD3\",\n  \"succ\":\"\\u227B\",\n  \"succapprox\":\"\\u2AB8\",\n  \"succcurlyeq\":\"\\u227D\",\n  \"Succeeds\":\"\\u227B\",\n  \"SucceedsEqual\":\"\\u2AB0\",\n  \"SucceedsSlantEqual\":\"\\u227D\",\n  \"SucceedsTilde\":\"\\u227F\",\n  \"succeq\":\"\\u2AB0\",\n  \"succnapprox\":\"\\u2ABA\",\n  \"succneqq\":\"\\u2AB6\",\n  \"succnsim\":\"\\u22E9\",\n  \"succsim\":\"\\u227F\",\n  \"SuchThat\":\"\\u220B\",\n  \"Sum\":\"\\u2211\",\n  \"sum\":\"\\u2211\",\n  \"sung\":\"\\u266A\",\n  \"Sup\":\"\\u22D1\",\n  \"sup\":\"\\u2283\",\n  \"sup1\":\"\\u00B9\",\n  \"sup2\":\"\\u00B2\",\n  \"sup3\":\"\\u00B3\",\n  \"supdot\":\"\\u2ABE\",\n  \"supdsub\":\"\\u2AD8\",\n  \"supE\":\"\\u2AC6\",\n  \"supe\":\"\\u2287\",\n  \"supedot\":\"\\u2AC4\",\n  \"Superset\":\"\\u2283\",\n  \"SupersetEqual\":\"\\u2287\",\n  \"suphsol\":\"\\u27C9\",\n  \"suphsub\":\"\\u2AD7\",\n  \"suplarr\":\"\\u297B\",\n  \"supmult\":\"\\u2AC2\",\n  \"supnE\":\"\\u2ACC\",\n  \"supne\":\"\\u228B\",\n  \"supplus\":\"\\u2AC0\",\n  \"Supset\":\"\\u22D1\",\n  \"supset\":\"\\u2283\",\n  \"supseteq\":\"\\u2287\",\n  \"supseteqq\":\"\\u2AC6\",\n  \"supsetneq\":\"\\u228B\",\n  \"supsetneqq\":\"\\u2ACC\",\n  \"supsim\":\"\\u2AC8\",\n  \"supsub\":\"\\u2AD4\",\n  \"supsup\":\"\\u2AD6\",\n  \"swarhk\":\"\\u2926\",\n  \"swArr\":\"\\u21D9\",\n  \"swarr\":\"\\u2199\",\n  \"swarrow\":\"\\u2199\",\n  \"swnwar\":\"\\u292A\",\n  \"szlig\":\"\\u00DF\",\n  \"Tab\":\"\\u0009\",\n  \"target\":\"\\u2316\",\n  \"Tau\":\"\\u03A4\",\n  \"tau\":\"\\u03C4\",\n  \"tbrk\":\"\\u23B4\",\n  \"Tcaron\":\"\\u0164\",\n  \"tcaron\":\"\\u0165\",\n  \"Tcedil\":\"\\u0162\",\n  \"tcedil\":\"\\u0163\",\n  \"Tcy\":\"\\u0422\",\n  \"tcy\":\"\\u0442\",\n  \"tdot\":\"\\u20DB\",\n  \"telrec\":\"\\u2315\",\n  \"Tfr\":\"\\uD835\\uDD17\",\n  \"tfr\":\"\\uD835\\uDD31\",\n  \"there4\":\"\\u2234\",\n  \"Therefore\":\"\\u2234\",\n  \"therefore\":\"\\u2234\",\n  \"Theta\":\"\\u0398\",\n  \"theta\":\"\\u03B8\",\n  \"thetasym\":\"\\u03D1\",\n  \"thetav\":\"\\u03D1\",\n  \"thickapprox\":\"\\u2248\",\n  \"thicksim\":\"\\u223C\",\n  \"ThickSpace\":\"\\u205F\\u200A\",\n  \"thinsp\":\"\\u2009\",\n  \"ThinSpace\":\"\\u2009\",\n  \"thkap\":\"\\u2248\",\n  \"thksim\":\"\\u223C\",\n  \"THORN\":\"\\u00DE\",\n  \"thorn\":\"\\u00FE\",\n  \"Tilde\":\"\\u223C\",\n  \"tilde\":\"\\u02DC\",\n  \"TildeEqual\":\"\\u2243\",\n  \"TildeFullEqual\":\"\\u2245\",\n  \"TildeTilde\":\"\\u2248\",\n  \"times\":\"\\u00D7\",\n  \"timesb\":\"\\u22A0\",\n  \"timesbar\":\"\\u2A31\",\n  \"timesd\":\"\\u2A30\",\n  \"tint\":\"\\u222D\",\n  \"toea\":\"\\u2928\",\n  \"top\":\"\\u22A4\",\n  \"topbot\":\"\\u2336\",\n  \"topcir\":\"\\u2AF1\",\n  \"Topf\":\"\\uD835\\uDD4B\",\n  \"topf\":\"\\uD835\\uDD65\",\n  \"topfork\":\"\\u2ADA\",\n  \"tosa\":\"\\u2929\",\n  \"tprime\":\"\\u2034\",\n  \"TRADE\":\"\\u2122\",\n  \"trade\":\"\\u2122\",\n  \"triangle\":\"\\u25B5\",\n  \"triangledown\":\"\\u25BF\",\n  \"triangleleft\":\"\\u25C3\",\n  \"trianglelefteq\":\"\\u22B4\",\n  \"triangleq\":\"\\u225C\",\n  \"triangleright\":\"\\u25B9\",\n  \"trianglerighteq\":\"\\u22B5\",\n  \"tridot\":\"\\u25EC\",\n  \"trie\":\"\\u225C\",\n  \"triminus\":\"\\u2A3A\",\n  \"TripleDot\":\"\\u20DB\",\n  \"triplus\":\"\\u2A39\",\n  \"trisb\":\"\\u29CD\",\n  \"tritime\":\"\\u2A3B\",\n  \"trpezium\":\"\\u23E2\",\n  \"Tscr\":\"\\uD835\\uDCAF\",\n  \"tscr\":\"\\uD835\\uDCC9\",\n  \"TScy\":\"\\u0426\",\n  \"tscy\":\"\\u0446\",\n  \"TSHcy\":\"\\u040B\",\n  \"tshcy\":\"\\u045B\",\n  \"Tstrok\":\"\\u0166\",\n  \"tstrok\":\"\\u0167\",\n  \"twixt\":\"\\u226C\",\n  \"twoheadleftarrow\":\"\\u219E\",\n  \"twoheadrightarrow\":\"\\u21A0\",\n  \"Uacute\":\"\\u00DA\",\n  \"uacute\":\"\\u00FA\",\n  \"Uarr\":\"\\u219F\",\n  \"uArr\":\"\\u21D1\",\n  \"uarr\":\"\\u2191\",\n  \"Uarrocir\":\"\\u2949\",\n  \"Ubrcy\":\"\\u040E\",\n  \"ubrcy\":\"\\u045E\",\n  \"Ubreve\":\"\\u016C\",\n  \"ubreve\":\"\\u016D\",\n  \"Ucirc\":\"\\u00DB\",\n  \"ucirc\":\"\\u00FB\",\n  \"Ucy\":\"\\u0423\",\n  \"ucy\":\"\\u0443\",\n  \"udarr\":\"\\u21C5\",\n  \"Udblac\":\"\\u0170\",\n  \"udblac\":\"\\u0171\",\n  \"udhar\":\"\\u296E\",\n  \"ufisht\":\"\\u297E\",\n  \"Ufr\":\"\\uD835\\uDD18\",\n  \"ufr\":\"\\uD835\\uDD32\",\n  \"Ugrave\":\"\\u00D9\",\n  \"ugrave\":\"\\u00F9\",\n  \"uHar\":\"\\u2963\",\n  \"uharl\":\"\\u21BF\",\n  \"uharr\":\"\\u21BE\",\n  \"uhblk\":\"\\u2580\",\n  \"ulcorn\":\"\\u231C\",\n  \"ulcorner\":\"\\u231C\",\n  \"ulcrop\":\"\\u230F\",\n  \"ultri\":\"\\u25F8\",\n  \"Umacr\":\"\\u016A\",\n  \"umacr\":\"\\u016B\",\n  \"uml\":\"\\u00A8\",\n  \"UnderBar\":\"\\u005F\",\n  \"UnderBrace\":\"\\u23DF\",\n  \"UnderBracket\":\"\\u23B5\",\n  \"UnderParenthesis\":\"\\u23DD\",\n  \"Union\":\"\\u22C3\",\n  \"UnionPlus\":\"\\u228E\",\n  \"Uogon\":\"\\u0172\",\n  \"uogon\":\"\\u0173\",\n  \"Uopf\":\"\\uD835\\uDD4C\",\n  \"uopf\":\"\\uD835\\uDD66\",\n  \"UpArrow\":\"\\u2191\",\n  \"Uparrow\":\"\\u21D1\",\n  \"uparrow\":\"\\u2191\",\n  \"UpArrowBar\":\"\\u2912\",\n  \"UpArrowDownArrow\":\"\\u21C5\",\n  \"UpDownArrow\":\"\\u2195\",\n  \"Updownarrow\":\"\\u21D5\",\n  \"updownarrow\":\"\\u2195\",\n  \"UpEquilibrium\":\"\\u296E\",\n  \"upharpoonleft\":\"\\u21BF\",\n  \"upharpoonright\":\"\\u21BE\",\n  \"uplus\":\"\\u228E\",\n  \"UpperLeftArrow\":\"\\u2196\",\n  \"UpperRightArrow\":\"\\u2197\",\n  \"Upsi\":\"\\u03D2\",\n  \"upsi\":\"\\u03C5\",\n  \"upsih\":\"\\u03D2\",\n  \"Upsilon\":\"\\u03A5\",\n  \"upsilon\":\"\\u03C5\",\n  \"UpTee\":\"\\u22A5\",\n  \"UpTeeArrow\":\"\\u21A5\",\n  \"upuparrows\":\"\\u21C8\",\n  \"urcorn\":\"\\u231D\",\n  \"urcorner\":\"\\u231D\",\n  \"urcrop\":\"\\u230E\",\n  \"Uring\":\"\\u016E\",\n  \"uring\":\"\\u016F\",\n  \"urtri\":\"\\u25F9\",\n  \"Uscr\":\"\\uD835\\uDCB0\",\n  \"uscr\":\"\\uD835\\uDCCA\",\n  \"utdot\":\"\\u22F0\",\n  \"Utilde\":\"\\u0168\",\n  \"utilde\":\"\\u0169\",\n  \"utri\":\"\\u25B5\",\n  \"utrif\":\"\\u25B4\",\n  \"uuarr\":\"\\u21C8\",\n  \"Uuml\":\"\\u00DC\",\n  \"uuml\":\"\\u00FC\",\n  \"uwangle\":\"\\u29A7\",\n  \"vangrt\":\"\\u299C\",\n  \"varepsilon\":\"\\u03F5\",\n  \"varkappa\":\"\\u03F0\",\n  \"varnothing\":\"\\u2205\",\n  \"varphi\":\"\\u03D5\",\n  \"varpi\":\"\\u03D6\",\n  \"varpropto\":\"\\u221D\",\n  \"vArr\":\"\\u21D5\",\n  \"varr\":\"\\u2195\",\n  \"varrho\":\"\\u03F1\",\n  \"varsigma\":\"\\u03C2\",\n  \"varsubsetneq\":\"\\u228A\\uFE00\",\n  \"varsubsetneqq\":\"\\u2ACB\\uFE00\",\n  \"varsupsetneq\":\"\\u228B\\uFE00\",\n  \"varsupsetneqq\":\"\\u2ACC\\uFE00\",\n  \"vartheta\":\"\\u03D1\",\n  \"vartriangleleft\":\"\\u22B2\",\n  \"vartriangleright\":\"\\u22B3\",\n  \"Vbar\":\"\\u2AEB\",\n  \"vBar\":\"\\u2AE8\",\n  \"vBarv\":\"\\u2AE9\",\n  \"Vcy\":\"\\u0412\",\n  \"vcy\":\"\\u0432\",\n  \"VDash\":\"\\u22AB\",\n  \"Vdash\":\"\\u22A9\",\n  \"vDash\":\"\\u22A8\",\n  \"vdash\":\"\\u22A2\",\n  \"Vdashl\":\"\\u2AE6\",\n  \"Vee\":\"\\u22C1\",\n  \"vee\":\"\\u2228\",\n  \"veebar\":\"\\u22BB\",\n  \"veeeq\":\"\\u225A\",\n  \"vellip\":\"\\u22EE\",\n  \"Verbar\":\"\\u2016\",\n  \"verbar\":\"\\u007C\",\n  \"Vert\":\"\\u2016\",\n  \"vert\":\"\\u007C\",\n  \"VerticalBar\":\"\\u2223\",\n  \"VerticalLine\":\"\\u007C\",\n  \"VerticalSeparator\":\"\\u2758\",\n  \"VerticalTilde\":\"\\u2240\",\n  \"VeryThinSpace\":\"\\u200A\",\n  \"Vfr\":\"\\uD835\\uDD19\",\n  \"vfr\":\"\\uD835\\uDD33\",\n  \"vltri\":\"\\u22B2\",\n  \"vnsub\":\"\\u2282\\u20D2\",\n  \"vnsup\":\"\\u2283\\u20D2\",\n  \"Vopf\":\"\\uD835\\uDD4D\",\n  \"vopf\":\"\\uD835\\uDD67\",\n  \"vprop\":\"\\u221D\",\n  \"vrtri\":\"\\u22B3\",\n  \"Vscr\":\"\\uD835\\uDCB1\",\n  \"vscr\":\"\\uD835\\uDCCB\",\n  \"vsubnE\":\"\\u2ACB\\uFE00\",\n  \"vsubne\":\"\\u228A\\uFE00\",\n  \"vsupnE\":\"\\u2ACC\\uFE00\",\n  \"vsupne\":\"\\u228B\\uFE00\",\n  \"Vvdash\":\"\\u22AA\",\n  \"vzigzag\":\"\\u299A\",\n  \"Wcirc\":\"\\u0174\",\n  \"wcirc\":\"\\u0175\",\n  \"wedbar\":\"\\u2A5F\",\n  \"Wedge\":\"\\u22C0\",\n  \"wedge\":\"\\u2227\",\n  \"wedgeq\":\"\\u2259\",\n  \"weierp\":\"\\u2118\",\n  \"Wfr\":\"\\uD835\\uDD1A\",\n  \"wfr\":\"\\uD835\\uDD34\",\n  \"Wopf\":\"\\uD835\\uDD4E\",\n  \"wopf\":\"\\uD835\\uDD68\",\n  \"wp\":\"\\u2118\",\n  \"wr\":\"\\u2240\",\n  \"wreath\":\"\\u2240\",\n  \"Wscr\":\"\\uD835\\uDCB2\",\n  \"wscr\":\"\\uD835\\uDCCC\",\n  \"xcap\":\"\\u22C2\",\n  \"xcirc\":\"\\u25EF\",\n  \"xcup\":\"\\u22C3\",\n  \"xdtri\":\"\\u25BD\",\n  \"Xfr\":\"\\uD835\\uDD1B\",\n  \"xfr\":\"\\uD835\\uDD35\",\n  \"xhArr\":\"\\u27FA\",\n  \"xharr\":\"\\u27F7\",\n  \"Xi\":\"\\u039E\",\n  \"xi\":\"\\u03BE\",\n  \"xlArr\":\"\\u27F8\",\n  \"xlarr\":\"\\u27F5\",\n  \"xmap\":\"\\u27FC\",\n  \"xnis\":\"\\u22FB\",\n  \"xodot\":\"\\u2A00\",\n  \"Xopf\":\"\\uD835\\uDD4F\",\n  \"xopf\":\"\\uD835\\uDD69\",\n  \"xoplus\":\"\\u2A01\",\n  \"xotime\":\"\\u2A02\",\n  \"xrArr\":\"\\u27F9\",\n  \"xrarr\":\"\\u27F6\",\n  \"Xscr\":\"\\uD835\\uDCB3\",\n  \"xscr\":\"\\uD835\\uDCCD\",\n  \"xsqcup\":\"\\u2A06\",\n  \"xuplus\":\"\\u2A04\",\n  \"xutri\":\"\\u25B3\",\n  \"xvee\":\"\\u22C1\",\n  \"xwedge\":\"\\u22C0\",\n  \"Yacute\":\"\\u00DD\",\n  \"yacute\":\"\\u00FD\",\n  \"YAcy\":\"\\u042F\",\n  \"yacy\":\"\\u044F\",\n  \"Ycirc\":\"\\u0176\",\n  \"ycirc\":\"\\u0177\",\n  \"Ycy\":\"\\u042B\",\n  \"ycy\":\"\\u044B\",\n  \"yen\":\"\\u00A5\",\n  \"Yfr\":\"\\uD835\\uDD1C\",\n  \"yfr\":\"\\uD835\\uDD36\",\n  \"YIcy\":\"\\u0407\",\n  \"yicy\":\"\\u0457\",\n  \"Yopf\":\"\\uD835\\uDD50\",\n  \"yopf\":\"\\uD835\\uDD6A\",\n  \"Yscr\":\"\\uD835\\uDCB4\",\n  \"yscr\":\"\\uD835\\uDCCE\",\n  \"YUcy\":\"\\u042E\",\n  \"yucy\":\"\\u044E\",\n  \"Yuml\":\"\\u0178\",\n  \"yuml\":\"\\u00FF\",\n  \"Zacute\":\"\\u0179\",\n  \"zacute\":\"\\u017A\",\n  \"Zcaron\":\"\\u017D\",\n  \"zcaron\":\"\\u017E\",\n  \"Zcy\":\"\\u0417\",\n  \"zcy\":\"\\u0437\",\n  \"Zdot\":\"\\u017B\",\n  \"zdot\":\"\\u017C\",\n  \"zeetrf\":\"\\u2128\",\n  \"ZeroWidthSpace\":\"\\u200B\",\n  \"Zeta\":\"\\u0396\",\n  \"zeta\":\"\\u03B6\",\n  \"Zfr\":\"\\u2128\",\n  \"zfr\":\"\\uD835\\uDD37\",\n  \"ZHcy\":\"\\u0416\",\n  \"zhcy\":\"\\u0436\",\n  \"zigrarr\":\"\\u21DD\",\n  \"Zopf\":\"\\u2124\",\n  \"zopf\":\"\\uD835\\uDD6B\",\n  \"Zscr\":\"\\uD835\\uDCB5\",\n  \"zscr\":\"\\uD835\\uDCCF\",\n  \"zwj\":\"\\u200D\",\n  \"zwnj\":\"\\u200C\"\n};\n","// List of valid html blocks names, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#html-blocks\n\n'use strict';\n\nvar html_blocks = {};\n\n[\n  'article',\n  'aside',\n  'button',\n  'blockquote',\n  'body',\n  'canvas',\n  'caption',\n  'col',\n  'colgroup',\n  'dd',\n  'div',\n  'dl',\n  'dt',\n  'embed',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'header',\n  'hgroup',\n  'hr',\n  'iframe',\n  'li',\n  'map',\n  'object',\n  'ol',\n  'output',\n  'p',\n  'pre',\n  'progress',\n  'script',\n  'section',\n  'style',\n  'table',\n  'tbody',\n  'td',\n  'textarea',\n  'tfoot',\n  'th',\n  'tr',\n  'thead',\n  'ul',\n  'video'\n].forEach(function (name) { html_blocks[name] = true; });\n\n\nmodule.exports = html_blocks;\n","// Regexps to match html elements\n\n'use strict';\n\n\nfunction replace(regex, options) {\n  regex = regex.source;\n  options = options || '';\n\n  return function self(name, val) {\n    if (!name) {\n      return new RegExp(regex, options);\n    }\n    val = val.source || val;\n    regex = regex.replace(name, val);\n    return self;\n  };\n}\n\n\nvar attr_name     = /[a-zA-Z_:][a-zA-Z0-9:._-]*/;\n\nvar unquoted      = /[^\"'=<>`\\x00-\\x20]+/;\nvar single_quoted = /'[^']*'/;\nvar double_quoted = /\"[^\"]*\"/;\n\n/*eslint no-spaced-func:0*/\nvar attr_value  = replace(/(?:unquoted|single_quoted|double_quoted)/)\n                    ('unquoted', unquoted)\n                    ('single_quoted', single_quoted)\n                    ('double_quoted', double_quoted)\n                    ();\n\nvar attribute   = replace(/(?:\\s+attr_name(?:\\s*=\\s*attr_value)?)/)\n                    ('attr_name', attr_name)\n                    ('attr_value', attr_value)\n                    ();\n\nvar open_tag    = replace(/<[A-Za-z][A-Za-z0-9]*attribute*\\s*\\/?>/)\n                    ('attribute', attribute)\n                    ();\n\nvar close_tag   = /<\\/[A-Za-z][A-Za-z0-9]*\\s*>/;\nvar comment     = /<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/;\nvar processing  = /<[?].*?[?]>/;\nvar declaration = /<![A-Z]+\\s+[^>]*>/;\nvar cdata       = /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/;\n\nvar HTML_TAG_RE = replace(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)\n  ('open_tag', open_tag)\n  ('close_tag', close_tag)\n  ('comment', comment)\n  ('processing', processing)\n  ('declaration', declaration)\n  ('cdata', cdata)\n  ();\n\n\nmodule.exports.HTML_TAG_RE = HTML_TAG_RE;\n","// List of valid url schemas, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#autolinks\n\n'use strict';\n\n\nmodule.exports = [\n  'coap',\n  'doi',\n  'javascript',\n  'aaa',\n  'aaas',\n  'about',\n  'acap',\n  'cap',\n  'cid',\n  'crid',\n  'data',\n  'dav',\n  'dict',\n  'dns',\n  'file',\n  'ftp',\n  'geo',\n  'go',\n  'gopher',\n  'h323',\n  'http',\n  'https',\n  'iax',\n  'icap',\n  'im',\n  'imap',\n  'info',\n  'ipp',\n  'iris',\n  'iris.beep',\n  'iris.xpc',\n  'iris.xpcs',\n  'iris.lwz',\n  'ldap',\n  'mailto',\n  'mid',\n  'msrp',\n  'msrps',\n  'mtqp',\n  'mupdate',\n  'news',\n  'nfs',\n  'ni',\n  'nih',\n  'nntp',\n  'opaquelocktoken',\n  'pop',\n  'pres',\n  'rtsp',\n  'service',\n  'session',\n  'shttp',\n  'sieve',\n  'sip',\n  'sips',\n  'sms',\n  'snmp',\n  'soap.beep',\n  'soap.beeps',\n  'tag',\n  'tel',\n  'telnet',\n  'tftp',\n  'thismessage',\n  'tn3270',\n  'tip',\n  'tv',\n  'urn',\n  'vemmi',\n  'ws',\n  'wss',\n  'xcon',\n  'xcon-userid',\n  'xmlrpc.beep',\n  'xmlrpc.beeps',\n  'xmpp',\n  'z39.50r',\n  'z39.50s',\n  'adiumxtra',\n  'afp',\n  'afs',\n  'aim',\n  'apt',\n  'attachment',\n  'aw',\n  'beshare',\n  'bitcoin',\n  'bolo',\n  'callto',\n  'chrome',\n  'chrome-extension',\n  'com-eventbrite-attendee',\n  'content',\n  'cvs',\n  'dlna-playsingle',\n  'dlna-playcontainer',\n  'dtn',\n  'dvb',\n  'ed2k',\n  'facetime',\n  'feed',\n  'finger',\n  'fish',\n  'gg',\n  'git',\n  'gizmoproject',\n  'gtalk',\n  'hcp',\n  'icon',\n  'ipn',\n  'irc',\n  'irc6',\n  'ircs',\n  'itms',\n  'jar',\n  'jms',\n  'keyparc',\n  'lastfm',\n  'ldaps',\n  'magnet',\n  'maps',\n  'market',\n  'message',\n  'mms',\n  'ms-help',\n  'msnim',\n  'mumble',\n  'mvn',\n  'notes',\n  'oid',\n  'palm',\n  'paparazzi',\n  'platform',\n  'proxy',\n  'psyc',\n  'query',\n  'res',\n  'resource',\n  'rmi',\n  'rsync',\n  'rtmp',\n  'secondlife',\n  'sftp',\n  'sgn',\n  'skype',\n  'smb',\n  'soldat',\n  'spotify',\n  'ssh',\n  'steam',\n  'svn',\n  'teamspeak',\n  'things',\n  'udp',\n  'unreal',\n  'ut2004',\n  'ventrilo',\n  'view-source',\n  'webcal',\n  'wtai',\n  'wyciwyg',\n  'xfire',\n  'xri',\n  'ymsgr'\n];\n","'use strict';\n\n/**\n * Utility functions\n */\n\nfunction typeOf(obj) {\n  return Object.prototype.toString.call(obj);\n}\n\nfunction isString(obj) {\n  return typeOf(obj) === '[object String]';\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty;\n\nfunction has(object, key) {\n  return object\n    ? hasOwn.call(object, key)\n    : false;\n}\n\n// Extend objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = [].slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be object');\n    }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar UNESCAPE_MD_RE = /\\\\([\\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nfunction unescapeMd(str) {\n  if (str.indexOf('\\\\') < 0) { return str; }\n  return str.replace(UNESCAPE_MD_RE, '$1');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isValidEntityCode(c) {\n  /*eslint no-bitwise:0*/\n  // broken sequence\n  if (c >= 0xD800 && c <= 0xDFFF) { return false; }\n  // never used\n  if (c >= 0xFDD0 && c <= 0xFDEF) { return false; }\n  if ((c & 0xFFFF) === 0xFFFF || (c & 0xFFFF) === 0xFFFE) { return false; }\n  // control codes\n  if (c >= 0x00 && c <= 0x08) { return false; }\n  if (c === 0x0B) { return false; }\n  if (c >= 0x0E && c <= 0x1F) { return false; }\n  if (c >= 0x7F && c <= 0x9F) { return false; }\n  // out of range\n  if (c > 0x10FFFF) { return false; }\n  return true;\n}\n\nfunction fromCodePoint(c) {\n  /*eslint no-bitwise:0*/\n  if (c > 0xffff) {\n    c -= 0x10000;\n    var surrogate1 = 0xd800 + (c >> 10),\n        surrogate2 = 0xdc00 + (c & 0x3ff);\n\n    return String.fromCharCode(surrogate1, surrogate2);\n  }\n  return String.fromCharCode(c);\n}\n\nvar NAMED_ENTITY_RE   = /&([a-z#][a-z0-9]{1,31});/gi;\nvar DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;\nvar entities = require('./entities');\n\nfunction replaceEntityPattern(match, name) {\n  var code = 0;\n\n  if (has(entities, name)) {\n    return entities[name];\n  } else if (name.charCodeAt(0) === 0x23/* # */ && DIGITAL_ENTITY_TEST_RE.test(name)) {\n    code = name[1].toLowerCase() === 'x' ?\n      parseInt(name.slice(2), 16)\n    :\n      parseInt(name.slice(1), 10);\n    if (isValidEntityCode(code)) {\n      return fromCodePoint(code);\n    }\n  }\n  return match;\n}\n\nfunction replaceEntities(str) {\n  if (str.indexOf('&') < 0) { return str; }\n\n  return str.replace(NAMED_ENTITY_RE, replaceEntityPattern);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar HTML_ESCAPE_TEST_RE = /[&<>\"]/;\nvar HTML_ESCAPE_REPLACE_RE = /[&<>\"]/g;\nvar HTML_REPLACEMENTS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\n\nfunction replaceUnsafeChar(ch) {\n  return HTML_REPLACEMENTS[ch];\n}\n\nfunction escapeHtml(str) {\n  if (HTML_ESCAPE_TEST_RE.test(str)) {\n    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar);\n  }\n  return str;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nexports.assign            = assign;\nexports.isString          = isString;\nexports.has               = has;\nexports.unescapeMd        = unescapeMd;\nexports.isValidEntityCode = isValidEntityCode;\nexports.fromCodePoint     = fromCodePoint;\nexports.replaceEntities   = replaceEntities;\nexports.escapeHtml        = escapeHtml;\n","// Commonmark default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         true,         // Enable HTML tags in source\n    xhtmlOut:     true,         // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n    linkTarget:   '',           // set target to open link in\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Set doubles to '' for Russian, '' for German.\n    quotes: '',\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if input not changed\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'block',\n        'inline',\n        'references',\n        'abbr2'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fences',\n        'heading',\n        'hr',\n        'htmlblock',\n        'lheading',\n        'list',\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'emphasis',\n        'entity',\n        'escape',\n        'htmltag',\n        'links',\n        'newline',\n        'text'\n      ]\n    }\n  }\n};\n","// Remarkable default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n    linkTarget:   '',           // set target to open link in\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Set doubles to '' for Russian, '' for German.\n    quotes: '',\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if input not changed\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'block',\n        'inline',\n        'references',\n        'replacements',\n        'linkify',\n        'smartquotes',\n        'references',\n        'abbr2',\n        'footnote_tail'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fences',\n        'footnote',\n        'heading',\n        'hr',\n        'htmlblock',\n        'lheading',\n        'list',\n        'paragraph',\n        'table'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'del',\n        'emphasis',\n        'entity',\n        'escape',\n        'footnote_ref',\n        'htmltag',\n        'links',\n        'newline',\n        'text'\n      ]\n    }\n  }\n};\n","// Remarkable default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n    linkTarget:   '',           // set target to open link in\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Set doubles to '' for Russian, '' for German.\n    quotes:       '',\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if input not changed\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight:     null,\n\n    maxNesting:    20            // Internal protection, recursion limit\n  },\n\n  components: {\n    // Don't restrict core/block/inline rules\n    core: {},\n    block: {},\n    inline: {}\n  }\n};\n","'use strict';\n\nvar replaceEntities = require('../common/utils').replaceEntities;\n\nmodule.exports = function normalizeLink(url) {\n  var normalized = replaceEntities(url);\n  // We shouldn't care about the result of malformed URIs,\n  // and should not throw an exception.\n  try {\n    normalized = decodeURI(normalized);\n  } catch (err) {}\n  return encodeURI(normalized);\n};\n","'use strict';\n\nmodule.exports = function normalizeReference(str) {\n  // use .toUpperCase() instead of .toLowerCase()\n  // here to avoid a conflict with Object.prototype\n  // members (most notably, `__proto__`)\n  return str.trim().replace(/\\s+/g, ' ').toUpperCase();\n};\n","'use strict';\n\n\nvar normalizeLink = require('./normalize_link');\nvar unescapeMd    = require('../common/utils').unescapeMd;\n\n/**\n * Parse link destination\n *\n *   - on success it returns a string and updates state.pos;\n *   - on failure it returns null\n *\n * @param  {Object} state\n * @param  {Number} pos\n * @api private\n */\n\nmodule.exports = function parseLinkDestination(state, pos) {\n  var code, level, link,\n      start = pos,\n      max = state.posMax;\n\n  if (state.src.charCodeAt(pos) === 0x3C /* < */) {\n    pos++;\n    while (pos < max) {\n      code = state.src.charCodeAt(pos);\n      if (code === 0x0A /* \\n */) { return false; }\n      if (code === 0x3E /* > */) {\n        link = normalizeLink(unescapeMd(state.src.slice(start + 1, pos)));\n        if (!state.parser.validateLink(link)) { return false; }\n        state.pos = pos + 1;\n        state.linkContent = link;\n        return true;\n      }\n      if (code === 0x5C /* \\ */ && pos + 1 < max) {\n        pos += 2;\n        continue;\n      }\n\n      pos++;\n    }\n\n    // no closing '>'\n    return false;\n  }\n\n  // this should be ... } else { ... branch\n\n  level = 0;\n  while (pos < max) {\n    code = state.src.charCodeAt(pos);\n\n    if (code === 0x20) { break; }\n\n    // ascii control chars\n    if (code < 0x20 || code === 0x7F) { break; }\n\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos += 2;\n      continue;\n    }\n\n    if (code === 0x28 /* ( */) {\n      level++;\n      if (level > 1) { break; }\n    }\n\n    if (code === 0x29 /* ) */) {\n      level--;\n      if (level < 0) { break; }\n    }\n\n    pos++;\n  }\n\n  if (start === pos) { return false; }\n\n  link = unescapeMd(state.src.slice(start, pos));\n  if (!state.parser.validateLink(link)) { return false; }\n\n  state.linkContent = link;\n  state.pos = pos;\n  return true;\n};\n","'use strict';\n\n/**\n * Parse link labels\n *\n * This function assumes that first character (`[`) already matches;\n * returns the end of the label.\n *\n * @param  {Object} state\n * @param  {Number} start\n * @api private\n */\n\nmodule.exports = function parseLinkLabel(state, start) {\n  var level, found, marker,\n      labelEnd = -1,\n      max = state.posMax,\n      oldPos = state.pos,\n      oldFlag = state.isInLabel;\n\n  if (state.isInLabel) { return -1; }\n\n  if (state.labelUnmatchedScopes) {\n    state.labelUnmatchedScopes--;\n    return -1;\n  }\n\n  state.pos = start + 1;\n  state.isInLabel = true;\n  level = 1;\n\n  while (state.pos < max) {\n    marker = state.src.charCodeAt(state.pos);\n    if (marker === 0x5B /* [ */) {\n      level++;\n    } else if (marker === 0x5D /* ] */) {\n      level--;\n      if (level === 0) {\n        found = true;\n        break;\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (found) {\n    labelEnd = state.pos;\n    state.labelUnmatchedScopes = 0;\n  } else {\n    state.labelUnmatchedScopes = level - 1;\n  }\n\n  // restore old state\n  state.pos = oldPos;\n  state.isInLabel = oldFlag;\n\n  return labelEnd;\n};\n","'use strict';\n\n\nvar unescapeMd = require('../common/utils').unescapeMd;\n\n/**\n * Parse link title\n *\n *   - on success it returns a string and updates state.pos;\n *   - on failure it returns null\n *\n * @param  {Object} state\n * @param  {Number} pos\n * @api private\n */\n\nmodule.exports = function parseLinkTitle(state, pos) {\n  var code,\n      start = pos,\n      max = state.posMax,\n      marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x22 /* \" */ && marker !== 0x27 /* ' */ && marker !== 0x28 /* ( */) { return false; }\n\n  pos++;\n\n  // if opening marker is \"(\", switch it to closing marker \")\"\n  if (marker === 0x28) { marker = 0x29; }\n\n  while (pos < max) {\n    code = state.src.charCodeAt(pos);\n    if (code === marker) {\n      state.pos = pos + 1;\n      state.linkContent = unescapeMd(state.src.slice(start + 1, pos));\n      return true;\n    }\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos += 2;\n      continue;\n    }\n\n    pos++;\n  }\n\n  return false;\n};\n","'use strict';\n\n/**\n * Local dependencies\n */\n\nvar assign       = require('./common/utils').assign;\nvar Renderer     = require('./renderer');\nvar ParserCore   = require('./parser_core');\nvar ParserBlock  = require('./parser_block');\nvar ParserInline = require('./parser_inline');\nvar Ruler        = require('./ruler');\n\n/**\n * Preset configs\n */\n\nvar config = {\n  'default':    require('./configs/default'),\n  'full':       require('./configs/full'),\n  'commonmark': require('./configs/commonmark')\n};\n\n/**\n * The `StateCore` class manages state.\n *\n * @param {Object} `instance` Remarkable instance\n * @param {String} `str` Markdown string\n * @param {Object} `env`\n */\n\nfunction StateCore(instance, str, env) {\n  this.src = str;\n  this.env = env;\n  this.options = instance.options;\n  this.tokens = [];\n  this.inlineMode = false;\n\n  this.inline = instance.inline;\n  this.block = instance.block;\n  this.renderer = instance.renderer;\n  this.typographer = instance.typographer;\n}\n\n/**\n * The main `Remarkable` class. Create an instance of\n * `Remarkable` with a `preset` and/or `options`.\n *\n * @param {String} `preset` If no preset is given, `default` is used.\n * @param {Object} `options`\n */\n\nfunction Remarkable(preset, options) {\n  if (typeof preset !== 'string') {\n    options = preset;\n    preset = 'default';\n  }\n\n  this.inline   = new ParserInline();\n  this.block    = new ParserBlock();\n  this.core     = new ParserCore();\n  this.renderer = new Renderer();\n  this.ruler    = new Ruler();\n\n  this.options  = {};\n  this.configure(config[preset]);\n  this.set(options || {});\n}\n\n/**\n * Set options as an alternative to passing them\n * to the constructor.\n *\n * ```js\n * md.set({typographer: true});\n * ```\n * @param {Object} `options`\n * @api public\n */\n\nRemarkable.prototype.set = function (options) {\n  assign(this.options, options);\n};\n\n/**\n * Batch loader for components rules states, and options\n *\n * @param  {Object} `presets`\n */\n\nRemarkable.prototype.configure = function (presets) {\n  var self = this;\n\n  if (!presets) { throw new Error('Wrong `remarkable` preset, check name/content'); }\n  if (presets.options) { self.set(presets.options); }\n  if (presets.components) {\n    Object.keys(presets.components).forEach(function (name) {\n      if (presets.components[name].rules) {\n        self[name].ruler.enable(presets.components[name].rules, true);\n      }\n    });\n  }\n};\n\n/**\n * Use a plugin.\n *\n * ```js\n * var md = new Remarkable();\n *\n * md.use(plugin1)\n *   .use(plugin2, opts)\n *   .use(plugin3);\n * ```\n *\n * @param  {Function} `plugin`\n * @param  {Object} `options`\n * @return {Object} `Remarkable` for chaining\n */\n\nRemarkable.prototype.use = function (plugin, options) {\n  plugin(this, options);\n  return this;\n};\n\n\n/**\n * Parse the input `string` and return a tokens array.\n * Modifies `env` with definitions data.\n *\n * @param  {String} `string`\n * @param  {Object} `env`\n * @return {Array} Array of tokens\n */\n\nRemarkable.prototype.parse = function (str, env) {\n  var state = new StateCore(this, str, env);\n  this.core.process(state);\n  return state.tokens;\n};\n\n/**\n * The main `.render()` method that does all the magic :)\n *\n * @param  {String} `string`\n * @param  {Object} `env`\n * @return {String} Rendered HTML.\n */\n\nRemarkable.prototype.render = function (str, env) {\n  env = env || {};\n  return this.renderer.render(this.parse(str, env), this.options, env);\n};\n\n/**\n * Parse the given content `string` as a single string.\n *\n * @param  {String} `string`\n * @param  {Object} `env`\n * @return {Array} Array of tokens\n */\n\nRemarkable.prototype.parseInline = function (str, env) {\n  var state = new StateCore(this, str, env);\n  state.inlineMode = true;\n  this.core.process(state);\n  return state.tokens;\n};\n\n/**\n * Render a single content `string`, without wrapping it\n * to paragraphs\n *\n * @param  {String} `str`\n * @param  {Object} `env`\n * @return {String}\n */\n\nRemarkable.prototype.renderInline = function (str, env) {\n  env = env || {};\n  return this.renderer.render(this.parseInline(str, env), this.options, env);\n};\n\n/**\n * Expose `Remarkable`\n */\n\nmodule.exports = Remarkable;\n\n/**\n * Expose `utils`, Useful helper functions for custom\n * rendering.\n */\n\nmodule.exports.utils = require('./common/utils');\n","'use strict';\n\n/**\n * Local dependencies\n */\n\nvar Ruler      = require('./ruler');\nvar StateBlock = require('./rules_block/state_block');\n\n/**\n * Parser rules\n */\n\nvar _rules = [\n  [ 'code',       require('./rules_block/code') ],\n  [ 'fences',     require('./rules_block/fences'),     [ 'paragraph', 'blockquote', 'list' ] ],\n  [ 'blockquote', require('./rules_block/blockquote'), [ 'paragraph', 'blockquote', 'list' ] ],\n  [ 'hr',         require('./rules_block/hr'),         [ 'paragraph', 'blockquote', 'list' ] ],\n  [ 'list',       require('./rules_block/list'),       [ 'paragraph', 'blockquote' ] ],\n  [ 'footnote',   require('./rules_block/footnote'),   [ 'paragraph' ] ],\n  [ 'heading',    require('./rules_block/heading'),    [ 'paragraph', 'blockquote' ] ],\n  [ 'lheading',   require('./rules_block/lheading') ],\n  [ 'htmlblock',  require('./rules_block/htmlblock'),  [ 'paragraph', 'blockquote' ] ],\n  [ 'table',      require('./rules_block/table'),      [ 'paragraph' ] ],\n  [ 'deflist',    require('./rules_block/deflist'),    [ 'paragraph' ] ],\n  [ 'paragraph',  require('./rules_block/paragraph') ]\n];\n\n/**\n * Block Parser class\n *\n * @api private\n */\n\nfunction ParserBlock() {\n  this.ruler = new Ruler();\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1], {\n      alt: (_rules[i][2] || []).slice()\n    });\n  }\n}\n\n/**\n * Generate tokens for the given input range.\n *\n * @param  {Object} `state` Has properties like `src`, `parser`, `options` etc\n * @param  {Number} `startLine`\n * @param  {Number} `endLine`\n * @api private\n */\n\nParserBlock.prototype.tokenize = function (state, startLine, endLine) {\n  var rules = this.ruler.getRules('');\n  var len = rules.length;\n  var line = startLine;\n  var hasEmptyLines = false;\n  var ok, i;\n\n  while (line < endLine) {\n    state.line = line = state.skipEmptyLines(line);\n    if (line >= endLine) {\n      break;\n    }\n\n    // Termination condition for nested calls.\n    // Nested calls currently used for blockquotes & lists\n    if (state.tShift[line] < state.blkIndent) {\n      break;\n    }\n\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.line`\n    // - update `state.tokens`\n    // - return true\n\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, line, endLine, false);\n      if (ok) {\n        break;\n      }\n    }\n\n    // set state.tight iff we had an empty line before current tag\n    // i.e. latest empty line should not count\n    state.tight = !hasEmptyLines;\n\n    // paragraph might \"eat\" one newline after it in nested lists\n    if (state.isEmpty(state.line - 1)) {\n      hasEmptyLines = true;\n    }\n\n    line = state.line;\n\n    if (line < endLine && state.isEmpty(line)) {\n      hasEmptyLines = true;\n      line++;\n\n      // two empty lines should stop the parser in list mode\n      if (line < endLine && state.parentType === 'list' && state.isEmpty(line)) { break; }\n      state.line = line;\n    }\n  }\n};\n\nvar TABS_SCAN_RE = /[\\n\\t]/g;\nvar NEWLINES_RE  = /\\r[\\n\\u0085]|[\\u2424\\u2028\\u0085]/g;\nvar SPACES_RE    = /\\u00a0/g;\n\n/**\n * Tokenize the given `str`.\n *\n * @param  {String} `str` Source string\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @param  {Array} `outTokens`\n * @api private\n */\n\nParserBlock.prototype.parse = function (str, options, env, outTokens) {\n  var state, lineStart = 0, lastTabPos = 0;\n  if (!str) { return []; }\n\n  // Normalize spaces\n  str = str.replace(SPACES_RE, ' ');\n\n  // Normalize newlines\n  str = str.replace(NEWLINES_RE, '\\n');\n\n  // Replace tabs with proper number of spaces (1..4)\n  if (str.indexOf('\\t') >= 0) {\n    str = str.replace(TABS_SCAN_RE, function (match, offset) {\n      var result;\n      if (str.charCodeAt(offset) === 0x0A) {\n        lineStart = offset + 1;\n        lastTabPos = 0;\n        return match;\n      }\n      result = '    '.slice((offset - lineStart - lastTabPos) % 4);\n      lastTabPos = offset - lineStart + 1;\n      return result;\n    });\n  }\n\n  state = new StateBlock(str, this, options, env, outTokens);\n  this.tokenize(state, state.line, state.lineMax);\n};\n\n/**\n * Expose `ParserBlock`\n */\n\nmodule.exports = ParserBlock;\n","'use strict';\n\n/**\n * Local dependencies\n */\n\nvar Ruler = require('./ruler');\n\n/**\n * Core parser `rules`\n */\n\nvar _rules = [\n  [ 'block',          require('./rules_core/block')          ],\n  [ 'abbr',           require('./rules_core/abbr')           ],\n  [ 'references',     require('./rules_core/references')     ],\n  [ 'inline',         require('./rules_core/inline')         ],\n  [ 'footnote_tail',  require('./rules_core/footnote_tail')  ],\n  [ 'abbr2',          require('./rules_core/abbr2')          ],\n  [ 'replacements',   require('./rules_core/replacements')   ],\n  [ 'smartquotes',    require('./rules_core/smartquotes')    ],\n  [ 'linkify',        require('./rules_core/linkify')        ]\n];\n\n/**\n * Class for top level (`core`) parser rules\n *\n * @api private\n */\n\nfunction Core() {\n  this.options = {};\n  this.ruler = new Ruler();\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n}\n\n/**\n * Process rules with the given `state`\n *\n * @param  {Object} `state`\n * @api private\n */\n\nCore.prototype.process = function (state) {\n  var i, l, rules;\n  rules = this.ruler.getRules('');\n  for (i = 0, l = rules.length; i < l; i++) {\n    rules[i](state);\n  }\n};\n\n/**\n * Expose `Core`\n */\n\nmodule.exports = Core;\n","'use strict';\n\n/**\n * Local dependencies\n */\n\nvar Ruler       = require('./ruler');\nvar StateInline = require('./rules_inline/state_inline');\nvar utils       = require('./common/utils');\n\n/**\n * Inline Parser `rules`\n */\n\nvar _rules = [\n  [ 'text',            require('./rules_inline/text') ],\n  [ 'newline',         require('./rules_inline/newline') ],\n  [ 'escape',          require('./rules_inline/escape') ],\n  [ 'backticks',       require('./rules_inline/backticks') ],\n  [ 'del',             require('./rules_inline/del') ],\n  [ 'ins',             require('./rules_inline/ins') ],\n  [ 'mark',            require('./rules_inline/mark') ],\n  [ 'emphasis',        require('./rules_inline/emphasis') ],\n  [ 'sub',             require('./rules_inline/sub') ],\n  [ 'sup',             require('./rules_inline/sup') ],\n  [ 'links',           require('./rules_inline/links') ],\n  [ 'footnote_inline', require('./rules_inline/footnote_inline') ],\n  [ 'footnote_ref',    require('./rules_inline/footnote_ref') ],\n  [ 'autolink',        require('./rules_inline/autolink') ],\n  [ 'htmltag',         require('./rules_inline/htmltag') ],\n  [ 'entity',          require('./rules_inline/entity') ]\n];\n\n/**\n * Inline Parser class. Note that link validation is stricter\n * in Remarkable than what is specified by CommonMark. If you\n * want to change this you can use a custom validator.\n *\n * @api private\n */\n\nfunction ParserInline() {\n  this.ruler = new Ruler();\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n\n  // Can be overridden with a custom validator\n  this.validateLink = validateLink;\n}\n\n/**\n * Skip a single token by running all rules in validation mode.\n * Returns `true` if any rule reports success.\n *\n * @param  {Object} `state`\n * @api privage\n */\n\nParserInline.prototype.skipToken = function (state) {\n  var rules = this.ruler.getRules('');\n  var len = rules.length;\n  var pos = state.pos;\n  var i, cached_pos;\n\n  if ((cached_pos = state.cacheGet(pos)) > 0) {\n    state.pos = cached_pos;\n    return;\n  }\n\n  for (i = 0; i < len; i++) {\n    if (rules[i](state, true)) {\n      state.cacheSet(pos, state.pos);\n      return;\n    }\n  }\n\n  state.pos++;\n  state.cacheSet(pos, state.pos);\n};\n\n/**\n * Generate tokens for the given input range.\n *\n * @param  {Object} `state`\n * @api private\n */\n\nParserInline.prototype.tokenize = function (state) {\n  var rules = this.ruler.getRules('');\n  var len = rules.length;\n  var end = state.posMax;\n  var ok, i;\n\n  while (state.pos < end) {\n\n    // Try all possible rules.\n    // On success, the rule should:\n    //\n    // - update `state.pos`\n    // - update `state.tokens`\n    // - return true\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, false);\n\n      if (ok) {\n        break;\n      }\n    }\n\n    if (ok) {\n      if (state.pos >= end) { break; }\n      continue;\n    }\n\n    state.pending += state.src[state.pos++];\n  }\n\n  if (state.pending) {\n    state.pushPending();\n  }\n};\n\n/**\n * Parse the given input string.\n *\n * @param  {String} `str`\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @param  {Array} `outTokens`\n * @api private\n */\n\nParserInline.prototype.parse = function (str, options, env, outTokens) {\n  var state = new StateInline(str, this, options, env, outTokens);\n  this.tokenize(state);\n};\n\n/**\n * Validate the given `url` by checking for bad protocols.\n *\n * @param  {String} `url`\n * @return {Boolean}\n */\n\nfunction validateLink(url) {\n  var BAD_PROTOCOLS = [ 'vbscript', 'javascript', 'file', 'data' ];\n  var str = url.trim().toLowerCase();\n  // Care about digital entities \"javascript&#x3A;alert(1)\"\n  str = utils.replaceEntities(str);\n  if (str.indexOf(':') !== -1 && BAD_PROTOCOLS.indexOf(str.split(':')[0]) !== -1) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Expose `ParserInline`\n */\n\nmodule.exports = ParserInline;\n","'use strict';\n\n/**\n * Local dependencies\n */\n\nvar utils = require('./common/utils');\nvar rules = require('./rules');\n\n/**\n * Expose `Renderer`\n */\n\nmodule.exports = Renderer;\n\n/**\n * Renderer class. Renders HTML and exposes `rules` to allow\n * local modifications.\n */\n\nfunction Renderer() {\n  this.rules = utils.assign({}, rules);\n\n  // exported helper, for custom rules only\n  this.getBreak = rules.getBreak;\n}\n\n/**\n * Render a string of inline HTML with the given `tokens` and\n * `options`.\n *\n * @param  {Array} `tokens`\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @return {String}\n * @api public\n */\n\nRenderer.prototype.renderInline = function (tokens, options, env) {\n  var _rules = this.rules;\n  var len = tokens.length, i = 0;\n  var result = '';\n\n  while (len--) {\n    result += _rules[tokens[i].type](tokens, i++, options, env, this);\n  }\n\n  return result;\n};\n\n/**\n * Render a string of HTML with the given `tokens` and\n * `options`.\n *\n * @param  {Array} `tokens`\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @return {String}\n * @api public\n */\n\nRenderer.prototype.render = function (tokens, options, env) {\n  var _rules = this.rules;\n  var len = tokens.length, i = -1;\n  var result = '';\n\n  while (++i < len) {\n    if (tokens[i].type === 'inline') {\n      result += this.renderInline(tokens[i].children, options, env);\n    } else {\n      result += _rules[tokens[i].type](tokens, i, options, env, this);\n    }\n  }\n  return result;\n};\n","'use strict';\n\n/**\n * Ruler is a helper class for building responsibility chains from\n * parse rules. It allows:\n *\n *   - easy stack rules chains\n *   - getting main chain and named chains content (as arrays of functions)\n *\n * Helper methods, should not be used directly.\n * @api private\n */\n\nfunction Ruler() {\n  // List of added rules. Each element is:\n  //\n  // { name: XXX,\n  //   enabled: Boolean,\n  //   fn: Function(),\n  //   alt: [ name2, name3 ] }\n  //\n  this.__rules__ = [];\n\n  // Cached rule chains.\n  //\n  // First level - chain name, '' for default.\n  // Second level - digital anchor for fast filtering by charcodes.\n  //\n  this.__cache__ = null;\n}\n\n/**\n * Find the index of a rule by `name`.\n *\n * @param  {String} `name`\n * @return {Number} Index of the given `name`\n * @api private\n */\n\nRuler.prototype.__find__ = function (name) {\n  var len = this.__rules__.length;\n  var i = -1;\n\n  while (len--) {\n    if (this.__rules__[++i].name === name) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n/**\n * Build the rules lookup cache\n *\n * @api private\n */\n\nRuler.prototype.__compile__ = function () {\n  var self = this;\n  var chains = [ '' ];\n\n  // collect unique names\n  self.__rules__.forEach(function (rule) {\n    if (!rule.enabled) {\n      return;\n    }\n\n    rule.alt.forEach(function (altName) {\n      if (chains.indexOf(altName) < 0) {\n        chains.push(altName);\n      }\n    });\n  });\n\n  self.__cache__ = {};\n\n  chains.forEach(function (chain) {\n    self.__cache__[chain] = [];\n    self.__rules__.forEach(function (rule) {\n      if (!rule.enabled) {\n        return;\n      }\n\n      if (chain && rule.alt.indexOf(chain) < 0) {\n        return;\n      }\n      self.__cache__[chain].push(rule.fn);\n    });\n  });\n};\n\n/**\n * Ruler public methods\n * ------------------------------------------------\n */\n\n/**\n * Replace rule function\n *\n * @param  {String} `name` Rule name\n * @param  {Function `fn`\n * @param  {Object} `options`\n * @api private\n */\n\nRuler.prototype.at = function (name, fn, options) {\n  var idx = this.__find__(name);\n  var opt = options || {};\n\n  if (idx === -1) {\n    throw new Error('Parser rule not found: ' + name);\n  }\n\n  this.__rules__[idx].fn = fn;\n  this.__rules__[idx].alt = opt.alt || [];\n  this.__cache__ = null;\n};\n\n/**\n * Add a rule to the chain before given the `ruleName`.\n *\n * @param  {String}   `beforeName`\n * @param  {String}   `ruleName`\n * @param  {Function} `fn`\n * @param  {Object}   `options`\n * @api private\n */\n\nRuler.prototype.before = function (beforeName, ruleName, fn, options) {\n  var idx = this.__find__(beforeName);\n  var opt = options || {};\n\n  if (idx === -1) {\n    throw new Error('Parser rule not found: ' + beforeName);\n  }\n\n  this.__rules__.splice(idx, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Add a rule to the chain after the given `ruleName`.\n *\n * @param  {String}   `afterName`\n * @param  {String}   `ruleName`\n * @param  {Function} `fn`\n * @param  {Object}   `options`\n * @api private\n */\n\nRuler.prototype.after = function (afterName, ruleName, fn, options) {\n  var idx = this.__find__(afterName);\n  var opt = options || {};\n\n  if (idx === -1) {\n    throw new Error('Parser rule not found: ' + afterName);\n  }\n\n  this.__rules__.splice(idx + 1, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Add a rule to the end of chain.\n *\n * @param  {String}   `ruleName`\n * @param  {Function} `fn`\n * @param  {Object}   `options`\n * @return {String}\n */\n\nRuler.prototype.push = function (ruleName, fn, options) {\n  var opt = options || {};\n\n  this.__rules__.push({\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Enable a rule or list of rules.\n *\n * @param  {String|Array} `list` Name or array of rule names to enable\n * @param  {Boolean} `strict` If `true`, all non listed rules will be disabled.\n * @api private\n */\n\nRuler.prototype.enable = function (list, strict) {\n  list = !Array.isArray(list)\n    ? [ list ]\n    : list;\n\n  // In strict mode disable all existing rules first\n  if (strict) {\n    this.__rules__.forEach(function (rule) {\n      rule.enabled = false;\n    });\n  }\n\n  // Search by name and enable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n    if (idx < 0) {\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = true;\n  }, this);\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Disable a rule or list of rules.\n *\n * @param  {String|Array} `list` Name or array of rule names to disable\n * @api private\n */\n\nRuler.prototype.disable = function (list) {\n  list = !Array.isArray(list)\n    ? [ list ]\n    : list;\n\n  // Search by name and disable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n    if (idx < 0) {\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = false;\n  }, this);\n\n  this.__cache__ = null;\n};\n\n/**\n * Get a rules list as an array of functions.\n *\n * @param  {String} `chainName`\n * @return {Object}\n * @api private\n */\n\nRuler.prototype.getRules = function (chainName) {\n  if (this.__cache__ === null) {\n    this.__compile__();\n  }\n  return this.__cache__[chainName] || [];\n};\n\n/**\n * Expose `Ruler`\n */\n\nmodule.exports = Ruler;\n","'use strict';\n\n/**\n * Local dependencies\n */\n\nvar has             = require('./common/utils').has;\nvar unescapeMd      = require('./common/utils').unescapeMd;\nvar replaceEntities = require('./common/utils').replaceEntities;\nvar escapeHtml      = require('./common/utils').escapeHtml;\n\n/**\n * Renderer rules cache\n */\n\nvar rules = {};\n\n/**\n * Blockquotes\n */\n\nrules.blockquote_open = function(/* tokens, idx, options, env */) {\n  return '<blockquote>\\n';\n};\n\nrules.blockquote_close = function(tokens, idx /*, options, env */) {\n  return '</blockquote>' + getBreak(tokens, idx);\n};\n\n/**\n * Code\n */\n\nrules.code = function(tokens, idx /*, options, env */) {\n  if (tokens[idx].block) {\n    return '<pre><code>' + escapeHtml(tokens[idx].content) + '</code></pre>' + getBreak(tokens, idx);\n  }\n  return '<code>' + escapeHtml(tokens[idx].content) + '</code>';\n};\n\n/**\n * Fenced code blocks\n */\n\nrules.fence = function(tokens, idx, options, env, instance) {\n  var token = tokens[idx];\n  var langClass = '';\n  var langPrefix = options.langPrefix;\n  var langName = '', fences, fenceName;\n  var highlighted;\n\n  if (token.params) {\n\n    //\n    // ```foo bar\n    //\n    // Try custom renderer \"foo\" first. That will simplify overwrite\n    // for diagrams, latex, and any other fenced block with custom look\n    //\n\n    fences = token.params.split(/\\s+/g);\n    fenceName = fences.join(' ');\n\n    if (has(instance.rules.fence_custom, fences[0])) {\n      return instance.rules.fence_custom[fences[0]](tokens, idx, options, env, instance);\n    }\n\n    langName = escapeHtml(replaceEntities(unescapeMd(fenceName)));\n    langClass = ' class=\"' + langPrefix + langName + '\"';\n  }\n\n  if (options.highlight) {\n    highlighted = options.highlight.apply(options.highlight, [ token.content ].concat(fences))\n      || escapeHtml(token.content);\n  } else {\n    highlighted = escapeHtml(token.content);\n  }\n\n  return '<pre><code' + langClass + '>'\n        + highlighted\n        + '</code></pre>'\n        + getBreak(tokens, idx);\n};\n\nrules.fence_custom = {};\n\n/**\n * Headings\n */\n\nrules.heading_open = function(tokens, idx /*, options, env */) {\n  return '<h' + tokens[idx].hLevel + '>';\n};\nrules.heading_close = function(tokens, idx /*, options, env */) {\n  return '</h' + tokens[idx].hLevel + '>\\n';\n};\n\n/**\n * Horizontal rules\n */\n\nrules.hr = function(tokens, idx, options /*, env */) {\n  return (options.xhtmlOut ? '<hr />' : '<hr>') + getBreak(tokens, idx);\n};\n\n/**\n * Bullets\n */\n\nrules.bullet_list_open = function(/* tokens, idx, options, env */) {\n  return '<ul>\\n';\n};\nrules.bullet_list_close = function(tokens, idx /*, options, env */) {\n  return '</ul>' + getBreak(tokens, idx);\n};\n\n/**\n * List items\n */\n\nrules.list_item_open = function(/* tokens, idx, options, env */) {\n  return '<li>';\n};\nrules.list_item_close = function(/* tokens, idx, options, env */) {\n  return '</li>\\n';\n};\n\n/**\n * Ordered list items\n */\n\nrules.ordered_list_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  var order = token.order > 1 ? ' start=\"' + token.order + '\"' : '';\n  return '<ol' + order + '>\\n';\n};\nrules.ordered_list_close = function(tokens, idx /*, options, env */) {\n  return '</ol>' + getBreak(tokens, idx);\n};\n\n/**\n * Paragraphs\n */\n\nrules.paragraph_open = function(tokens, idx /*, options, env */) {\n  return tokens[idx].tight ? '' : '<p>';\n};\nrules.paragraph_close = function(tokens, idx /*, options, env */) {\n  var addBreak = !(tokens[idx].tight && idx && tokens[idx - 1].type === 'inline' && !tokens[idx - 1].content);\n  return (tokens[idx].tight ? '' : '</p>') + (addBreak ? getBreak(tokens, idx) : '');\n};\n\n/**\n * Links\n */\n\nrules.link_open = function(tokens, idx, options /* env */) {\n  var title = tokens[idx].title ? (' title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\"') : '';\n  var target = options.linkTarget ? (' target=\"' + options.linkTarget + '\"') : '';\n  return '<a href=\"' + escapeHtml(tokens[idx].href) + '\"' + title + target + '>';\n};\nrules.link_close = function(/* tokens, idx, options, env */) {\n  return '</a>';\n};\n\n/**\n * Images\n */\n\nrules.image = function(tokens, idx, options /*, env */) {\n  var src = ' src=\"' + escapeHtml(tokens[idx].src) + '\"';\n  var title = tokens[idx].title ? (' title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\"') : '';\n  var alt = ' alt=\"' + (tokens[idx].alt ? escapeHtml(replaceEntities(unescapeMd(tokens[idx].alt))) : '') + '\"';\n  var suffix = options.xhtmlOut ? ' /' : '';\n  return '<img' + src + alt + title + suffix + '>';\n};\n\n/**\n * Tables\n */\n\nrules.table_open = function(/* tokens, idx, options, env */) {\n  return '<table>\\n';\n};\nrules.table_close = function(/* tokens, idx, options, env */) {\n  return '</table>\\n';\n};\nrules.thead_open = function(/* tokens, idx, options, env */) {\n  return '<thead>\\n';\n};\nrules.thead_close = function(/* tokens, idx, options, env */) {\n  return '</thead>\\n';\n};\nrules.tbody_open = function(/* tokens, idx, options, env */) {\n  return '<tbody>\\n';\n};\nrules.tbody_close = function(/* tokens, idx, options, env */) {\n  return '</tbody>\\n';\n};\nrules.tr_open = function(/* tokens, idx, options, env */) {\n  return '<tr>';\n};\nrules.tr_close = function(/* tokens, idx, options, env */) {\n  return '</tr>\\n';\n};\nrules.th_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  return '<th'\n    + (token.align ? ' style=\"text-align:' + token.align + '\"' : '')\n    + '>';\n};\nrules.th_close = function(/* tokens, idx, options, env */) {\n  return '</th>';\n};\nrules.td_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  return '<td'\n    + (token.align ? ' style=\"text-align:' + token.align + '\"' : '')\n    + '>';\n};\nrules.td_close = function(/* tokens, idx, options, env */) {\n  return '</td>';\n};\n\n/**\n * Bold\n */\n\nrules.strong_open = function(/* tokens, idx, options, env */) {\n  return '<strong>';\n};\nrules.strong_close = function(/* tokens, idx, options, env */) {\n  return '</strong>';\n};\n\n/**\n * Italicize\n */\n\nrules.em_open = function(/* tokens, idx, options, env */) {\n  return '<em>';\n};\nrules.em_close = function(/* tokens, idx, options, env */) {\n  return '</em>';\n};\n\n/**\n * Strikethrough\n */\n\nrules.del_open = function(/* tokens, idx, options, env */) {\n  return '<del>';\n};\nrules.del_close = function(/* tokens, idx, options, env */) {\n  return '</del>';\n};\n\n/**\n * Insert\n */\n\nrules.ins_open = function(/* tokens, idx, options, env */) {\n  return '<ins>';\n};\nrules.ins_close = function(/* tokens, idx, options, env */) {\n  return '</ins>';\n};\n\n/**\n * Highlight\n */\n\nrules.mark_open = function(/* tokens, idx, options, env */) {\n  return '<mark>';\n};\nrules.mark_close = function(/* tokens, idx, options, env */) {\n  return '</mark>';\n};\n\n/**\n * Super- and sub-script\n */\n\nrules.sub = function(tokens, idx /*, options, env */) {\n  return '<sub>' + escapeHtml(tokens[idx].content) + '</sub>';\n};\nrules.sup = function(tokens, idx /*, options, env */) {\n  return '<sup>' + escapeHtml(tokens[idx].content) + '</sup>';\n};\n\n/**\n * Breaks\n */\n\nrules.hardbreak = function(tokens, idx, options /*, env */) {\n  return options.xhtmlOut ? '<br />\\n' : '<br>\\n';\n};\nrules.softbreak = function(tokens, idx, options /*, env */) {\n  return options.breaks ? (options.xhtmlOut ? '<br />\\n' : '<br>\\n') : '\\n';\n};\n\n/**\n * Text\n */\n\nrules.text = function(tokens, idx /*, options, env */) {\n  return escapeHtml(tokens[idx].content);\n};\n\n/**\n * Content\n */\n\nrules.htmlblock = function(tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\nrules.htmltag = function(tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\n\n/**\n * Abbreviations, initialism\n */\n\nrules.abbr_open = function(tokens, idx /*, options, env */) {\n  return '<abbr title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\">';\n};\nrules.abbr_close = function(/* tokens, idx, options, env */) {\n  return '</abbr>';\n};\n\n/**\n * Footnotes\n */\n\nrules.footnote_ref = function(tokens, idx) {\n  var n = Number(tokens[idx].id + 1).toString();\n  var id = 'fnref' + n;\n  if (tokens[idx].subId > 0) {\n    id += ':' + tokens[idx].subId;\n  }\n  return '<sup class=\"footnote-ref\"><a href=\"#fn' + n + '\" id=\"' + id + '\">[' + n + ']</a></sup>';\n};\nrules.footnote_block_open = function(tokens, idx, options) {\n  var hr = options.xhtmlOut\n    ? '<hr class=\"footnotes-sep\" />\\n'\n    : '<hr class=\"footnotes-sep\">\\n';\n  return hr + '<section class=\"footnotes\">\\n<ol class=\"footnotes-list\">\\n';\n};\nrules.footnote_block_close = function() {\n  return '</ol>\\n</section>\\n';\n};\nrules.footnote_open = function(tokens, idx) {\n  var id = Number(tokens[idx].id + 1).toString();\n  return '<li id=\"fn' + id + '\"  class=\"footnote-item\">';\n};\nrules.footnote_close = function() {\n  return '</li>\\n';\n};\nrules.footnote_anchor = function(tokens, idx) {\n  var n = Number(tokens[idx].id + 1).toString();\n  var id = 'fnref' + n;\n  if (tokens[idx].subId > 0) {\n    id += ':' + tokens[idx].subId;\n  }\n  return ' <a href=\"#' + id + '\" class=\"footnote-backref\"></a>';\n};\n\n/**\n * Definition lists\n */\n\nrules.dl_open = function() {\n  return '<dl>\\n';\n};\nrules.dt_open = function() {\n  return '<dt>';\n};\nrules.dd_open = function() {\n  return '<dd>';\n};\nrules.dl_close = function() {\n  return '</dl>\\n';\n};\nrules.dt_close = function() {\n  return '</dt>\\n';\n};\nrules.dd_close = function() {\n  return '</dd>\\n';\n};\n\n/**\n * Helper functions\n */\n\nfunction nextToken(tokens, idx) {\n  if (++idx >= tokens.length - 2) {\n    return idx;\n  }\n  if ((tokens[idx].type === 'paragraph_open' && tokens[idx].tight) &&\n      (tokens[idx + 1].type === 'inline' && tokens[idx + 1].content.length === 0) &&\n      (tokens[idx + 2].type === 'paragraph_close' && tokens[idx + 2].tight)) {\n    return nextToken(tokens, idx + 2);\n  }\n  return idx;\n}\n\n/**\n * Check to see if `\\n` is needed before the next token.\n *\n * @param  {Array} `tokens`\n * @param  {Number} `idx`\n * @return {String} Empty string or newline\n * @api private\n */\n\nvar getBreak = rules.getBreak = function getBreak(tokens, idx) {\n  idx = nextToken(tokens, idx);\n  if (idx < tokens.length && tokens[idx].type === 'list_item_close') {\n    return '';\n  }\n  return '\\n';\n};\n\n/**\n * Expose `rules`\n */\n\nmodule.exports = rules;\n","// Block quotes\n\n'use strict';\n\n\nmodule.exports = function blockquote(state, startLine, endLine, silent) {\n  var nextLine, lastLineEmpty, oldTShift, oldBMarks, oldIndent, oldParentType, lines,\n      terminatorRules,\n      i, l, terminate,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos > max) { return false; }\n\n  // check the block quote marker\n  if (state.src.charCodeAt(pos++) !== 0x3E/* > */) { return false; }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  // we know that it's going to be a valid blockquote,\n  // so no point trying to find the end of it in silent mode\n  if (silent) { return true; }\n\n  // skip one optional space after '>'\n  if (state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n  oldIndent = state.blkIndent;\n  state.blkIndent = 0;\n\n  oldBMarks = [ state.bMarks[startLine] ];\n  state.bMarks[startLine] = pos;\n\n  // check if we have an empty blockquote\n  pos = pos < max ? state.skipSpaces(pos) : pos;\n  lastLineEmpty = pos >= max;\n\n  oldTShift = [ state.tShift[startLine] ];\n  state.tShift[startLine] = pos - state.bMarks[startLine];\n\n  terminatorRules = state.parser.ruler.getRules('blockquote');\n\n  // Search the end of the block\n  //\n  // Block ends with either:\n  //  1. an empty line outside:\n  //     ```\n  //     > test\n  //\n  //     ```\n  //  2. an empty line inside:\n  //     ```\n  //     >\n  //     test\n  //     ```\n  //  3. another tag\n  //     ```\n  //     > test\n  //      - - -\n  //     ```\n  for (nextLine = startLine + 1; nextLine < endLine; nextLine++) {\n    pos = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos >= max) {\n      // Case 1: line is not inside the blockquote, and this line is empty.\n      break;\n    }\n\n    if (state.src.charCodeAt(pos++) === 0x3E/* > */) {\n      // This line is inside the blockquote.\n\n      // skip one optional space after '>'\n      if (state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n      oldBMarks.push(state.bMarks[nextLine]);\n      state.bMarks[nextLine] = pos;\n\n      pos = pos < max ? state.skipSpaces(pos) : pos;\n      lastLineEmpty = pos >= max;\n\n      oldTShift.push(state.tShift[nextLine]);\n      state.tShift[nextLine] = pos - state.bMarks[nextLine];\n      continue;\n    }\n\n    // Case 2: line is not inside the blockquote, and the last line was empty.\n    if (lastLineEmpty) { break; }\n\n    // Case 3: another tag found.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    oldBMarks.push(state.bMarks[nextLine]);\n    oldTShift.push(state.tShift[nextLine]);\n\n    // A negative number means that this is a paragraph continuation;\n    //\n    // Any negative number will do the job here, but it's better for it\n    // to be large enough to make any bugs obvious.\n    state.tShift[nextLine] = -1337;\n  }\n\n  oldParentType = state.parentType;\n  state.parentType = 'blockquote';\n  state.tokens.push({\n    type: 'blockquote_open',\n    lines: lines = [ startLine, 0 ],\n    level: state.level++\n  });\n  state.parser.tokenize(state, startLine, nextLine);\n  state.tokens.push({\n    type: 'blockquote_close',\n    level: --state.level\n  });\n  state.parentType = oldParentType;\n  lines[1] = state.line;\n\n  // Restore original tShift; this might not be necessary since the parser\n  // has already been here, but just to make sure we can do that.\n  for (i = 0; i < oldTShift.length; i++) {\n    state.bMarks[i + startLine] = oldBMarks[i];\n    state.tShift[i + startLine] = oldTShift[i];\n  }\n  state.blkIndent = oldIndent;\n\n  return true;\n};\n","// Code block (4 spaces padded)\n\n'use strict';\n\n\nmodule.exports = function code(state, startLine, endLine/*, silent*/) {\n  var nextLine, last;\n\n  if (state.tShift[startLine] - state.blkIndent < 4) { return false; }\n\n  last = nextLine = startLine + 1;\n\n  while (nextLine < endLine) {\n    if (state.isEmpty(nextLine)) {\n      nextLine++;\n      continue;\n    }\n    if (state.tShift[nextLine] - state.blkIndent >= 4) {\n      nextLine++;\n      last = nextLine;\n      continue;\n    }\n    break;\n  }\n\n  state.line = nextLine;\n  state.tokens.push({\n    type: 'code',\n    content: state.getLines(startLine, last, 4 + state.blkIndent, true),\n    block: true,\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  return true;\n};\n","// Definition lists\n\n'use strict';\n\n\n// Search `[:~][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipMarker(state, line) {\n  var pos, marker,\n      start = state.bMarks[line] + state.tShift[line],\n      max = state.eMarks[line];\n\n  if (start >= max) { return -1; }\n\n  // Check bullet\n  marker = state.src.charCodeAt(start++);\n  if (marker !== 0x7E/* ~ */ && marker !== 0x3A/* : */) { return -1; }\n\n  pos = state.skipSpaces(start);\n\n  // require space after \":\"\n  if (start === pos) { return -1; }\n\n  // no empty definitions, e.g. \"  : \"\n  if (pos >= max) { return -1; }\n\n  return pos;\n}\n\nfunction markTightParagraphs(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].tight = true;\n      state.tokens[i].tight = true;\n      i += 2;\n    }\n  }\n}\n\nmodule.exports = function deflist(state, startLine, endLine, silent) {\n  var contentStart,\n      ddLine,\n      dtLine,\n      itemLines,\n      listLines,\n      listTokIdx,\n      nextLine,\n      oldIndent,\n      oldDDIndent,\n      oldParentType,\n      oldTShift,\n      oldTight,\n      prevEmptyEnd,\n      tight;\n\n  if (silent) {\n    // quirk: validation mode validates a dd block only, not a whole deflist\n    if (state.ddIndent < 0) { return false; }\n    return skipMarker(state, startLine) >= 0;\n  }\n\n  nextLine = startLine + 1;\n  if (state.isEmpty(nextLine)) {\n    if (++nextLine > endLine) { return false; }\n  }\n\n  if (state.tShift[nextLine] < state.blkIndent) { return false; }\n  contentStart = skipMarker(state, nextLine);\n  if (contentStart < 0) { return false; }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  state.tokens.push({\n    type: 'dl_open',\n    lines: listLines = [ startLine, 0 ],\n    level: state.level++\n  });\n\n  //\n  // Iterate list items\n  //\n\n  dtLine = startLine;\n  ddLine = nextLine;\n\n  // One definition list can contain multiple DTs,\n  // and one DT can be followed by multiple DDs.\n  //\n  // Thus, there is two loops here, and label is\n  // needed to break out of the second one\n  //\n  /*eslint no-labels:0,block-scoped-var:0*/\n  OUTER:\n  for (;;) {\n    tight = true;\n    prevEmptyEnd = false;\n\n    state.tokens.push({\n      type: 'dt_open',\n      lines: [ dtLine, dtLine ],\n      level: state.level++\n    });\n    state.tokens.push({\n      type: 'inline',\n      content: state.getLines(dtLine, dtLine + 1, state.blkIndent, false).trim(),\n      level: state.level + 1,\n      lines: [ dtLine, dtLine ],\n      children: []\n    });\n    state.tokens.push({\n      type: 'dt_close',\n      level: --state.level\n    });\n\n    for (;;) {\n      state.tokens.push({\n        type: 'dd_open',\n        lines: itemLines = [ nextLine, 0 ],\n        level: state.level++\n      });\n\n      oldTight = state.tight;\n      oldDDIndent = state.ddIndent;\n      oldIndent = state.blkIndent;\n      oldTShift = state.tShift[ddLine];\n      oldParentType = state.parentType;\n      state.blkIndent = state.ddIndent = state.tShift[ddLine] + 2;\n      state.tShift[ddLine] = contentStart - state.bMarks[ddLine];\n      state.tight = true;\n      state.parentType = 'deflist';\n\n      state.parser.tokenize(state, ddLine, endLine, true);\n\n      // If any of list item is tight, mark list as tight\n      if (!state.tight || prevEmptyEnd) {\n        tight = false;\n      }\n      // Item become loose if finish with empty line,\n      // but we should filter last element, because it means list finish\n      prevEmptyEnd = (state.line - ddLine) > 1 && state.isEmpty(state.line - 1);\n\n      state.tShift[ddLine] = oldTShift;\n      state.tight = oldTight;\n      state.parentType = oldParentType;\n      state.blkIndent = oldIndent;\n      state.ddIndent = oldDDIndent;\n\n      state.tokens.push({\n        type: 'dd_close',\n        level: --state.level\n      });\n\n      itemLines[1] = nextLine = state.line;\n\n      if (nextLine >= endLine) { break OUTER; }\n\n      if (state.tShift[nextLine] < state.blkIndent) { break OUTER; }\n      contentStart = skipMarker(state, nextLine);\n      if (contentStart < 0) { break; }\n\n      ddLine = nextLine;\n\n      // go to the next loop iteration:\n      // insert DD tag and repeat checking\n    }\n\n    if (nextLine >= endLine) { break; }\n    dtLine = nextLine;\n\n    if (state.isEmpty(dtLine)) { break; }\n    if (state.tShift[dtLine] < state.blkIndent) { break; }\n\n    ddLine = dtLine + 1;\n    if (ddLine >= endLine) { break; }\n    if (state.isEmpty(ddLine)) { ddLine++; }\n    if (ddLine >= endLine) { break; }\n\n    if (state.tShift[ddLine] < state.blkIndent) { break; }\n    contentStart = skipMarker(state, ddLine);\n    if (contentStart < 0) { break; }\n\n    // go to the next loop iteration:\n    // insert DT and DD tags and repeat checking\n  }\n\n  // Finilize list\n  state.tokens.push({\n    type: 'dl_close',\n    level: --state.level\n  });\n  listLines[1] = nextLine;\n\n  state.line = nextLine;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx);\n  }\n\n  return true;\n};\n","// fences (``` lang, ~~~ lang)\n\n'use strict';\n\n\nmodule.exports = function fences(state, startLine, endLine, silent) {\n  var marker, len, params, nextLine, mem,\n      haveEndMarker = false,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos + 3 > max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x7E/* ~ */ && marker !== 0x60 /* ` */) {\n    return false;\n  }\n\n  // scan marker length\n  mem = pos;\n  pos = state.skipChars(pos, marker);\n\n  len = pos - mem;\n\n  if (len < 3) { return false; }\n\n  params = state.src.slice(pos, max).trim();\n\n  if (params.indexOf('`') >= 0) { return false; }\n\n  // Since start is found, we can report success here in validation mode\n  if (silent) { return true; }\n\n  // search end of block\n  nextLine = startLine;\n\n  for (;;) {\n    nextLine++;\n    if (nextLine >= endLine) {\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      break;\n    }\n\n    pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos < max && state.tShift[nextLine] < state.blkIndent) {\n      // non-empty line with negative indent should stop the list:\n      // - ```\n      //  test\n      break;\n    }\n\n    if (state.src.charCodeAt(pos) !== marker) { continue; }\n\n    if (state.tShift[nextLine] - state.blkIndent >= 4) {\n      // closing fence should be indented less than 4 spaces\n      continue;\n    }\n\n    pos = state.skipChars(pos, marker);\n\n    // closing code fence must be at least as long as the opening one\n    if (pos - mem < len) { continue; }\n\n    // make sure tail has spaces only\n    pos = state.skipSpaces(pos);\n\n    if (pos < max) { continue; }\n\n    haveEndMarker = true;\n    // found!\n    break;\n  }\n\n  // If a fence has heading spaces, they should be removed from its inner block\n  len = state.tShift[startLine];\n\n  state.line = nextLine + (haveEndMarker ? 1 : 0);\n  state.tokens.push({\n    type: 'fence',\n    params: params,\n    content: state.getLines(startLine + 1, nextLine, len, true),\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  return true;\n};\n","// Process footnote reference list\n\n'use strict';\n\n\nmodule.exports = function footnote(state, startLine, endLine, silent) {\n  var oldBMark, oldTShift, oldParentType, pos, label,\n      start = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // line should be at least 5 chars - \"[^x]:\"\n  if (start + 4 > max) { return false; }\n\n  if (state.src.charCodeAt(start) !== 0x5B/* [ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5E/* ^ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  for (pos = start + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x20) { return false; }\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */) {\n      break;\n    }\n  }\n\n  if (pos === start + 2) { return false; } // no empty footnote labels\n  if (pos + 1 >= max || state.src.charCodeAt(++pos) !== 0x3A /* : */) { return false; }\n  if (silent) { return true; }\n  pos++;\n\n  if (!state.env.footnotes) { state.env.footnotes = {}; }\n  if (!state.env.footnotes.refs) { state.env.footnotes.refs = {}; }\n  label = state.src.slice(start + 2, pos - 2);\n  state.env.footnotes.refs[':' + label] = -1;\n\n  state.tokens.push({\n    type: 'footnote_reference_open',\n    label: label,\n    level: state.level++\n  });\n\n  oldBMark = state.bMarks[startLine];\n  oldTShift = state.tShift[startLine];\n  oldParentType = state.parentType;\n  state.tShift[startLine] = state.skipSpaces(pos) - pos;\n  state.bMarks[startLine] = pos;\n  state.blkIndent += 4;\n  state.parentType = 'footnote';\n\n  if (state.tShift[startLine] < state.blkIndent) {\n    state.tShift[startLine] += state.blkIndent;\n    state.bMarks[startLine] -= state.blkIndent;\n  }\n\n  state.parser.tokenize(state, startLine, endLine, true);\n\n  state.parentType = oldParentType;\n  state.blkIndent -= 4;\n  state.tShift[startLine] = oldTShift;\n  state.bMarks[startLine] = oldBMark;\n\n  state.tokens.push({\n    type: 'footnote_reference_close',\n    level: --state.level\n  });\n\n  return true;\n};\n","// heading (#, ##, ...)\n\n'use strict';\n\n\nmodule.exports = function heading(state, startLine, endLine, silent) {\n  var ch, level, tmp,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos >= max) { return false; }\n\n  ch  = state.src.charCodeAt(pos);\n\n  if (ch !== 0x23/* # */ || pos >= max) { return false; }\n\n  // count heading level\n  level = 1;\n  ch = state.src.charCodeAt(++pos);\n  while (ch === 0x23/* # */ && pos < max && level <= 6) {\n    level++;\n    ch = state.src.charCodeAt(++pos);\n  }\n\n  if (level > 6 || (pos < max && ch !== 0x20/* space */)) { return false; }\n\n  if (silent) { return true; }\n\n  // Let's cut tails like '    ###  ' from the end of string\n\n  max = state.skipCharsBack(max, 0x20, pos); // space\n  tmp = state.skipCharsBack(max, 0x23, pos); // #\n  if (tmp > pos && state.src.charCodeAt(tmp - 1) === 0x20/* space */) {\n    max = tmp;\n  }\n\n  state.line = startLine + 1;\n\n  state.tokens.push({ type: 'heading_open',\n    hLevel: level,\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  // only if header is not empty\n  if (pos < max) {\n    state.tokens.push({\n      type: 'inline',\n      content: state.src.slice(pos, max).trim(),\n      level: state.level + 1,\n      lines: [ startLine, state.line ],\n      children: []\n    });\n  }\n  state.tokens.push({ type: 'heading_close', hLevel: level, level: state.level });\n\n  return true;\n};\n","// Horizontal rule\n\n'use strict';\n\n\nmodule.exports = function hr(state, startLine, endLine, silent) {\n  var marker, cnt, ch,\n      pos = state.bMarks[startLine],\n      max = state.eMarks[startLine];\n\n  pos += state.tShift[startLine];\n\n  if (pos > max) { return false; }\n\n  marker = state.src.charCodeAt(pos++);\n\n  // Check hr marker\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x5F/* _ */) {\n    return false;\n  }\n\n  // markers can be mixed with spaces, but there should be at least 3 one\n\n  cnt = 1;\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos++);\n    if (ch !== marker && ch !== 0x20/* space */) { return false; }\n    if (ch === marker) { cnt++; }\n  }\n\n  if (cnt < 3) { return false; }\n\n  if (silent) { return true; }\n\n  state.line = startLine + 1;\n  state.tokens.push({\n    type: 'hr',\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  return true;\n};\n","// HTML block\n\n'use strict';\n\n\nvar block_names = require('../common/html_blocks');\n\n\nvar HTML_TAG_OPEN_RE = /^<([a-zA-Z]{1,15})[\\s\\/>]/;\nvar HTML_TAG_CLOSE_RE = /^<\\/([a-zA-Z]{1,15})[\\s>]/;\n\nfunction isLetter(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\nmodule.exports = function htmlblock(state, startLine, endLine, silent) {\n  var ch, match, nextLine,\n      pos = state.bMarks[startLine],\n      max = state.eMarks[startLine],\n      shift = state.tShift[startLine];\n\n  pos += shift;\n\n  if (!state.options.html) { return false; }\n\n  if (shift > 3 || pos + 2 >= max) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  ch = state.src.charCodeAt(pos + 1);\n\n  if (ch === 0x21/* ! */ || ch === 0x3F/* ? */) {\n    // Directive start / comment start / processing instruction start\n    if (silent) { return true; }\n\n  } else if (ch === 0x2F/* / */ || isLetter(ch)) {\n\n    // Probably start or end of tag\n    if (ch === 0x2F/* \\ */) {\n      // closing tag\n      match = state.src.slice(pos, max).match(HTML_TAG_CLOSE_RE);\n      if (!match) { return false; }\n    } else {\n      // opening tag\n      match = state.src.slice(pos, max).match(HTML_TAG_OPEN_RE);\n      if (!match) { return false; }\n    }\n    // Make sure tag name is valid\n    if (block_names[match[1].toLowerCase()] !== true) { return false; }\n    if (silent) { return true; }\n\n  } else {\n    return false;\n  }\n\n  // If we are here - we detected HTML block.\n  // Let's roll down till empty line (block end).\n  nextLine = startLine + 1;\n  while (nextLine < state.lineMax && !state.isEmpty(nextLine)) {\n    nextLine++;\n  }\n\n  state.line = nextLine;\n  state.tokens.push({\n    type: 'htmlblock',\n    level: state.level,\n    lines: [ startLine, state.line ],\n    content: state.getLines(startLine, nextLine, 0, true)\n  });\n\n  return true;\n};\n","// lheading (---, ===)\n\n'use strict';\n\n\nmodule.exports = function lheading(state, startLine, endLine/*, silent*/) {\n  var marker, pos, max,\n      next = startLine + 1;\n\n  if (next >= endLine) { return false; }\n  if (state.tShift[next] < state.blkIndent) { return false; }\n\n  // Scan next line\n\n  if (state.tShift[next] - state.blkIndent > 3) { return false; }\n\n  pos = state.bMarks[next] + state.tShift[next];\n  max = state.eMarks[next];\n\n  if (pos >= max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x2D/* - */ && marker !== 0x3D/* = */) { return false; }\n\n  pos = state.skipChars(pos, marker);\n\n  pos = state.skipSpaces(pos);\n\n  if (pos < max) { return false; }\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n\n  state.line = next + 1;\n  state.tokens.push({\n    type: 'heading_open',\n    hLevel: marker === 0x3D/* = */ ? 1 : 2,\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n  state.tokens.push({\n    type: 'inline',\n    content: state.src.slice(pos, state.eMarks[startLine]).trim(),\n    level: state.level + 1,\n    lines: [ startLine, state.line - 1 ],\n    children: []\n  });\n  state.tokens.push({\n    type: 'heading_close',\n    hLevel: marker === 0x3D/* = */ ? 1 : 2,\n    level: state.level\n  });\n\n  return true;\n};\n","// Lists\n\n'use strict';\n\n\n// Search `[-+*][\\n ]`, returns next pos arter marker on success\n// or -1 on fail.\nfunction skipBulletListMarker(state, startLine) {\n  var marker, pos, max;\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n  max = state.eMarks[startLine];\n\n  if (pos >= max) { return -1; }\n\n  marker = state.src.charCodeAt(pos++);\n  // Check bullet\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x2B/* + */) {\n    return -1;\n  }\n\n  if (pos < max && state.src.charCodeAt(pos) !== 0x20) {\n    // \" 1.test \" - is not a list item\n    return -1;\n  }\n\n  return pos;\n}\n\n// Search `\\d+[.)][\\n ]`, returns next pos arter marker on success\n// or -1 on fail.\nfunction skipOrderedListMarker(state, startLine) {\n  var ch,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos + 1 >= max) { return -1; }\n\n  ch = state.src.charCodeAt(pos++);\n\n  if (ch < 0x30/* 0 */ || ch > 0x39/* 9 */) { return -1; }\n\n  for (;;) {\n    // EOL -> fail\n    if (pos >= max) { return -1; }\n\n    ch = state.src.charCodeAt(pos++);\n\n    if (ch >= 0x30/* 0 */ && ch <= 0x39/* 9 */) {\n      continue;\n    }\n\n    // found valid marker\n    if (ch === 0x29/* ) */ || ch === 0x2e/* . */) {\n      break;\n    }\n\n    return -1;\n  }\n\n\n  if (pos < max && state.src.charCodeAt(pos) !== 0x20/* space */) {\n    // \" 1.test \" - is not a list item\n    return -1;\n  }\n  return pos;\n}\n\nfunction markTightParagraphs(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].tight = true;\n      state.tokens[i].tight = true;\n      i += 2;\n    }\n  }\n}\n\n\nmodule.exports = function list(state, startLine, endLine, silent) {\n  var nextLine,\n      indent,\n      oldTShift,\n      oldIndent,\n      oldTight,\n      oldParentType,\n      start,\n      posAfterMarker,\n      max,\n      indentAfterMarker,\n      markerValue,\n      markerCharCode,\n      isOrdered,\n      contentStart,\n      listTokIdx,\n      prevEmptyEnd,\n      listLines,\n      itemLines,\n      tight = true,\n      terminatorRules,\n      i, l, terminate;\n\n  // Detect list type and position after marker\n  if ((posAfterMarker = skipOrderedListMarker(state, startLine)) >= 0) {\n    isOrdered = true;\n  } else if ((posAfterMarker = skipBulletListMarker(state, startLine)) >= 0) {\n    isOrdered = false;\n  } else {\n    return false;\n  }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  // We should terminate list on style change. Remember first one to compare.\n  markerCharCode = state.src.charCodeAt(posAfterMarker - 1);\n\n  // For validation mode we can terminate immediately\n  if (silent) { return true; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  if (isOrdered) {\n    start = state.bMarks[startLine] + state.tShift[startLine];\n    markerValue = Number(state.src.substr(start, posAfterMarker - start - 1));\n\n    state.tokens.push({\n      type: 'ordered_list_open',\n      order: markerValue,\n      lines: listLines = [ startLine, 0 ],\n      level: state.level++\n    });\n\n  } else {\n    state.tokens.push({\n      type: 'bullet_list_open',\n      lines: listLines = [ startLine, 0 ],\n      level: state.level++\n    });\n  }\n\n  //\n  // Iterate list items\n  //\n\n  nextLine = startLine;\n  prevEmptyEnd = false;\n  terminatorRules = state.parser.ruler.getRules('list');\n\n  while (nextLine < endLine) {\n    contentStart = state.skipSpaces(posAfterMarker);\n    max = state.eMarks[nextLine];\n\n    if (contentStart >= max) {\n      // trimming space in \"-    \\n  3\" case, indent is 1 here\n      indentAfterMarker = 1;\n    } else {\n      indentAfterMarker = contentStart - posAfterMarker;\n    }\n\n    // If we have more than 4 spaces, the indent is 1\n    // (the rest is just indented code block)\n    if (indentAfterMarker > 4) { indentAfterMarker = 1; }\n\n    // If indent is less than 1, assume that it's one, example:\n    //  \"-\\n  test\"\n    if (indentAfterMarker < 1) { indentAfterMarker = 1; }\n\n    // \"  -  test\"\n    //  ^^^^^ - calculating total length of this thing\n    indent = (posAfterMarker - state.bMarks[nextLine]) + indentAfterMarker;\n\n    // Run subparser & write tokens\n    state.tokens.push({\n      type: 'list_item_open',\n      lines: itemLines = [ startLine, 0 ],\n      level: state.level++\n    });\n\n    oldIndent = state.blkIndent;\n    oldTight = state.tight;\n    oldTShift = state.tShift[startLine];\n    oldParentType = state.parentType;\n    state.tShift[startLine] = contentStart - state.bMarks[startLine];\n    state.blkIndent = indent;\n    state.tight = true;\n    state.parentType = 'list';\n\n    state.parser.tokenize(state, startLine, endLine, true);\n\n    // If any of list item is tight, mark list as tight\n    if (!state.tight || prevEmptyEnd) {\n      tight = false;\n    }\n    // Item become loose if finish with empty line,\n    // but we should filter last element, because it means list finish\n    prevEmptyEnd = (state.line - startLine) > 1 && state.isEmpty(state.line - 1);\n\n    state.blkIndent = oldIndent;\n    state.tShift[startLine] = oldTShift;\n    state.tight = oldTight;\n    state.parentType = oldParentType;\n\n    state.tokens.push({\n      type: 'list_item_close',\n      level: --state.level\n    });\n\n    nextLine = startLine = state.line;\n    itemLines[1] = nextLine;\n    contentStart = state.bMarks[startLine];\n\n    if (nextLine >= endLine) { break; }\n\n    if (state.isEmpty(nextLine)) {\n      break;\n    }\n\n    //\n    // Try to check if list is terminated or continued.\n    //\n    if (state.tShift[nextLine] < state.blkIndent) { break; }\n\n    // fail if terminating block found\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    // fail if list has another type\n    if (isOrdered) {\n      posAfterMarker = skipOrderedListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    } else {\n      posAfterMarker = skipBulletListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    }\n\n    if (markerCharCode !== state.src.charCodeAt(posAfterMarker - 1)) { break; }\n  }\n\n  // Finilize list\n  state.tokens.push({\n    type: isOrdered ? 'ordered_list_close' : 'bullet_list_close',\n    level: --state.level\n  });\n  listLines[1] = nextLine;\n\n  state.line = nextLine;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx);\n  }\n\n  return true;\n};\n","// Paragraph\n\n'use strict';\n\n\nmodule.exports = function paragraph(state, startLine/*, endLine*/) {\n  var endLine, content, terminate, i, l,\n      nextLine = startLine + 1,\n      terminatorRules;\n\n  endLine = state.lineMax;\n\n  // jump line-by-line until empty one or EOF\n  if (nextLine < endLine && !state.isEmpty(nextLine)) {\n    terminatorRules = state.parser.ruler.getRules('paragraph');\n\n    for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n      // this would be a code block normally, but after paragraph\n      // it's considered a lazy continuation regardless of what's there\n      if (state.tShift[nextLine] - state.blkIndent > 3) { continue; }\n\n      // Some tags can terminate paragraph without empty line.\n      terminate = false;\n      for (i = 0, l = terminatorRules.length; i < l; i++) {\n        if (terminatorRules[i](state, nextLine, endLine, true)) {\n          terminate = true;\n          break;\n        }\n      }\n      if (terminate) { break; }\n    }\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine;\n  if (content.length) {\n    state.tokens.push({\n      type: 'paragraph_open',\n      tight: false,\n      lines: [ startLine, state.line ],\n      level: state.level\n    });\n    state.tokens.push({\n      type: 'inline',\n      content: content,\n      level: state.level + 1,\n      lines: [ startLine, state.line ],\n      children: []\n    });\n    state.tokens.push({\n      type: 'paragraph_close',\n      tight: false,\n      level: state.level\n    });\n  }\n\n  return true;\n};\n","// Parser state class\n\n'use strict';\n\n\nfunction StateBlock(src, parser, options, env, tokens) {\n  var ch, s, start, pos, len, indent, indent_found;\n\n  this.src = src;\n\n  // Shortcuts to simplify nested calls\n  this.parser = parser;\n\n  this.options = options;\n\n  this.env = env;\n\n  //\n  // Internal state vartiables\n  //\n\n  this.tokens = tokens;\n\n  this.bMarks = [];  // line begin offsets for fast jumps\n  this.eMarks = [];  // line end offsets for fast jumps\n  this.tShift = [];  // indent for each line\n\n  // block parser variables\n  this.blkIndent  = 0; // required block content indent\n                       // (for example, if we are in list)\n  this.line       = 0; // line index in src\n  this.lineMax    = 0; // lines count\n  this.tight      = false;  // loose/tight mode for lists\n  this.parentType = 'root'; // if `list`, block parser stops on two newlines\n  this.ddIndent   = -1; // indent of the current dd block (-1 if there isn't any)\n\n  this.level = 0;\n\n  // renderer\n  this.result = '';\n\n  // Create caches\n  // Generate markers.\n  s = this.src;\n  indent = 0;\n  indent_found = false;\n\n  for (start = pos = indent = 0, len = s.length; pos < len; pos++) {\n    ch = s.charCodeAt(pos);\n\n    if (!indent_found) {\n      if (ch === 0x20/* space */) {\n        indent++;\n        continue;\n      } else {\n        indent_found = true;\n      }\n    }\n\n    if (ch === 0x0A || pos === len - 1) {\n      if (ch !== 0x0A) { pos++; }\n      this.bMarks.push(start);\n      this.eMarks.push(pos);\n      this.tShift.push(indent);\n\n      indent_found = false;\n      indent = 0;\n      start = pos + 1;\n    }\n  }\n\n  // Push fake entry to simplify cache bounds checks\n  this.bMarks.push(s.length);\n  this.eMarks.push(s.length);\n  this.tShift.push(0);\n\n  this.lineMax = this.bMarks.length - 1; // don't count last fake line\n}\n\nStateBlock.prototype.isEmpty = function isEmpty(line) {\n  return this.bMarks[line] + this.tShift[line] >= this.eMarks[line];\n};\n\nStateBlock.prototype.skipEmptyLines = function skipEmptyLines(from) {\n  for (var max = this.lineMax; from < max; from++) {\n    if (this.bMarks[from] + this.tShift[from] < this.eMarks[from]) {\n      break;\n    }\n  }\n  return from;\n};\n\n// Skip spaces from given position.\nStateBlock.prototype.skipSpaces = function skipSpaces(pos) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== 0x20/* space */) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes from given position\nStateBlock.prototype.skipChars = function skipChars(pos, code) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== code) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes reverse from given position - 1\nStateBlock.prototype.skipCharsBack = function skipCharsBack(pos, code, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (code !== this.src.charCodeAt(--pos)) { return pos + 1; }\n  }\n  return pos;\n};\n\n// cut lines range from source.\nStateBlock.prototype.getLines = function getLines(begin, end, indent, keepLastLF) {\n  var i, first, last, queue, shift,\n      line = begin;\n\n  if (begin >= end) {\n    return '';\n  }\n\n  // Opt: don't use push queue for single line;\n  if (line + 1 === end) {\n    first = this.bMarks[line] + Math.min(this.tShift[line], indent);\n    last = keepLastLF ? this.eMarks[line] + 1 : this.eMarks[line];\n    return this.src.slice(first, last);\n  }\n\n  queue = new Array(end - begin);\n\n  for (i = 0; line < end; line++, i++) {\n    shift = this.tShift[line];\n    if (shift > indent) { shift = indent; }\n    if (shift < 0) { shift = 0; }\n\n    first = this.bMarks[line] + shift;\n\n    if (line + 1 < end || keepLastLF) {\n      // No need for bounds check because we have fake entry on tail.\n      last = this.eMarks[line] + 1;\n    } else {\n      last = this.eMarks[line];\n    }\n\n    queue[i] = this.src.slice(first, last);\n  }\n\n  return queue.join('');\n};\n\n\nmodule.exports = StateBlock;\n","// GFM table, non-standard\n\n'use strict';\n\n\nfunction getLine(state, line) {\n  var pos = state.bMarks[line] + state.blkIndent,\n      max = state.eMarks[line];\n\n  return state.src.substr(pos, max - pos);\n}\n\nmodule.exports = function table(state, startLine, endLine, silent) {\n  var ch, lineText, pos, i, nextLine, rows, cell,\n      aligns, t, tableLines, tbodyLines;\n\n  // should have at least three lines\n  if (startLine + 2 > endLine) { return false; }\n\n  nextLine = startLine + 1;\n\n  if (state.tShift[nextLine] < state.blkIndent) { return false; }\n\n  // first character of the second line should be '|' or '-'\n\n  pos = state.bMarks[nextLine] + state.tShift[nextLine];\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  ch = state.src.charCodeAt(pos);\n  if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */) { return false; }\n\n  lineText = getLine(state, startLine + 1);\n  if (!/^[-:| ]+$/.test(lineText)) { return false; }\n\n  rows = lineText.split('|');\n  if (rows <= 2) { return false; }\n  aligns = [];\n  for (i = 0; i < rows.length; i++) {\n    t = rows[i].trim();\n    if (!t) {\n      // allow empty columns before and after table, but not in between columns;\n      // e.g. allow ` |---| `, disallow ` ---||--- `\n      if (i === 0 || i === rows.length - 1) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n\n    if (!/^:?-+:?$/.test(t)) { return false; }\n    if (t.charCodeAt(t.length - 1) === 0x3A/* : */) {\n      aligns.push(t.charCodeAt(0) === 0x3A/* : */ ? 'center' : 'right');\n    } else if (t.charCodeAt(0) === 0x3A/* : */) {\n      aligns.push('left');\n    } else {\n      aligns.push('');\n    }\n  }\n\n  lineText = getLine(state, startLine).trim();\n  if (lineText.indexOf('|') === -1) { return false; }\n  rows = lineText.replace(/^\\||\\|$/g, '').split('|');\n  if (aligns.length !== rows.length) { return false; }\n  if (silent) { return true; }\n\n  state.tokens.push({\n    type: 'table_open',\n    lines: tableLines = [ startLine, 0 ],\n    level: state.level++\n  });\n  state.tokens.push({\n    type: 'thead_open',\n    lines: [ startLine, startLine + 1 ],\n    level: state.level++\n  });\n\n  state.tokens.push({\n    type: 'tr_open',\n    lines: [ startLine, startLine + 1 ],\n    level: state.level++\n  });\n  for (i = 0; i < rows.length; i++) {\n    state.tokens.push({\n      type: 'th_open',\n      align: aligns[i],\n      lines: [ startLine, startLine + 1 ],\n      level: state.level++\n    });\n    state.tokens.push({\n      type: 'inline',\n      content: rows[i].trim(),\n      lines: [ startLine, startLine + 1 ],\n      level: state.level,\n      children: []\n    });\n    state.tokens.push({ type: 'th_close', level: --state.level });\n  }\n  state.tokens.push({ type: 'tr_close', level: --state.level });\n  state.tokens.push({ type: 'thead_close', level: --state.level });\n\n  state.tokens.push({\n    type: 'tbody_open',\n    lines: tbodyLines = [ startLine + 2, 0 ],\n    level: state.level++\n  });\n\n  for (nextLine = startLine + 2; nextLine < endLine; nextLine++) {\n    if (state.tShift[nextLine] < state.blkIndent) { break; }\n\n    lineText = getLine(state, nextLine).trim();\n    if (lineText.indexOf('|') === -1) { break; }\n    rows = lineText.replace(/^\\||\\|$/g, '').split('|');\n\n    state.tokens.push({ type: 'tr_open', level: state.level++ });\n    for (i = 0; i < rows.length; i++) {\n      state.tokens.push({ type: 'td_open', align: aligns[i], level: state.level++ });\n      // 0x7c === '|'\n      cell = rows[i].substring(\n          rows[i].charCodeAt(0) === 0x7c ? 1 : 0,\n          rows[i].charCodeAt(rows[i].length - 1) === 0x7c ? rows[i].length - 1 : rows[i].length\n      ).trim();\n      state.tokens.push({\n        type: 'inline',\n        content: cell,\n        level: state.level,\n        children: []\n      });\n      state.tokens.push({ type: 'td_close', level: --state.level });\n    }\n    state.tokens.push({ type: 'tr_close', level: --state.level });\n  }\n  state.tokens.push({ type: 'tbody_close', level: --state.level });\n  state.tokens.push({ type: 'table_close', level: --state.level });\n\n  tableLines[1] = tbodyLines[1] = nextLine;\n  state.line = nextLine;\n  return true;\n};\n","// Parse abbreviation definitions, i.e. `*[abbr]: description`\n//\n\n'use strict';\n\n\nvar StateInline    = require('../rules_inline/state_inline');\nvar parseLinkLabel = require('../helpers/parse_link_label');\n\n\nfunction parseAbbr(str, parserInline, options, env) {\n  var state, labelEnd, pos, max, label, title;\n\n  if (str.charCodeAt(0) !== 0x2A/* * */) { return -1; }\n  if (str.charCodeAt(1) !== 0x5B/* [ */) { return -1; }\n\n  if (str.indexOf(']:') === -1) { return -1; }\n\n  state = new StateInline(str, parserInline, options, env, []);\n  labelEnd = parseLinkLabel(state, 1);\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return -1; }\n\n  max = state.posMax;\n\n  // abbr title is always one line, so looking for ending \"\\n\" here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x0A) { break; }\n  }\n\n  label = str.slice(2, labelEnd);\n  title = str.slice(labelEnd + 2, pos).trim();\n  if (title.length === 0) { return -1; }\n  if (!env.abbreviations) { env.abbreviations = {}; }\n  // prepend ':' to avoid conflict with Object.prototype members\n  if (typeof env.abbreviations[':' + label] === 'undefined') {\n    env.abbreviations[':' + label] = title;\n  }\n\n  return pos;\n}\n\nmodule.exports = function abbr(state) {\n  var tokens = state.tokens, i, l, content, pos;\n\n  if (state.inlineMode) {\n    return;\n  }\n\n  // Parse inlines\n  for (i = 1, l = tokens.length - 1; i < l; i++) {\n    if (tokens[i - 1].type === 'paragraph_open' &&\n        tokens[i].type === 'inline' &&\n        tokens[i + 1].type === 'paragraph_close') {\n\n      content = tokens[i].content;\n      while (content.length) {\n        pos = parseAbbr(content, state.inline, state.options, state.env);\n        if (pos < 0) { break; }\n        content = content.slice(pos).trim();\n      }\n\n      tokens[i].content = content;\n      if (!content.length) {\n        tokens[i - 1].tight = true;\n        tokens[i + 1].tight = true;\n      }\n    }\n  }\n};\n","// Enclose abbreviations in <abbr> tags\n//\n'use strict';\n\n\nvar PUNCT_CHARS = ' \\n()[]\\'\".,!?-';\n\n\n// from Google closure library\n// http://closure-library.googlecode.com/git-history/docs/local_closure_goog_string_string.js.source.html#line1021\nfunction regEscape(s) {\n  return s.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1');\n}\n\n\nmodule.exports = function abbr2(state) {\n  var i, j, l, tokens, token, text, nodes, pos, level, reg, m, regText,\n      blockTokens = state.tokens;\n\n  if (!state.env.abbreviations) { return; }\n  if (!state.env.abbrRegExp) {\n    regText = '(^|[' + PUNCT_CHARS.split('').map(regEscape).join('') + '])'\n            + '(' + Object.keys(state.env.abbreviations).map(function (x) {\n                      return x.substr(1);\n                    }).sort(function (a, b) {\n                      return b.length - a.length;\n                    }).map(regEscape).join('|') + ')'\n            + '($|[' + PUNCT_CHARS.split('').map(regEscape).join('') + '])';\n    state.env.abbrRegExp = new RegExp(regText, 'g');\n  }\n  reg = state.env.abbrRegExp;\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline') { continue; }\n    tokens = blockTokens[j].children;\n\n    // We scan from the end, to keep position when new tags added.\n    for (i = tokens.length - 1; i >= 0; i--) {\n      token = tokens[i];\n      if (token.type !== 'text') { continue; }\n\n      pos = 0;\n      text = token.content;\n      reg.lastIndex = 0;\n      level = token.level;\n      nodes = [];\n\n      while ((m = reg.exec(text))) {\n        if (reg.lastIndex > pos) {\n          nodes.push({\n            type: 'text',\n            content: text.slice(pos, m.index + m[1].length),\n            level: level\n          });\n        }\n\n        nodes.push({\n          type: 'abbr_open',\n          title: state.env.abbreviations[':' + m[2]],\n          level: level++\n        });\n        nodes.push({\n          type: 'text',\n          content: m[2],\n          level: level\n        });\n        nodes.push({\n          type: 'abbr_close',\n          level: --level\n        });\n        pos = reg.lastIndex - m[3].length;\n      }\n\n      if (!nodes.length) { continue; }\n\n      if (pos < text.length) {\n        nodes.push({\n          type: 'text',\n          content: text.slice(pos),\n          level: level\n        });\n      }\n\n      // replace current node\n      blockTokens[j].children = tokens = [].concat(tokens.slice(0, i), nodes, tokens.slice(i + 1));\n    }\n  }\n};\n","'use strict';\n\nmodule.exports = function block(state) {\n\n  if (state.inlineMode) {\n    state.tokens.push({\n      type: 'inline',\n      content: state.src.replace(/\\n/g, ' ').trim(),\n      level: 0,\n      lines: [ 0, 1 ],\n      children: []\n    });\n\n  } else {\n    state.block.parse(state.src, state.options, state.env, state.tokens);\n  }\n};\n","'use strict';\n\n\nmodule.exports = function footnote_block(state) {\n  var i, l, j, t, lastParagraph, list, tokens, current, currentLabel,\n      level = 0,\n      insideRef = false,\n      refTokens = {};\n\n  if (!state.env.footnotes) { return; }\n\n  state.tokens = state.tokens.filter(function(tok) {\n    if (tok.type === 'footnote_reference_open') {\n      insideRef = true;\n      current = [];\n      currentLabel = tok.label;\n      return false;\n    }\n    if (tok.type === 'footnote_reference_close') {\n      insideRef = false;\n      // prepend ':' to avoid conflict with Object.prototype members\n      refTokens[':' + currentLabel] = current;\n      return false;\n    }\n    if (insideRef) { current.push(tok); }\n    return !insideRef;\n  });\n\n  if (!state.env.footnotes.list) { return; }\n  list = state.env.footnotes.list;\n\n  state.tokens.push({\n    type: 'footnote_block_open',\n    level: level++\n  });\n  for (i = 0, l = list.length; i < l; i++) {\n    state.tokens.push({\n      type: 'footnote_open',\n      id: i,\n      level: level++\n    });\n\n    if (list[i].tokens) {\n      tokens = [];\n      tokens.push({\n        type: 'paragraph_open',\n        tight: false,\n        level: level++\n      });\n      tokens.push({\n        type: 'inline',\n        content: '',\n        level: level,\n        children: list[i].tokens\n      });\n      tokens.push({\n        type: 'paragraph_close',\n        tight: false,\n        level: --level\n      });\n    } else if (list[i].label) {\n      tokens = refTokens[':' + list[i].label];\n    }\n\n    state.tokens = state.tokens.concat(tokens);\n    if (state.tokens[state.tokens.length - 1].type === 'paragraph_close') {\n      lastParagraph = state.tokens.pop();\n    } else {\n      lastParagraph = null;\n    }\n\n    t = list[i].count > 0 ? list[i].count : 1;\n    for (j = 0; j < t; j++) {\n      state.tokens.push({\n        type: 'footnote_anchor',\n        id: i,\n        subId: j,\n        level: level\n      });\n    }\n\n    if (lastParagraph) {\n      state.tokens.push(lastParagraph);\n    }\n\n    state.tokens.push({\n      type: 'footnote_close',\n      level: --level\n    });\n  }\n  state.tokens.push({\n    type: 'footnote_block_close',\n    level: --level\n  });\n};\n","'use strict';\n\nmodule.exports = function inline(state) {\n  var tokens = state.tokens, tok, i, l;\n\n  // Parse inlines\n  for (i = 0, l = tokens.length; i < l; i++) {\n    tok = tokens[i];\n    if (tok.type === 'inline') {\n      state.inline.parse(tok.content, state.options, state.env, tok.children);\n    }\n  }\n};\n","// Replace link-like texts with link nodes.\n//\n// Currently restricted by `inline.validateLink()` to http/https/ftp\n//\n'use strict';\n\n\nvar Autolinker = require('autolinker');\n\n\nvar LINK_SCAN_RE = /www|@|\\:\\/\\//;\n\n\nfunction isLinkOpen(str) {\n  return /^<a[>\\s]/i.test(str);\n}\nfunction isLinkClose(str) {\n  return /^<\\/a\\s*>/i.test(str);\n}\n\n// Stupid fabric to avoid singletons, for thread safety.\n// Required for engines like Nashorn.\n//\nfunction createLinkifier() {\n  var links = [];\n  var autolinker = new Autolinker({\n    stripPrefix: false,\n    url: true,\n    email: true,\n    twitter: false,\n    replaceFn: function (linker, match) {\n      // Only collect matched strings but don't change anything.\n      switch (match.getType()) {\n        /*eslint default-case:0*/\n        case 'url':\n          links.push({\n            text: match.matchedText,\n            url: match.getUrl()\n          });\n          break;\n        case 'email':\n          links.push({\n            text: match.matchedText,\n            // normalize email protocol\n            url: 'mailto:' + match.getEmail().replace(/^mailto:/i, '')\n          });\n          break;\n      }\n      return false;\n    }\n  });\n\n  return {\n    links: links,\n    autolinker: autolinker\n  };\n}\n\n\nmodule.exports = function linkify(state) {\n  var i, j, l, tokens, token, text, nodes, ln, pos, level, htmlLinkLevel,\n      blockTokens = state.tokens,\n      linkifier = null, links, autolinker;\n\n  if (!state.options.linkify) { return; }\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline') { continue; }\n    tokens = blockTokens[j].children;\n\n    htmlLinkLevel = 0;\n\n    // We scan from the end, to keep position when new tags added.\n    // Use reversed logic in links start/end match\n    for (i = tokens.length - 1; i >= 0; i--) {\n      token = tokens[i];\n\n      // Skip content of markdown links\n      if (token.type === 'link_close') {\n        i--;\n        while (tokens[i].level !== token.level && tokens[i].type !== 'link_open') {\n          i--;\n        }\n        continue;\n      }\n\n      // Skip content of html tag links\n      if (token.type === 'htmltag') {\n        if (isLinkOpen(token.content) && htmlLinkLevel > 0) {\n          htmlLinkLevel--;\n        }\n        if (isLinkClose(token.content)) {\n          htmlLinkLevel++;\n        }\n      }\n      if (htmlLinkLevel > 0) { continue; }\n\n      if (token.type === 'text' && LINK_SCAN_RE.test(token.content)) {\n\n        // Init linkifier in lazy manner, only if required.\n        if (!linkifier) {\n          linkifier = createLinkifier();\n          links = linkifier.links;\n          autolinker = linkifier.autolinker;\n        }\n\n        text = token.content;\n        links.length = 0;\n        autolinker.link(text);\n\n        if (!links.length) { continue; }\n\n        // Now split string to nodes\n        nodes = [];\n        level = token.level;\n\n        for (ln = 0; ln < links.length; ln++) {\n\n          if (!state.inline.validateLink(links[ln].url)) { continue; }\n\n          pos = text.indexOf(links[ln].text);\n\n          if (pos) {\n            level = level;\n            nodes.push({\n              type: 'text',\n              content: text.slice(0, pos),\n              level: level\n            });\n          }\n          nodes.push({\n            type: 'link_open',\n            href: links[ln].url,\n            title: '',\n            level: level++\n          });\n          nodes.push({\n            type: 'text',\n            content: links[ln].text,\n            level: level\n          });\n          nodes.push({\n            type: 'link_close',\n            level: --level\n          });\n          text = text.slice(pos + links[ln].text.length);\n        }\n        if (text.length) {\n          nodes.push({\n            type: 'text',\n            content: text,\n            level: level\n          });\n        }\n\n        // replace current node\n        blockTokens[j].children = tokens = [].concat(tokens.slice(0, i), nodes, tokens.slice(i + 1));\n      }\n    }\n  }\n};\n","'use strict';\n\n\nvar StateInline          = require('../rules_inline/state_inline');\nvar parseLinkLabel       = require('../helpers/parse_link_label');\nvar parseLinkDestination = require('../helpers/parse_link_destination');\nvar parseLinkTitle       = require('../helpers/parse_link_title');\nvar normalizeReference   = require('../helpers/normalize_reference');\n\n\nfunction parseReference(str, parser, options, env) {\n  var state, labelEnd, pos, max, code, start, href, title, label;\n\n  if (str.charCodeAt(0) !== 0x5B/* [ */) { return -1; }\n\n  if (str.indexOf(']:') === -1) { return -1; }\n\n  state = new StateInline(str, parser, options, env, []);\n  labelEnd = parseLinkLabel(state, 0);\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return -1; }\n\n  max = state.posMax;\n\n  // [label]:   destination   'title'\n  //         ^^^ skip optional whitespace here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    code = state.src.charCodeAt(pos);\n    if (code !== 0x20 && code !== 0x0A) { break; }\n  }\n\n  // [label]:   destination   'title'\n  //            ^^^^^^^^^^^ parse this\n  if (!parseLinkDestination(state, pos)) { return -1; }\n  href = state.linkContent;\n  pos = state.pos;\n\n  // [label]:   destination   'title'\n  //                       ^^^ skipping those spaces\n  start = pos;\n  for (pos = pos + 1; pos < max; pos++) {\n    code = state.src.charCodeAt(pos);\n    if (code !== 0x20 && code !== 0x0A) { break; }\n  }\n\n  // [label]:   destination   'title'\n  //                          ^^^^^^^ parse this\n  if (pos < max && start !== pos && parseLinkTitle(state, pos)) {\n    title = state.linkContent;\n    pos = state.pos;\n  } else {\n    title = '';\n    pos = start;\n  }\n\n  // ensure that the end of the line is empty\n  while (pos < max && state.src.charCodeAt(pos) === 0x20/* space */) { pos++; }\n  if (pos < max && state.src.charCodeAt(pos) !== 0x0A) { return -1; }\n\n  label = normalizeReference(str.slice(1, labelEnd));\n  if (typeof env.references[label] === 'undefined') {\n    env.references[label] = { title: title, href: href };\n  }\n\n  return pos;\n}\n\n\nmodule.exports = function references(state) {\n  var tokens = state.tokens, i, l, content, pos;\n\n  state.env.references = state.env.references || {};\n\n  if (state.inlineMode) {\n    return;\n  }\n\n  // Scan definitions in paragraph inlines\n  for (i = 1, l = tokens.length - 1; i < l; i++) {\n    if (tokens[i].type === 'inline' &&\n        tokens[i - 1].type === 'paragraph_open' &&\n        tokens[i + 1].type === 'paragraph_close') {\n\n      content = tokens[i].content;\n      while (content.length) {\n        pos = parseReference(content, state.inline, state.options, state.env);\n        if (pos < 0) { break; }\n        content = content.slice(pos).trim();\n      }\n\n      tokens[i].content = content;\n      if (!content.length) {\n        tokens[i - 1].tight = true;\n        tokens[i + 1].tight = true;\n      }\n    }\n  }\n};\n","// Simple typographical replacements\n//\n'use strict';\n\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> , , \n// - miltiplication 2 x 4 -> 2  4\n\nvar RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/;\n\nvar SCOPED_ABBR_RE = /\\((c|tm|r|p)\\)/ig;\nvar SCOPED_ABBR = {\n  'c': '',\n  'r': '',\n  'p': '',\n  'tm': ''\n};\n\nfunction replaceScopedAbbr(str) {\n  if (str.indexOf('(') < 0) { return str; }\n\n  return str.replace(SCOPED_ABBR_RE, function(match, name) {\n    return SCOPED_ABBR[name.toLowerCase()];\n  });\n}\n\n\nmodule.exports = function replace(state) {\n  var i, token, text, inlineTokens, blkIdx;\n\n  if (!state.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    inlineTokens = state.tokens[blkIdx].children;\n\n    for (i = inlineTokens.length - 1; i >= 0; i--) {\n      token = inlineTokens[i];\n      if (token.type === 'text') {\n        text = token.content;\n\n        text = replaceScopedAbbr(text);\n\n        if (RARE_RE.test(text)) {\n          text = text\n            .replace(/\\+-/g, '')\n            // .., ..., ....... -> \n            // but ?..... & !..... -> ?.. & !..\n            .replace(/\\.{2,}/g, '').replace(/([?!])/g, '$1..')\n            .replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n            // em-dash\n            .replace(/(^|[^-])---([^-]|$)/mg, '$1\\u2014$2')\n            // en-dash\n            .replace(/(^|\\s)--(\\s|$)/mg, '$1\\u2013$2')\n            .replace(/(^|[^-\\s])--([^-\\s]|$)/mg, '$1\\u2013$2');\n        }\n\n        token.content = text;\n      }\n    }\n  }\n};\n","// Convert straight quotation marks to typographic ones\n//\n'use strict';\n\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar PUNCT_RE = /[-\\s()\\[\\]]/;\nvar APOSTROPHE = '';\n\n// This function returns true if the character at `pos`\n// could be inside a word.\nfunction isLetter(str, pos) {\n  if (pos < 0 || pos >= str.length) { return false; }\n  return !PUNCT_RE.test(str[pos]);\n}\n\n\nfunction replaceAt(str, index, ch) {\n  return str.substr(0, index) + ch + str.substr(index + 1);\n}\n\n\nmodule.exports = function smartquotes(state) {\n  /*eslint max-depth:0*/\n  var i, token, text, t, pos, max, thisLevel, lastSpace, nextSpace, item,\n      canOpen, canClose, j, isSingle, blkIdx, tokens,\n      stack;\n\n  if (!state.options.typographer) { return; }\n\n  stack = [];\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    tokens = state.tokens[blkIdx].children;\n    stack.length = 0;\n\n    for (i = 0; i < tokens.length; i++) {\n      token = tokens[i];\n\n      if (token.type !== 'text' || QUOTE_TEST_RE.test(token.text)) { continue; }\n\n      thisLevel = tokens[i].level;\n\n      for (j = stack.length - 1; j >= 0; j--) {\n        if (stack[j].level <= thisLevel) { break; }\n      }\n      stack.length = j + 1;\n\n      text = token.content;\n      pos = 0;\n      max = text.length;\n\n      /*eslint no-labels:0,block-scoped-var:0*/\n      OUTER:\n      while (pos < max) {\n        QUOTE_RE.lastIndex = pos;\n        t = QUOTE_RE.exec(text);\n        if (!t) { break; }\n\n        lastSpace = !isLetter(text, t.index - 1);\n        pos = t.index + 1;\n        isSingle = (t[0] === \"'\");\n        nextSpace = !isLetter(text, pos);\n\n        if (!nextSpace && !lastSpace) {\n          // middle of word\n          if (isSingle) {\n            token.content = replaceAt(token.content, t.index, APOSTROPHE);\n          }\n          continue;\n        }\n\n        canOpen = !nextSpace;\n        canClose = !lastSpace;\n\n        if (canClose) {\n          // this could be a closing quote, rewind the stack to get a match\n          for (j = stack.length - 1; j >= 0; j--) {\n            item = stack[j];\n            if (stack[j].level < thisLevel) { break; }\n            if (item.single === isSingle && stack[j].level === thisLevel) {\n              item = stack[j];\n              if (isSingle) {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[2]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[3]);\n              } else {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[0]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[1]);\n              }\n              stack.length = j;\n              continue OUTER;\n            }\n          }\n        }\n\n        if (canOpen) {\n          stack.push({\n            token: i,\n            pos: t.index,\n            single: isSingle,\n            level: thisLevel\n          });\n        } else if (canClose && isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n      }\n    }\n  }\n};\n","// Process autolinks '<protocol:...>'\n\n'use strict';\n\nvar url_schemas   = require('../common/url_schemas');\nvar normalizeLink = require('../helpers/normalize_link');\n\n\n/*eslint max-len:0*/\nvar EMAIL_RE    = /^<([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/;\nvar AUTOLINK_RE = /^<([a-zA-Z.\\-]{1,25}):([^<>\\x00-\\x20]*)>/;\n\n\nmodule.exports = function autolink(state, silent) {\n  var tail, linkMatch, emailMatch, url, fullUrl, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  tail = state.src.slice(pos);\n\n  if (tail.indexOf('>') < 0) { return false; }\n\n  linkMatch = tail.match(AUTOLINK_RE);\n\n  if (linkMatch) {\n    if (url_schemas.indexOf(linkMatch[1].toLowerCase()) < 0) { return false; }\n\n    url = linkMatch[0].slice(1, -1);\n    fullUrl = normalizeLink(url);\n    if (!state.parser.validateLink(url)) { return false; }\n\n    if (!silent) {\n      state.push({\n        type: 'link_open',\n        href: fullUrl,\n        level: state.level\n      });\n      state.push({\n        type: 'text',\n        content: url,\n        level: state.level + 1\n      });\n      state.push({ type: 'link_close', level: state.level });\n    }\n\n    state.pos += linkMatch[0].length;\n    return true;\n  }\n\n  emailMatch = tail.match(EMAIL_RE);\n\n  if (emailMatch) {\n\n    url = emailMatch[0].slice(1, -1);\n\n    fullUrl = normalizeLink('mailto:' + url);\n    if (!state.parser.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      state.push({\n        type: 'link_open',\n        href: fullUrl,\n        level: state.level\n      });\n      state.push({\n        type: 'text',\n        content: url,\n        level: state.level + 1\n      });\n      state.push({ type: 'link_close', level: state.level });\n    }\n\n    state.pos += emailMatch[0].length;\n    return true;\n  }\n\n  return false;\n};\n","// Parse backticks\n\n'use strict';\n\nmodule.exports = function backticks(state, silent) {\n  var start, max, marker, matchStart, matchEnd,\n      pos = state.pos,\n      ch = state.src.charCodeAt(pos);\n\n  if (ch !== 0x60/* ` */) { return false; }\n\n  start = pos;\n  pos++;\n  max = state.posMax;\n\n  while (pos < max && state.src.charCodeAt(pos) === 0x60/* ` */) { pos++; }\n\n  marker = state.src.slice(start, pos);\n\n  matchStart = matchEnd = pos;\n\n  while ((matchStart = state.src.indexOf('`', matchEnd)) !== -1) {\n    matchEnd = matchStart + 1;\n\n    while (matchEnd < max && state.src.charCodeAt(matchEnd) === 0x60/* ` */) { matchEnd++; }\n\n    if (matchEnd - matchStart === marker.length) {\n      if (!silent) {\n        state.push({\n          type: 'code',\n          content: state.src.slice(pos, matchStart)\n                              .replace(/[ \\n]+/g, ' ')\n                              .trim(),\n          block: false,\n          level: state.level\n        });\n      }\n      state.pos = matchEnd;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += marker; }\n  state.pos += marker.length;\n  return true;\n};\n","// Process ~~deleted text~~\n\n'use strict';\n\nmodule.exports = function del(state, silent) {\n  var found,\n      pos,\n      stack,\n      max = state.posMax,\n      start = state.pos,\n      lastChar,\n      nextChar;\n\n  if (state.src.charCodeAt(start) !== 0x7E/* ~ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 4 >= max) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x7E/* ~ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n  nextChar = state.src.charCodeAt(start + 2);\n\n  if (lastChar === 0x7E/* ~ */) { return false; }\n  if (nextChar === 0x7E/* ~ */) { return false; }\n  if (nextChar === 0x20 || nextChar === 0x0A) { return false; }\n\n  pos = start + 2;\n  while (pos < max && state.src.charCodeAt(pos) === 0x7E/* ~ */) { pos++; }\n  if (pos > start + 3) {\n    // sequence of 4+ markers taking as literal, same as in a emphasis\n    state.pos += pos - start;\n    if (!silent) { state.pending += state.src.slice(start, pos); }\n    return true;\n  }\n\n  state.pos = start + 2;\n  stack = 1;\n\n  while (state.pos + 1 < max) {\n    if (state.src.charCodeAt(state.pos) === 0x7E/* ~ */) {\n      if (state.src.charCodeAt(state.pos + 1) === 0x7E/* ~ */) {\n        lastChar = state.src.charCodeAt(state.pos - 1);\n        nextChar = state.pos + 2 < max ? state.src.charCodeAt(state.pos + 2) : -1;\n        if (nextChar !== 0x7E/* ~ */ && lastChar !== 0x7E/* ~ */) {\n          if (lastChar !== 0x20 && lastChar !== 0x0A) {\n            // closing '~~'\n            stack--;\n          } else if (nextChar !== 0x20 && nextChar !== 0x0A) {\n            // opening '~~'\n            stack++;\n          } // else {\n            //  // standalone ' ~~ ' indented with spaces\n            // }\n          if (stack <= 0) {\n            found = true;\n            break;\n          }\n        }\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 2;\n\n  if (!silent) {\n    state.push({ type: 'del_open', level: state.level++ });\n    state.parser.tokenize(state);\n    state.push({ type: 'del_close', level: --state.level });\n  }\n\n  state.pos = state.posMax + 2;\n  state.posMax = max;\n  return true;\n};\n","// Process *this* and _that_\n\n'use strict';\n\n\nfunction isAlphaNum(code) {\n  return (code >= 0x30 /* 0 */ && code <= 0x39 /* 9 */) ||\n         (code >= 0x41 /* A */ && code <= 0x5A /* Z */) ||\n         (code >= 0x61 /* a */ && code <= 0x7A /* z */);\n}\n\n// parse sequence of emphasis markers,\n// \"start\" should point at a valid marker\nfunction scanDelims(state, start) {\n  var pos = start, lastChar, nextChar, count,\n      can_open = true,\n      can_close = true,\n      max = state.posMax,\n      marker = state.src.charCodeAt(start);\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n\n  while (pos < max && state.src.charCodeAt(pos) === marker) { pos++; }\n  if (pos >= max) { can_open = false; }\n  count = pos - start;\n\n  if (count >= 4) {\n    // sequence of four or more unescaped markers can't start/end an emphasis\n    can_open = can_close = false;\n  } else {\n    nextChar = pos < max ? state.src.charCodeAt(pos) : -1;\n\n    // check whitespace conditions\n    if (nextChar === 0x20 || nextChar === 0x0A) { can_open = false; }\n    if (lastChar === 0x20 || lastChar === 0x0A) { can_close = false; }\n\n    if (marker === 0x5F /* _ */) {\n      // check if we aren't inside the word\n      if (isAlphaNum(lastChar)) { can_open = false; }\n      if (isAlphaNum(nextChar)) { can_close = false; }\n    }\n  }\n\n  return {\n    can_open: can_open,\n    can_close: can_close,\n    delims: count\n  };\n}\n\nmodule.exports = function emphasis(state, silent) {\n  var startCount,\n      count,\n      found,\n      oldCount,\n      newCount,\n      stack,\n      res,\n      max = state.posMax,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (marker !== 0x5F/* _ */ && marker !== 0x2A /* * */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n\n  res = scanDelims(state, start);\n  startCount = res.delims;\n  if (!res.can_open) {\n    state.pos += startCount;\n    if (!silent) { state.pending += state.src.slice(start, state.pos); }\n    return true;\n  }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  state.pos = start + startCount;\n  stack = [ startCount ];\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === marker) {\n      res = scanDelims(state, state.pos);\n      count = res.delims;\n      if (res.can_close) {\n        oldCount = stack.pop();\n        newCount = count;\n\n        while (oldCount !== newCount) {\n          if (newCount < oldCount) {\n            stack.push(oldCount - newCount);\n            break;\n          }\n\n          // assert(newCount > oldCount)\n          newCount -= oldCount;\n\n          if (stack.length === 0) { break; }\n          state.pos += oldCount;\n          oldCount = stack.pop();\n        }\n\n        if (stack.length === 0) {\n          startCount = oldCount;\n          found = true;\n          break;\n        }\n        state.pos += count;\n        continue;\n      }\n\n      if (res.can_open) { stack.push(count); }\n      state.pos += count;\n      continue;\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + startCount;\n\n  if (!silent) {\n    if (startCount === 2 || startCount === 3) {\n      state.push({ type: 'strong_open', level: state.level++ });\n    }\n    if (startCount === 1 || startCount === 3) {\n      state.push({ type: 'em_open', level: state.level++ });\n    }\n\n    state.parser.tokenize(state);\n\n    if (startCount === 1 || startCount === 3) {\n      state.push({ type: 'em_close', level: --state.level });\n    }\n    if (startCount === 2 || startCount === 3) {\n      state.push({ type: 'strong_close', level: --state.level });\n    }\n  }\n\n  state.pos = state.posMax + startCount;\n  state.posMax = max;\n  return true;\n};\n","// Process html entity - &#123;, &#xAF;, &quot;, ...\n\n'use strict';\n\nvar entities          = require('../common/entities');\nvar has               = require('../common/utils').has;\nvar isValidEntityCode = require('../common/utils').isValidEntityCode;\nvar fromCodePoint     = require('../common/utils').fromCodePoint;\n\n\nvar DIGITAL_RE = /^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i;\nvar NAMED_RE   = /^&([a-z][a-z0-9]{1,31});/i;\n\n\nmodule.exports = function entity(state, silent) {\n  var ch, code, match, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x26/* & */) { return false; }\n\n  if (pos + 1 < max) {\n    ch = state.src.charCodeAt(pos + 1);\n\n    if (ch === 0x23 /* # */) {\n      match = state.src.slice(pos).match(DIGITAL_RE);\n      if (match) {\n        if (!silent) {\n          code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n          state.pending += isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n        }\n        state.pos += match[0].length;\n        return true;\n      }\n    } else {\n      match = state.src.slice(pos).match(NAMED_RE);\n      if (match) {\n        if (has(entities, match[1])) {\n          if (!silent) { state.pending += entities[match[1]]; }\n          state.pos += match[0].length;\n          return true;\n        }\n      }\n    }\n  }\n\n  if (!silent) { state.pending += '&'; }\n  state.pos++;\n  return true;\n};\n","// Proceess escaped chars and hardbreaks\n\n'use strict';\n\nvar ESCAPED = [];\n\nfor (var i = 0; i < 256; i++) { ESCAPED.push(0); }\n\n'\\\\!\"#$%&\\'()*+,./:;<=>?@[]^_`{|}~-'\n  .split('').forEach(function(ch) { ESCAPED[ch.charCodeAt(0)] = 1; });\n\n\nmodule.exports = function escape(state, silent) {\n  var ch, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x5C/* \\ */) { return false; }\n\n  pos++;\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch < 256 && ESCAPED[ch] !== 0) {\n      if (!silent) { state.pending += state.src[pos]; }\n      state.pos += 2;\n      return true;\n    }\n\n    if (ch === 0x0A) {\n      if (!silent) {\n        state.push({\n          type: 'hardbreak',\n          level: state.level\n        });\n      }\n\n      pos++;\n      // skip leading whitespaces from next line\n      while (pos < max && state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n      state.pos = pos;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += '\\\\'; }\n  state.pos++;\n  return true;\n};\n","// Process inline footnotes (^[...])\n\n'use strict';\n\nvar parseLinkLabel = require('../helpers/parse_link_label');\n\n\nmodule.exports = function footnote_inline(state, silent) {\n  var labelStart,\n      labelEnd,\n      footnoteId,\n      oldLength,\n      max = state.posMax,\n      start = state.pos;\n\n  if (start + 2 >= max) { return false; }\n  if (state.src.charCodeAt(start) !== 0x5E/* ^ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5B/* [ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  labelStart = start + 2;\n  labelEnd = parseLinkLabel(state, start + 1);\n\n  // parser failed to find ']', so it's not a valid note\n  if (labelEnd < 0) { return false; }\n\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    if (!state.env.footnotes) { state.env.footnotes = {}; }\n    if (!state.env.footnotes.list) { state.env.footnotes.list = []; }\n    footnoteId = state.env.footnotes.list.length;\n\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    state.push({\n      type: 'footnote_ref',\n      id: footnoteId,\n      level: state.level\n    });\n    state.linkLevel++;\n    oldLength = state.tokens.length;\n    state.parser.tokenize(state);\n    state.env.footnotes.list[footnoteId] = { tokens: state.tokens.splice(oldLength) };\n    state.linkLevel--;\n  }\n\n  state.pos = labelEnd + 1;\n  state.posMax = max;\n  return true;\n};\n","// Process footnote references ([^...])\n\n'use strict';\n\n\nmodule.exports = function footnote_ref(state, silent) {\n  var label,\n      pos,\n      footnoteId,\n      footnoteSubId,\n      max = state.posMax,\n      start = state.pos;\n\n  // should be at least 4 chars - \"[^x]\"\n  if (start + 3 > max) { return false; }\n\n  if (!state.env.footnotes || !state.env.footnotes.refs) { return false; }\n  if (state.src.charCodeAt(start) !== 0x5B/* [ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5E/* ^ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  for (pos = start + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x20) { return false; }\n    if (state.src.charCodeAt(pos) === 0x0A) { return false; }\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */) {\n      break;\n    }\n  }\n\n  if (pos === start + 2) { return false; } // no empty footnote labels\n  if (pos >= max) { return false; }\n  pos++;\n\n  label = state.src.slice(start + 2, pos - 1);\n  if (typeof state.env.footnotes.refs[':' + label] === 'undefined') { return false; }\n\n  if (!silent) {\n    if (!state.env.footnotes.list) { state.env.footnotes.list = []; }\n\n    if (state.env.footnotes.refs[':' + label] < 0) {\n      footnoteId = state.env.footnotes.list.length;\n      state.env.footnotes.list[footnoteId] = { label: label, count: 0 };\n      state.env.footnotes.refs[':' + label] = footnoteId;\n    } else {\n      footnoteId = state.env.footnotes.refs[':' + label];\n    }\n\n    footnoteSubId = state.env.footnotes.list[footnoteId].count;\n    state.env.footnotes.list[footnoteId].count++;\n\n    state.push({\n      type: 'footnote_ref',\n      id: footnoteId,\n      subId: footnoteSubId,\n      level: state.level\n    });\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","// Process html tags\n\n'use strict';\n\n\nvar HTML_TAG_RE = require('../common/html_re').HTML_TAG_RE;\n\n\nfunction isLetter(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\n\nmodule.exports = function htmltag(state, silent) {\n  var ch, match, max, pos = state.pos;\n\n  if (!state.options.html) { return false; }\n\n  // Check start\n  max = state.posMax;\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */ ||\n      pos + 2 >= max) {\n    return false;\n  }\n\n  // Quick fail on second char\n  ch = state.src.charCodeAt(pos + 1);\n  if (ch !== 0x21/* ! */ &&\n      ch !== 0x3F/* ? */ &&\n      ch !== 0x2F/* / */ &&\n      !isLetter(ch)) {\n    return false;\n  }\n\n  match = state.src.slice(pos).match(HTML_TAG_RE);\n  if (!match) { return false; }\n\n  if (!silent) {\n    state.push({\n      type: 'htmltag',\n      content: state.src.slice(pos, pos + match[0].length),\n      level: state.level\n    });\n  }\n  state.pos += match[0].length;\n  return true;\n};\n","// Process ++inserted text++\n\n'use strict';\n\nmodule.exports = function ins(state, silent) {\n  var found,\n      pos,\n      stack,\n      max = state.posMax,\n      start = state.pos,\n      lastChar,\n      nextChar;\n\n  if (state.src.charCodeAt(start) !== 0x2B/* + */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 4 >= max) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x2B/* + */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n  nextChar = state.src.charCodeAt(start + 2);\n\n  if (lastChar === 0x2B/* + */) { return false; }\n  if (nextChar === 0x2B/* + */) { return false; }\n  if (nextChar === 0x20 || nextChar === 0x0A) { return false; }\n\n  pos = start + 2;\n  while (pos < max && state.src.charCodeAt(pos) === 0x2B/* + */) { pos++; }\n  if (pos !== start + 2) {\n    // sequence of 3+ markers taking as literal, same as in a emphasis\n    state.pos += pos - start;\n    if (!silent) { state.pending += state.src.slice(start, pos); }\n    return true;\n  }\n\n  state.pos = start + 2;\n  stack = 1;\n\n  while (state.pos + 1 < max) {\n    if (state.src.charCodeAt(state.pos) === 0x2B/* + */) {\n      if (state.src.charCodeAt(state.pos + 1) === 0x2B/* + */) {\n        lastChar = state.src.charCodeAt(state.pos - 1);\n        nextChar = state.pos + 2 < max ? state.src.charCodeAt(state.pos + 2) : -1;\n        if (nextChar !== 0x2B/* + */ && lastChar !== 0x2B/* + */) {\n          if (lastChar !== 0x20 && lastChar !== 0x0A) {\n            // closing '++'\n            stack--;\n          } else if (nextChar !== 0x20 && nextChar !== 0x0A) {\n            // opening '++'\n            stack++;\n          } // else {\n            //  // standalone ' ++ ' indented with spaces\n            // }\n          if (stack <= 0) {\n            found = true;\n            break;\n          }\n        }\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 2;\n\n  if (!silent) {\n    state.push({ type: 'ins_open', level: state.level++ });\n    state.parser.tokenize(state);\n    state.push({ type: 'ins_close', level: --state.level });\n  }\n\n  state.pos = state.posMax + 2;\n  state.posMax = max;\n  return true;\n};\n","// Process [links](<to> \"stuff\")\n\n'use strict';\n\nvar parseLinkLabel       = require('../helpers/parse_link_label');\nvar parseLinkDestination = require('../helpers/parse_link_destination');\nvar parseLinkTitle       = require('../helpers/parse_link_title');\nvar normalizeReference   = require('../helpers/normalize_reference');\n\n\nmodule.exports = function links(state, silent) {\n  var labelStart,\n      labelEnd,\n      label,\n      href,\n      title,\n      pos,\n      ref,\n      code,\n      isImage = false,\n      oldPos = state.pos,\n      max = state.posMax,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (marker === 0x21/* ! */) {\n    isImage = true;\n    marker = state.src.charCodeAt(++start);\n  }\n\n  if (marker !== 0x5B/* [ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  labelStart = start + 1;\n  labelEnd = parseLinkLabel(state, start);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (code !== 0x20 && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    if (parseLinkDestination(state, pos)) {\n      href = state.linkContent;\n      pos = state.pos;\n    } else {\n      href = '';\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (code !== 0x20 && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    if (pos < max && start !== pos && parseLinkTitle(state, pos)) {\n      title = state.linkContent;\n      pos = state.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (code !== 0x20 && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      state.pos = oldPos;\n      return false;\n    }\n    pos++;\n  } else {\n    //\n    // Link reference\n    //\n\n    // do not allow nested reference links\n    if (state.linkLevel > 0) { return false; }\n\n    // [foo]  [bar]\n    //      ^^ optional whitespace (can include newlines)\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (code !== 0x20 && code !== 0x0A) { break; }\n    }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = start - 1;\n      }\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) {\n      if (typeof label === 'undefined') {\n        pos = labelEnd + 1;\n      }\n      label = state.src.slice(labelStart, labelEnd);\n    }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    if (isImage) {\n      state.push({\n        type: 'image',\n        src: href,\n        title: title,\n        alt: state.src.substr(labelStart, labelEnd - labelStart),\n        level: state.level\n      });\n    } else {\n      state.push({\n        type: 'link_open',\n        href: href,\n        title: title,\n        level: state.level++\n      });\n      state.linkLevel++;\n      state.parser.tokenize(state);\n      state.linkLevel--;\n      state.push({ type: 'link_close', level: --state.level });\n    }\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","// Process ==highlighted text==\n\n'use strict';\n\nmodule.exports = function del(state, silent) {\n  var found,\n      pos,\n      stack,\n      max = state.posMax,\n      start = state.pos,\n      lastChar,\n      nextChar;\n\n  if (state.src.charCodeAt(start) !== 0x3D/* = */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 4 >= max) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x3D/* = */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n  nextChar = state.src.charCodeAt(start + 2);\n\n  if (lastChar === 0x3D/* = */) { return false; }\n  if (nextChar === 0x3D/* = */) { return false; }\n  if (nextChar === 0x20 || nextChar === 0x0A) { return false; }\n\n  pos = start + 2;\n  while (pos < max && state.src.charCodeAt(pos) === 0x3D/* = */) { pos++; }\n  if (pos !== start + 2) {\n    // sequence of 3+ markers taking as literal, same as in a emphasis\n    state.pos += pos - start;\n    if (!silent) { state.pending += state.src.slice(start, pos); }\n    return true;\n  }\n\n  state.pos = start + 2;\n  stack = 1;\n\n  while (state.pos + 1 < max) {\n    if (state.src.charCodeAt(state.pos) === 0x3D/* = */) {\n      if (state.src.charCodeAt(state.pos + 1) === 0x3D/* = */) {\n        lastChar = state.src.charCodeAt(state.pos - 1);\n        nextChar = state.pos + 2 < max ? state.src.charCodeAt(state.pos + 2) : -1;\n        if (nextChar !== 0x3D/* = */ && lastChar !== 0x3D/* = */) {\n          if (lastChar !== 0x20 && lastChar !== 0x0A) {\n            // closing '=='\n            stack--;\n          } else if (nextChar !== 0x20 && nextChar !== 0x0A) {\n            // opening '=='\n            stack++;\n          } // else {\n            //  // standalone ' == ' indented with spaces\n            // }\n          if (stack <= 0) {\n            found = true;\n            break;\n          }\n        }\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 2;\n\n  if (!silent) {\n    state.push({ type: 'mark_open', level: state.level++ });\n    state.parser.tokenize(state);\n    state.push({ type: 'mark_close', level: --state.level });\n  }\n\n  state.pos = state.posMax + 2;\n  state.posMax = max;\n  return true;\n};\n","// Proceess '\\n'\n\n'use strict';\n\nmodule.exports = function newline(state, silent) {\n  var pmax, max, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x0A/* \\n */) { return false; }\n\n  pmax = state.pending.length - 1;\n  max = state.posMax;\n\n  // '  \\n' -> hardbreak\n  // Lookup in pending chars is bad practice! Don't copy to other rules!\n  // Pending string is stored in concat mode, indexed lookups will cause\n  // convertion to flat mode.\n  if (!silent) {\n    if (pmax >= 0 && state.pending.charCodeAt(pmax) === 0x20) {\n      if (pmax >= 1 && state.pending.charCodeAt(pmax - 1) === 0x20) {\n        // Strip out all trailing spaces on this line.\n        for (var i = pmax - 2; i >= 0; i--) {\n          if (state.pending.charCodeAt(i) !== 0x20) {\n            state.pending = state.pending.substring(0, i + 1);\n            break;\n          }\n        }\n        state.push({\n          type: 'hardbreak',\n          level: state.level\n        });\n      } else {\n        state.pending = state.pending.slice(0, -1);\n        state.push({\n          type: 'softbreak',\n          level: state.level\n        });\n      }\n\n    } else {\n      state.push({\n        type: 'softbreak',\n        level: state.level\n      });\n    }\n  }\n\n  pos++;\n\n  // skip heading spaces for next line\n  while (pos < max && state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n  state.pos = pos;\n  return true;\n};\n","// Inline parser state\n\n'use strict';\n\nfunction StateInline(src, parserInline, options, env, outTokens) {\n  this.src = src;\n  this.env = env;\n  this.options = options;\n  this.parser = parserInline;\n  this.tokens = outTokens;\n  this.pos = 0;\n  this.posMax = this.src.length;\n  this.level = 0;\n  this.pending = '';\n  this.pendingLevel = 0;\n\n  this.cache = [];        // Stores { start: end } pairs. Useful for backtrack\n                          // optimization of pairs parse (emphasis, strikes).\n\n  // Link parser state vars\n\n  this.isInLabel = false; // Set true when seek link label - we should disable\n                          // \"paired\" rules (emphasis, strikes) to not skip\n                          // tailing `]`\n\n  this.linkLevel = 0;     // Increment for each nesting link. Used to prevent\n                          // nesting in definitions\n\n  this.linkContent = '';  // Temporary storage for link url\n\n  this.labelUnmatchedScopes = 0; // Track unpaired `[` for link labels\n                                 // (backtrack optimization)\n}\n\n// Flush pending text\n//\nStateInline.prototype.pushPending = function () {\n  this.tokens.push({\n    type: 'text',\n    content: this.pending,\n    level: this.pendingLevel\n  });\n  this.pending = '';\n};\n\n// Push new token to \"stream\".\n// If pending text exists - flush it as text token\n//\nStateInline.prototype.push = function (token) {\n  if (this.pending) {\n    this.pushPending();\n  }\n\n  this.tokens.push(token);\n  this.pendingLevel = this.level;\n};\n\n// Store value to cache.\n// !!! Implementation has parser-specific optimizations\n// !!! keys MUST be integer, >= 0; values MUST be integer, > 0\n//\nStateInline.prototype.cacheSet = function (key, val) {\n  for (var i = this.cache.length; i <= key; i++) {\n    this.cache.push(0);\n  }\n\n  this.cache[key] = val;\n};\n\n// Get cache value\n//\nStateInline.prototype.cacheGet = function (key) {\n  return key < this.cache.length ? this.cache[key] : 0;\n};\n\nmodule.exports = StateInline;\n","// Process ~subscript~\n\n'use strict';\n\n// same as UNESCAPE_MD_RE plus a space\nvar UNESCAPE_RE = /\\\\([ \\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nmodule.exports = function sub(state, silent) {\n  var found,\n      content,\n      max = state.posMax,\n      start = state.pos;\n\n  if (state.src.charCodeAt(start) !== 0x7E/* ~ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 2 >= max) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  state.pos = start + 1;\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === 0x7E/* ~ */) {\n      found = true;\n      break;\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found || start + 1 === state.pos) {\n    state.pos = start;\n    return false;\n  }\n\n  content = state.src.slice(start + 1, state.pos);\n\n  // don't allow unescaped spaces/newlines inside\n  if (content.match(/(^|[^\\\\])(\\\\\\\\)*\\s/)) {\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 1;\n\n  if (!silent) {\n    state.push({\n      type: 'sub',\n      level: state.level,\n      content: content.replace(UNESCAPE_RE, '$1')\n    });\n  }\n\n  state.pos = state.posMax + 1;\n  state.posMax = max;\n  return true;\n};\n","// Process ^superscript^\n\n'use strict';\n\n// same as UNESCAPE_MD_RE plus a space\nvar UNESCAPE_RE = /\\\\([ \\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nmodule.exports = function sup(state, silent) {\n  var found,\n      content,\n      max = state.posMax,\n      start = state.pos;\n\n  if (state.src.charCodeAt(start) !== 0x5E/* ^ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 2 >= max) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  state.pos = start + 1;\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === 0x5E/* ^ */) {\n      found = true;\n      break;\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found || start + 1 === state.pos) {\n    state.pos = start;\n    return false;\n  }\n\n  content = state.src.slice(start + 1, state.pos);\n\n  // don't allow unescaped spaces/newlines inside\n  if (content.match(/(^|[^\\\\])(\\\\\\\\)*\\s/)) {\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 1;\n\n  if (!silent) {\n    state.push({\n      type: 'sup',\n      level: state.level,\n      content: content.replace(UNESCAPE_RE, '$1')\n    });\n  }\n\n  state.pos = state.posMax + 1;\n  state.posMax = max;\n  return true;\n};\n","// Skip text characters for text token, place those to pending buffer\n// and increment current pos\n\n'use strict';\n\n// Rule to skip pure text\n// '{}$%@~+=:' reserved for extentions\n\nfunction isTerminatorChar(ch) {\n  switch (ch) {\n    case 0x0A/* \\n */:\n    case 0x5C/* \\ */:\n    case 0x60/* ` */:\n    case 0x2A/* * */:\n    case 0x5F/* _ */:\n    case 0x5E/* ^ */:\n    case 0x5B/* [ */:\n    case 0x5D/* ] */:\n    case 0x21/* ! */:\n    case 0x26/* & */:\n    case 0x3C/* < */:\n    case 0x3E/* > */:\n    case 0x7B/* { */:\n    case 0x7D/* } */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x40/* @ */:\n    case 0x7E/* ~ */:\n    case 0x2B/* + */:\n    case 0x3D/* = */:\n    case 0x3A/* : */:\n      return true;\n    default:\n      return false;\n  }\n}\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos;\n\n  while (pos < state.posMax && !isTerminatorChar(state.src.charCodeAt(pos))) {\n    pos++;\n  }\n\n  if (pos === state.pos) { return false; }\n\n  if (!silent) { state.pending += state.src.slice(state.pos, pos); }\n\n  state.pos = pos;\n\n  return true;\n};\n","/*jshint node:true*/\n'use strict';\n\n/**\n * Replaces characters in strings that are illegal/unsafe for filenames.\n * Unsafe characters are either removed or replaced by a substitute set\n * in the optional `options` object.\n *\n * Illegal Characters on Various Operating Systems\n * / ? < > \\ : * | \"\n * https://kb.acronis.com/content/39790\n *\n * Unicode Control codes\n * C0 0x00-0x1f & C1 (0x80-0x9f)\n * http://en.wikipedia.org/wiki/C0_and_C1_control_codes\n *\n * Reserved filenames on Unix-based systems (\".\", \"..\")\n * Reserved filenames in Windows (\"CON\", \"PRN\", \"AUX\", \"NUL\", \"COM1\",\n * \"COM2\", \"COM3\", \"COM4\", \"COM5\", \"COM6\", \"COM7\", \"COM8\", \"COM9\",\n * \"LPT1\", \"LPT2\", \"LPT3\", \"LPT4\", \"LPT5\", \"LPT6\", \"LPT7\", \"LPT8\", and\n * \"LPT9\") case-insesitively and with or without filename extensions.\n *\n * Capped at 255 characters in length.\n * http://unix.stackexchange.com/questions/32795/what-is-the-maximum-allowed-filename-and-folder-size-with-ecryptfs\n *\n * @param  {String} input   Original filename\n * @param  {Object} options {replacement: String | Function }\n * @return {String}         Sanitized filename\n */\n\nvar truncate = require(\"truncate-utf8-bytes\");\n\nvar illegalRe = /[\\/\\?<>\\\\:\\*\\|\"]/g;\nvar controlRe = /[\\x00-\\x1f\\x80-\\x9f]/g;\nvar reservedRe = /^\\.+$/;\nvar windowsReservedRe = /^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\\..*)?$/i;\nvar windowsTrailingRe = /[\\. ]+$/;\n\nfunction sanitize(input, replacement) {\n  if (typeof input !== 'string') {\n    throw new Error('Input must be string');\n  }\n  var sanitized = input\n    .replace(illegalRe, replacement)\n    .replace(controlRe, replacement)\n    .replace(reservedRe, replacement)\n    .replace(windowsReservedRe, replacement)\n    .replace(windowsTrailingRe, replacement);\n  return truncate(sanitized, 255);\n}\n\nmodule.exports = function (input, options) {\n  var replacement = (options && options.replacement) || '';\n  var output = sanitize(input, replacement);\n  if (replacement === '') {\n    return output;\n  }\n  return sanitize(output, '');\n};\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target) {\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","'use strict';\n\nvar truncate = require(\"./lib/truncate\");\nvar getLength = require(\"utf8-byte-length/browser\");\nmodule.exports = truncate.bind(null, getLength);\n","'use strict';\n\nfunction isHighSurrogate(codePoint) {\n  return codePoint >= 0xd800 && codePoint <= 0xdbff;\n}\n\nfunction isLowSurrogate(codePoint) {\n  return codePoint >= 0xdc00 && codePoint <= 0xdfff;\n}\n\n// Truncate string by size in bytes\nmodule.exports = function truncate(getLength, string, byteLength) {\n  if (typeof string !== \"string\") {\n    throw new Error(\"Input must be string\");\n  }\n\n  var charLength = string.length;\n  var curByteLength = 0;\n  var codePoint;\n  var segment;\n\n  for (var i = 0; i < charLength; i += 1) {\n    codePoint = string.charCodeAt(i);\n    segment = string[i];\n\n    if (isHighSurrogate(codePoint) && isLowSurrogate(string.charCodeAt(i + 1))) {\n      i += 1;\n      segment += string[i];\n    }\n\n    curByteLength += getLength(segment);\n\n    if (curByteLength === byteLength) {\n      return string.slice(0, i + 1);\n    }\n    else if (curByteLength > byteLength) {\n      return string.slice(0, i - segment.length + 1);\n    }\n  }\n\n  return string;\n};\n\n","'use strict';\n\nfunction isHighSurrogate(codePoint) {\n  return codePoint >= 0xd800 && codePoint <= 0xdbff;\n}\n\nfunction isLowSurrogate(codePoint) {\n  return codePoint >= 0xdc00 && codePoint <= 0xdfff;\n}\n\n// Truncate string by size in bytes\nmodule.exports = function getByteLength(string) {\n  if (typeof string !== \"string\") {\n    throw new Error(\"Input must be string\");\n  }\n\n  var charLength = string.length;\n  var byteLength = 0;\n  var codePoint = null;\n  var prevCodePoint = null;\n  for (var i = 0; i < charLength; i++) {\n    codePoint = string.charCodeAt(i);\n    // handle 4-byte non-BMP chars\n    // low surrogate\n    if (isLowSurrogate(codePoint)) {\n      // when parsing previous hi-surrogate, 3 is added to byteLength\n      if (prevCodePoint != null && isHighSurrogate(prevCodePoint)) {\n        byteLength += 1;\n      }\n      else {\n        byteLength += 3;\n      }\n    }\n    else if (codePoint <= 0x7f ) {\n      byteLength += 1;\n    }\n    else if (codePoint >= 0x80 && codePoint <= 0x7ff) {\n      byteLength += 2;\n    }\n    else if (codePoint >= 0x800 && codePoint <= 0xffff) {\n      byteLength += 3;\n    }\n    prevCodePoint = codePoint;\n  }\n\n  return byteLength;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n"],"sourceRoot":""}